(function() {var f,aa="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global?global:this,ba={};function da(a,b){(ba[a]=ba[a]||[]).push(b);var c=aa;a=a.split(".");for(var d=0;d<a.length-1&&c;d++)c=c[a[d]];a=a[a.length-1];c&&c[a]instanceof Function&&(c[a]=b(c[a]))}
function ea(){ea=function(){};if(!aa.Symbol){aa.Symbol=ia;var a=[],b=function(b){return function(d){a=[];d=b(d);for(var e=[],g=0,h=d.length;g<h;g++){var k;a:if(k=d[g],14>k.length)k=!1;else{for(var l=0;14>l;l++)if(k[l]!="jscomp_symbol_"[l]){k=!1;break a}k=!0}k?a.push(d[g]):e.push(d[g])}return e}};da("Object.keys",b);da("Object.getOwnPropertyNames",b);da("Object.getOwnPropertySymbols",function(c){return function(d){b.Uca=Object.getOwnPropertyNames(d);a.push.apply(c(d));return a}})}}var ja=0;
function ia(a){return"jscomp_symbol_"+a+ja++}function ka(){ea();aa.Symbol.iterator||(aa.Symbol.iterator=aa.Symbol("iterator"));ka=function(){}}function la(a){ka();ea();ka();var b=a[Symbol.iterator];if(b)return b.call(a);var c=0;return{next:function(){return c<a.length?{done:!1,value:a[c++]}:{done:!0}}}}function ma(a){if(!(a instanceof Array)){a=la(a);for(var b,c=[];!(b=a.next()).done;)c.push(b.value);a=c}return a}
function r(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a;for(var d in b)if(Object.defineProperties){var e=Object.getOwnPropertyDescriptor(b,d);e&&Object.defineProperty(a,d,e)}else a[d]=b[d]}var na="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(c.get||c.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};
function oa(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function pa(a,b){if(b){for(var c=aa,d=a.split("."),e=0;e<d.length-1;e++){var g=d[e];g in c||(c[g]={});c=c[g]}d=d[d.length-1];e=c[d];b=b(e);if(b!=e){a=ba[a]||[];for(e=0;e<a.length;e++)b=a[e](b);na(c,d,{configurable:!0,writable:!0,value:b})}}}
pa("WeakMap",function(a){function b(a){this.pA=(k+=Math.random()+1).toString();if(a){ea();ka();a=la(a);for(var b;!(b=a.next()).done;)b=b.value,this.set(b[0],b[1])}}function c(a){if(!oa(a,g)){var b={};b[g]=h;na(a,g,{value:b})}}function d(a){return function(b){var c=a(b);if(oa(b,g)&&oa(b[g],g)&&b[g][g]===h)for(b=0;b<c.length;b++)if(c[b]==g){c.splice(b,1);break}return c}}function e(a){return function(b){c(b);return a(b)}}if(function(){if(!a||!Object.seal)return!1;var b=Object.seal({}),c=Object.seal({}),
d=new a([[b,2],[c,3]]);if(2!=d.get(b)||3!=d.get(c))return!1;d.delete(b);d.set(c,4);return!d.has(b)&&4==d.get(c)}())return a;var g="$jscomp_hidden_"+Math.random().toString().substring(2),h={};da("Object.getOwnPropertyNames",d);da("Object.keys",d);da("Reflect.enumerate",d);da("Reflect.ownKeys",d);da("Object.freeze",e);da("Object.preventExtensions",e);da("Object.seal",e);var k=0;b.prototype.set=function(a,b){c(a);if(!oa(a,g))throw Error("WeakMap key fail: "+a);a[g][this.pA]=b;return this};b.prototype.get=
function(a){return oa(a,g)?a[g][this.pA]:void 0};b.prototype.has=function(a){return oa(a,g)&&oa(a[g],this.pA)};b.prototype.delete=function(a){return oa(a,g)&&oa(a[g],this.pA)?delete a[g][this.pA]:!1};return b});
pa("Map",function(a){function b(){var a={};return a.previous=a.next=a.head=a}function c(a,b){var c=a.zn,d={next:function(){if(c){for(;c.head!=a.zn;)c=c.previous;for(;c.next!=c.head;)return c=c.next,{done:!1,value:b(c)};c=null}return{done:!0,value:void 0}}};d[Symbol.iterator]=function(){return d};return d}function d(a,b){var c;c=b&&typeof b;"object"==c||"function"==c?g.has(b)?c=g.get(b):(c=""+ ++h,g.set(b,c)):c="p_"+b;var d=a.cz[c];if(d&&oa(a.cz,c))for(a=0;a<d.length;a++){var e=d[a];if(b!==b&&e.key!==
e.key||b===e.key)return{id:c,list:d,index:a,Cg:e}}return{id:c,list:d,index:-1,Cg:void 0}}function e(a){this.cz={};this.zn=b();this.size=0;if(a){a=la(a);for(var c;!(c=a.next()).done;)c=c.value,this.set(c[0],c[1])}}if(function(){if(!a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var b=Object.seal({x:4}),c=new a(la([[b,"s"]]));if("s"!=c.get(b)||1!=c.size||c.get({x:4})||c.set({x:4},"t")!=c||2!=c.size)return!1;var d=c.entries(),e=d.next();if(e.done||e.value[0]!=b||"s"!=e.value[1])return!1;
e=d.next();return e.done||4!=e.value[0].x||"t"!=e.value[1]||!d.next().done?!1:!0}catch(g){return!1}}())return a;ea();ka();var g=new WeakMap;e.prototype.set=function(a,b){var c=d(this,a);c.list||(c.list=this.cz[c.id]=[]);c.Cg?c.Cg.value=b:(c.Cg={next:this.zn,previous:this.zn.previous,head:this.zn,key:a,value:b},c.list.push(c.Cg),this.zn.previous.next=c.Cg,this.zn.previous=c.Cg,this.size++);return this};e.prototype.delete=function(a){a=d(this,a);return a.Cg&&a.list?(a.list.splice(a.index,1),a.list.length||
delete this.cz[a.id],a.Cg.previous.next=a.Cg.next,a.Cg.next.previous=a.Cg.previous,a.Cg.head=null,this.size--,!0):!1};e.prototype.clear=function(){this.cz={};this.zn=this.zn.previous=b();this.size=0};e.prototype.has=function(a){return!!d(this,a).Cg};e.prototype.get=function(a){return(a=d(this,a).Cg)&&a.value};e.prototype.entries=function(){return c(this,function(a){return[a.key,a.value]})};e.prototype.keys=function(){return c(this,function(a){return a.key})};e.prototype.values=function(){return c(this,
function(a){return a.value})};e.prototype.forEach=function(a,b){for(var c=this.entries(),d;!(d=c.next()).done;)d=d.value,a.call(b,d[1],d[0],this)};e.prototype[Symbol.iterator]=e.prototype.entries;var h=0;return e});function ra(a,b){ka();a instanceof String&&(a+="");var c=0,d={next:function(){if(c<a.length){var e=c++;return{value:b(e,a[e]),done:!1}}d.next=function(){return{done:!0,value:void 0}};return d.next()}};d[Symbol.iterator]=function(){return d};return d}
pa("Array.prototype.keys",function(a){return a?a:function(){return ra(this,function(a){return a})}});pa("Array.prototype.fill",function(a){return a?a:function(a,c,d){var e=this.length||0;0>c&&(c=Math.max(0,e+c));if(null==d||d>e)d=e;d=Number(d);0>d&&(d=Math.max(0,e+d));for(c=Number(c||0);c<d;c++)this[c]=a;return this}});pa("Array.prototype.values",function(a){return a?a:function(){return ra(this,function(a,c){return c})}});
function ua(a,b,c){a instanceof String&&(a=String(a));for(var d=a.length,e=0;e<d;e++){var g=a[e];if(b.call(c,g,e,a))return{RV:e,rr:g}}return{RV:-1,rr:void 0}}pa("Array.prototype.find",function(a){return a?a:function(a,c){return ua(this,a,c).rr}});pa("Array.prototype.entries",function(a){return a?a:function(){return ra(this,function(a,c){return[a,c]})}});
pa("Object.assign",function(a){return a?a:function(a,c){for(var d=1;d<arguments.length;d++){var e=arguments[d];if(e)for(var g in e)oa(e,g)&&(a[g]=e[g])}return a}});pa("Array.from",function(a){return a?a:function(a,c,d){ka();c=null!=c?c:function(a){return a};var e=[],g=a[Symbol.iterator];if("function"==typeof g)for(a=g.call(a);!(g=a.next()).done;)e.push(c.call(d,g.value));else for(var g=a.length,h=0;h<g;h++)e.push(c.call(d,a[h]));return e}});
pa("Set",function(a){function b(a){this.fk=new Map;if(a){a=la(a);for(var b;!(b=a.next()).done;)this.add(b.value)}this.size=this.fk.size}if(function(){if(!a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var b=Object.seal({x:4}),d=new a(la([b]));if(!d.has(b)||1!=d.size||d.add(b)!=d||1!=d.size||d.add({x:4})!=d||2!=d.size)return!1;var e=d.entries(),g=e.next();if(g.done||g.value[0]!=b||g.value[1]!=b)return!1;g=e.next();return g.done||g.value[0]==b||4!=g.value[0].x||g.value[1]!=g.value[0]?
!1:e.next().done}catch(h){return!1}}())return a;ea();ka();b.prototype.add=function(a){this.fk.set(a,a);this.size=this.fk.size;return this};b.prototype.delete=function(a){a=this.fk.delete(a);this.size=this.fk.size;return a};b.prototype.clear=function(){this.fk.clear();this.size=0};b.prototype.has=function(a){return this.fk.has(a)};b.prototype.entries=function(){return this.fk.entries()};b.prototype[Symbol.iterator]=function(){return this.fk.values()};b.prototype.values=function(){return this.fk.values()};
b.prototype.forEach=function(a,b){var e=this;this.fk.forEach(function(g){return a.call(b,g,g,e)})};return b});function va(a,b,c){if(null==a)throw new TypeError("The 'this' value for String.prototype."+c+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+c+" must not be a regular expression");return a+""}
pa("String.prototype.repeat",function(a){return a?a:function(a){var c=va(this,null,"repeat");if(0>a||1342177279<a)throw new RangeError("Invalid count value");a|=0;for(var d="";a;)if(a&1&&(d+=c),a>>>=1)c+=c;return d}});pa("Math.log10",function(a){return a?a:function(a){return Math.log(a)/Math.LN10}});pa("String.prototype.includes",function(a){return a?a:function(a,c){return-1!==va(this,a,"includes").indexOf(a,c||0)}});
pa("Math.sign",function(a){return a?a:function(a){a=Number(a);return 0===a||isNaN(a)?a:0<a?1:-1}});pa("Array.prototype.findIndex",function(a){return a?a:function(a,c){return ua(this,a,c).RV}});function wa(a){this.data=a}wa.prototype.get=function(a,b){if(!this.data)throw Error("no viewConfig, unable to get: "+a);b=void 0===this.data[a]?b:this.data[a];if(void 0===b)throw Error('Could not retrieve "'+a+'" from viewConfig');return b};var xa=(new UAParser).getResult(),ya=xa.browser.name,za=xa.browser.major,Ba=(new wa(window.viewConfig||{})).get("magicButtonEnabled",null),Ca=/\.247$/;
""==window.location.pathname||"/"==window.location.pathname||"/signup"==window.location.pathname||"/login"==window.location.pathname||xa.browser.version.match(Ca)||("Chrome"===ya||"Chromium"==ya)&&49<=za||"Safari"===ya&&9<=za||"Firefox"===ya&&49<=za||"Opera"===ya&&36<=za||("IE"===ya||"Edge"===ya)&&11<=za||"undefined"!=typeof window.localStorage&&window.localStorage.ignore_browser_cache||(Ba&&Ba.test(window.location.search)?window.location.href="/unsupported?playvideo\x3d1":window.location.href="/unsupported");function Da(){}function w(a,b,c){for(var d=[],e=2;e<arguments.length;++e)d[e-2]=arguments[e];if(!a)throw Error(2>arguments.length?"invalid argument":Ea.apply(Da,[].concat([b],ma(d))));}function Fa(a,b,c){for(var d=[],e=2;e<arguments.length;++e)d[e-2]=arguments[e];if(!a)throw Error(2>arguments.length?"invalid state":Ea.apply(Da,[].concat([b],ma(d))));}
function y(a,b,c){for(var d=[],e=2;e<arguments.length;++e)d[e-2]=arguments[e];if(null==a)throw Error(2>arguments.length?"argument is null":Ea.apply(Da,[].concat([b],ma(d))));return a}function Ea(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];var e=0;return a.replace(/\{}/g,function(){return e<c.length?c[e++]:"{}"})};function Ga(a){this.type=a}Ga.prototype.required=function(a,b){b=b[a];if(null==b||typeof b!=this.type)throw new TypeError("expected "+this.type+' for property "'+a+'", found: '+JSON.stringify(b));return b};Ga.prototype.optional=function(a,b){b=b[a];if(null!=b&&typeof b!=this.type)throw new TypeError("expected optional "+this.type+' for property "'+a+'", found: '+JSON.stringify(b));return b};
Ga.prototype.Bd=function(a,b){b=b[a];if(null!=b)if(Array.isArray(b))for(a=0;a<b.length;a++)this.required(String(a),b);else throw new TypeError("expected repeated "+this.type+' for property "'+a+'", found: '+JSON.stringify(b));return b};var Ha=new Ga("string"),Ia=new Ga("boolean"),Ja=new Ga("number"),Ka=new Ga("object");function La(a){if(null==a||"object"!=typeof a)throw new TypeError("expected an object, found: "+a);return a}function A(a,b){return Ja.optional(a,b)||0}
function B(a,b){return Ja.optional(a,b)}function C(a,b){return Ha.required(a,b)}function D(a,b){return Ha.optional(a,b)}function Ma(a,b){return Ia.optional(a,b)||!1}function Na(a,b){return Ia.optional(a,b)}function Oa(a,b,c){return a(Ka.required(b,c))}function F(a,b,c){return(b=Ka.optional(b,c))?a(b):b}function G(a,b,c){return(b=Ka.Bd(b,c))?b.map(a):b}function Pa(a,b,c){return a(b,Ha.required(b,c))}function Qa(a,b,c){c=Ha.optional(b,c);return null!=c?a(b,c):c}
function Ra(a,b,c){c=Ha.Bd(b,c);return null!=c?c.map(a.bind(null,b)):c}function Sa(a,b,c){return Ta(Ua,Va.bind(null,a),b,c)}function Ta(a,b,c,d){d=d[c];if(null==d)return d;if("object"!==typeof d)throw new TypeError('expected map for property "'+c+'", found: '+JSON.stringify(d));for(var e=new Map,g=la(Object.keys(d)),h=g.next();!h.done;h=g.next())h=h.value,e.set(a(c,h),b(c,h,d));return e}function Ua(a,b){return b}
function Wa(a,b,c){b=c[b];if("number"!==typeof b)throw new TypeError('expected number value in property "'+a+'", found: '+JSON.stringify(b));return b}function Va(a,b,c,d){c=d[c];if(null==c||"object"!==typeof c)throw new TypeError('expected object value in property "'+b+'", found: '+JSON.stringify(c));return a(c)}function Xa(a,b,c){b=c[b];if("string"!==typeof b)throw new TypeError('expected string value in property "'+a+'", found: '+JSON.stringify(b));return b}function Ya(a){this.type=a}
Ya.prototype.required=function(a,b){if(null==b||typeof b!=this.type)throw new TypeError("expected "+this.type+' for property "'+a+'", found: '+JSON.stringify(b));return b};Ya.prototype.optional=function(a,b){if(null!=b){if(typeof b!=this.type)throw new TypeError("expected optional "+this.type+' for property "'+a+'", found: '+JSON.stringify(b));return b}};
Ya.prototype.Bd=function(a,b){if(Array.isArray(b)){if(0==b.length)return;for(var c=0;c<b.length;c++)this.required(a+"["+String(c)+"]",b[c])}else throw new TypeError("expected repeated "+this.type+' for property "'+a+'", found: '+JSON.stringify(b));return b};var $a=new Ya("string"),ab=new Ya("boolean"),bb=new Ya("number"),cb=new Ya("object");function db(a,b){return 0!==b?bb.required(a,b):void 0}function eb(a,b){return bb.optional(a,b)}function fb(a){return bb.Bd("pages",a)}
function gb(a,b){return!1!==b?ab.required(a,b):void 0}function hb(a,b){return ab.optional(a,b)}function ib(a,b){return $a.required(a,b)}function I(a,b){return $a.optional(a,b)}function jb(a,b,c){return cb.optional(b,c?a(c):null)}function kb(a,b,c){return cb.Bd(b,c.map(a))}function lb(a,b,c){return $a.required(b,a(b,c))}function mb(a,b,c){return $a.optional(b,c?a(b,c):null)}function nb(a,b,c){return ob(qb,rb.bind(null,a),b,c)}
function ob(a,b,c,d){if(!(d instanceof Map))throw new TypeError('expected Map for property "'+c+'", found: '+JSON.stringify(d));for(var e={},g=la(d.keys()),h=g.next();!h.done;h=g.next())h=h.value,e[a(c,h)]=b(c,d.get(h));return e}function qb(a,b){if("string"!==typeof b)throw new TypeError('expected string key in property "'+a+'", found: '+JSON.stringify(b));return b}
function sb(a,b){if("number"!==typeof b)throw new TypeError('expected number value in property "'+a+'", found: '+JSON.stringify(b));return b}function rb(a,b,c){if(null==c||"object"!==typeof c)throw new TypeError('expected object value in property "'+b+'", found: '+JSON.stringify(c));return a(c)}function tb(a,b){if("string"!==typeof b)throw new TypeError('expected string value in property "'+a+'", found: '+JSON.stringify(b));return b};var ub=ub||{},K,vb,wb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,M,Nb,Ob,Pb,Qb,Rb,Sb,Tb,Ub,Wb,Xb,Yb,Zb,$b,ac,bc,cc,dc;var O=new function(){this.O0={upload:"/static/r/kiama/immovable/js/x9zITKdAvhuJA9i2mpYYlQ.js"};this.I0=!1;this.fJ=.1;this.Da={J2:330,K2:330,yba:500,Cba:300,Bba:300,Eba:500,oL:300,e3:400,Oz:300,i4:300,DW:1E3,EW:1E3,oq:200,jw:20,dca:600,ZA:300,lk:500,u8:2E3,nca:500,x9:300,Tq:600,PX:500,Dba:150};this.Vt=140;this.iy=1.2;this.$I=150;this.ES=.7;this.gD=30;this.bJ="#ffffff";this.jD="#222";this.kD="#fff";this.hD=24;this.oS=300;this.iD=10;this.dJ=this.vS=1.2;this.l0=42;this.i0=24;this.Vd=16;this.k0="Abril Fatface";this.h0="Trocchi";
this.Ud="Arimo";this.Gc=20;this.Hc=4;this.q0=1024;this.eJ=[6,8,10,12,14,16,18,21,24,28,32,36,42,48,56,64,72,80,88,96,104,120,144];this.tS="undefined"!==typeof window&&1<window.devicePixelRatio;this.uS=.33;this.lD=.5;this.w0="undefined"!==typeof window&&window.navigator.userAgent.match(/Macintosh/)?!0:!1;this.x0=5E3;this.y0=400;this.mD=500;this.Xo=255;this.hJ=3;this.ly=10*this.hJ;this.A0=40*this.hJ;this.z0=40;this.gJ=1;this.Mh=3;this.Nh=.95;this.D0=110;this.B0=180;this.C0=145;this.my=30;this.Xt=50;
this.Yo="https://static.canva.com/static/images/placeholder.jpg";this.yS=1438;this.xS=560;this.Oi=230/24;this.BS=1E3;this.nD=50;this.F0={MAB5cDHmsFw:"0e94ff",MAB5cMCyv6w:"72c0ff",MAB5cAQJlaQ:"d0eaff",MAB5cEikLyU:"c0f2dc",MAB5cM_6xEM:"83f2d9",MAB5cJzamNA:"00d1c0",MAB5cMvV4WI:"b7ff82",MAB5cEhZV9o:"d3ffb3",MAB5cCZyCJQ:"feffcb",MAB5cHj48Zw:"ffef42",MAB5cK1JDsE:"ffa351",MAB5hidY3ns:"ffde7d",MAB5cFsTlDk:"fff6df",MAB5cKyqi1s:"ffd8cf","MAB5hoaFM-I":"ffa3a1",MAB5cNEJxNs:"ff716e",MAB5cP9grzE:"ff6bcd",MAB5cMwWSfs:"ffc7ec",MAB5cGdDeZ4:"e4b9ff",
MAB5cBzXdGA:"d38cff",MAB5cNvP7Pc:"c06af6",MAB5cKXAlps:"7f72ff",MAB5cCOTPdQ:"9c92ff",MAB5cDcYB4g:"c7c1ff",MAB5cFxeE3w:"e0daf3",MAB5cE5y_5k:"b9b5c7",MAB5cCYeclo:"9a97a5",MAB5cOfCuGs:"73726d",MAB5cPkevM0:"a3a198",MAB5cPNsPAA:"dddbcd","MAB5cOxZt-I":"ff95db",MAAyKuwFB5o:"ffffff",MAAyKtahJms:"ffbd7e",MAAyKgcbIPk:"383838",MAAyKi3v9aM:"ababab",MAAyKiojphI:"3ea198",MAAyKgoNGiU:"f1eae2",MAAyKtzdfJo:"f2e6da",MAAyKjzFRMk:"b6b6b6",MAAyKl0hu7c:"3f0002",MAAyKrQbulQ:"aabee5",MAAyKjqXb3g:"1e404e",MAAyKpadICg:"383838",
MAAyKriHEH4:"fce8d2",MAAyKvlJXOU:"86d694",MAAyKt_1BzE:"abddd8",MAAyKtiLYqQ:"ffcd54",MAAyKu2TdB8:"a12e38",MAAyKojhmk8:"9c77b8",MAAyKvdlAbg:"4473a7",MAAMxVrOHEU:"d3e460",MAAMxR635oY:"3589a1",MAAMJGCfFWw:"8bcfb1",MAAMxcxaYiU:"8bcfb1",MAAMxbOmmrM:"de5947",MAAMxVr6xaM:"ab7253",MAAMxbd7Q4o:"ee826d",MAAMJKph95Q:"9d427a",MAAMJAC_3oM:"969db1",MAAMJEZCTiQ:"54a4a5",MAAMJMQdk_o:"be842e",MAAMJKR_eNE:"318ba2",MAAMJNt_z0k:"f3bc33",MAAMJPRAWEw:"df5a46",MAAMJEguyXk:"54a4a5",MAAMJMMLN98:"9f437b",MAAMJPOvhoc:"df5a46",
MAAMJPQVxis:"ee826c",MAAMJOSYm7w:"f3bc33",MAAMJM5OR40:"b7a77f",MAAMxUoD3Gw:"8cccaf",MAAMxdiUksM:"f3bc33",MAAMxRX8OJ4:"f3bc33",MAAMxbGelwc:"54a4a5",MAAMxSCeicM:"318ba2",MAAMxT7CVYA:"8cccaf"};this.ny=3E4;this.j0=1500;this.CS=5;this.M0=190;this.N0=300;this.r0=88;this.u0=0;this.oD=88;this.FS=10;this.mS=7;this.p0=0;this.m0=this.o0=12;this.n0=0;this.mJ=.7;this.py=1.3;this.wS=2.5},ec={TITLE:"title",Raa:"subtitle",BODY:"body"},fc={G0:"search",Haa:"layout",TEXT:"text",taa:"backgrounds",bba:"uploads"};function gc(a){this.$el=a}gc.prototype.remove=function(){this.$el.remove()};function hc(a){this.$el=a;this.Xv={}}hc.prototype.remove=function(){this.$el.off();this.$el.remove()};hc.prototype.on=function(a,b){w(!this.Xv[a],"listener already registered for event {}",a);this.Xv[a]=b};hc.prototype.off=function(a,b){null==a?this.Xv={}:null!=b&&this.Xv[a]!=b||delete this.Xv[a]};hc.prototype.trigger=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];(d=this.Xv[a])&&d.apply(null,[].concat(ma(c)))};function R(a){this.A3=a.fallback;this.PW=a.localePrecedence;this.SN={};this.i=a.messages;this.E8=this.PW[0];this.y9=!!a.returnKeys}R.prototype.format=function(a,b){if(this.y9)return[].join.call(arguments,":");var c=ic(this,a);return c.format.call(c,[].slice.call(arguments,1))};
R.prototype.Ia=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];c=this.format.apply(this,[].concat([a],ma(c.map(function(a){return"number"===typeof a?a:soydata.SanitizedHtml.from(a).getContent()}))));return soydata.VERY_UNSAFE.ordainSanitizedHtml(c)};
function ic(a,b){if(a.SN.hasOwnProperty(b))return a.SN[b];var c=a.E8,d;a.PW.some(function(c){d=a.i[c]&&a.i[c][b];return void 0!==d});d||(c=a.A3,d=a.i[c]&&a.i[c][b]);if(!d)throw Error("Unknown message: "+b);c=new IntlMessageFormat(d,c,jc);return a.SN[b]=c}var jc={number:{currency:{style:"currency",currency:"USD"},integer:{maximumFractionDigits:0},fixed2:{minimumFractionDigits:2,maximumFractionDigits:2}}};function kc(){this.config=window.cmsg;this.fP=this.Tl=this.rf=this.cL=this.aL=this.AR=this.Zl=this.xc=this.Pf=this.Rd=this.Ec=this.pi=this.cj=this.Ne=this.dd=this.bt=this.Fa=this.QJ=this.JR=this.zq=this.Zy=this.av=this.fO=this.hK=this.tf=this.Bj=this.UR=this.dL=this.ng=this.xe=this.tg=this.Ek=this.dg=this.Sb=this.aS=this.EP=this.Oa=this.Aa=this.Ga=this.X=this.Td=this.Ya=this.Zd=this.Dd=this.mF=this.jp=this.th=this.bl=this.Sf=this.Iy=this.mL=this.lL=this.kL=this.Nm=this.sc=this.nL=this.Af=this.hh=
this.ZJ=this.Zi=this.Ur=this.J=null}function lc(a){a.J||(a.J=new mc(a.config));return a.J}function nc(a){a.Ur||(a.Ur=new oc(a.config));return a.Ur}function pc(a){a.mF||(a.mF=new qc(a.config));return a.mF}function rc(a){a.Zi||(a.Zi=new sc(a.config));return a.Zi}function tc(a){a.ZJ||(a.ZJ=new uc(a.config));return a.ZJ}function vc(a){a.Nm||(a.Nm=new yc(a.config));return a.Nm}function zc(a){a.Af||(a.Af=new Ac(a.config));return a.Af}function Bc(a){a.nL||(a.nL=new Cc(a.config));return a.nL}
function Dc(a){a.sc||(a.sc=new Ec(a.config));return a.sc}function Fc(a){a.kL||(a.kL=new Gc(a.config));return a.kL}function Hc(a){a.lL||(a.lL=new Ic(a.config));return a.lL}function Jc(a){a.Iy||(a.Iy=new Kc(a.config));return a.Iy}function Lc(a){a.av||(a.av=new Mc(a.config));return a.av}function Nc(a){a.Zy||(a.Zy=new Oc(a.config));return a.Zy}function Pc(a){a.X||(a.X=new Qc(a.config));return a.X}function Rc(a){a.Ga||(a.Ga=new Sc(a.config));return a.Ga}
function Tc(a){a.Aa||(a.Aa=new Uc(a.config));return a.Aa}function Vc(a){a.Oa||(a.Oa=new Wc(a.config));return a.Oa}function Xc(a){a.EP||(a.EP=new Yc(a.config));return a.EP}function Zc(a){a.jp||(a.jp=new $c(a.config));return a.jp}function ad(a){a.Zd||(a.Zd=new bd(a.config));return a.Zd}function cd(a){a.Ya||(a.Ya=new dd(a.config));return a.Ya}function ed(a){a.tg||(a.tg=new fd(a.config));return a.tg}function gd(a){a.xe||(a.xe=new hd(a.config));return a.xe}
function id(a){a.UR||(a.UR=new jd(a.config));return a.UR}function kd(a){a.Bj||(a.Bj=new ld(a.config));return a.Bj}function md(a){a.tf||(a.tf=new nd(a.config));return a.tf}function od(a){a.hK||(a.hK=new pd(a.config));return a.hK}function qd(a){a.fO||(a.fO=new rd(a.config));return a.fO}function sd(a){a.zq||(a.zq=new td(a.config));return a.zq}function ud(a){a.Ne||(a.Ne=new vd(a.config));return a.Ne}function wd(a){a.Fa||(a.Fa=new xd(a.config));return a.Fa}
function yd(a){a.Rd||(a.Rd=new zd(a.config));return a.Rd}function Ad(a){a.Pf||(a.Pf=new Bd(a.config));return a.Pf}function Cd(a){a.xc||(a.xc=new Dd(a.config));return a.xc}function Ed(a){a.Zl||(a.Zl=new Fd(a.config));return a.Zl}function Gd(a){a.rf||(a.rf=new Hd(a.config));return a.rf}function Id(a){a.Tl||(a.Tl=new Jd(a.config));return a.Tl}function Kd(a){a.fP||(a.fP=new Ld(a.config));return a.fP}function mc(a){R.apply(this,arguments)}r(mc,R);
function Nd(a){return a.format("objectPanelInfoClose")}function Od(a){return a.format("objectPanelInfoCloseThisInfoPanel")}function Pd(a){return a.format("objectPanelInfoUntitledImage")}mc.prototype.Fc=function(){return this.format("objectPanelInfoRoyaltyFree")};mc.prototype.Id=function(){return this.format("objectPanelInfoExtended")};function Qd(a,b){return a.format("objectPanelInfoLayouts",b)}function Rd(a){return a.format("objectPanelUploadsPanelWriteOpsDisabledLabel")}
function Sd(a){return a.format("objectPanelUploadsPanelDefaultFolderName")}function Td(a,b){return a.format("objectPanelUploadsPanelSharePopOverPrivateLabelOtherOwner",b)}function Ud(a){return a.format("objectPanelUploadsPanelUnlimitedUseFolder")}function Vd(a){return a.format("objectPanelTextPanelAddHeading")}function Wd(a){return a.format("objectPanelTextPanelAddSubHeading")}function Xd(a){return a.format("objectPanelLayoutsPanelYourDesignsTabLabel")}
function Yd(a){return a.format("objectPanelLayoutsPanelLayoutsTabTitle")}function Zd(a){return a.format("objectPanelLayoutsPanelTeamTemplates")}function $d(a){return a.format("objectPanelMediaItemCostFree")}mc.prototype.qq=function(a){return this.format("objectPanelLicense",a)};function bd(a){R.apply(this,arguments)}r(bd,R);function dd(a){R.apply(this,arguments)}r(dd,R);f=dd.prototype;f.Gj=function(){return this.format("creditCardCreditCardLabel")};f.ou=function(){return this.format("creditCardBillingAddressLabel")};
f.Pk=function(){return this.format("creditCardCardNumberPlaceholder")};f.Hl=function(){return this.format("creditCardMonthPlaceholder")};f.pm=function(){return this.format("creditCardYearPlaceholder")};f.Xk=function(){return this.format("creditCardCvcPlaceholder")};function ae(a){return a.format("creditCardRegionPlaceholder")}f.Vo=function(){return this.format("creditCardZipCodePlaceholder")};f.save=function(){return this.format("creditCardSave")};f.gQ=function(){return this.format("creditCardSavingTeamCard")};
function oc(a){R.apply(this,arguments)}r(oc,R);oc.prototype.Ng=function(){return this.format("documentPlaceholderText")};function be(a){return a.format("documentUntitledDesign")}function Ec(a){R.apply(this,arguments)}r(Ec,R);Ec.prototype.UC=function(){return this.format("editorControlsUpgrade")};Ec.prototype.fm=function(){return this.format("editorControlsShare")};Ec.prototype.download=function(){return this.format("editorControlsDownload")};Ec.prototype.print=function(){return this.format("editorControlsPrint")};
function ce(a){return a.format("editorControlsUnsavedChanges")}function qc(a){R.apply(this,arguments)}r(qc,R);qc.prototype.error=function(){return this.format("findUserInputError")};function sc(a){R.apply(this,arguments)}r(sc,R);sc.prototype.gp=function(){return this.format("colorPaletteApplyToAll")};function uc(a){R.apply(this,arguments)}r(uc,R);uc.prototype.yb=function(a){return this.format("colorPickerBrandColor",a)};uc.prototype.gp=function(){return this.format("colorPickerApplyToAll")};
function de(a){R.apply(this,arguments)}r(de,R);f=de.prototype;f.RW=function(){return this.format("editorFileMenuPaneMagicResize")};f.save=function(){return this.format("editorFileMenuPaneSave")};f.t9=function(){return this.format("editorFileMenuPaneResizeUpgradePrompt")};f.AN=function(){return this.format("editorFileMenuPaneLearnMoreButtonLabel")};f.w4=function(a){return this.format("editorFileMenuPaneLastSavedLabel",a)};function yc(a){R.apply(this,arguments)}r(yc,R);yc.prototype.T0=function(){return this.format("customDimensionsPaneActionResize")};
yc.prototype.times=function(){return this.format("customDimensionsPaneTimes")};yc.prototype.x8=function(){return this.format("customDimensionsPanePixelsUnit")};function ee(a){R.apply(this,arguments)}r(ee,R);ee.prototype.kaa=function(){return this.format("documentResizePaneUseCustomDimensions")};ee.prototype.kK=function(){return this.format("documentResizePaneCouldNotBeLoaded")};ee.prototype.uR=function(){return this.format("documentResizePaneTryLoadingAgain")};ee.prototype.ML=function(){return this.format("documentResizePaneFetchingDesignTypes")};
function fe(a){R.apply(this,arguments)}r(fe,R);f=fe.prototype;f.o2=function(){return this.format("magicResizePaneCopyAndResize")};f.kK=function(){return this.format("magicResizePaneCouldNotBeLoaded")};f.uR=function(){return this.format("magicResizePaneTryLoadingAgain")};f.ML=function(){return this.format("magicResizePaneFetchingDesignTypes")};f.A2=function(){return this.format("magicResizePaneCurrentDesignSize")};f.P0=function(){return this.format("magicResizePaneAbracadabraResize")};f.d5=function(){return this.format("magicResizePaneOhSnap")};
f.Y4=function(){return this.format("magicResizePaneMultipleTabs")};function Gc(a){R.apply(this,arguments)}r(Gc,R);Gc.prototype.tm=function(){return this.format("editorPageControlActionMoveUp")};Gc.prototype.sm=function(){return this.format("editorPageControlActionMoveDown")};Gc.prototype.qm=function(){return this.format("editorPageControlActionCopy")};Gc.prototype.rm=function(){return this.format("editorPageControlActionDelete")};function Ic(a){R.apply(this,arguments)}r(Ic,R);
function ge(a){R.apply(this,arguments)}r(ge,R);f=ge.prototype;f.$R=function(){return this.format("editorReplaceContentWarningTitle")};f.ZR=function(){return this.format("editorReplaceContentWarningText")};f.pp=function(){return this.format("editorReplaceContentConfirmButtonText")};f.Nk=function(){return this.format("editorReplaceContentCancelButtonText")};f.HG=function(){return this.format("editorReplaceContentNeverShowAgain")};function Ac(a){R.apply(this,arguments)}r(Ac,R);
function he(a){return a.format("editorToolbarFilterOptionAdvanced")}function ie(a,b){return a.format("editorToolbarFilter"+b.replace(/\s*/g,""))}function je(a,b){b=b.replace(/(^[a-z])|(\-[a-z])/g,function(a){return(a[1]||a[0]).toUpperCase()});return a.format("editorToolbarFilterRange"+b)}function ke(a){return a.format("editorToolbarElementDelete")}f=Ac.prototype;f.Jd=function(){return this.format("editorToolbarFontSizeAuto")};f.textAlign=function(){return this.format("editorToolbarTextAlign")};
function le(a){return a.format("editorToolbarElementTransparency")}function me(a){return a.format("editorToolbarElementHorizontalAlignLeft")}function ne(a){return a.format("editorToolbarElementHorizontalAlignRight")}function oe(a){return a.format("editorToolbarElementHorizontalAlignCenter")}function pe(a){return a.format("editorToolbarElementVerticalAlignTop")}function qe(a){return a.format("editorToolbarElementVerticalAlignBottom")}
function re(a){return a.format("editorToolbarElementVerticalAlignCenter")}function se(a){return a.format("editorToolbarElementHorizontalDistribute")}function te(a){return a.format("editorToolbarElementVerticalDistribute")}function ve(a){return a.format("editorToolbarElementPickAColor")}function we(a){return a.format("editorToolbarDeleteMenuDeleteElement")}function xe(){return zc(Lb).format("editorToolbarImagePickAColor")}f.AN=function(){return this.format("editorToolbarLearnMoreButtonLabel")};
f.Ha=function(){return this.format("editorToolbarTransparency")};f.lineHeight=function(){return this.format("editorToolbarLineHeight")};f.letterSpacing=function(){return this.format("editorToolbarLetterSpacing")};function ye(a,b){return a.format("editorToolbarTableItem",b)}function Cc(a){R.apply(this,arguments)}r(Cc,R);Cc.prototype.resize=function(){return this.format("editorSelectionBoxResize")};Cc.prototype.stretch=function(){return this.format("editorSelectionBoxStretch")};
Cc.prototype.rotate=function(){return this.format("editorSelectionBoxRotate")};Cc.prototype.j9=function(){return this.format("editorSelectionBoxRemoveWatermark")};function Kc(a){R.apply(this,arguments)}r(Kc,R);Kc.prototype.bw=function(){return this.format("canvaForWorkUpgradeMemberLabel")};function ze(a){return a.format("canvaForWorkFeatureUpgradePlusIncreaseProductivity")}function Ae(a){return a.format("canvaForWorkFeatureUpgradeTemplatesBenefit")}
function Be(a){return a.format("canvaForWorkFeatureUpgradeResizeBenefit")}function Ce(a){return a.format("canvaForWorkFeatureUpgradeBrandKitBenefit")}function De(a){return a.format("canvaForWorkFeatureUpgradeFoldersBenefit")}function Ee(a){return a.Ia("canvaForWorkFeatureUpgradeFreeContentBenefit",4E5)}function Fe(a){R.apply(this,arguments)}r(Fe,R);Fe.prototype.post=function(){return this.format("shareViewPost")};Fe.prototype.email=function(){return this.format("shareViewEmail")};
Fe.prototype.send=function(){return this.format("shareViewSend")};Fe.prototype.Kj=function(){return this.format("shareViewEmailInputPlaceholder")};function Ge(a){R.apply(this,arguments)}r(Ge,R);f=Ge.prototype;f.Ze=function(){return this.format("exportPopOverFileType")};f.Eu=function(){return this.format("exportPopOverCropMarksAndBleed")};f.Sx=function(){return this.format("exportPopOverTransparentBackground")};f.fu=function(){return this.format("exportPopOverAllPagesLabel")};f.download=function(){return this.format("exportPopOverDownload")};
f.title=function(){return this.format("exportPopOverTitle")};f.BB=function(){return this.format("exportPopOverPng")};f.GA=function(){return this.format("exportPopOverJpg")};f.zr=function(){return this.format("exportPopOverAnimatorCtaText")};f.$u=function(){return this.format("exportPopOverFileTypeInfoLinkTitle")};f.Du=function(){return this.format("exportPopOverCropAndBleedInfoLinkTitle")};function He(a,b){return a.format("exportPopOverMultiPageZipWarning",b)}
function Mc(a){R.apply(this,arguments)}r(Mc,R);f=Mc.prototype;f.title=function(){return this.format("fileTypesDialogTitle")};f.BB=function(){return this.format("fileTypesDialogPng")};f.y8=function(){return this.format("fileTypesDialogPngDescription")};f.GA=function(){return this.format("fileTypesDialogJpg")};f.u4=function(){return this.format("fileTypesDialogJpgDescription")};f.r8=function(){return this.format("fileTypesDialogPdfStandard")};f.s8=function(){return this.format("fileTypesDialogPdfStandardDescription")};
f.p8=function(){return this.format("fileTypesDialogPdfPrint")};f.q8=function(){return this.format("fileTypesDialogPdfPrintDescription")};f.FM=function(){return this.format("fileTypesDialogGotIt")};function Oc(a){R.apply(this,arguments)}r(Oc,R);f=Oc.prototype;f.title=function(){return this.format("cropAndBleedDialogTitle")};f.sg=function(){return this.format("cropAndBleedDialogSubtitle")};f.z2=function(){return this.format("cropAndBleedDialogCropMarksDescription")};f.n1=function(){return this.format("cropAndBleedDialogBleedAreaDescription")};
f.FM=function(){return this.format("cropAndBleedDialogGotIt")};function Qc(a){R.apply(this,arguments)}r(Qc,R);f=Qc.prototype;f.title=function(){return this.format("shareDesignDialogTitle")};f.m$=function(){return this.format("shareDesignDialogSocial")};f.link=function(){return this.format("shareDesignDialogLink")};f.Fn=function(){return this.format("shareDesignDialogInviteLabel")};function Ie(a){return a.format("shareDesignDialogInvitePlaceholder")}f.En=function(){return this.format("shareDesignDialogInviteButton")};
f.Do=function(){return this.format("shareDesignDialogShareLabel")};f.Rn=function(){return this.format("shareDesignDialogMessagePlaceholder")};f.Bo=function(){return this.format("shareDesignDialogShareButton")};f.Qf=function(){return this.format("shareDesignDialogPurchaseButton")};f.Og=function(){return this.format("shareDesignDialogRestrictedOverlayMessage")};function Je(a){return a.format("shareDesignDialogViewOnFacebook")}function Ke(a){return a.format("shareDesignDialogViewOnTwitter")}f.Cq=function(){return this.format("shareDesignDialogOkButton")};
function Le(a){return a.format("shareDesignDialogSharingErrorTitle")}function Me(a,b){return a.format("shareDesignDialogSharingError",b)}function Ne(a){return a.format("shareDesignDialogBackToSharingButton")}function Oe(a){return a.format("shareDesignDialogEditRole")}function Pe(a){return a.format("shareDesignDialogEditRoleShort")}function Qe(a){return a.format("shareDesignDialogViewRole")}function Re(a){return a.format("shareDesignDialogViewRoleShort")}
f.Yc=function(a){return this.format("shareDesignDialogFolders",a)};f.Ln=function(){return this.format("shareDesignDialogLinkLabel")};f.dh=function(){return this.format("shareDesignDialogCopyButton")};f.Xm=function(){return this.format("shareDesignDialogEmbedPublic")};f.Wm=function(){return this.format("shareDesignDialogEmbedMakePublic")};f.Um=function(){return this.format("shareDesignDialogEmbedLabelHTML")};f.Vm=function(){return this.format("shareDesignDialogEmbedLabeloEmbed")};f.Lj=function(){return this.Ia("shareDesignDialogEmbedDescriptionHtml")};
f.Bs=function(a,b){return this.format("shareDesignDialogInviteMembersHtml",a,b)};f.Ev=function(){return this.format("shareDesignDialogInviteMemberButton")};f.Dv=function(){return this.format("shareDesignDialogInviteMemberBenefitsTitle")};f.Fv=function(){return this.format("shareDesignDialogInviteMemberError")};function Sc(a){R.apply(this,arguments)}r(Sc,R);f=Sc.prototype;f.Wg=function(){return this.format("publishViewActionClose")};f.Zo=function(){return this.format("publishViewActionCloseHint")};
f.Zt=function(){return this.format("publishViewActionOK")};f.$t=function(){return this.format("publishViewActionRetry")};function Se(a,b){return a.format("publishViewUnlimitedUseHint",b)}f.zv=function(){return this.format("publishViewHintSeeAllDesigns")};function Uc(a){R.apply(this,arguments)}r(Uc,R);function Te(a){return a.Ia("paymentPageErrorGenericHtml","https://support.canva.com/troubleshooting")}f=Uc.prototype;f.iu=function(){return this.format("paymentPageApplyCouponButtonText")};f.Au=function(){return this.format("paymentPageCouponCodeInputPlaceholder")};
function Ue(a){return a.Ia("paymentPageLicensingIntroMore")}f.Al=function(a){return this.format("paymentPageLicensePrice",a)};function Ve(a,b){return a.format("paymentPageLicenseRemainingMinutes",b)}f.Im=function(a){return this.format("paymentPageCreditAvailable",a)};f.total=function(a){return this.format("paymentPageTotal",a)};f.Gq=function(a){return this.format("paymentPagePayOption",a)};f.Kr=function(a){return this.format("paymentPageContributedBy",a)};f.ft=function(){return this.format("paymentPagePurchased")};
f.Kd=function(){return this.format("paymentPageFree")};f.Rv=function(){return this.format("paymentPageLayoutTitle")};f.Qf=function(){return this.format("paymentPagePurchaseButton")};f.gQ=function(){return this.format("paymentPageSavingTeamCard")};function We(a){return a.format("paymentPageLicensesDetailsConfirm")}f.so=function(){return this.format("paymentPageRestrictedOverlayHeading")};f.Og=function(){return this.format("paymentPageRestrictedOverlayMessage")};f.ro=function(){return this.format("paymentPageRestrictedOverlayDraftButton")};
f.qo=function(){return this.format("paymentPageRestrictedOverlayCancelButton")};function Wc(a){R.apply(this,arguments)}r(Wc,R);f=Wc.prototype;f.md=function(){return this.format("licenseOneTimeUse")};f.Nc=function(){return this.format("licenseOneTimeUseDescription")};f.Fc=function(){return this.format("licenseRoyaltyFree")};f.Qc=function(){return this.format("licenseRoyaltyFreeDescription")};f.Id=function(){return this.format("licenseExtended")};f.Yd=function(){return this.format("licenseExtendedDescription")};
f.be=function(){return this.format("licenseNoLicenseOptionDescription")};function Xe(a,b){return a.Ia("licenseLicensesDetailsFullInformation",b)}function Yc(a){R.apply(this,arguments)}r(Yc,R);function Ye(a){R.apply(this,arguments)}r(Ye,R);Ye.prototype.Qf=function(){return this.format("watermarkRemovalDialogPurchaseButton")};Ye.prototype.title=function(){return this.format("watermarkRemovalDialogTitle")};function $c(a){R.apply(this,arguments)}r($c,R);f=$c.prototype;f.uG=function(){return this.format("brandTeamMembersLoading")};
f.Ti=function(){return this.format("brandTeamMembersBrandKit")};f.VA=function(){return this.format("brandTeamMembersMembers")};f.Yc=function(){return this.format("brandTeamMembersFolders")};f.RW=function(){return this.format("brandTeamMembersMagicResize")};f.UC=function(){return this.format("brandTeamMembersUpgrade")};function Ze(a){R.apply(this,arguments)}r(Ze,R);function $e(a){return a.format("twentyThreeSecondOnboardingSearchText")}
function af(a){return a.format("twentyThreeSecondOnboardingDragText")}function bf(a){return a.format("twentyThreeSecondOnboardingPublishText")}function cf(a){return a.format("twentyThreeSecondOnboardingYumText")}function df(a){R.apply(this,arguments)}r(df,R);df.prototype.v2=function(a){return this.format("teamUpgradeCreateTeamWelcomeTitleHtml",a)};df.prototype.w2=function(){return this.format("teamUpgradeCreateYourTeam")};
df.prototype.u2=function(a){return this.format("teamUpgradeCreateTeamWelcomeDescription",a)};function ef(a){return a.format("teamUpgradeCreateTrialPeriodPoint1V")}function ff(a,b){return a.format("teamUpgradeCreateTrialPeriodPoint2V",b)}function gf(a){return a.format("teamUpgradeCreateTrialPeriodPoint3V")}function fd(a){R.apply(this,arguments)}r(fd,R);f=fd.prototype;f.UC=function(a){return this.format("teamBillingSignupUpgrade",a)};f.Ix=function(){return this.format("teamBillingSignupStartTrial")};
f.Qw=function(){return this.format("teamBillingSignupRevertCard")};f.Pv=function(){return this.format("teamBillingSignupItemsTitle")};f.pu=function(){return this.format("teamBillingSignupBillingError")};f.Tx=function(){return this.format("teamBillingSignupTryAgain")};f.Tu=function(){return this.format("teamBillingSignupEncryption")};f.lm=function(a,b){return this.format("teamBillingSignupTotalPrice",a,b)};function hd(a){R.apply(this,arguments)}r(hd,R);
function hf(a){return a.format("starOnboardingActionStayAndPlay")}function jf(a){return a.format("starOnboardingActionKeepExploring")}hd.prototype.Q8=function(){return this.format("starOnboardingProgressTitle")};hd.prototype.p$=function(){return this.format("starOnboardingSpecialInstructionsTitle")};hd.prototype.n$=function(){return this.format("starOnboardingSpecialInstructionsHtml")};hd.prototype.o$=function(){return this.format("starOnboardingSpecialInstructionsQuestionText")};
function kf(a){R.apply(this,arguments)}r(kf,R);function jd(a){R.apply(this,arguments)}r(jd,R);jd.prototype.eP=function(){return this.format("viewDesignsPopOverTitle")};jd.prototype.cP=function(){return this.format("viewDesignsPopOverMessage")};jd.prototype.bP=function(){return this.format("viewDesignsPopOverDone")};function lf(a){R.apply(this,arguments)}r(lf,R);lf.prototype.eP=function(){return this.format("downloadPopOverTitle")};lf.prototype.cP=function(){return this.format("downloadPopOverMessage")};
lf.prototype.bP=function(){return this.format("downloadPopOverDone")};function ld(a){R.apply(this,arguments)}r(ld,R);ld.prototype.hy=function(a){return this.format("zoomToolbarZoomPercentage",a)};ld.prototype.eg=function(){return this.format("zoomToolbarFullscreenMode")};ld.prototype.fill=function(){return this.format("zoomToolbarFill")};function nd(a){R.apply(this,arguments)}r(nd,R);function pd(a){R.apply(this,arguments)}r(pd,R);function rd(a){R.apply(this,arguments)}r(rd,R);rd.prototype.lC=function(){return this.format("newLightboxShareLink")};
function mf(a,b,c,d,e){return a.format("newLightboxEmbedCodeBy",c,b,d,e)}function td(a){R.apply(this,arguments)}r(td,R);td.prototype.Sn=function(){return this.format("newFeatureNewLabel")};function nf(a){R.apply(this,arguments)}r(nf,R);function of(a){R.apply(this,arguments)}r(of,R);of.prototype.q1=function(a){return this.format("chartElementCardinalNumber",a)};function xd(a){R.apply(this,arguments)}r(xd,R);f=xd.prototype;f.zw=function(){return this.format("printOrderSummaryPremiumImagesPriceLabel")};
f.Mt=function(){return this.Ia("printOrderSummaryTotalLabelHtml")};f.da=function(a){return this.format("printOrderSummaryPrice",a)};f.kw=function(a){return this.format("printOrderSummaryNumberOfCopies",a)};f.uk=function(){return this.format("printOrderSummarySelectYourPrintOptions")};f.vi=function(){return this.format("printOrderSummarySelectYourShippingOption")};f.Hj=function(a){return this.format("printOrderSummaryCreditUsed",a)};
function pf(a,b){return a.format("printOrderSummaryCreditUsedAndAvailableLabel",b)}f.Pt=function(a){return this.format("printOrderSummaryUnitPrice",a)};f.Lw=function(){return this.format("printOrderSummaryRemoveCouponText")};f.bf=function(a){return this.format("printOrderSummaryIncludeEnvelopesLabel",a)};function qf(a){R.apply(this,arguments)}r(qf,R);f=qf.prototype;f.heading=function(){return this.format("printOrderReceivedHeading")};f.WR=function(){return this.format("printOrderReceivedViewPrintOrdersButtonText")};
f.VR=function(){return this.format("printOrderReceivedViewHomepageButtonText")};f.l2=function(a){return this.Ia("printOrderReceivedConfirmationEmailMessageHtml",a)};f.P7=function(a){return this.Ia("printOrderReceivedMessageHtml",a,"printOrderReceived__orderNumber")};function vd(a){R.apply(this,arguments)}r(vd,R);vd.prototype.uc=function(a,b){return this.format("printFlowPageNumberOfTotal",a,b)};function rf(a){R.apply(this,arguments)}r(rf,R);f=rf.prototype;f.Hy=function(){return this.format("addressDetailsCannotShipToPostOfficeBoxMessage")};
f.qJ=function(){return this.format("addressDetailsAddAdditionalAddressFieldButtonText")};f.VJ=function(){return this.format("addressDetailsCityLabel")};f.fK=function(){return this.format("addressDetailsContactNumberLabel")};f.lK=function(){return this.format("addressDetailsCountryLabel")};f.cM=function(){return this.format("addressDetailsFullNameLabel")};f.cR=function(){return this.format("addressDetailsStateLabel")};f.eR=function(){return this.format("addressDetailsStreetAddressLabel")};f.jS=function(){return this.format("addressDetailsZipcodeLabel")};
f.heading=function(){return this.format("addressDetailsHeading")};f.fQ=function(){return this.format("addressDetailsSaveAddressLabel")};f.Ww=function(){return this.format("addressDetailsSelectSubdivisionText")};function sf(a){R.apply(this,arguments)}r(sf,R);f=sf.prototype;f.heading=function(){return this.format("designProofReviewHeading")};f.description=function(){return this.format("designProofReviewDescription")};f.tu=function(){return this.format("designProofReviewCheckImagesAndText")};
f.Er=function(a){return this.Ia("designProofReviewCheckTermsOfUseHtml",a)};f.fv=function(){return this.format("designProofReviewGeneratingPdfText")};f.Vw=function(){return this.format("designProofReviewSeeUnfixableProblemButtonText")};f.zu=function(){return this.format("designProofReviewContinueToCheckoutButtonText")};function tf(a){R.apply(this,arguments)}r(tf,R);tf.prototype.Bu=function(){return this.format("printPaymentAndConfirmationCouponCodeLabel")};tf.prototype.heading=function(){return this.format("printPaymentAndConfirmationHeading")};
tf.prototype.TO=function(){return this.format("printPaymentAndConfirmationPaymentDetailsHeading")};function uf(a){R.apply(this,arguments)}r(uf,R);f=uf.prototype;f.qx=function(){return this.format("printOrderFormShippingAddressHeading")};f.ed=function(){return this.format("printOrderFormBackButtonText")};f.$i=function(){return this.format("printOrderFormContinueButtonText")};f.m8=function(){return this.format("printOrderFormPayNowButtonText")};f.JO=function(){return this.format("printOrderFormOrderErrorHeading")};
function zd(a){R.apply(this,arguments)}r(zd,R);f=zd.prototype;f.lT=function(){return this.format("printEditorFormBeginOrderButtonText")};f.wT=function(){return this.format("printEditorFormCancelOrderButtonText")};f.$i=function(){return this.format("printEditorFormContinueButtonText")};f.ed=function(){return this.format("printEditorFormBackButtonText")};f.mj=function(){return this.format("printEditorFormNextButtonText")};function Bd(a){R.apply(this,arguments)}r(Bd,R);Bd.prototype.Jh=function(){return this.format("printProofingWhyIsThisImportant")};
function Dd(a){R.apply(this,arguments)}r(Dd,R);function vf(a){return a.Ia("printOrderFreeStandardShippingPriceHtml",10)}function wf(a){return a.format("printOrderFreeStandardShippingPriceVariant2")}function Fd(a){R.apply(this,arguments)}r(Fd,R);Fd.prototype.ci=function(){return this.format("searchMenuFreeOnly")};function xf(a){R.apply(this,arguments)}r(xf,R);xf.prototype.Nk=function(){return this.format("updateDoctypeCancelButtonText")};xf.prototype.xq=function(){return this.format("updateDoctypeMoreInfoLinkText")};
function yf(a){R.apply(this,arguments)}r(yf,R);f=yf.prototype;f.mb=function(){return this.format("downloadIphoneDialogHeadingHtml")};f.jk=function(){return this.format("downloadIphoneDialogOverviewSubheading")};f.Mc=function(){return this.format("downloadIphoneDialogIphoneLabel")};f.Ic=function(){return this.format("downloadIphoneDialogAndroidLabel")};f.Gv=function(){return this.format("downloadIphoneDialogIphoneSubheading")};f.Yw=function(){return this.format("downloadIphoneDialogSendButtonLabel")};
f.qj=function(){return this.format("downloadIphoneDialogPhoneInputPlaceholder")};f.hu=function(){return this.format("downloadIphoneDialogAndroidSubheading")};f.Jw=function(){return this.format("downloadIphoneDialogRegisterButtonLabel")};f.YQ=function(){return this.format("downloadIphoneDialogSomethingWentWrong")};f.gG=function(){return this.format("downloadIphoneDialogInvalidNumber")};function Af(a){R.apply(this,arguments)}r(Af,R);f=Af.prototype;f.heading=function(){return this.format("downloadMobileAppDialogHeading")};
f.Di=function(){return this.format("downloadMobileAppDialogSubheading")};f.Mc=function(){return this.format("downloadMobileAppDialogIPhoneLabel")};f.Ic=function(){return this.format("downloadMobileAppDialogAndroidLabel")};f.td=function(){return this.format("downloadMobileAppDialogSubmitButtonLabel")};f.Pg=function(){return this.format("downloadMobileAppDialogSelectDeviceText")};f.gG=function(){return this.format("downloadMobileAppDialogInvalidNumber")};f.success=function(){return this.format("downloadMobileAppDialogSuccess")};
f.YQ=function(){return this.format("downloadMobileAppDialogSomethingWentWrong")};function Hd(a){R.apply(this,arguments)}r(Hd,R);Hd.prototype.Kj=function(){return this.format("teamInviteFormEmailInputPlaceholder")};Hd.prototype.td=function(){return this.format("teamInviteFormSubmitButtonLabel")};Hd.prototype.mr=function(){return this.format("teamInviteFormUpgradeMessage")};Hd.prototype.ap=function(){return this.format("teamInviteFormAddAnotherButtonLabel")};function Jd(a){R.apply(this,arguments)}
r(Jd,R);function Ld(a){R.apply(this,arguments)}r(Ld,R);f=Ld.prototype;f.title=function(){return this.format("popupBlockedDialogTitle")};f.sg=function(){return this.format("popupBlockedDialogSubtitle")};f.Kx=function(){return this.format("popupBlockedDialogStep1Label")};f.Lx=function(){return this.format("popupBlockedDialogStep2Label")};f.Dt=function(){return this.Ia("popupBlockedDialogStep2Html")};function Bf(a){0<a.length&&(a=window.getComputedStyle(a.get(0)))&&a.getPropertyValue("left")};function Cf(a){return new P(function(b){function c(e){e.target===a&&(d.off("transitionend",c),b())}var d=$(a);d.on("transitionend",c)})};function Df(a,b){if(!a)throw new TypeError("Cannot adopt constructor "+a);if("object"!==typeof b)throw new TypeError("Cannot adopt non-object value "+b);if(null===b)throw new TypeError("Cannot adopt null value");return Object.create(a.prototype,Ef(b))}function Ef(a){var b=Object.create(null);Object.keys(a).forEach(function(c){b[c]={value:a[c],writable:!0,enumerable:!0,configurable:!0}});return b};function Ff(a,b){this.name=a;this.defaultValue=b};function Gf(a){this.values=a||{}}function Hf(){return new Gf(La(window.cflags))}Gf.prototype.get=function(a){var b;if({}.hasOwnProperty.call(this.values,a.name)){b=this.values[a.name];var c=typeof b;a=typeof a.defaultValue;w(c===a,"Type mismatch: Configured value ({}) deviates from default value type ({})",c,a)}else b=a.defaultValue;return b};function If(a){this.G=a}
var Jf=new Ff("ad",!1),Kf=new Ff("ag",!0),Lf=new Ff("nb",!1),Mf=new Ff("au",!1),Nf=new Ff("ay",!1),Of=new Ff("av",!1),Pf=new Ff("aw",!1),Qf=new Ff("az",!1),Rf=new Ff("bf",!1),Sf=new Ff("bg",!1),Tf=new Ff("bk",!1),Uf=new Ff("bw",!1),Vf=new Ff("by",!1),Wf=new Ff("cf",50),Xf=new Ff("cn",!1),Yf=new Ff("cv",!1),Zf=new Ff("de",!1),$f=new Ff("dg",1),ag=new Ff("dh",3),bg=new Ff("dn",!1),cg=new Ff("dr",!0),dg=new Ff("ex",!1),eg=new Ff("ee",!1),fg=new Ff("ek",!1),gg=new Ff("em","NONE"),hg=new Ff("en",!1),ig=
new Ff("ep",!0),jg=new Ff("ey",!0),kg=new Ff("ez",!1),lg=new Ff("fd",!1),mg=new Ff("ff",!1),ng=new Ff("fo",!1),og=new Ff("fq",!1),pg=new Ff("fx",!1),qg=new Ff("fz",!0),rg=new Ff("gn",!0),sg=new Ff("gq",!0),tg=new Ff("hn",!1),ug=new Ff("kw",!1);f=If.prototype;f.iz=function(){return this.G.get(Lf)};f.fz=function(){return this.G.get(Mf)};f.JN=function(){return this.G.get(Tf)};f.Pe=function(){return this.G.get(eg)};f.UK=function(){return this.G.get(gg)};var T="undefined"!==typeof _&&"undefined"!==typeof Backbone&&_.extend({},Backbone.Events),U=null,vg=null;function wg(a){this.Fb=a.Fb;this.Gd=a.Gd;this.gc=a.gc;this.ef=a.ef;this.ac=a.ac;this.uI=a.uI;this.Xy=a.Xy}function xg(a,b,c,d){b=yg(b);if(!b)return null;var e=a.Fb.Ea();a=zg(a,b.qa());isNaN(parseFloat(c*d))?(b.sd(a),b.dl(e)):(a.kb(c||0),a.eb(d||0),b.sd(a),b.appendTo(e));Ag(b);Bg(b);return b}wg.prototype.SS=function(a,b,c){var d;d={height:a.ql().o(),isCutout:!1,mediaId:a.u(),mediaVersion:0,type:"image",width:a.ql().l()};b=xg(this,d,b,c);Cg(this.uI,Dg(a),b)};
wg.prototype.TS=function(a,b,c,d){switch(a.lc()){case Eg:a=Fg(a,"image",d);xg(this,a,b,c);break;case Gg:a=a.Ja().us()?Fg(a,"graphic"):Fg(a,"svg");xg(this,a,b,c);break;default:throw Error("Bad media. Composer unable to add media of type: "+a.lc());}};wg.prototype.US=function(a,b,c,d){(a=a.B$?Hg(a,"svg"):Hg(a,"image",d))&&xg(this,a,b,c)};
function Dg(a){var b=a.ql(),c=a.re();return Jg({files_:[{page:0,quality:"THUMBNAIL",height:c.o(),url:c.oa(),width:c.l()},{page:0,quality:"SCREEN",height:b.o(),url:b.oa(),width:b.l()}],id:a.u(),origin:Kg,title:a.getName()})}function Fg(a,b,c){var d=a.Ja().ic()[Lg];b={height:d.o(),isCutout:!!c,mediaId:a.u(),mediaVersion:a.Ja().getVersion(),type:b,width:d.l()};a=a.Ja().us();null!=a&&(b.spritesheetMetadata=Mg(a));return b}
function Hg(a,b,c){if(a.Nb())return{height:a.tb.height,isCutout:!!c,mediaId:a.Nb().u(),mediaVersion:1,type:b,width:a.tb.width}}function Ng(a,b){b.forEach(function(a){a=Dg(a);Og(this.uI,a)},a)}function Pg(a,b){b.forEach(function(a){Qg(this.ef,a.u(),a.Ja().getVersion(),a.Ja().ic())},a)}
function zg(a,b){var c=b.clone(),d=Rg(a.Fb.lb().tb);(function(){var a=c.l()/c.o();c.ea(Math.min(c.o(),d.o()*O.Nh));c.ma(a*c.o())})();(function(){var a=c.o()/c.l();c.ma(Math.min(c.l(),d.l()*O.Nh));c.ea(a*c.l())})();return c}wg.prototype.EI=function(a,b,c){0<b.length&&this.Xy(a,c).upload(b,Sg(a))};function Tg(a,b){a.AU=b}
function Ug(a,b,c,d,e,g){function h(){var a=b.getFile(Lg);return new V(0,0,a.l()*S,a.o()*S)}function k(a){var b,d,g;b=a.clientX-e.F()+c.F();d=a.clientY-e.w()+c.w();g=Math.max(Math.min((a.clientX-J)/Q,1),0);g=1>t?Math.min(Math.max(t,1+g*(t-1)),1):Math.min(Math.max(1,1+g*(t-1)),t);a.clientX>L?(u=!0,g=t):u=!1;m(b,d,g)}function l(a){var b,c=!1,e,h;b=d.get(0).getBoundingClientRect();b=Vg(x.Gd,Wg(b));c=$(a.target).is(".hotspot");a=Xg(fa);e=(b.F()-a.F())/S;h=(b.w()-a.w())/S;$(document).off("mouseup",l);
$(document).off("mousemove",k);!z&&c?p():u&&Yg(b,a)?(g(e,h,z),p()):setTimeout(q,50);$("#hotspots").remove();Zg().write(function(){$("#overlays .align").removeClass("on")})}function m(a,b,c){$g(d[0],{uo:c,Sq:c,Ii:a,Ji:b});a=Xg(fa);b=Vg(x.Gd,Wg(d.get(0).getBoundingClientRect()));u&&ah(a,b)&&(null===ha&&(ha=new bh(d,ta,{left:H,top:E})),a=ch(),dh(ha,N,a))}function n(){window.setTimeout(function(){d.remove()},650)}function p(){m(c.F(),c.w(),1);d.css("left",c.F()).css("top",c.w()).css("opacity",0).addClass("draggedMediaPlacing");
n()}function q(){var a="",b="",e=d.get(0).getBoundingClientRect(),g=x.AU||c,h=e.left-g.F(),e=e.top-g.w();100<h?a="draggedMediaReturningLeft":-100>h&&(a="draggedMediaReturningRight");100<e?b="draggedMediaReturningUp":-100>e&&(b="draggedMediaReturningDown");d.addClass(a).addClass(b).addClass("draggedMediaReturning");0>g.w()&&d.addClass("draggedMediaReturningFading").css("opacity",0);m(g.F(),g.w(),1);x.AU=void 0;n()}var u=!1,v,z=!1,t,x=a,H,E,L,J,Q,S=W,N={},ha=null;0<d.find("img").length&&(z=eh(d.find("img").get(0))>
O.fJ);v=fh(h(),function(){var a=Rg(x.Fb.lb().tb),b=O.Nh*S;return new V(0,0,a.l()*b,a.o()*b)}());t=Math.min(h().l(),v.l())/c.l();H=e.F()-c.F();E=e.w()-c.w();var fa=gh(a.Gd),ta=fa.$el.find(".page__content").get(0).getBoundingClientRect();L=$("#objectPanel").get(0).getBoundingClientRect().right;J=L-$(".uploadsLayoutColumn").outerWidth()/2+20;Q=L-J;hh();d.on("dragstart",function(a){a.preventDefault();return!1});d.css("width",c.l());d.css("height",c.o());d.css("transform-origin",H+"px "+E+"px");m(c.F(),
c.w(),1);d.attr("class","draggedMedia");$("#content").append(d);(function(){var a=d.find("img"),c=$("\x3cli\x3e\x3c/li\x3e");d.toggleClass("cutout",z);c.data("result",b).append(a.clone());d.data("li",c);a.data("screenWidth",v.l());a.data("screenHeight",v.o());ih(d,x.Fb.Ea(),!1)})();$(document).on("mousemove",k);$(document).on("mouseup",l)};function jh(a){this.xg=new wa(a)}var kh="PUBLIC_STREAM TEAM_STREAM TEAM_TEMPLATE MARKETPLACE_LAYOUT MARKETPLACE_TEXT PUBLICLY_REMIXABLE".split(" "),lh=["DESIGN_TUTORIAL","FREE_NEW_USER","C4W_INVITED_NEW_USER","C4W_NEW_USER"];jh.prototype=Object.create(wa.prototype);jh.prototype.hn=function(){var a=this.xg.get("brandColor",null);return a&&mh(a)};jh.prototype.wh=function(){return this.xg.get("onboardingMode",null)};jh.prototype.fM=function(){return this.xg.get("associatedMedia",null)};
function nh(a){return a.xg.get("enabledPublicationContexts",[])}
function oh(a){return(a=a.xg.get("layoutSearchRequest",null))&&new ph({query:C("query",a),mm:Na("translatable",a),Pn:Ra(qh,"mediaTypes",a),Dn:Ta(Ua,Xa,"includeFilters",a),Ym:Ta(Ua,Xa,"excludeFilters",a),filters:Ha.Bd("filters",a),ci:Ma("freeOnly",a),set:D("set",a),category:D("category",a),yU:D("domainName",a),elevation:D("elevation",a),XE:Ha.Bd("elevateIds",a),rz:Na("elevatedOnly",a),sort:G(rh,"sort",a),zc:Ha.Bd("colors",a),locale:D("locale",a),aspectRatio:B("aspectRatio",a),dr:A("skip",a),limit:A("limit",
a),fT:Qa(sh,"asSchema",a),nU:Qa(sh,"designSchemaVersion",a),Yh:D("docId",a),Rf:D("rootSearchId",a),Kg:Na("organic",a),NT:Qa(th,"clientFeature",a),IX:D("originalQuery",a),SU:Ma("explain",a)})}function uh(a){var b=a.xg.get("recaptchaConfig",{});a=D("siteKey",b)||null;b=D("impl",b)||null;return{UQ:a,Oba:b}}jh.prototype.Pz=function(){var a=this.xg.get("account",null);return null!=a?vh(a):null};function wh(a,b){switch(b){case "PACK_10":return"PACK_10";case "PACK_20":return"PACK_20";case "PACK_50":return"PACK_50";case "PACK_100":return"PACK_100";default:throw new TypeError('expected CreditPack for property "'+a+'", found: '+JSON.stringify(b));}}
function xh(a){switch(a){case "PACK_10":return"PACK_10";case "PACK_20":return"PACK_20";case "PACK_50":return"PACK_50";case "PACK_100":return"PACK_100";default:throw new TypeError('expected CreditPack for property "creditPack", found: '+JSON.stringify(a));}}function yh(a,b){switch(b){case "PAY_SYNCHRONOUS":return"PAY_SYNCHRONOUS";case "CANCEL":return"CANCEL";default:throw new TypeError('expected UpdateInvoiceAction for property "'+a+'", found: '+JSON.stringify(b));}}
function zh(a,b){switch(b){case "C4W_FREE_MEDIA":return"C4W_FREE_MEDIA";case "UNLIMITED_IMAGES":return"UNLIMITED_IMAGES";case "CHINA_LAUNCH":return"CHINA_LAUNCH";default:throw new TypeError('expected MediaLicenseDiscount for property "'+a+'", found: '+JSON.stringify(b));}}
function Ah(a,b){switch(b){case "C4W_FREE_MEDIA":return"C4W_FREE_MEDIA";case "UNLIMITED_IMAGES":return"UNLIMITED_IMAGES";case "CHINA_LAUNCH":return"CHINA_LAUNCH";default:throw new TypeError('expected MediaLicenseDiscount for property "'+a+'", found: '+JSON.stringify(b));}}function Bh(a){this.id=a.id;this.kk=a.kk;this.zT=a.zT;this.Qv=a.Qv;this.fc=a.fc;this.dF=a.dF;this.Vu=a.Vu;this.Zg=a.Zg}Bh.prototype.u=function(){return this.id};Bh.prototype.Sz=function(){return this.fc};
function Ch(a){return new Bh({id:D("id",a),kk:D("owningBrand",a),zT:C("cardBrand",a),Qv:C("last4",a),fc:D("country",a),dF:A("expMonth",a),Vu:A("expYear",a),Zg:F(Dh,"billingAddress",a)})}function Eh(a){this.Ed=a.Ed;this.VS=a.VS;this.lU=a.lU}function Fh(a){return new Eh({Ed:Oa(Ch,"card",a),VS:B("addedDate",a),lU:B("deletedDate",a)})}function Gh(a){this.CN=a.CN;this.DN=a.DN;this.EN=a.EN;this.Xd=a.Xd;this.Fh=a.Fh;this.sb=a.sb;this.xw=a.xw}Gh.prototype.gs=function(){return this.Xd};Gh.prototype.Rj=function(){return this.sb};
function Hh(a){return{line1:I("line1",a.CN),line2:I("line2",a.DN),line3:I("line3",a.EN),city:I("city",a.Xd),subdivision:I("subdivision",a.Fh),countryCode:ib("countryCode",a.sb),postcode:I("postcode",a.xw)}}function Dh(a){return new Gh({CN:D("line1",a),DN:D("line2",a),EN:D("line3",a),Xd:D("city",a),Fh:D("subdivision",a),sb:C("countryCode",a),xw:D("postcode",a)})}
function Ih(a){this.id=a.id;this.D=a.D;this.nf=a.nf;this.XZ=a.XZ;this.Zv=a.Zv;this.Xh=a.Xh;this.mU=a.mU;this.eT=a.eT||[];this.CP=a.CP||[]}Ih.prototype.u=function(){return this.id};Ih.prototype.ka=function(){return this.D};function vh(a){return new Ih({id:C("id",a),D:C("brand",a),nf:Ma("stripe",a),XZ:D("stripeKey",a),Zv:A("marketplaceCreditBalance",a),Xh:F(Ch,"defaultCreditCard",a),mU:Ma("delinquent",a),eT:G(Fh,"archivedCards",a),CP:Ra(Jh,"purchaseRoles",a)})}
function Kh(a){this.D=a.D;this.Zg=a.Zg;this.fR=a.fR;this.AC=a.AC;this.WZ=a.WZ;this.ZP=a.ZP}Kh.prototype.ka=function(){return this.D};function Lh(a){return{brand:I("brand",a.D),billingAddress:jb(Hh,"billingAddress",a.Zg),stripeToken:I("stripeToken",a.fR),stripeCardId:I("stripeCardId",a.AC),stripeCustomerId:I("stripeCustomerId",a.WZ),replaceDefault:gb("replaceDefault",a.ZP)}}function Mh(a){this.aj=a.aj;this.dT=a.dT;this.VT=a.VT;this.WT=a.WT;this.Zg=a.Zg;this.AC=a.AC;this.AT=a.AT;this.UU=a.UU}
Mh.prototype.zF=function(){return this.aj};function Nh(a){return{creditCard:ib("creditCard",a.aj),archiveCard:hb("archiveCard",a.dT),confirmAddition:hb("confirmAddition",a.VT),confirmRemoval:hb("confirmRemoval",a.WT),billingAddress:jb(Hh,"billingAddress",a.Zg),stripeCardId:I("stripeCardId",a.AC),cardIssuerUpdate:jb(Oh,"cardIssuerUpdate",a.AT),externalOrigin:mb(Ph,"externalOrigin",a.UU)}}
function Ph(a,b){switch(b){case "PENDING":return"PENDING";case "PROFITWELL_RETAIN":return"PROFITWELL_RETAIN";default:throw new TypeError('expected ExternalOrigin for property "'+a+'", found: '+JSON.stringify(b));}}function Oh(a){return{last4:I("last4",a.Qv),fingerprint:I("fingerprint",a.Jba),expiryMonth:eb("expiryMonth",a.Wu),expiryYear:eb("expiryYear",a.Xu),brand:I("brand",a.D),date:db("date",a.date)}}
function Qh(a){this.D=a.D;this.items=a.items||[];this.currency=a.currency;this.DB=a.DB;this.TB=a.TB}Qh.prototype.ka=function(){return this.D};Qh.prototype.Cf=function(){return this.items};function Rh(a){return{brand:ib("brand",a.D),items:kb(Sh,"items",a.items),currency:ib("currency",a.currency),priceConfig:jb(Th,"priceConfig",a.DB),returnErrors:hb("returnErrors",a.TB)}}function Uh(a){this.message=a.message;this.YA=a.YA;this.yA=a.yA}
function Vh(a){return new Uh({message:C("message",a),YA:Ma("noPaymentMethod",a),yA:Ma("invalidCreditCard",a)})}function Wh(a){this.Je=a.Je;this.error=a.error}Wh.prototype.getError=function(){return this.error};function Xh(a){return new Wh({Je:D("invoice",a),error:F(Vh,"error",a)})}function Yh(a){this.media=a.media;this.version=a.version;this.document=a.document;this.dk=a.dk;this.gb=a.gb;this.HY=a.HY;this.IY=a.IY}Yh.prototype.Nb=function(){return this.media};Yh.prototype.getVersion=function(){return this.version};
Yh.prototype.getDocument=function(){return this.document};function Zh(a){return{media:ib("media",a.media),version:db("version",a.version),document:I("document",a.document),licenseType:lb($h,"licenseType",a.dk),discount:mb(zh,"discount",a.gb),receivingBrand:I("receivingBrand",a.HY),receivingUser:I("receivingUser",a.IY)}}function ai(a){this.order=a.order}ai.prototype.nn=function(){return this.order};function bi(a){return{order:ib("order",a.order)}}function ci(a){this.order=a.order}ci.prototype.nn=function(){return this.order};
function di(a){return{order:ib("order",a.order)}}function ei(a){return{subscription:ib("subscription",a.rg),plan:ib("plan",a.io),quantity:db("quantity",a.sk),periodStart:db("periodStart",a.WO),periodEnd:db("periodEnd",a.VO),price:db("price",a.da)}}function fi(a){this.qq=a.qq;this.wK=a.wK;this.rP=a.rP;this.sP=a.sP;this.rg=a.rg;this.QU=a.QU;this.description=a.description}fi.prototype.vV=function(){return this.qq};fi.prototype.getSubscription=function(){return this.rg};fi.prototype.He=function(){return this.description};
function Sh(a){return{license:jb(Zh,"license",a.qq),credit:mb(wh,"credit",a.wK),printProduct:jb(bi,"printProduct",a.rP),printShipping:jb(di,"printShipping",a.sP),subscription:jb(ei,"subscription",a.rg),expectedPurchasePrice:eb("expectedPurchasePrice",a.QU),description:I("description",a.description)}}function gi(a){this.Je=a.Je;this.items=a.items||[];this.gb=a.gb;this.no=a.no;this.action=a.action;this.jV=a.jV;this.RU=a.RU;this.DB=a.DB;this.TB=a.TB;this.userAgent=a.userAgent}gi.prototype.Cf=function(){return this.items};
gi.prototype.getUserAgent=function(){return this.userAgent};function hi(a){return{invoice:ib("invoice",a.Je),items:kb(Sh,"items",a.items),discount:I("discount",a.gb),removeDiscount:gb("removeDiscount",a.no),action:mb(yh,"action",a.action),forgiven:hb("forgiven",a.jV),expectedTotal:eb("expectedTotal",a.RU),priceConfig:jb(Th,"priceConfig",a.DB),returnErrors:hb("returnErrors",a.TB),userAgent:I("userAgent",a.userAgent)}}
function ii(a){this.message=a.message;this.FT=a.FT;this.eW=a.eW;this.YA=a.YA;this.yA=a.yA}function ji(a){return new ii({message:C("message",a),FT:Ma("chargeFailed",a),eW:Ma("insufficientCredits",a),YA:Ma("noPaymentMethod",a),yA:Ma("invalidCreditCard",a)})}function ki(a){this.error=a.error}ki.prototype.getError=function(){return this.error};function li(a){return new ki({error:F(ji,"error",a)})}
function mi(a,b){switch(b){case "CREDIT":return"CREDIT";case "LICENSE":return"LICENSE";case "PRINT_PRODUCT":return"PRINT_PRODUCT";case "PRINT_SHIPPING":return"PRINT_SHIPPING";case "SUBSCRIPTION_PRORATION":return"SUBSCRIPTION_PRORATION";case "SUBSCRIPTION":return"SUBSCRIPTION";default:throw new TypeError('expected InvoiceItemType for property "'+a+'", found: '+JSON.stringify(b));}}
function ni(a){this.media=a.media;this.version=a.version;this.title=a.title;this.D=a.D;this.ja=a.ja;this.z4=a.z4;this.bh=a.bh;this.ir=a.ir;this.da=a.da;this.Yv=a.Yv;this.Q9=a.Q9;this.dk=a.dk;this.document=a.document;this.zp=a.zp;this.user=a.user}f=ni.prototype;f.Nb=function(){return this.media};f.getVersion=function(){return this.version};f.qb=function(){return this.title};f.ka=function(){return this.D};f.getDocument=function(){return this.document};f.rV=function(){return this.zp};f.La=function(){return this.user};
function oi(){}function pi(){return new oi}function qi(a){this.Am=a.Am||[];this.f4=a.f4;this.Y=a.Y;this.limit=a.limit}qi.prototype.pV=function(){return this.Am};qi.prototype.Mb=function(){return this.Y};qi.prototype.$d=function(){return this.limit};function ri(a){this.Yt=a.Yt||[];this.Y=a.Y}ri.prototype.Mb=function(){return this.Y};function si(a){return new ri({Yt:G(vh,"accounts",a),Y:D("continuation",a)})}function ti(a){this.type=a.type;this.media=a.media}ti.prototype.lc=function(){return this.type};
ti.prototype.Nb=function(){return this.media};function ui(a){return new ti({type:Pa(vi,"type",a),media:F(wi,"media",a)})}function vi(a,b){switch(b){case "MEDIA":return"MEDIA";default:throw new TypeError('expected ProductType for property "'+a+'", found: '+JSON.stringify(b));}}function xi(a){this.type=a.type;this.da=a.da;this.Yv=a.Yv}xi.prototype.lc=function(){return this.type};function yi(a){return new xi({type:Pa(zi,"type",a),da:A("price",a),Yv:A("markedPrice",a)})}
function Ai(a){this.type=a.type;this.XN=a.XN}Ai.prototype.lc=function(){return this.type};function Bi(a){return new Ai({type:Pa(zi,"type",a),XN:B("minutesToExpiry",a)})}function Ci(a){this.ba=a.ba;this.ca=a.ca;this.bh=a.bh;this.ON=a.ON;this.ug=a.ug;this.Dw=a.Dw||[];this.MA=a.MA;this.Bc=a.Bc||[];this.gb=a.gb;this.bT=a.bT||[]}Ci.prototype.Qp=function(){return this.ba};Ci.prototype.qs=function(){return this.ca};Ci.prototype.tn=function(){return this.ug};Ci.prototype.tM=function(){return this.MA};
function wi(a){return new Ci({ba:C("mediaId",a),ca:A("mediaVersion",a),bh:C("contributorName",a),ON:D("mediaTitle",a),ug:C("thumbnailUrl",a),Dw:G(yi,"pricingOptions",a),MA:Pa(Di,"licensing",a),Bc:G(Bi,"licenses",a),gb:Qa(Ah,"discount",a),bT:Ra(Ah,"applicableDiscounts",a)})}function Ei(a){this.Ub=a.Ub;this.document=a.document;this.Zb=a.Zb;this.O=a.O||[]}Ei.prototype.sv=function(){return this.Ub};Ei.prototype.getDocument=function(){return this.document};Ei.prototype.Gb=function(){return this.O};
function Fi(a){this.mode=a.mode;this.Ee=a.Ee;this.media=a.media;this.Y=a.Y;this.limit=a.limit}Fi.prototype.Nb=function(){return this.media};Fi.prototype.Mb=function(){return this.Y};Fi.prototype.$d=function(){return this.limit};function Gi(a){this.bd=a.bd||[];this.Y=a.Y}Gi.prototype.IF=function(){return this.bd};Gi.prototype.Mb=function(){return this.Y};function Hi(a){return new Gi({bd:G(ui,"products",a),Y:D("continuation",a)})}function Ii(a){this.value=a.value;this.currency=a.currency}
Ii.prototype.tc=function(){return this.value};function Ji(a){return new Ii({value:A("value",a),currency:C("currency",a)})}function Ki(a){this.id=a.id;this.type=a.type;this.xh=a.xh;this.ep=a.ep;this.yD=a.yD||[];this.eh=a.eh}Ki.prototype.u=function(){return this.id};Ki.prototype.lc=function(){return this.type};Ki.prototype.Tz=function(){return this.eh};
function Li(a){return new Ki({id:C("id",a),type:Pa(Mi,"type",a),xh:B("percentage",a),ep:F(Ji,"amount",a),yD:Ra(mi,"applicableInvoiceItemTypes",a),eh:C("couponCode",a)})}function Mi(a,b){switch(b){case "PERCENTAGE":return"PERCENTAGE";case "AMOUNT":return"AMOUNT";default:throw new TypeError('expected DiscountType for property "'+a+'", found: '+JSON.stringify(b));}}function Ni(a){this.D=a.D;this.user=a.user;this.eh=a.eh}Ni.prototype.ka=function(){return this.D};Ni.prototype.La=function(){return this.user};
Ni.prototype.Tz=function(){return this.eh};function Oi(a){this.gb=a.gb}function Pi(a){return new Oi({gb:Oa(Li,"discount",a)})}function Qi(a){this.D=a.D;this.user=a.user;this.eh=a.eh;this.Y=a.Y;this.limit=a.limit}f=Qi.prototype;f.ka=function(){return this.D};f.La=function(){return this.user};f.Tz=function(){return this.eh};f.Mb=function(){return this.Y};f.$d=function(){return this.limit};function Ri(a){this.KK=a.KK||[];this.Y=a.Y}Ri.prototype.Mb=function(){return this.Y};
function Si(a){return new Ri({KK:G(Li,"discounts",a),Y:D("continuation",a)})}function Th(a){return{currency:ib("currency",a.currency),creditExchangeRate:db("creditExchangeRate",a.tba),expiryDate:db("expiryDate",a.yz),mediaPriceModel:cb.required("mediaPriceModel",Ti(a.cca)),creditPackPriceModel:cb.required("creditPackPriceModel",{prices:kb(Ui,"prices",a.vba.wb)}),token:ib("token",a.km)}}
function Ti(a){return{licensingPriceModels:kb(Vi,"licensingPriceModels",a.B4),discountPriceModels:kb(Wi,"discountPriceModels",a.Aba)}}function Wi(a){return{discount:lb(zh,"discount",a.gb),licensingPriceModels:kb(Vi,"licensingPriceModels",a.B4)}}function Vi(a){return{licensing:lb(Xi,"licensing",a.MA),licenseTypePrices:kb(Yi,"licenseTypePrices",a.$ba)}}function Yi(a){return{licenseType:lb($h,"licenseType",a.dk),markedPrice:db("markedPrice",a.Yv)}}
function Ui(a){return{creditPack:lb(wh,"creditPack",a.uba),credits:db("credits",a.Mr),markedPrice:db("markedPrice",a.Yv)}}function Zi(a){this.id=a.id;this.io=a.io;this.D=a.D;this.status=a.status;this.sk=a.sk;this.p_=a.p_;this.vB=a.vB;this.WO=a.WO;this.VO=a.VO;this.mT=a.mT;this.KU=a.KU}Zi.prototype.u=function(){return this.id};Zi.prototype.ka=function(){return this.D};Zi.prototype.ph=function(){return this.status};
function $i(a){return new Zi({id:C("id",a),io:Oa(aj,"plan",a),D:C("brand",a),status:Pa(bj,"status",a),sk:A("quantity",a),p_:B("trialEnd",a),vB:B("paidUntil",a),WO:B("periodStart",a),VO:B("periodEnd",a),mT:Ma("billed",a),KU:Ma("eligibleForMediaDiscounts",a)})}
function cj(a,b){switch(b){case "PENDING":return"PENDING";case "TRIALING":return"TRIALING";case "ACTIVE":return"ACTIVE";case "PAST_DUE":return"PAST_DUE";case "FAILED":return"FAILED";default:throw new TypeError('expected SubscriptionStatus for property "'+a+'", found: '+JSON.stringify(b));}}
function bj(a,b){switch(b){case "PENDING":return"PENDING";case "TRIALING":return"TRIALING";case "ACTIVE":return"ACTIVE";case "PAST_DUE":return"PAST_DUE";case "FAILED":return"FAILED";default:throw new TypeError('expected SubscriptionStatus for property "'+a+'", found: '+JSON.stringify(b));}}function dj(a){this.id=a.id;this.displayName=a.displayName;this.GW=a.GW;this.N_=a.N_;this.wj=a.wj;this.bV=a.bV;this.Vf=a.Vf;this.Ej=a.Ej;this.da=a.da}dj.prototype.u=function(){return this.id};dj.prototype.Jb=function(){return this.displayName};
function aj(a){return new dj({id:C("id",a),displayName:C("displayName",a),GW:Ma("legacy",a),N_:Ma("userLocked",a),wj:Pa(ej,"tier",a),bV:D("featureBundle",a),Vf:A("trialPeriodDays",a),Ej:Pa(fj,"billingInterval",a),da:A("price",a)})}function fj(a,b){switch(b){case "MONTHLY":return"MONTHLY";case "YEARLY":return"YEARLY";default:throw new TypeError('expected BillingInterval for property "'+a+'", found: '+JSON.stringify(b));}}
function ej(a,b){switch(b){case "FREE":return"FREE";case "PAID":return"PAID";default:throw new TypeError('expected Tier for property "'+a+'", found: '+JSON.stringify(b));}}function gj(a){this.D=a.D;this.gU=a.gU;this.io=a.io;this.Vf=a.Vf;this.aU=a.aU;this.x_=a.x_;this.vB=a.vB;this.status=a.status;this.sk=a.sk;this.yY=a.yY}gj.prototype.ka=function(){return this.D};gj.prototype.ph=function(){return this.status};
function hj(a){return{brand:ib("brand",a.D),currentVersion:eb("currentVersion",a.gU),plan:I("plan",a.io),trialPeriodDays:eb("trialPeriodDays",a.Vf),coupon:I("coupon",a.aU),unbilled:hb("unbilled",a.x_),paidUntil:eb("paidUntil",a.vB),status:mb(cj,"status",a.status),quantity:eb("quantity",a.sk),prorate:hb("prorate",a.yY)}}function ij(a){this.rg=a.rg}ij.prototype.getSubscription=function(){return this.rg};function jj(a){return new ij({rg:Oa($i,"subscription",a)})}function kj(a){this.rg=a.rg}
kj.prototype.getSubscription=function(){return this.rg};function lj(a){return new kj({rg:Oa($i,"subscription",a)})};function mj(a){this.N=a}f=mj.prototype;f.Xj=function(a){throw nj(a.response.errorKey);};f.DV=function(a){if(a.error)throw new oj(a.error.message);return a};f.Cs=function(a){return a instanceof pj&&"CreditCardInvalid"===a.response.errorType};f.zR=function(a){return qj(this.N,"/billing/creditcards/"+a.aj,Nh(a)).catch(rj).get(0).then(this.DV).catch(this.Cs,this.Xj)};f.Pz=function(a){return sj(this.N,"/billing/brands/"+encodeURIComponent(a)+"/account").catch(rj).get(0).then(La).then(vh)};
function tj(a,b){var c=b.Y,d=b.limit;b=[].concat(ma(b.Am.map(function(a){return"brands\x3d"+encodeURIComponent(a)})),[c&&"continuation\x3d"+encodeURIComponent(c),"limit\x3d"+encodeURIComponent(String(d))]);return sj(a.N,"/billing/paymentaccounts?"+b.filter(function(a){return!!a}).join("\x26")).catch(rj).get(0).then(La).then(si)}
function uj(a,b){var c="/billing/designs/"+encodeURIComponent(b.document)+"/"+encodeURIComponent(b.Zb.toString())+"/licenses";0!==b.O.length&&(c+="?pages\x3d"+b.O.join(","));return sj(a.N,c).catch(rj).get(0).then(La).then(vj)}
function wj(a,b){var c;switch(b.mode){case "DESIGN":c="/billing/products/design";b=[].concat(["productType\x3d"+encodeURIComponent(b.Ee.Ub),"document\x3d"+encodeURIComponent(b.Ee.document),"documentVersion\x3d"+encodeURIComponent(String(b.Ee.Zb))],ma(b.Ee.O.map(function(a){return"pages\x3d"+encodeURIComponent(String(a))})),[b.Y&&"continuation\x3d"+encodeURIComponent(b.Y),"limit\x3d"+encodeURIComponent(String(b.limit))]);break;case "MEDIA":c="/billing/products/media";b=[].concat(ma(b.media.bca.map(function(a){return"media\x3d"+
encodeURIComponent(a)})));break;default:throw Error("Unknown Mode");}return sj(a.N,c+"?"+b.filter(function(a){return!!a}).join("\x26")).catch(rj).get(0).then(La).then(Hi)}f.getSubscription=function(a){return sj(this.N,a.D?"/billing/brands/"+a.D+"/subscription?excludeStandard\x3d"+(a.Fba?"true":"false"):"/billing/subscriptions/"+a.id).catch(rj).get(0).then(lj)};f.hE=function(a){return qj(this.N,"/billing/invoice",Rh(a)).catch(rj).get(0).then(La).then(Xh).catch(this.Cs,this.Xj)};
function xj(a,b){return qj(a.N,"/billing/invoice/"+encodeURIComponent(b.Je),hi(b)).catch(rj).get(0).then(La).then(li).catch(a.Cs,a.Xj)}f.pH=function(a){return qj(this.N,"/billing/invoices/"+encodeURIComponent(a.Je)+"?pay",{invoice:ib("invoice",a.Je)}).catch(rj).get(0).then(pi).catch(this.Cs,this.Xj)};
function yj(a,b){return sj(a.N,"/billing/discounts?"+["brand\x3d"+encodeURIComponent(b.D),"user\x3d"+encodeURIComponent(b.user),"couponCode\x3d"+encodeURIComponent(b.eh),null!=b.Y?"continuation\x3d"+encodeURIComponent(b.Y):null,"limit\x3d"+encodeURIComponent(String(b.limit))].filter(function(a){return!!a}).join("\x26")).catch(rj).get(0).then(La).then(Si)};function zj(a){this.media=a.media;this.ca=a.ca;this.document=a.document;this.D=a.D;this.da=a.da;this.type=a.type;this.xf=a.xf;this.JL=a.JL||null;this.dZ=a.dZ;this.ja=a.ja}function Aj(a){return new zj({media:C("media",a),ca:A("mediaVersion",a),document:D("document",a),D:C("brand",a),da:A("price",a),type:Pa(zi,"type",a),xf:A("creationDate",a),JL:B("expirationDate",a),dZ:Ma("revoked",a),ja:D("layout",a)})}function Bj(a){this.media=a.media;this.bh=a.bh;this.Bc=a.Bc||[]}
function Cj(a){return new Bj({media:Oa(Dj,"media",a),bh:C("contributorName",a),Bc:G(Aj,"licenses",a)})}function Ej(a){this.document=a.document;this.Zb=a.Zb;this.O=a.O;this.bG=a.bG;this.cG=a.cG}Ej.prototype.serialize=function(){return{document:this.document,documentVersion:this.Zb,pages:this.O,includeContributorNames:this.bG,includeThumbnailUrls:this.cG}};function Fj(a){this.SB=a.SB;this.Wl=null!=a.Wl?a.Wl:null;this.Zb=a.Zb;this.items=a.items||[]}
function vj(a){return new Fj({SB:Ma("requiresLicenses",a),Zb:A("documentVersion",a),Wl:B("responseTimestamp",a),items:G(Cj,"items",a)})}function Gj(a){ni.call(this,a);this.Bc=[]}Gj.prototype=Object.create(ni.prototype);Gj.prototype.constructor=Gj;function Hj(a){this.N=a;this.url="/folders"}Hj.prototype.oK=P.method(function(a){return qj(this.N,this.url+"/~",a).get(0).then(Ij)});Hj.prototype.eV=P.method(function(a){a=this.url+"/~?"+a.rR();return sj(this.N,a).get(0).then(Jj)});Hj.prototype.wc=P.method(function(a){var b=a.rR();a=""+this.oa(a.wc())+(b?"?"+b:"");return sj(this.N,a).get(0).then(Kj)});Hj.prototype.oa=function(a){var b=a.qe();return b?[this.url,"~/system",b.La(),b.lc()].join("/"):[this.url,a.u()].join("/")};
P.method(function(a){var b=this.oa(a.wc())+"?removeItems";return qj(this.N,b,a).return()});Hj.prototype.PA=P.method(function(a){a=this.oa(a.wc())+"?list\x26"+a.kr();return sj(this.N,a).get(0).then(Lj)});Hj.prototype.Q4=P.method(function(a){var b=this.oa(a.kn())+"?moveItems";return qj(this.N,b,a).return()});Hj.prototype.DR=P.method(function(a){var b;if(a.wc().qe())throw Error("System folders cannot be updated");b=this.url+"/"+a.wc().u();return qj(this.N,b,a).get(0).then(Mj)});function Nj(){}Nj.prototype.kr=function(){var a=this;return Object.keys(a).map(function(b){if("object"!==typeof a[b])return b+"\x3d"+encodeURIComponent(a[b])}).filter(function(a){return!!a}).join("\x26")};function Oj(a,b){a.to=b;return a}Nj.prototype.Z_=function(a){this.items=a;return this};function Pj(a,b){a.from=b;return a}Nj.prototype.Cf=function(){return this.items};Nj.prototype.kn=function(){if(this.from)return Qj(this.from)};
function Rj(a){this.id=a.id||null;this.systemFolder=a.D$;return this}function Qj(a){return Object.freeze(Df(Rj,a))}Rj.prototype.u=function(){return this.id};Rj.prototype.qe=function(){if(this.systemFolder)return Object.freeze(Df(Sj,this.systemFolder))};function Sg(a){return a.qe()?Qj({systemFolder:Object.freeze(Df(Sj,{brand:a.ka(),type:a.qe(),user:a.La()}))}):Qj({id:a.u()})}function Sj(){}Sj.prototype.ka=function(){return this.brand};Sj.prototype.lc=function(){return this.type};Sj.prototype.La=function(){return this.user};
function Tj(){}function Mj(a){return Object.freeze(Df(Tj,a))}Tj.prototype.wc=function(){if(this.folder)return Uj(this.folder)};Tj.prototype.gn=function(){return this.access};
function Vj(a){a=void 0===a?{}:a;this.id=a.id||"";this.thumbnail=a.ud;this.systemFolder=a.D$||null;this.acl=a.Ae;this.access=a.R0;this.name=a.name||null;this.description=a.description||null;this.brand=a.D||"";this.itemCount=a.Xba||0;this.user=a.user||"";this.modifiedDate=a.YN||0;this.shared=a.Dca||!1;this.type=a.type||Wj;this.userSettings=a.Xca||null}var Wj="DESIGN";function Uj(a){return Object.freeze(Df(Vj,a))}f=Vj.prototype;f.u=function(){return this.id};
f.re=function(){if(this.thumbnail)return Object.freeze(Df(Xj,this.thumbnail))};f.qe=function(){return this.systemFolder};f.Qj=function(){if(this.acl)return Object.freeze(Df(Yj,this.acl))};f.gn=function(){if(this.access)return this.access};f.getName=function(){return this.name};f.He=function(){return this.description};f.ka=function(){return this.brand};f.La=function(){return this.user};f.lc=function(){return this.type};f.Yp=function(){if(this.userSettings)return Object.freeze(Df(Zj,this.userSettings))};
f.Ly=function(a){a=_.extend(_.pick(this,Object.keys(this)),a);return Uj(a)};
var ak=Uj({brand:"",id:"FACEBOOK",itemCount:0,modifiedDate:0,name:"Facebook",systemFolder:null,thumbnail:{height:200,url:"https://static.canva.com/static/images/upload_folder_facebook.png",width:200},user:""}),bk=Uj({brand:"",id:"UPLOADED_MEDIA",itemCount:0,modifiedDate:0,name:null,systemFolder:null,thumbnail:{height:200,url:"https://static.canva.com/static/images/default_folder_thumbnail_grey_bg.png",width:200},user:""}),ck=Uj({brand:"",id:"UNLIMITED_USE",itemCount:0,modifiedDate:0,name:null,systemFolder:null,thumbnail:{height:200,url:"https://static.canva.com/static/images/purchased_folder_thumbnail.png",
width:200},user:""}),dk={zaa:ak,aba:bk,$aa:ck};function Xj(){}Xj.prototype.o=function(){return this.height};Xj.prototype.l=function(){return this.width};Xj.prototype.oa=function(){return this.url};function Yj(a){a=void 0===a?{}:a;this.entries=a.entries}Yj.prototype.Ly=function(a){a=_.extend(_.pick(this,Object.keys(this)),a);return Object.freeze(Df(Yj,a))};
Yj.prototype.getEntries=function(){if(this.entries)return this.entries.filter(function(a){return!!a}).map(function(a){return Object.freeze(Df(ek,a))})};function ek(a){a=void 0===a?{}:a;this.user=a.user;this.brand=a.D;this.access=a.R0}ek.prototype.Ly=function(a){a=_.extend(_.pick(this,Object.keys(this)),a);return Object.freeze(Df(ek,a))};ek.prototype.ka=function(){return this.brand};ek.prototype.gn=function(){return this.access};ek.prototype.La=function(){return this.user};function fk(){}f=fk.prototype;
f.kr=function(){var a=this;return Object.keys(a).map(function(b){if("object"!==typeof a[b])return b+"\x3d"+encodeURIComponent(a[b])}).filter(function(a){return!!a}).join("\x26")};f.Hk=function(a){this.folder=a;return this};function gk(a,b){a.acl=b;return a}f.St=function(a){this.name=a;return this};f.U_=function(a){this.description=a;return this};function hk(a){a.trash=!0;return a}f.gS=function(a){this.userSettings=a;return this};f.wc=function(){if(this.folder)return Qj(this.folder)};
f.Qj=function(){if(this.acl)return Object.freeze(Df(Yj,this.acl))};f.getName=function(){return this.name};f.He=function(){return this.description};f.Yp=function(){if(this.userSettings)return Object.freeze(Df(Zj,this.userSettings))};
function ik(a,b,c){var d;d=function(){var c=[];a.Qj()&&a.Qj().getEntries()&&a.Qj().getEntries().forEach(function(a){a.ka()!==b&&c.push({brand:a.ka(),access:a.gn()})});return c}();c&&d.push({brand:b,access:c});c=Object.freeze(Df(Yj,{entries:d}));return gk((new fk).Hk(Sg(a)),c)}function jk(a){this.oT=a.oT;this.BY=a.BY;this.lX=a.lX;this.PY=a.PY;this.IW=a.IW;this.UT=a.UT;this.HW=a.HW;this.Zn=a.Zn}function kk(){}function Lj(a){return Object.freeze(Df(kk,a))}kk.prototype.Cf=function(){if(this.items)return this.items.filter(function(a){return!!a}).map(function(a){return lk(a)})};
kk.prototype.Mb=function(){return this.continuation};kk.prototype.wc=function(){if(this.folder)return Uj(this.folder)};kk.prototype.gn=function(){return this.access};function mk(){}f=mk.prototype;f.kr=function(){var a=this;return Object.keys(a).map(function(b){if("object"!==typeof a[b]||Array.isArray(a[b]))return b+"\x3d"+encodeURIComponent(a[b])}).filter(function(a){return!!a}).join("\x26")};f.Vg=function(a){this.limit=a;return this};f.Hk=function(a){this.folder=a;return this};
function nk(a){a.includeMetadata=!0;return a}f.Aj=function(a){this.continuation=a;return this};f.$d=function(){return this.limit};f.wc=function(){if(this.folder)return Qj(this.folder)};f.kM=function(){return this.decorations};f.Mb=function(){return this.continuation};function ok(){}function Kj(a){return Object.freeze(Df(ok,a))}ok.prototype.wc=function(){if(this.folder)return Uj(this.folder)};function pk(){}f=pk.prototype;
f.kr=function(){var a=this;return Object.keys(a).map(function(b){if("object"!==typeof a[b])return b+"\x3d"+encodeURIComponent(a[b])}).filter(function(a){return!!a}).join("\x26")};f.rR=function(){return Object.keys(this).map(function(a){var b=this[a];if(Array.isArray(b))return a+"\x3d"+b.map(encodeURIComponent).join(",");if("object"!==typeof b)return a+"\x3d"+encodeURIComponent(b)},this).filter(Boolean).join("\x26")};f.Hk=function(a){this.folder=a;return this};f.wc=function(){if(this.folder)return Qj(this.folder)};
f.kM=function(){return this.decorations};function qk(){}function Jj(a){return Object.freeze(Df(qk,a))}qk.prototype.Np=function(){if(this.folders)return this.folders.filter(function(a){return!!a}).map(function(a){return Uj(a)})};qk.prototype.Mb=function(){return this.continuation};function rk(){}f=rk.prototype;f.kr=function(){var a=this;return Object.keys(a).map(function(b){if("object"!==typeof a[b])return b+"\x3d"+encodeURIComponent(a[b])}).filter(function(a){return!!a}).join("\x26")};
f.Vg=function(a){this.limit=a;return this};f.zj=function(a){this.brand=a;return this};f.Ut=function(a){this.user=a;return this};function sk(a,b){a.folderTypes=b;return a}f.Aj=function(a){this.continuation=a;return this};f.Z_=function(a){this.items=a;return this};f.gS=function(){this.projections||(this.projections=[]);this.projections.push("USER_SETTINGS");return this};f.$d=function(){return this.limit};f.ka=function(){return this.brand};f.La=function(){return this.user};f.Mb=function(){return this.continuation};
f.rR=function(){return Object.keys(this).map(function(a){var b=this[a];if(Array.isArray(b))return a+"\x3d"+b.map(encodeURIComponent).join(",");if("object"!==typeof b)return a+"\x3d"+encodeURIComponent(b)},this).filter(Boolean).join("\x26")};function tk(){}function Ij(a){return Object.freeze(Df(tk,a))}tk.prototype.gn=function(){return this.access};tk.prototype.wc=function(){if(this.folder)return Uj(this.folder)};function uk(){}f=uk.prototype;
f.kr=function(){var a=this;return Object.keys(a).map(function(b){if("object"!==typeof a[b])return b+"\x3d"+encodeURIComponent(a[b])}).filter(function(a){return!!a}).join("\x26")};f.St=function(a){this.name=a;return this};f.zj=function(a){this.brand=a;return this};f.Ut=function(a){this.user=a;return this};f.gS=function(a){this.userSettings=a;return this};f.getName=function(){return this.name};f.ka=function(){return this.brand};f.La=function(){return this.user};f.lc=function(){return this.type};
f.Yp=function(){return this.userSettings};function vk(){this.width=this.height=0;this.url="";this.version=0}vk.prototype.l=function(){return this.width};vk.prototype.o=function(){return this.height};vk.prototype.getVersion=function(){return this.version};vk.prototype.oa=function(){return this.url};
function wk(){this.type=xk;this.name=this.id="";this.timestamp=this.version=0;this.trashedTimestamp=null;this.thumbnail=new vk;this.tags=[];this.socialMetadata=this.folders=this.owner=this.marketplaceStatus=null}var xk="DESIGN";
function lk(a){a=$.extend(new wk,a);a.owner&&(a.owner=Object.freeze(Df(yk,a.owner)));if(a.thumbnail){var b;b=(b=a.thumbnail)?$.extend(new vk,b):null;a.thumbnail=b}a.socialMetadata&&(b=a.socialMetadata,b=new jk({oT:Na("brandPublik",b),BY:Na("publik",b),lX:Qa(zk,"myRole",b),PY:A("remixCount",b),IW:A("likerCount",b),UT:A("commentCount",b),HW:Ma("likedByMe",b),Zn:F(Ak,"owner",b)}),a.socialMetadata=b);return a}f=wk.prototype;f.Ly=function(a){a=_.extend(_.pick(this,Object.keys(this)),a);return lk(a)};
f.lc=function(){return this.type};f.u=function(){return this.id};f.getName=function(){return this.name};f.getVersion=function(){return this.version};f.un=function(){return this.timestamp};f.re=function(){return this.thumbnail};f.Xp=function(){return this.tags};f.Np=function(){return this.folders};f.Nb=function(){return this.media?Dj(this.media):null};f.vV=function(){return this.license?Aj(this.license):null};function yk(){}yk.prototype.La=function(){return this.user};yk.prototype.ka=function(){return this.brand};
function Zj(a){this.starred=a.Ica};function Bk(){this.xhr=null}Bk.prototype.cancel=function(){this.xhr&&(this.xhr.abort(),this.xhr=null)};Bk.prototype.finish=function(){this.xhr=null};function Ck(a){this.YS=a&&a.analyticsContext||null;this.xJ=a&&a.authToken||null;this.yJ=a&&a.authzToken||null;this.pT=a&&a.brandRestriction||null;this.rT=a&&a.buildName||null;this.sT=a&&a.buildSha||null;this.Fu=a&&a.csrfTokens||{};this.rQ=a&&a.serverRoot||null;this.oZ=!!this.rQ;this.P9=this.rQ?this.rQ+"/_ajax":"/_ajax"}
function Dk(a){var b=a.indexOf("/",1);return-1==b?a:a.substring(0,b)}function Ek(a){return 200<=a&&300>a}Ck.prototype.get=function(a,b){var c=new Bk;this.send("GET",a,null,!0,null,c,b);return c};function sj(a,b){var c;return(new P(function(d,e){c=a.get(b,function(a,b){Ek(a)?d([b,a]):e([b,a])})})).cancellable().catch(P.CancellationError,function(a){c.cancel();throw a;})}Ck.prototype.post=function(a,b,c){var d=new Bk;Fk(this,"POST",a,b,!0,0,d,c);return d};
function qj(a,b,c){var d;return(new P(function(e,g){d=a.post(b,c,function(a,b){Ek(a)?e([b,a]):g([b,a])})})).cancellable().catch(P.CancellationError,function(a){d.cancel();throw a;})}function Gk(a,b,c,d){if(a.oZ)throw Error("synchronous XHRs cannot be made with withCredentials");a.send("POST",b,d,!1,c,new Bk,function(){})}function Hk(a,b,c){var d=new Bk;Fk(a,"DELETE",b,null,!0,0,d,c);return d}
function Ik(a,b){var c;return(new P(function(d,e){c=Hk(a,b,function(a,b){Ek(a)?d([b,a]):e([b,a])})})).cancellable().catch(P.CancellationError,function(a){c.cancel();throw a;})}function rj(a){var b=Array.isArray(a)&&2===a.length&&"number"===typeof a[1];if(a instanceof Error)throw a;if(b&&Array.isArray(a))throw b=la(a),a=b.next().value,b=b.next().value,a=Jk(a,b),a.lI=b,a;throw Error("unable to parse error or response tuple. HttpServiceError or [?, statusCode] required.");}
function Fk(a,b,c,d,e,g,h,k){var l=Dk(c);if(l in a.Fu){var m=a.Fu[l];a.send(b,c,d,e,m,h,function(n,p){418==n&&1>g?(a.Fu[l]==m&&delete a.Fu[l],Fk(a,b,c,d,e,g+1,h,k)):(k&&k(n,p),h.finish())})}else a.send("GET","/csrf"+l,null,e,null,h,function(m,p){200==m?(l in a.Fu||(a.Fu[l]=String(p)),Fk(a,b,c,d,e,g,h,k)):(k(m,null),h.finish())})}
Ck.prototype.send=function(a,b,c,d,e,g,h){function k(){4==m.readyState&&l()}function l(){var a,b,c;try{a=m.status;var d,e;try{d=m.getResponseHeader("X-Canva-Auth")}catch(k){}try{e=m.getResponseHeader("X-Canva-Authz")}catch(k){}d&&(n.xJ="!"!=d?d:null);e&&(n.yJ="!"!=e?e:null);b=m.responseText}catch(k){if(k.message&&k.message.match(/c00c023f/))a=0,b="";else throw g.finish(),k;}b=b&&b.trim?b.trim():"";d=b.substring(0,20);if(0<d.length){if("'\"])}while(1);\x3c/x\x3e//"!=d){h(500,null);g.finish();return}b=
b.substring(20);try{c=JSON.parse(b)}catch(k){h(500,null);g.finish();return}}else c=null;h(a,c);g.finish()}b=this.P9+b;var m=g.xhr=new XMLHttpRequest,n=this;m.open(a,b,d);this.oZ&&(m.withCredentials=!0);"GET"!=a&&e&&m.setRequestHeader("X-Csrf-Token",e);this.YS&&m.setRequestHeader("X-Canva-Analytics",this.YS);this.xJ&&m.setRequestHeader("X-Canva-Auth",this.xJ);this.yJ&&m.setRequestHeader("X-Canva-Authz",this.yJ);this.pT&&m.setRequestHeader("X-Canva-Brand",this.pT);this.rT&&m.setRequestHeader("X-Canva-Build-Name",
this.rT);this.sT&&m.setRequestHeader("X-Canva-Build-Sha",this.sT);null===c||void 0===c?a=null:(m.setRequestHeader("Content-Type","application/json;charset\x3dUTF-8"),a=JSON.stringify(c));d?(m.onreadystatechange=k,m.send(a)):(m.send(a),l())};function pj(a){this.message=a||"HTTP error encountered";this.response=a;this.lI=null}r(pj,Error);function Kk(a){if(null===a.lI)throw Error("HttpServiceError not initialized correctly");return a.lI}
function Jk(a,b){switch(b){case 400:return new Lk(a);case 403:return new Mk(a);case 404:return new Nk(a);case 409:return new Ok(a);case 418:return new Pk;case 429:return new Qk(a);case 500:return new Rk(a);default:return new Sk(a)}}function Tk(a){pj.apply(this,arguments)}r(Tk,pj);function Uk(a){pj.apply(this,arguments)}r(Uk,pj);function Lk(a){Tk.apply(this,arguments)}r(Lk,Tk);function Mk(a){Tk.apply(this,arguments)}r(Mk,Tk);function Nk(a){Tk.apply(this,arguments)}r(Nk,Tk);
function Ok(a){Tk.apply(this,arguments)}r(Ok,Tk);function Qk(a){Tk.apply(this,arguments)}r(Qk,Tk);function Rk(a){Uk.apply(this,arguments)}r(Rk,Uk);function Pk(){Tk.call(this,"CSRF token expired")}r(Pk,Tk);function Sk(a){pj.apply(this,arguments)}r(Sk,pj);function Vk(a){this.N=a;this.url="/metrics"}function Wk(a,b){return qj(a.N,a.url,Xk(b)).get(0).then(La).then(Yk)}function Zk(a,b){return qj(a.N,a.url,$k(b)).get(0).then(La).then(Yk)};function al(a){this.TN=a.TN}function bl(a){this.TN="HISTOGRAM";this.name=a.name;this.value=a.value}r(bl,al);bl.prototype.getName=function(){return this.name};bl.prototype.tc=function(){return this.value};function Xk(a){return{metricType:"HISTOGRAM",name:ib("name",a.name),value:db("value",a.value)}}function cl(a){this.TN="TIMELINE";this.name=a.name;this.events=a.events||new Map}r(cl,al);cl.prototype.getName=function(){return this.name};
function $k(a){var b=ib("name",a.name);a=ob(qb,sb,"events",a.events);return{metricType:"TIMELINE",name:b,events:a}}function dl(){}function Yk(){return new dl};function el(){}el.prototype.now=function(){return Date.now()};var fl=new el;var hl=new gl;function gl(){}f=gl.prototype;f.setInterval=function(a,b){return window.setInterval(a,b)};f.clearInterval=function(a){window.clearInterval(a)};f.setTimeout=function(a,b){return window.setTimeout(a,b)};f.clearTimeout=function(a){window.clearTimeout(a)};f.requestAnimationFrame=function(a){return window.requestAnimationFrame(a)};f.cancelAnimationFrame=function(a){window.cancelAnimationFrame(a)};function il(a){window.requestAnimationFrame(function(){window.requestAnimationFrame(a)})};function jl(a,b,c,d){this.name=a;this.Uh=b;this.Ks=c;this.startTime=d;this.events=new Map}jl.prototype.wa=function(a){this.events.set(a,this.Uh.now()-this.startTime)};jl.prototype.done=function(){this.events.size&&kl(this.Ks,this.name,this.events)};function ll(a,b){this.name=a;this.Ks=b}ll.prototype.update=function(a){ml(this.Ks,this.name,a)};function nl(a,b,c){this.pZ=a;this.Uh=b;this.Y7=c}function ol(a){var b=window.cstart;if(void 0===b)throw Error("cstart undefined");return new nl(a,fl,b)}
nl.prototype.PM=function(a){return new ll(a,this)};function kl(a,b,c){b=new cl({name:b,events:c});Zk(a.pZ,b).catch(function(){})}function ml(a,b,c){Wk(a.pZ,new bl({name:b,value:c})).catch(function(){})};var pl=[-Infinity,5E3,8E3,13E3,21E3,34E3,55E3,89E3,144E3,233E3,377E3,61E4,Infinity];function ql(){this.Uy=Array(pl.length-1);this.Uy.fill(0)}ql.prototype.update=function(a){for(var b=0;b+1<pl.length&&!(pl[b]<=a&&a<pl[b+1]);)b++;this.Uy[b]++};ql.prototype.serialize=function(){for(var a=[],b=0;b<this.Uy.length;b++)0<this.Uy[b]&&a.push({lower:pl[b],upper:pl[b+1],count:this.Uy[b]});return{buckets:a}};function rl(a){this.gd=a;this.UE=a.F();this.WE=a.w();if(a.Tk){var b=a.Vx;this.UE=b.F();this.WE=b.w();b.F();a.F();b.w();a.w()}}f=rl.prototype;f.F=function(){return this.gd.hd().F()+this.UE};f.$b=rl.prototype.F;f.w=function(){return this.gd.hd().w()+this.WE};f.kc=rl.prototype.w;f.l=function(){return this.gd.hd().l()};f.rh=rl.prototype.l;f.o=function(){return this.gd.hd().o()};f.nh=rl.prototype.o;f.Za=function(){return this.F()+this.l()};f.Nd=rl.prototype.Za;f.xa=function(){return this.w()+this.o()};
f.kd=rl.prototype.xa;f.Ta=function(){return 0};f.setSize=function(a,b){var c=this.gd.hd();c.ma(a);c.ea(b);sl(this.gd,c)};f.ma=function(a){var b=this.gd.hd();b.ma(a);sl(this.gd,b)};f.ea=function(a){var b=this.gd.hd();b.ea(a);sl(this.gd,b)};f.kb=function(a){var b=this.gd.hd();b.kb(a-this.UE);sl(this.gd,b)};f.eb=function(a){var b=this.gd.hd();b.eb(a-this.WE);sl(this.gd,b)};f.setPosition=function(a,b){var c=this.gd.hd();c.setPosition(a-this.UE,b-this.WE);sl(this.gd,c)};
function tl(a){this.Ok=a;a=ul(this.Ok.map(function(a){return a.$b()}));var b=vl(this.Ok.map(function(a){return a.Nd()})),c=ul(this.Ok.map(function(a){return a.kc()})),d=vl(this.Ok.map(function(a){return a.kd()}));this.width=b-a;this.height=d-c}f=tl.prototype;f.F=function(){return ul(this.Ok.map(function(a){return a.$b()}))};f.$b=tl.prototype.F;f.w=function(){return ul(this.Ok.map(function(a){return a.kc()}))};f.kc=tl.prototype.w;f.l=function(){return this.width};f.rh=tl.prototype.l;f.o=function(){return this.height};
f.nh=tl.prototype.o;f.Za=function(){return this.F()+this.l()};f.Nd=tl.prototype.Za;f.xa=function(){return this.w()+this.o()};f.kd=tl.prototype.xa;f.Ta=function(){return 0};f.R=function(){return this.Ok[0].R()};f.qa=function(){return new V(this.F(),this.w(),this.l(),this.o())};f.Ov=function(a){return a?Yg(this.qa(),a.qa()):!1};f.setSize=function(){};f.ma=function(){};f.ea=function(){};f.kb=function(a){var b=a-this.F();this.Ok.forEach(function(a){a.kb(a.F()+b)})};
f.eb=function(a){var b=a-this.w();this.Ok.forEach(function(a){a.eb(a.w()+b)})};f.setPosition=function(a,b){var c=a-this.F(),d=b-this.w();this.Ok.forEach(function(a){a.setPosition(a.F()+c,a.w()+d)})};function bh(a,b,c){this.elem=a;this.Ol=b;this.height=a.height();this.width=a.width();this.NR=void 0!==c;this.origin=c}f=bh.prototype;f.F=function(){return(this.elem[0].getBoundingClientRect().left-this.Ol.left)/W};f.$b=bh.prototype.F;
f.w=function(){return(this.elem[0].getBoundingClientRect().top-this.Ol.top)/W};f.kc=bh.prototype.w;f.l=function(){return this.elem[0].getBoundingClientRect().width/W};f.rh=bh.prototype.l;f.o=function(){return this.elem[0].getBoundingClientRect().height/W};f.nh=bh.prototype.o;f.Za=function(){return this.F()+this.l()};f.Nd=bh.prototype.Za;f.xa=function(){return this.w()+this.o()};f.kd=bh.prototype.xa;f.Ta=function(){return 0};f.setSize=function(){};f.ma=function(){};f.ea=function(){};
f.kb=function(a){var b;this.NR?(b=wl(this.elem[0]).uo,a=a*W+this.Ol.left+(b-1)*this.origin.left,$g(this.elem[0],{Ii:a})):this.elem.css("left",a*W+this.Ol.left)};f.eb=function(a){var b;this.NR?(b=wl(this.elem[0]).Sq,a=a*W+this.Ol.top+(b-1)*this.origin.top,$g(this.elem[0],{Ji:a})):this.elem.css("top",a*W+this.Ol.top)};
f.setPosition=function(a,b){var c;this.NR?(c=wl(this.elem[0]),a=a*W+this.Ol.left+(c.uo-1)*this.origin.left,b=b*W+this.Ol.top+(c.Sq-1)*this.origin.top,$g(this.elem[0],{Ii:a,Ji:b})):this.elem.css("left",a*W+this.Ol.left).css("top",b*W+this.Ol.top)};function xl(a){this.$r=a.$r;this.bs=a.bs;this.user=a.user;this.D=a.D;this.pj=a.pj;this.Em=a.Em;this.wj=a.wj;this.sb=a.sb;this.wg=a.wg}function yl(a){return new xl({$r:C("experience",a),bs:Ta(Ua,Xa,"experiments",a)||new Map,user:D("user",a)||null,D:D("brand",a)||null,pj:Na("personal",a)||null,Em:B("cohort",a)||null,wj:D("tier",a)||null,sb:D("countryCode",a)||null,wg:D("userLocale",a)||null})};function zl(a){xl.call(this,a)}r(zl,xl);function Al(a){xl.call(this,a);this.km=a.km}r(Al,xl);function Bl(a){xl.call(this,a);this.url=a.url}r(Bl,xl);function Cl(a){this.config=a;this.dj=this.Ee=null;this.VG=[];this.ready=!1}function Dl(a,b){b=El(El(El(El(El(El(new Fl,"id",b.u()),"username",b.qh()),"personalBrand",b.Xz()),"displayName",b.Jb()),"largeAvatarUrl",b.gM("200")),"roles",b.tv()&&b.tv().join(", "));return El(El(El(El(b,"current_subscription",a.config.wj),"locale",a.config.wg),"user_cohort",a.config.Em),"country_code",a.config.sb)}function Gl(a,b){return Object.assign({},b,{category:a})}
function Hl(a,b){var c=Object.assign({},b),d={};a.Ee&&(c.design=a.Ee);c.experience=a.config.$r;a.config.bs.forEach(function(a,b){c["Experiment_"+b]=a;d[b]=a});c.experiments=JSON.stringify(d);a.config.D&&(c.brand=a.config.D);null!=a.config.pj&&(c.personal=a.config.pj);null!=a.config.Em&&(c.cohort=a.config.Em);a.config.wj&&(c.tier=a.config.wj);null!=a.config.sb&&(c.country_code=a.config.sb);null!=a.config.wg&&(c.locale=a.config.wg);c.product_variant="web-1";Il(c);return c}
function Il(a){try{var b=window.crypto||window.msCrypto,c=new Uint8Array(16);b.getRandomValues(c);a.insert_id=btoa(String.fromCharCode.apply(null,c))}catch(d){}}Cl.prototype.Ds=function(){return this.ready};
function Jl(a,b){var c=window.lastUserTraits||(new Fl).Mk(),d=El(new Fl,"__user",a);a=a!==c.get("__user");if(b&&Kl(b)){for(var e=la(b),g=e.next();!g.done;g=e.next()){var h=la(g.value),g=h.next().value,h=h.next().value;a=a||h!==c.get(g)}c=la(b.keys());for(e=c.next();!e.done;e=c.next())e=e.value,El(d,e,b.get(e))}a&&(window.lastUserTraits=d.Mk());return a}
function Ll(a,b){var c=window.lastUserTraits||(new Fl).Mk();a=El(new Fl,"__user",a);if(c&&Kl(c))for(var d=la(c.keys()),e=d.next();!e.done;e=d.next())e=e.value,"__user"!==e&&El(a,e,c.get(e));if(b&&Kl(b))for(c=la(b.keys()),e=c.next();!e.done;e=c.next())d=e.value,El(a,d,b.get(d));window.lastUserTraits=a.Mk()}function Kl(a){w(a instanceof Map,"Could not convert traits to an object; traits value not considered a Map instance");return!0}
function Ml(a,b,c,d,e,g){var h={};h.type=b;h.section=c;h.subsection=d;h.location=e;g&&Object.assign(h,g);a.track("button_click",h)}function Nl(a,b,c){a.track("tab_clicked",{type:b,location:c})}function Ol(a,b){var c=U;c.Ee=a;c.dj=b;c.track("design_open",{design:c.Ee,source:"editor",template:c.dj})}function Pl(a){a.track("design_shared",Gl("Share Design",{design:a.Ee,template:a.dj,medium:"email",location:"publish",edit_access:void 0}))}function Ql(a,b){a.dj?a.wa(X(b,"template",a.dj)):a.wa(b)}
function Rl(a,b,c,d){a.track("link_click",{type:b,section:"editor",subsection:c,location:d})}function Sl(a,b,c,d){a.track("dialog_close",{type:b,section:"editor",subsection:c,location:d})}function Tl(a,b){a.track("broken_layout_used",{id:b||"unknown"})}function Ul(a){U.track(a,{design:wb.hc(),section:"editor",subsection:"toolbar",location:"top"})}function Vl(a){U.track("chart_insert",{chart_type:a})}
function Wl(a,b,c){var d=U;a={element_type:a};b&&(a.media_id=b);c&&(a.media_type=c);d.track("element_used",a)}function Xl(a,b,c,d){U.track("design_renderability_check",{design:a,renderable:b,warnings:c,error:d})}function Yl(a,b,c,d,e,g){a.track(b,{type:c,section:d,subsection:e,location:g})}Cl.prototype.zoom=function(a,b,c,d,e){this.track("zoom",{type:a,section:b,subsection:c,location:d,value:e})};Cl.prototype.wa=function(a){return this.track(a.name,a.yH)};Cl.prototype.Rj=function(){return this.config.sb};
function Zl(a,b){this.name=a;this.yH={};b&&(this.yH.category=b)}function X(a,b,c){if(a.yH[b])throw Error("duplicated property");a.yH[b]=c;return a}function Fl(){this.items=[]}function El(a,b,c){a.items.push({key:b,value:c});return a}Fl.prototype.Mk=function(){return new Map(this.items.map(function(a){return[a.key,a.value]}))};function $l(a){Cl.call(this,a);this.na=null}r($l,Cl);f=$l.prototype;f.track=function(a,b){window.console.log("analytics:track",this.na,a,Hl(this,b));return P.resolve()};f.identify=function(a,b,c){this.na=a;Jl(a,b)&&(Ll(a,b),window.console.log("analytics:identify",a,b,c));return P.resolve()};f.alias=function(a){window.console.log("analytics:alias",this.na,a);this.na=a};f.set=function(a){window.console.log("analytics:set",this.na,a);return P.resolve()};
f.union=function(a){window.console.log("analytics:union",this.na,a)};function am(a,b){Cl.call(this,a);this.H=b;this.readyState="PENDING";this.Z8=3E4;this.Cv=this.$F=null}r(am,Cl);
function bm(a){var b=cm(),c=new am(a,hl);dm(c).then(function(){for(c.ready=!0;c.VG&&0<c.VG.length;)c.VG.shift()();c.VG=null}).catch(function(){});window.segmentAnalyticsLoaded||(window.segmentAnalyticsLoaded=!0,dm(c).then(function(){var b={path:location.pathname,url:location.href};cm().page(b,{integrations:{Leanplum:!1}});a.user||(b=window.Appcues||null)&&b.anonymous();b=(new UAParser).getResult();El(El(new Fl,"Most recent browser",b.browser.name+" "+b.browser.version),"timezone",(new Date).getTimezoneOffset()/
-60).Mk()}).catch(function(){}),b.load(a.km));return c}function cm(){Fa("undefined"!==typeof window.analytics,"SegmentAnalytics: window['analytics'] not available");return window.analytics}f=am.prototype;f.track=function(a,b){var c=this;return dm(this).then(function(d){return new P(function(e){d.track(a,Hl(c,b),{integrations:{Leanplum:!1}},e)})}).catch(function(){})};
f.identify=function(a,b,c){var d=this;return dm(this).then(function(e){if(!Jl(a,b))return d.$F||P.resolve();d.$F=new P(function(g){Ll(a,b);e.identify(a,d.wI(b),c,function(){d.$F=null;g()})});return d.$F}).catch(function(){})};f.alias=function(a){dm(this).then(function(b){return b.alias(a)}).catch(function(){})};f.set=function(a){var b=this;return dm(this).then(function(c){return new P(function(d){return c.identify(b.wI(a),d)})}).catch(function(){})};f.union=function(){};
f.wI=function(a){var b={};if(a&&Kl(a)){a=la(a);for(var c=a.next();!c.done;c=a.next()){var d=la(c.value),c=d.next().value,d=d.next().value;b[c]=d}}return b};
function dm(a){var b=cm();if(null!==a.Cv)return a.Cv;if("SUCCESS"===a.readyState)return P.resolve(b);if("FAILURE"===a.readyState)return P.reject(Error("Segment initialization failed"));a.Cv=new P(function(c,d){var e=a.H.setTimeout(function(){a.readyState="FAILURE";a.Cv=null;d(Error("Segment initialization failed"))},a.Z8);b.ready(function(){"FAILURE"!==a.readyState&&(a.H.clearTimeout(e),a.readyState="SUCCESS",a.Cv=null,c(cm()))})});return a.Cv};function em(a,b,c){Cl.call(this,a);this.url=a.url;this.H=b;this.OW=c}r(em,Cl);
function gm(a,b){b=!(!b||!b.getItem("sensorsDataLoggingEnabled"));window.sensorsDataAnalytic201505="sa";var c={},d={};window.sa=(d.para=(c.name="sa",c.server_url=a.url,c.heatmap={},c.cross_domain=!0,c.show_log=b,c.send_type="ajax",c),d);b=new P(function(a,b){var c=document.createElement("script");c.src="https://static.canva.com/static/lib/sensorsdata-1.10.9.min.js";c.onerror=function(a){return b(a)};c.onload=function(){return a(window.sa)};document.body.appendChild(c)});return new em(a,hl,b)}f=em.prototype;
f.track=function(a,b){var c=this;return this.OW.then(function(d){return d.track(a,Hl(c,b))})};f.identify=function(a,b){var c=this;return this.OW.then(function(d){d.login(a);b&&d.setProfile(c.wI(b))})};f.alias=function(){};f.set=function(){};f.union=function(){};f.wI=function(a){var b={};if(a&&Kl(a)){a=la(a);for(var c=a.next();!c.done;c=a.next()){var d=la(c.value),c=d.next().value,d=d.next().value;b[c]=d}}return b};function hm(a,b){cm();if(a instanceof zl)b=new $l(a);else if(a instanceof Al)b=bm(a);else if(a instanceof Bl)b=gm(a,b);else throw Error("Invalid analytics config");a.user&&b.identify(a.user,null);return b}
function im(){var a=La(window.analyticsConfig),b=C("impl",a),c=null;try{c=jm()}catch(d){}switch(b){case "console":return hm(new zl(yl(a)),c);case "segment":return b=yl(a),a=new Al({$r:b.$r,bs:b.bs,user:b.user,D:b.D,pj:b.pj,Em:b.Em,wj:b.wj,km:C("segmentWriteKey",a),sb:b.sb,wg:b.wg}),hm(a,c);case "sensorsdata":return b=yl(a),a=new Bl({$r:b.$r,bs:b.bs,user:b.user,D:b.D,pj:b.pj,Em:b.Em,wj:b.wj,url:C("sensorsDataUrl",a),sb:b.sb,wg:b.wg}),hm(a,c);default:throw Error('No such analytics type: "'+b+'"');}}
;function km(){return lm("file_menu","resize_button","document_resize")}function mm(){return lm("object_panel","exclusive_media_usage","non_discounted")}function nm(){return lm("object_panel","free_media_filter")}function om(a){return pm("homepage",a.Vi,a.feature)}function qm(a){return pm("editor",a.Vi,a.feature)}function lm(a,b,c){a=X(X(X(new Zl("upgrade_cta_clicked"),"section","editor"),"subsection",a),"location",b);c&&X(a,"variant",c);return a}
function rm(a,b,c){return X(X(X(X(X(new Zl("upgrade_dialog_cta_clicked"),"section",a),"subsection","upgrade_dialog"),"location","bottom"),"feature",b),"planType",c)}function pm(a,b,c){return X(X(X(X(new Zl("upgrade_dialog_loaded"),"section",a),"subsection","upgrade_dialog"),"can_upgrade",b),"feature",c)};function sm(a,b){var c=tm;return X(X(X(new Zl("team_member_invited","Invites"),"email_invited",a),"role_invited",c),"location",b)};function um(){return{kI:function(a){return new P(function(b){function c(b){P.resolve(a(d)).then(function(){e||P.delay(b).then(function(){c(Math.min(1.6*b,3E4))})})}function d(a){b(a);e=!0}w(!0,"initialInterval must be positive");w(!0,"maxInterval must be greater than initialInterval");w(!0,"increaseFactor must not be less than 1");var e=!1;c(1E3)})}}};function V(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}function vm(a){return a?new V(a.left||0,a.top||0,a.width||0,a.height||0):wm.clone()}function Wg(a){return vm({left:a.left,top:a.top,width:a.width,height:a.height})}function xm(a,b){a=a||null;b=b||null;return null===a&&null===b?!0:null===a||null===b?!1:a.height===b.height&&a.left===b.left&&a.top===b.top&&a.width===b.width}var wm=new V(0,0,0,0);f=V.prototype;
f.serialize=function(){return{left:this.left,top:this.top,width:this.width,height:this.height}};f.clone=function(){return new V(this.left,this.top,this.width,this.height)};function ym(a){var b=isFinite(a.left)&&isFinite(a.top)&&isFinite(a.width)&&isFinite(a.height);return!(isNaN(a.left)||isNaN(a.top)||isNaN(a.width)||isNaN(a.height))&&b}f.F=function(){return this.left};f.$b=V.prototype.F;f.w=function(){return this.top};f.kc=V.prototype.w;f.Za=function(){return this.left+this.width};f.Nd=V.prototype.Za;
f.xa=function(){return this.top+this.height};f.kd=V.prototype.xa;f.l=function(){return this.width};f.rh=V.prototype.l;f.o=function(){return this.height};f.nh=V.prototype.o;f.Wp=function(){return{width:this.width,height:this.height}};function zm(a){return{x:a.ml(),y:a.nl()}}f.ml=function(){return this.left+this.width/2};f.nl=function(){return this.top+this.height/2};f.kb=function(a){this.left=a;return this};f.eb=function(a){this.top=a;return this};
f.setPosition=function(a,b){this.left=a;this.top=b;return this};f.ma=function(a){this.width=a;return this};f.ea=function(a){this.height=a;return this};f.setSize=function(a,b){this.width=a;this.height=b;return this};f.di=function(){return this.width/this.height};f.translate=function(a,b){this.left+=a;this.top+=b;return this};f.scale=function(a,b){void 0===b&&(b=a);this.left*=a;this.top*=b;this.width*=a;this.height*=b;return this};
function Am(a,b,c,d,e){a.translate(-b,-c);a.scale(d,e);a.translate(b,c)}function Bm(a,b){a.left-=b;a.top-=b;a.width+=2*b;a.height+=2*b}function Cm(a,b,c){a.width+=b;a.height+=c;return a}function Dm(a,b){a.left=b.left-(a.width-b.width)/2;a.top=b.top-(a.height-b.height)/2;return a}function Em(a,b){var c=a.di();a.di()>b.di()?(a.height=b.height,a.width=c*a.height):(a.width=b.width,a.height=a.width/c);Dm(a,b);return a}
function fh(a,b){var c=a.di();a.di()<b.di()?(a.height=b.height,a.width=c*a.height):(a.width=b.width,a.height=a.width/c);Dm(a,b);return a}f.round=function(){this.left=Math.round(this.left);this.top=Math.round(this.top);this.width=Math.round(this.width);this.height=Math.round(this.height);return this};function Yg(a,b){return a.Za()<=b.F()||a.xa()<=b.w()||a.F()>=b.Za()||a.w()>=b.xa()?!1:!0}
f.touches=function(a){return.25>Math.abs(this.w()-a.xa())||.25>Math.abs(this.xa()-a.w())?this.F()<=a.Za()&&this.Za()>=a.F():.25>Math.abs(this.Za()-a.F())||.25>Math.abs(this.F()-a.Za())?this.w()<=a.xa()&&this.xa()>=a.w():!1};function Fm(a,b){return a.F()<=b.F()&&a.w()<=b.w()&&a.Za()>=b.Za()&&a.xa()>=b.xa()}function Gm(a,b){a.Za()>b.Za()&&a.translate(b.Za()-a.Za(),0);a.F()<b.F()&&a.translate(b.F()-a.F(),0);a.xa()>b.xa()&&a.translate(0,b.xa()-a.xa());a.w()<b.w()&&a.translate(0,b.w()-a.w())}
function Km(a,b,c){0!=(c&1)&&a.kb(b.l()-a.Za());0!=(c&2)&&a.eb(b.o()-a.xa());return a}
function Lm(a,b,c){c=Mm(c);a.clone();var d,e;if(xm(a,b))return 0;if(0<=c&&90>c){var g=c*Math.PI/180;c=a.clone();d=b.xa()-c.w();e=d*Math.tan(g);c.translate(e,d);if(c.touches(b))return-(d/Math.cos(g));c=a.clone();e=b.F()-c.Za();d=e/Math.tan(g);c.translate(e,d);if(c.touches(b))return d/Math.cos(g)}else if(90<=c&&180>c){g=(c-90)*Math.PI/180;c=a.clone();d=b.F()-c.Za();e=d*Math.tan(g);c.translate(d,e);if(c.touches(b))return d/Math.cos(g);c=a.clone();e=b.w()-c.xa();d=e/Math.tan(g);c.translate(d,e);if(c.touches(b))return d/
Math.cos(g)}else if(180<=c&&270>c){g=(c-180)*Math.PI/180;c=a.clone();d=b.w()-c.xa();e=d*Math.tan(g);c.translate(e,d);if(c.touches(b))return d/Math.cos(g);c=a.clone();e=b.Za()-c.F();d=e/Math.tan(g);c.translate(e,d);if(c.touches(b))return-(d/Math.cos(g))}else if(270<=c&&360>c){g=(c-270)*Math.PI/180;c=a.clone();d=b.Za()-c.F();e=d*Math.tan(g);c.translate(d,e);if(c.touches(b))return-(d/Math.cos(g));c=a.clone();e=b.xa()-c.w();d=e/Math.tan(g);c.translate(d,e);if(c.touches(b))return-(d/Math.cos(g))}return Infinity}
;var Nm={Page1:{items:[{type:"columns",children:[{type:"item"}]}]},Page2:{items:[{type:"columns",children:[{type:"item",width:66.67},{type:"item"}]}]},Page3:{items:[{type:"columns",children:[{type:"item"},{type:"item"}]}]},Page4:{items:[{type:"item"},{type:"item"}]},Page5:{items:[{type:"item"},{type:"item"},{type:"item"}]},Page6:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page7:{items:[{type:"item",height:60},{type:"columns",children:[{type:"item"},{type:"item"}]}]},
Page8:{items:[{type:"item",height:66.67},{type:"columns",children:[{type:"item",width:33.33},{type:"item"}]}]},Page8_1:{items:[{type:"columns",children:[{type:"item"},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},Page8_2:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}]},{type:"item"}]}]},Page9:{items:[{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"}]}]},Page10:{items:[{type:"columns",children:[{type:"item",
width:33.33},{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"}],height:50},{type:"item"}]}]}]},Page11:{items:[{type:"item",height:66.67},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page12:{items:[{type:"columns",children:[{type:"item",width:66.67},{type:"item"}],height:66.67},{type:"columns",children:[{type:"item",width:33.33},{type:"item"}]}]},Page13:{items:[{type:"columns",children:[{type:"item",width:66.67},{type:"rows",children:[{type:"item"},
{type:"item"},{type:"item"}]}]}]},Page14:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:33.33},{type:"item"}],width:66.67},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},Page15:{items:[{type:"item",height:66.67},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page16:{items:[{type:"item",height:50},{type:"columns",children:[{type:"rows",children:[{type:"item",height:50},{type:"item"}],width:33.33},{type:"item"}]}]},Page17:{items:[{type:"item",
height:40},{type:"columns",children:[{type:"item"},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},Page18:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page19:{items:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},Page20:{items:[{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"item"}]}]}]},Page21:{items:[{type:"columns",
children:[{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page22:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:66.67},{type:"item"}],width:66.67},{type:"rows",children:[{type:"item",height:33.33},{type:"item"}]}]}]},Page23:{items:[{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"item"},{type:"columns",children:[{type:"item"},{type:"item"}]}]},Page24:{items:[{type:"item",height:75},{type:"columns",children:[{type:"item"},
{type:"item"},{type:"item"},{type:"item"}]}]},Page25:{items:[{type:"item"},{type:"columns",children:[{type:"item",width:50},{type:"item"}]},{type:"columns",children:[{type:"item",width:50},{type:"item"}]}]},Page27:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"}]}]},Page28:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page29:{items:[{type:"item"},
{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},Page30:{items:[{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},Page31:{items:[{type:"item",height:50},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page32:{items:[{type:"columns",
children:[{type:"rows",children:[{type:"item",height:50},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}]}]},{type:"item"}]}]},Page33:{items:[{type:"columns",children:[{type:"item",width:33.33},{type:"item"}]},{type:"columns",children:[{type:"item",width:66.67},{type:"item"}]},{type:"columns",children:[{type:"item",width:33.33},{type:"item"}]}]},Page34:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:33.33},
{type:"item"}],width:33.33},{type:"rows",children:[{type:"item",height:66.67},{type:"item"}],width:33.33},{type:"rows",children:[{type:"item",height:33.33},{type:"item"}]}]}]},Page35:{items:[{type:"columns",children:[{type:"item",width:66.67},{type:"rows",children:[{type:"item"},{type:"item"}]}],height:66.67},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page36:{items:[{type:"item"},{type:"columns",children:[{type:"rows",children:[{type:"columns",children:[{type:"item"},
{type:"item"}]},{type:"item"}]},{type:"item"},{type:"item"}]}]},Page37:{items:[{type:"columns",children:[{type:"item",width:75},{type:"rows",children:[{type:"item"},{type:"item"}]}]},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"item"}]}]},Page38:{items:[{type:"item"},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}]},{type:"item"},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},Page39:{items:[{type:"item",height:80},
{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page40:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page41:{items:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},Page42:{items:[{type:"item"},{type:"item"},{type:"columns",children:[{type:"item"},{type:"rows",children:[{type:"item"},{type:"item"}]},{type:"item"},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},
Page43:{items:[{type:"columns",children:[{type:"item"},{type:"rows",children:[{type:"item"},{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"item"},{type:"columns",children:[{type:"item"},{type:"item"}]}]}]}]},Page44:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]},{type:"rows",children:[{type:"item"},{type:"item"}]},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]}]}]},Page45:{items:[{type:"columns",children:[{type:"item"},
{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page46:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page47:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",
children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page48:{items:[{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}]},{type:"item"},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},Page49:{items:[{type:"columns",children:[{type:"item",width:25},{type:"item",width:25},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},
{type:"rows",children:[{type:"item",height:50},{type:"item"}]}],height:50},{type:"columns",children:[{type:"item",width:25},{type:"item",width:25},{type:"item"}]}]},Page50:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:75},{type:"columns",children:[{type:"item"},{type:"item"}]}],width:66.67},{type:"rows",children:[{type:"item"},{type:"item"}]}],height:66.67},{type:"columns",children:[{type:"item",width:33.33},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},
{type:"item"}]}]},Page51:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:25},{type:"item"}]},Page52:{items:[{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],width:25},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]}]},Page53:{items:[{type:"columns",
children:[{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],width:25},{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]}]},Page54:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:25},{type:"item",height:50},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page55:{items:[{type:"columns",children:[{type:"item",width:50},{type:"item",
width:25},{type:"item"}],height:50},{type:"columns",children:[{type:"item",width:50},{type:"item",width:25},{type:"item"}],height:25},{type:"columns",children:[{type:"item",width:50},{type:"item",width:25},{type:"item"}]}]},Page56:{items:[{type:"columns",children:[{type:"item",width:40},{type:"rows",children:[{type:"item"},{type:"item"}],width:20},{type:"item"}]},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}],width:20},{type:"item",width:60},{type:"rows",children:[{type:"item"},
{type:"item"}]}]}]},Page57:{items:[{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"item",width:66.67},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]}]}]},Page58:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:66.67},{type:"item"}]},{type:"item"},{type:"rows",children:[{type:"item",height:66.67},{type:"item"}]}]},{type:"columns",children:[{type:"item"},
{type:"rows",children:[{type:"item",height:33.33},{type:"item"}]},{type:"item"}]}]},Page59:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:33.33},{type:"item"}]},{type:"rows",children:[{type:"item",height:66.67},{type:"item"}]},{type:"rows",children:[{type:"item",height:33.33},{type:"item"}]}],height:60},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page60:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}],height:33.33},
{type:"columns",children:[{type:"rows",children:[{type:"item",height:25},{type:"item",height:50},{type:"item"}]},{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"item",height:25},{type:"item"}]},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},Page61:{items:[{type:"columns",children:[{type:"item"},{type:"item"}],height:50},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:16.67},
{type:"columns",children:[{type:"item"},{type:"item"}]}]},Page62:{items:[{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"rows",children:[{type:"item"},{type:"item"}]}]},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"item"}]}]},Page63:{items:[{type:"columns",children:[{type:"item",width:80},{type:"rows",children:[{type:"item"},
{type:"item"},{type:"item"},{type:"item"}]}],height:80},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page64:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:20},{type:"item",height:60},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page65:{items:[{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"rows",
children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"item"}]}]},Page66:{items:[{type:"columns",children:[{type:"item",width:40},{type:"item",width:20},{type:"item"}],height:25},{type:"columns",children:[{type:"rows",children:[{type:"item",height:50},{type:"item"}],width:20},{type:"item",width:60},{type:"rows",children:[{type:"item",
height:50},{type:"item"}]}],height:50},{type:"columns",children:[{type:"item",width:40},{type:"item",width:20},{type:"item"}]}]},Page67:{items:[{type:"columns",children:[{type:"item",width:33.33},{type:"item"}]},{type:"columns",children:[{type:"item",width:33.33},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"item"}]},{type:"columns",children:[{type:"item",width:66.67},{type:"item"}]}]},Page68:{items:[{type:"columns",
children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:16.67},{type:"columns",children:[{type:"item",width:75},{type:"rows",children:[{type:"item"},{type:"item"}]}],height:66.67},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page69:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:75},{type:"columns",children:[{type:"item"},{type:"item"}]}],width:40},{type:"rows",children:[{type:"columns",children:[{type:"item"},
{type:"item"},{type:"item"}],height:25},{type:"item"}]}],height:66.67},{type:"columns",children:[{type:"item",width:40},{type:"item",width:40},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},Page70:{items:[{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"item"}]},{type:"columns",children:[{type:"item",width:33.33},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"item"}]},{type:"columns",children:[{type:"item",
width:50},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"item"}]}]},Page71:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:20},{type:"columns",children:[{type:"item",width:75},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]}],height:60},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page72:{items:[{type:"columns",children:[{type:"rows",children:[{type:"columns",children:[{type:"item"},
{type:"item"}],height:33.33},{type:"item"}],width:50},{type:"item",width:25},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]}]},{type:"columns",children:[{type:"item",width:25},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:25},{type:"item"}]}]},Page73:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},
{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page74:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"}]}],height:50},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page75:{items:[{type:"columns",
children:[{type:"item",width:66.67},{type:"rows",children:[{type:"item",height:50},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}]}]}],height:66.67},{type:"columns",children:[{type:"item",width:33.33},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"item"}]}]},Page76:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},
{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page77:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:16.67},{type:"columns",children:[{type:"rows",children:[{type:"item",height:50},{type:"item"}],width:25},{type:"item",width:50},{type:"rows",children:[{type:"item",height:50},{type:"item"}]}],height:66.67},{type:"columns",
children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page78:{items:[{type:"columns",children:[{type:"item",width:30},{type:"item",width:45},{type:"item"}],height:30},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:15},{type:"item",width:70},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]}],height:45},{type:"columns",children:[{type:"item",width:30},{type:"item",width:45},{type:"item"}]}]},Page79:{items:[{type:"columns",
children:[{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]},{type:"rows",children:[{type:"item"},{type:"item"}]},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]},{type:"rows",children:[{type:"item"},{type:"item"}]},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]}]}]},Page80:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",
children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page81:{items:[{type:"columns",children:[{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"item"}],width:33.33},{type:"rows",children:[{type:"item"},{type:"columns",children:[{type:"item",width:50},{type:"item"}]}],width:33.33},{type:"item"}],height:40},{type:"item",height:40},{type:"columns",children:[{type:"item",width:16.67},
{type:"item",width:16.67},{type:"item",width:16.67},{type:"item",width:16.67},{type:"item",width:16.67},{type:"item"}]}]},Page82:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:50},{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"rows",children:[{type:"item"},{type:"item"}]}],height:25},{type:"item"}]},{type:"rows",children:[{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item"},
{type:"item"}],width:25},{type:"rows",children:[{type:"item"},{type:"item"}]}],height:25},{type:"item"}]}]}]},Page83:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}],width:20},{type:"item",width:60},{type:"rows",children:[{type:"item"},{type:"item"}]}],height:50},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},
Page84:{items:[{type:"columns",children:[{type:"item",width:66.67},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"}]}]},{type:"columns",children:[{type:"rows",children:[{type:"item",height:50},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item",height:50},{type:"item"}],width:16.67},{type:"item"}]},{type:"columns",children:[{type:"item",width:66.67},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"rows",
children:[{type:"item"},{type:"item"}]}]}]},Page86:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:16.67},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"item",width:66.67},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]}],height:50},{type:"columns",children:[{type:"item"},{type:"item"}]}]},Page87:{items:[{type:"columns",children:[{type:"rows",
children:[{type:"item",height:66.67},{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"}],height:33.33},{type:"item"}]}],height:75},{type:"columns",children:[{type:"item",width:25},{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"}],width:12.5},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},
Page88:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:50},{type:"columns",children:[{type:"item"},{type:"item"}],height:12.5},{type:"columns",children:[{type:"item"},{type:"item"}],height:12.5},{type:"item"}],width:25},{type:"rows",children:[{type:"item",height:25},{type:"columns",children:[{type:"item"},{type:"item"}],height:12.5},{type:"columns",children:[{type:"item"},{type:"item"}],height:12.5},{type:"item"}],width:25},{type:"rows",children:[{type:"item",height:25},
{type:"item",height:50},{type:"item"}]}]}]},Page89:{items:[{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item",height:50},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}]}],width:25},{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"item"}]}]},{type:"columns",children:[{type:"rows",children:[{type:"item"},
{type:"item"}],width:25},{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"item"}]}]},Page90:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page91:{items:[{type:"columns",children:[{type:"item",
width:66.67},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"}]}],height:33.33},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item",height:75},{type:"columns",children:[{type:"item"},{type:"item"}]}],width:33.33},{type:"rows",children:[{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}],width:33.33},{type:"item"}]},
{type:"item"}]}]}]},Page92:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:66.67},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}],width:50},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"item"}]},{type:"columns",children:[{type:"item",width:33.33},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}],
height:33.33},{type:"item"}]}]}]},Page93:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:20},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:20},{type:"item",width:60},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]}],height:60},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page94:{items:[{type:"columns",children:[{type:"item"},
{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:16.67},{type:"columns",children:[{type:"rows",children:[{type:"item",height:25},{type:"item",height:25},{type:"item",height:25},{type:"item"}],width:16.67},{type:"item",width:66.67},{type:"rows",children:[{type:"item",height:25},{type:"item",height:25},{type:"item",height:25},{type:"item"}]}],height:66.67},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page95:{items:[{type:"columns",
children:[{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]}]},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],
width:16.67},{type:"item"}]}]},Page96:{items:[{type:"columns",children:[{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"rows",children:[{type:"item"},{type:"item"}]}]},{type:"item"}]},{type:"item"},{type:"item"},{type:"rows",children:[{type:"item"},{type:"columns",children:[{type:"item"},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]}],height:33.33},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"columns",children:[{type:"rows",children:[{type:"columns",
children:[{type:"rows",children:[{type:"item"},{type:"item"}]},{type:"item"}]},{type:"item"}]},{type:"item"}]}]},{type:"item"}]}]},Page97:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},
{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page98:{items:[{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item",height:50},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}]}],width:25},{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"item"}]}]},{type:"columns",
children:[{type:"rows",children:[{type:"item",height:50},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}]}],width:25},{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"item"}],width:25},{type:"item"}]}]},Page99:{items:[{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"rows",children:[{type:"item"},
{type:"item"}],width:12.5},{type:"rows",children:[{type:"item"},{type:"item"}],width:12.5},{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"}],width:12.5},{type:"rows",children:[{type:"item"},{type:"item"}]}]},{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}],width:12.5},{type:"rows",children:[{type:"item"},{type:"item"}],width:12.5},{type:"item",width:50},{type:"rows",children:[{type:"item"},
{type:"item"}],width:12.5},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},Page100:{items:[{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item",height:50},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}]}],width:25},{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"item"}]}],
height:50},{type:"columns",children:[{type:"item",width:25},{type:"rows",children:[{type:"item"},{type:"item"}],width:12.5},{type:"rows",children:[{type:"item"},{type:"item"}],width:12.5},{type:"item",width:25},{type:"item"}],height:25},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}],width:12.5},{type:"rows",children:[{type:"item"},{type:"item"}],width:12.5},{type:"item",width:25},{type:"item",width:25},{type:"item"}]}]},Page101:{items:[{type:"columns",children:[{type:"item"},
{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page102:{items:[{type:"columns",children:[{type:"item"},
{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},
{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page103:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},
{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},
{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},
{type:"item"}]}]},Page104:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},
{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},
{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},
{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]}};var Om={BARCHART1:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",chart:{chartType:"BAR",bar:{spacing:.2},data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},{cells:[10,20,30,40,50]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#2de6d5",to:"#0094eb",colorSpace:"HCL"},labelTextStyle:{fontFamily:O.Ud,fontSize:O.Vd}}},BARCHART2:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",chart:{chartType:"BAR",bar:{spacing:.45},data:{columns:[{cells:["Item 1",
"Item 2","Item 3","Item 4","Item 5"]},{cells:[10,20,30,40,50]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#fff753",to:"#00cea4",colorSpace:"HCL"},labelTextStyle:{fontFamily:O.Ud,fontSize:O.Vd}}},BARCHART3:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",chart:{chartType:"BAR",bar:{spacing:.7},data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},{cells:[10,20,30,40,50]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#ff9173",
to:"#a149a6",colorSpace:"HCL"},labelTextStyle:{fontFamily:O.Ud,fontSize:O.Vd}}},BARCHART4:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",chart:{chartType:"BAR",bar:{spacing:.2},data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},{cells:[10,20,30,40,50]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#0094eb",to:"#0094eb",colorSpace:"HCL"},labelTextStyle:{fontFamily:O.Ud,fontSize:O.Vd}}},BARCHART5:{left:0,top:0,width:640,height:480,type:"group",
generatorType:"CHART",chart:{chartType:"BAR",bar:{spacing:.45},data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},{cells:[10,20,30,40,50]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#00cea4",to:"#00cea4",colorSpace:"HCL"},labelTextStyle:{fontFamily:O.Ud,fontSize:O.Vd}}},BARCHART6:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",chart:{chartType:"BAR",bar:{spacing:.7},data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},
{cells:[10,20,30,40,50]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#c94f98",to:"#c94f98",colorSpace:"HCL"},labelTextStyle:{fontFamily:O.Ud,fontSize:O.Vd}}},LINECHART1:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",chart:{chartType:"LINE",data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},{cells:[10,22,23,40,45]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#2de6d5",to:"#0094eb",colorSpace:"HCL"},labelTextStyle:{fontFamily:O.Ud,
fontSize:O.Vd}}},LINECHART2:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",chart:{chartType:"LINE",data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},{cells:[10,22,23,40,45]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#fff753",to:"#00cea4",colorSpace:"HCL"},labelTextStyle:{fontFamily:O.Ud,fontSize:O.Vd}}},LINECHART3:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",chart:{chartType:"LINE",data:{columns:[{cells:["Item 1",
"Item 2","Item 3","Item 4","Item 5"]},{cells:[10,22,23,40,45]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#ff9173",to:"#a149a6",colorSpace:"HCL"},labelTextStyle:{fontFamily:O.Ud,fontSize:O.Vd}}},LINECHART4:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",chart:{chartType:"LINE",data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},{cells:[10,22,23,40,45]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#0094eb",to:"#0094eb",
colorSpace:"HCL"},labelTextStyle:{fontFamily:O.Ud,fontSize:O.Vd}}},LINECHART5:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",chart:{chartType:"LINE",data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},{cells:[10,22,23,40,45]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#00cea4",to:"#00cea4",colorSpace:"HCL"},labelTextStyle:{fontFamily:O.Ud,fontSize:O.Vd}}},LINECHART6:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",
chart:{chartType:"LINE",data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},{cells:[10,22,23,40,45]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#c94f98",to:"#c94f98",colorSpace:"HCL"},labelTextStyle:{fontFamily:O.Ud,fontSize:O.Vd}}},PIECHART1:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",chart:{chartType:"PIE",data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},{cells:[10,10,10,10,10]}]},labelColumn:0,coloringType:"INTERPOLATE",
interpolation:{from:"#2de6d5",to:"#596cb3",colorSpace:"HCL"},labelTextStyle:{fontFamily:O.Ud,fontSize:O.Vd}}},PIECHART2:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",chart:{chartType:"PIE",data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},{cells:[10,10,10,10,10]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#fff753",to:"#00ada9",colorSpace:"HCL"},labelTextStyle:{fontFamily:O.Ud,fontSize:O.Vd}}},PIECHART3:{left:0,top:0,width:640,height:480,
type:"group",generatorType:"CHART",chart:{chartType:"PIE",data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},{cells:[10,10,10,10,10]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#ff9173",to:"#684092",colorSpace:"HCL"},labelTextStyle:{fontFamily:O.Ud,fontSize:O.Vd}}},DONUTCHART1:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",chart:{chartType:"DONUT",data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},{cells:[10,10,10,10,
10]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#2de6d5",to:"#596cb3",colorSpace:"HCL"},labelTextStyle:{fontFamily:O.Ud,fontSize:O.Vd}}},DONUTCHART2:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",chart:{chartType:"DONUT",data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},{cells:[10,10,10,10,10]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#fff753",to:"#00ada9",colorSpace:"HCL"},labelTextStyle:{fontFamily:O.Ud,fontSize:O.Vd}}},
DONUTCHART3:{left:0,top:0,width:640,height:480,type:"group",generatorType:"CHART",chart:{chartType:"DONUT",data:{columns:[{cells:["Item 1","Item 2","Item 3","Item 4","Item 5"]},{cells:[10,10,10,10,10]}]},labelColumn:0,coloringType:"INTERPOLATE",interpolation:{from:"#ff9173",to:"#684092",colorSpace:"HCL"},labelTextStyle:{fontFamily:O.Ud,fontSize:O.Vd}}}};function Pm(a){a&&a.id&&null!=a.version&&(this.id=a.id,this.version=a.version)}function Qm(a){return Rm(new Pm(a.layout),a)}function Rm(a,b){$.extend(!0,a,_.omit(b,"layout"));return a}function Sm(a,b){$.extend(!0,a,_.omit(b.content.pages[0],"layout"));return a}function Tm(a,b,c){if(a=a.elements&&a.elements[0]){var d=a.spacing;void 0===d&&(d=O.iD);_.extend(a,Um(b,c,d,!1).serialize())}}f=Pm.prototype;f.getName=function(){return this.name};
f.Jg=function(){var a={elements:this.elements,width:this.width,height:this.height,dpi:this.dpi},b=this.serialize();if(b&&a.elements){var c=(new Vm(b)).ju().serialize();a.elements.forEach(function(a){a.origin=c;a.contents&&a.contents.forEach(function(a){a.origin=c})})}return a};f.clone=function(){return Rm(new Pm(this.serialize()),this.Jg())};f.serialize=function(){return this.id&&this.version?{id:this.id,version:this.version}:null};f.ma=function(a){this.width=a};f.ea=function(a){this.height=a};
f.l=function(){return this.width};f.o=function(){return this.height};function Wm(a){function b(a){a.mediaId&&c.push(new Xm({id:a.mediaId,version:a.mediaVersion}));a.fontMedia&&c.push(Ym(a.fontMedia));Array.isArray(a.htmlFontMedia)&&(c=c.concat(a.htmlFontMedia.map(Ym)))}var c=[];a.elements&&a.elements.length&&a.elements.forEach(function(a){b(a);a.contents&&a.contents.length&&a.contents.forEach(b)});return c};function Zm(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];b.length||(b=[1,0,0,0,1,0,0,0,1]);this.m=new Float32Array(b)}function $m(a){var b=new Zm;b.m[2]=a[0];b.m[5]=a[1];return b}function an(a){return[a.m[2],a.m[5]]}f=Zm.prototype;
f.multiply=function(a){var b=new Zm;b.m[0]=this.m[0]*a.m[0]+this.m[1]*a.m[3]+this.m[2]*a.m[6];b.m[1]=this.m[0]*a.m[1]+this.m[1]*a.m[4]+this.m[2]*a.m[7];b.m[2]=this.m[0]*a.m[2]+this.m[1]*a.m[5]+this.m[2]*a.m[8];b.m[3]=this.m[3]*a.m[0]+this.m[4]*a.m[3]+this.m[5]*a.m[6];b.m[4]=this.m[3]*a.m[1]+this.m[4]*a.m[4]+this.m[5]*a.m[7];b.m[5]=this.m[3]*a.m[2]+this.m[4]*a.m[5]+this.m[5]*a.m[8];b.m[6]=this.m[6]*a.m[0]+this.m[7]*a.m[3]+this.m[8]*a.m[6];b.m[7]=this.m[6]*a.m[1]+this.m[7]*a.m[4]+this.m[8]*a.m[7];b.m[8]=
this.m[6]*a.m[2]+this.m[7]*a.m[5]+this.m[8]*a.m[8];this.m=b.m;return this};f.transform=function(a){var b=new Zm;b.m=this.m;this.m=a.m;return this.multiply(b)};f.translate=function(a,b){var c=new Zm;c.m[2]=a;c.m[5]=b;return this.transform(c)};f.reflect=function(){var a=new Zm;a.m[0]=-1;a.m[4]=-1;return this.transform(a)};f.scale=function(a,b){var c=new Zm;c.m[0]=a;c.m[4]=void 0===b?a:b;return this.transform(c)};
function bn(a,b){var c=new Zm,d=b*Math.PI/180;b=Math.cos(d);d=Math.sin(d);c.m[0]=b;c.m[1]=d;c.m[2]=-0*b-0*d;c.m[3]=-1*d;c.m[4]=b;c.m[5]=-0*b+0*d;return a.transform(c)}f.rotate=function(a){if(0===a||360===Math.abs(a))return this;var b=new Zm,c=a*Math.PI/180;a=Math.cos(c);c=Math.sin(c);b.m[0]=a;b.m[1]=c;b.m[3]=-1*c;b.m[4]=a;return this.transform(b)};f.toArray=function(){return Array.prototype.slice.call(this.m)};function cn(a,b,c){return Math.min(Math.max(a,b||0),c||1)}function dn(a,b,c){c=cn(c);var d=a+c*(b-a);a=en(a,b,c);0<a&&21>a&&(d=parseFloat(d.toPrecision(a)));return d}function en(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];var d=0;b.forEach(function(a){a=a.toString().split(".");d+=a[0].length;2===a.length&&(d+=a[1].length)});return d};function fn(){this.ob=[255,0,255];this.jj=[300,100,50]}function gn(a,b,c,d){a.jj=[b,c,d];var e;e=b/60;c/=100;d/=100;b=Math.floor(e);var g=e-b;e=d*(1-c);var h=d*(1-g*c);c=d*(1-(1-g)*c);b%=6;a.ob=[Math.round(255*[d,h,e,e,c,d][b]),Math.round(255*[c,d,d,h,e,e][b]),Math.round(255*[e,e,c,d,d,h][b])];return a}f=fn.prototype;f.xV=function(){return this.jj[1]};f.tc=function(){return this.jj[2]};f.Ak=function(a){return gn(this,this.jj[0],this.jj[1],a)};
function hn(a,b,c,d){a.ob=[b,c,d];a.jj=jn(b,c,d);return a}function kn(a,b,c){var d=new fn;a=a*Math.PI/180;b=[c,Math.cos(a)*b,Math.sin(a)*b];b=ln(b[0],b[1],b[2]);d.ob=mn(b[0],b[1],b[2]);d.jj=jn(d.ob[0],d.ob[1],d.ob[2]);return d}function nn(a){var b=new fn;if(!/^#?[0-9a-f]{1,6}$/i.test(a))throw new SyntaxError('Invalid hexadecimal color: "'+a+'"');"#"==a.charAt(0)&&(a=a.slice(1));var c=Math.ceil(a.length/3);return hn(b,on(a,0*c,c),on(a,1*c,c),on(a,2*c,c))}
function pn(a){return 0==(a.ob[0]&-256|a.ob[1]&-256|a.ob[2]&-256)}f.ra=function(){return"#"+(256+this.ob[0]).toString(16).slice(-2)+(256+this.ob[1]).toString(16).slice(-2)+(256+this.ob[2]).toString(16).slice(-2)};function qn(a){a=rn(a.ob[0],a.ob[1],a.ob[2]);a=sn(a[0],a[1],a[2]);var b=a[1],c=a[2],d=Math.sqrt(b*b+c*c),b=(180*Math.atan2(c,b)/Math.PI+360)%360,b=0===Math.round(1E4*d)?NaN:b;return[b,d,a[0]]}f.clone=function(){var a=new fn;a.ob=this.ob;a.jj=this.jj;return a};
f.hv=function(){return Math.round(Math.sqrt(.241*this.ob[0]*this.ob[0]+.691*this.ob[1]*this.ob[1]+.068*this.ob[2]*this.ob[2]))};function tn(a){return gn(new fn,a.jj[0],a.jj[1],100)}function un(a,b,c){return hn(new fn,Math.round(a.ob[0]+(b.ob[0]-a.ob[0])*c),Math.round(a.ob[1]+(b.ob[1]-a.ob[1])*c),Math.round(a.ob[2]+(b.ob[2]-a.ob[2])*c))}
function vn(a,b,c){b=qn(b);a=qn(a);var d;180<Math.abs(b[0]-a[0])?(d=360-Math.abs(b[0]-a[0]),d=b[0]>a[0]?a[0]-c*d:a[0]+c*d):d=dn(a[0],b[0],c);d=(0>d?360+d:d)%360;var e=dn(a[1],b[1],c);c=dn(a[2],b[2],c);return kn(d,e,c)}
function wn(a,b,c,d,e){function g(a,b,c){return dn(a+c,a-c,cn((a-(b-5))/10))}b=void 0===b?1:b;e=void 0===e?36:e;c=(void 0===c?110:c)*b;d=(void 0===d?10:d)*b;b*=e;var h=qn(a),k=h[0],l=h[1],h=h[2];switch(!0){case 55<k&&65>k:k=g(k,60,-c);break;case 0<k&&60>k:k-=c;break;case 295<k&&305>k:k=g(k,300,c);break;case 240<k&&300>k:k+=c;break;default:k=360>=k+c?k+c:k-c}var l=l+d,h=g(h,93-e,b),m=kn(k,l,h);return function(b,c){var d=a.ra();return"#ffffff"===d&&0===b?d:vn(a,m,b/Math.max(c-1,1)).ra()}}
f.equals=function(a){return null!=a&&a.serialize()===this.serialize()};function xn(a){var b=mh(a.from),c=mh(a.to);return b instanceof fn&&c instanceof fn?function(a,e){return vn(b,c,a/Math.max(e-1,1)).ra()}:null}function mh(a){try{return yn(a)}catch(b){}return null}
function yn(a){var b=String(a);if("#"===b.slice(0,1))return nn(b);if("hsl("===b.slice(0,4)){a=new fn;var c=/^hsl\((\d*(?:\.\d+)?),\s*(\d*(?:\.\d+)?)%,\s*(\d*(?:\.\d+)?)%\)$/.exec(b);if(!c)throw new SyntaxError('Invalid HSL color: "'+b+'"');var b=+c[2],d=+c[3],b=b/100,d=d/100,e=b*(.5>d?d:1-d),g=d+e,c=[+c[1],100*(0<d?2*e/g:b),100*g];return gn(a,c[0],c[1],c[2])}if("rgb("===b.slice(0,4)){a=new fn;c=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/.exec(b);if(!c)throw new SyntaxError('Invalid RGB color: "'+b+'"');return hn(a,
+c[1],+c[2],+c[3])}if(6>=b.length)return nn(b);throw Error("could not parse color: "+a);}function zn(a,b,c){0>c&&(c+=1);1<c&&--c;return c<1/6?a+6*(b-a)*c:.5>c?b:c<2/3?a+(b-a)*(2/3-c)*6:a}function jn(a,b,c){a/=255;b/=255;c/=255;var d=Math.max(a,b,c),e=Math.min(a,b,c),g;if(d==e)g=e=0;else{var h=d-e,e=h/d;switch(d){case a:g=(b-c)/h+(b<c?6:0);break;case b:g=(c-a)/h+2;break;case c:g=(a-b)/h+4}g/=6}return[360*g,100*e,100*d]}
function mn(a,b,c){a=[a,b,c];a=a.map(function(a){return cn(a/100)});b=[];b[0]=3.2404542*a[0]-1.5371385*a[1]-.4985314*a[2];b[1]=-.969266*a[0]+1.8760108*a[1]+.041556*a[2];b[2]=.0556434*a[0]-.2040259*a[1]+1.0572252*a[2];b=b.map(function(a){return.00304>=a?12.92*a:1.055*Math.pow(a,1/2.4)-.055});return b=b.map(function(a){return cn(Math.round(255*a),0,255)})}
function rn(a,b,c){a=[a,b,c];a=a.map(function(a){return cn(a/255)});a=a.map(function(a){return.04045>=a?a/12.92:Math.pow((a+.055)/1.055,2.4)});b=[];b[0]=.4124564*a[0]+.3575761*a[1]+.1804375*a[2];b[1]=.2126729*a[0]+.7151522*a[1]+.072175*a[2];b[2]=.0193339*a[0]+.119192*a[1]+.9503041*a[2];return b=b.map(function(a){return 100*a})}
function sn(a,b,c){function d(a){return.008856452<a?Math.pow(a,1/3):a/.12841855+.137931034}a=[a/95.047,b/100,c/108.883];b=[];b[0]=116*d(a[1])-16;b[1]=500*(d(a[0])-d(a[1]));b[2]=200*(d(a[1])-d(a[2]));return b}function ln(a,b,c){function d(a){return.206896552<a?a*a*a:.12841855*(a-.137931034)}a=(a+16)/116;return[95.047*d(isNaN(b)?a:a+b/500),100*d(a),108.883*d(isNaN(c)?a:a-c/200)]}function on(a,b,c){var d=parseInt(a.charAt(b),16)|0;return 16*d+(1==c?d:parseInt(a.charAt(b+1),16)|0)}
function An(a,b,c){return hn(new fn,a.ob[0]+Math.round(c*(b.ob[0]-a.ob[0])),a.ob[1]+Math.round(c*(b.ob[1]-a.ob[1])),a.ob[2]+Math.round(c*(b.ob[2]-a.ob[2])))}f.serialize=fn.prototype.ra;f.toString=fn.prototype.ra;function Bn(){}Bn=Backbone.View.extend({className:"colorPicker showColorCode"});f=Bn.prototype;f.initialize=function(a){this.Dl=a.Dl;this.Qg=!!a.Qg;this.Qb=(a.Qb||Bn.nS).clone();this.fB=this.fB.bind(this);this.hB=this.hB.bind(this);this.gB=this.gB.bind(this);this.iB=this.iB.bind(this)};f.events=function(){return{"mousedown .colorPickerSpectrum":this.Q6,"mousedown .colorPickerValue":this.R6,"keydown .colorPickerHexCode":this.G6,"input .colorPickerHexCode":this.x6,"change .colorPickerApplyAllCheckbox":this.j5}};
f.Up=function(){return this.Qb.clone()};f.kC=function(a){a.equals(this.Qb)||(this.Qb=a.clone(),Cn(this),Dn(this),En(this),this.trigger("preview",this.Up()))};function Fn(a,b){a.$(".colorPickerApplyAllCheckbox").prop("checked",b)}f.render=function(){this.$el.addClass("on");this.$el.toggleClass("showApplyAll",this.Qg);this.$el.html(Gn({YD:this.Dl.format("colorPickerColorCode"),Qg:this.Qg,zD:this.Dl.gp()}).toString());Cn(this);Dn(this);En(this);return this};
f.remove=function(){var a=this;this.$el.removeClass("on");this.$el.one("animationend",function(){$(document).off("mousemove",a.fB);$(document).off("mouseup",a.hB);$(document).off("mousemove",a.gB);$(document).off("mouseup",a.iB);Backbone.View.prototype.remove.call(a)});return this};
function Cn(a){var b=Hn(a.Qb.jj[0]),c=(Bn.DS-Bn.jy)*a.Qb.xV()/100,d=c*Math.cos(b),b=c*Math.sin(b);a.$(".colorPickerSpectrum \x3e .marker").css("transform","translate("+d+"px, "+b+"px)");a.$(".colorPickerValue").css("background-color",tn(a.Qb).ra())}function Dn(a){var b=a.Qb.tc(),b=(Bn.IS-2*Bn.jy)*(100-b)/100;a.$(".colorPickerValue \x3e .marker").css("transform","translateX("+b+"px)")}function En(a){var b=a.$(".colorPickerHexCode");b.blur();b.val(a.Qb.ra().slice(1))}
function In(a,b){var c=b.clientX,d=b.clientY;b=a.$(".colorPickerSpectrum").get(0).getBoundingClientRect();var e=b.left+b.width/2,g=b.top+b.height/2;b=Jn(e,g,c,d);c=100*Math.min(Kn(e,g,c,d)/(Bn.DS-Bn.jy),1);d=a.Qb.tc();gn(a.Qb,b,c,d);Cn(a);En(a);a.trigger("preview",a.Up())}function Ln(a,b){b=b.clientX;var c=a.$(".colorPickerValue").get(0).getBoundingClientRect();a.Qb.Ak(100-100*Math.max(0,Math.min((b-c.left-Bn.jy)/(Bn.IS-2*Bn.jy),1)));Dn(a);En(a);a.trigger("preview",a.Up())}
f.Q6=function(a){0===a.button&&(a.preventDefault(),In(this,a),this.undelegateEvents(),this.$(".colorPickerSpectrum").addClass("mousedown"),$(document).on("mousemove",this.fB),$(document).on("mouseup",this.hB))};f.fB=function(a){In(this,a)};f.hB=function(a){$(document).off("mousemove",this.fB);$(document).off("mouseup",this.hB);this.$(".colorPickerSpectrum").removeClass("mousedown");this.delegateEvents();In(this,a)};
f.R6=function(a){0===a.button&&(a.preventDefault(),Ln(this,a),this.undelegateEvents(),this.$(".colorPickerValue").addClass("mousedown"),$(document).on("mousemove",this.gB),$(document).on("mouseup",this.iB))};f.gB=function(a){Ln(this,a)};f.iB=function(a){$(document).off("mousemove",this.gB);$(document).off("mouseup",this.iB);this.$(".colorPickerValue").removeClass("mousedown");this.delegateEvents();Ln(this,a)};f.G6=function(a){if(13===a.which||27===a.which)a.preventDefault(),this.trigger("confirm")};
f.x6=function(){var a=this.$(".colorPickerHexCode"),b=a.val(),c=b.replace(/\W+/g,"").replace(/[^0-9a-f]/gi,""),b=b.length-c.length,c=c.slice(0,6),d=mh(c);this.Qb=d?d:Bn.nS.clone();b=a[0].selectionStart-b;a.val(c);a[0].setSelectionRange(b,b);Cn(this);Dn(this);this.trigger("preview",this.Up())};f.j5=function(){var a=this.$(".colorPickerApplyAllCheckbox").prop("checked");this.trigger("applyAll",a)};Bn.nS=hn(new fn,255,255,255);Bn.DS=100;Bn.jy=10;Bn.IS=200;function Gn(a){soy.asserts.assertType(goog.isString(a.YD)||a.YD instanceof goog.soy.data.SanitizedContent,"colorCodeLabel",a.YD,"string|goog.soy.data.SanitizedContent");var b=a.YD;soy.asserts.assertType(goog.isBoolean(a.Qg)||1===a.Qg||0===a.Qg,"showApplyAll",a.Qg,"boolean");var c=!!a.Qg;soy.asserts.assertType(goog.isString(a.zD)||a.zD instanceof goog.soy.data.SanitizedContent,"applyAllLabel",a.zD,"string|goog.soy.data.SanitizedContent");a=a.zD;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"colorPickerSpectrum"\x3e\x3cdiv class\x3d"marker"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"colorPickerValue"\x3e\x3cdiv class\x3d"marker"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"colorPickerColorCode"\x3e'+
soy.$$escapeHtml(b)+' #\x3cinput class\x3d"colorPickerHexCode" spellcheck\x3d"false"\x3e\x3c/div\x3e'+(c?'\x3cdiv class\x3d"colorPickerApplyAll"\x3e\x3clabel class\x3d"colorPickerApplyAllLabel"\x3e\x3cinput type\x3d"checkbox" class\x3d"colorPickerApplyAllCheckbox" /\x3e'+soy.$$escapeHtml(a)+"\x3c/label\x3e\x3c/div\x3e":""))};function Mn(a){var b=goog.asserts.assertArray(a.zc,"expected parameter 'colors' of type list\x3c[hexString: string]\x3e.");soy.asserts.assertType(null==a.label||a.label instanceof goog.soy.data.SanitizedContent||goog.isString(a.label),"label",a.label,"null|string|undefined");var c=a.label;soy.asserts.assertType(null==a.gy||goog.isBoolean(a.gy)||1===a.gy||0===a.gy,"workingPalette",a.gy,"boolean|null|undefined");a=a.gy;var d='\x3cdiv class\x3d"'+(a?"workingPalette":"pinnedPalette")+'"\x3e'+(c?'\x3ch3 class\x3d"colorPaletteLabel"\x3e'+
soy.$$escapeHtml(c)+"\x3c/h3\x3e":"")+'\x3cmenu class\x3d"colorPaletteGroup"\x3e'+(a?'\x3cli class\x3d"colorPaletteAdd"\x3e\x3c/li\x3e':""),c=b.length;for(a=0;a<c;a++){var e,g=b[a];e=(e=void 0,{});soy.asserts.assertType(goog.isString(g.Gg)||g.Gg instanceof goog.soy.data.SanitizedContent,"hexString",g.Gg,"string|goog.soy.data.SanitizedContent");g=g.Gg;e=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cli class\x3d"colorPaletteEntry" data-color\x3d"#'+soy.$$escapeHtmlAttribute(g)+'" title\x3d"#'+soy.$$escapeHtmlAttribute(g)+
'" style\x3d"'+(e.Yb?"/*"+e.Yb+"*/":"")+"color: #"+soy.$$escapeHtmlAttribute(soy.$$filterCssValue(g))+';" \x3e\x3c/li\x3e');d+=e}return soydata.VERY_UNSAFE.ordainSanitizedHtml(d+"\x3c/menu\x3e\x3c/div\x3e")}
function Nn(a){soy.asserts.assertType(goog.isString(a.label)||a.label instanceof goog.soy.data.SanitizedContent,"label",a.label,"string|goog.soy.data.SanitizedContent");var b=a.label;soy.asserts.assertType(null==a.title||a.title instanceof goog.soy.data.SanitizedContent||goog.isString(a.title),"title",a.title,"null|string|undefined");var c=a.title;soy.asserts.assertType(goog.isString(a.url)||a.url instanceof goog.soy.data.SanitizedContent,"url",a.url,"string|goog.soy.data.SanitizedContent");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3ca class\x3d"colorPaletteCta" href\x3d"'+
soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(a.url))+'" '+(c?'title\x3d"'+soy.$$escapeHtmlAttribute(c)+'"':"")+' target\x3d"_blank"\x3e+ '+soy.$$escapeHtml(b)+"\x3c/a\x3e")}
function On(a){var b;b=b||{};soy.asserts.assertType(goog.isString(a.gp)||a.gp instanceof goog.soy.data.SanitizedContent,"applyToAll",a.gp,"string|goog.soy.data.SanitizedContent");var c=a.gp;soy.asserts.assertType(null==a.yy||a.yy instanceof goog.soy.data.SanitizedContent||goog.isString(a.yy),"applyToAllColor",a.yy,"null|string|undefined");var d=a.yy;soy.asserts.assertType(null==a.zy||a.zy instanceof goog.soy.data.SanitizedContent||goog.isString(a.zy),"applyToAllResult",a.zy,"null|string|undefined");
a=a.zy;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"colorPaletteApplyAll"\x3e\x3clabel class\x3d"colorPaletteApplyAllLabel"\x3e\x3cinput type\x3d"checkbox" class\x3d"colorPaletteApplyAllCheckbox"\x3e'+soy.$$escapeHtml(c)+(d?'\x3cspan class\x3d"colorPaletteApplyAllColor" style\x3d"'+(b.Yb?"/*"+b.Yb+"*/":"")+"background: "+soy.$$escapeHtmlAttribute(soy.$$filterCssValue(d))+'"\x3e\x3c/span\x3e\x3cspan class\x3d"colorPaletteApplyAllArrow"\x3e\x26#9654;\x3c/span\x3e\x3cspan class\x3d"colorPaletteApplyAllResult" style\x3d"'+
(b.Yb?"/*"+b.Yb+"*/":"")+"background: "+soy.$$escapeHtmlAttribute(soy.$$filterCssValue(a))+'"\x3e\x3c/span\x3e':"")+"\x3c/label\x3e\x3c/div\x3e")};function Pn(){}Pn=Backbone.View.extend({className:"colorPalette"});f=Pn.prototype;f.initialize=function(a){this.Dl=a.Dl;this.Ri=!1;this.Zi=a.Zi;this.Ny=a.Ny;this.Pl=a.Pl;this.ru=Qn({TX:a.ru,VW:a.W.G.get($f),UW:a.W.G.get(ag)});this.Ry=(this.Qb=a.Qb)&&this.Qb.clone();this.mP=!1;this.Ue=null;this.ZB=a.ZB;this.wD=!!a.wD;this.Qg=!!a.Qg;this.xy=a.xy;this.IV=!1;this.Yl=null;this.j=a.j;this.W=a.W;(this.window=a.window||null)&&$(this.window).on("resize.colorPaletteView",_.throttle(this.tC.bind(this),50))};
f.events=function(){return{"click .colorPaletteAdd":this.U5,"click .colorPaletteEntry":this.w5,"click .colorPaletteCta":this.v5,"change .colorPaletteApplyAllCheckbox":this.k5,mousedown:this.P6,"mousedown .colorPaletteEntry":this.O6}};function Qn(a){var b=-1===a.VW?a.TX:a.TX.slice(0,a.VW);return-1===a.UW?b:b.map(function(b){return new Rn({zc:b.gg().slice(0,a.UW),name:b.getName()})})}
function Sn(a){function b(a){return new Tn({name:null,Gg:a})}return[new Rn({name:a.Zi.format("colorPaletteDefaultColors"),zc:"ff5c5c ffbd4a fff952 99e265 35b729 44d9e6 2eb2ff 5271ff b760e6 ff63b1".split(" ").map(b)}),new Rn({name:"",zc:["000000","666666","a8a8a8","d9d9d9","ffffff"].map(b)})]}
f.render=function(){var a={},b=$("\x3cdiv\x3e").appendTo(this.$el);this.$el.addClass("on");for(var c=[].concat(ma(this.ru),ma(Sn(this))).filter(function(a){return 0<a.gg().length}),c=la(c),d=c.next();!d.done;d=c.next()){d=d.value;b.append(Mn({zc:d.gg().map(function(a){return{Gg:a.Gg}}),label:d.getName()}).toString());for(var d=la(d.gg()),e=d.next();!e.done;e=d.next())a["#"+e.value.Gg]=!0}this.wD&&this.W.G.get(mg)&&b.prepend(Nn({label:this.Zi.format("colorPaletteAddPaletteCta"),url:"/brand"}).toString());
c=Un(this.Pl.gi()).filter(function(b){return a[b]?!1:a[b]=!0});b.prepend(Mn({gy:!0,zc:c.map(function(a){return{Gg:a.replace("#","")}}),label:this.Zi.format("colorPaletteDocumentColors")}).toString());this.ZB&&(this.$el.addClass("colorPaletteScrollable"),b.addClass("disableAncestorScroll"),this.Yl=new Vn(b),this.Yl.render());this.listenTo(this.Pl,"paletteEntry:add",this.e5);this.listenTo(this.Pl,"paletteEntry:remove",this.g7);this.listenTo(this.Pl,"paletteEntry:sync",this.tC);return this};
f.appendTo=function(a){this.render().$el.appendTo(a);this.tC()};f.tC=function(){if(this.$el.width()){var a=Math.floor(this.$el.width()/40);this.$el.find(".colorPaletteGroup").each(function(b,c){c=$(c);b=$(c).find("li");for(var d=[];0<b.length;)d.push(b.splice(0,a));c.children().detach();d.forEach(function(a){var b=$("\x3cdiv\x3e").addClass("colorPalette__row");a.forEach(function(a){b.append(a)});b.appendTo(c)});d.length&&d[d.length-1].length<a&&c.find(".colorPalette__row:nth-last-child(2)").addClass("colorPalette__row--roundSecondLast")})}};
f.Up=function(){return this.Qb&&this.Qb.clone()};f.kC=function(a){null===a&&null!==this.Qb?(this.Qb=null,this.trigger("preview",a,this.Ri)):a.equals(this.Qb)||(this.Qb=a.clone(),this.trigger("preview",a,this.Ri),this.Qg&&(this.IV||(this.IV=!0,this.$el.append(On({gp:this.Zi.gp(),yy:this.xy?this.xy.ra():null,zy:this.Qb?this.Qb.ra():null}).toString())),this.$(".colorPaletteApplyAllResult").css("background",a.ra())));a&&this.Ue&&(this.Ue.kC(a),this.$(".colorPaletteAdd").css("color",a.ra()));return this};
f.confirm=function(){(null===this.Qb&&null!==this.Ry||this.Qb&&!this.Qb.equals(this.Ry))&&Wn(this);return this};function Xn(a){a.Ue&&(a.Ue.remove(),a.Ue=null,a.trigger("hideColorPicker"));a.mP&&(Yn(a),a.mP=!1);a.$(".colorPaletteAdd").css("color","transparent")}
f.remove=function(){Xn(this);this.Yl&&(this.Yl.remove(),this.Yl=null);this.$el.hasClass("on")&&(this.$el.removeClass("on"),this.$el.one("animationend",Backbone.View.prototype.remove.bind(this)),this.Ry&&Zn(this,this.Ry)&&this.j.track("brand_color_used"));this.window&&$(this.window).off("resize.colorPaletteView");return this};function Wn(a){a.Ry=a.Up();a.trigger("confirm",a.Ri)}
function Yn(a){if(a.Qb){var b=a.Qb.ra();a.$(".colorPaletteEntry").toArray().some(function(a){return $(a).data("color")===b})||($n(a.Pl,a.Qb),Wn(a))}}f.w5=function(a){a.preventDefault();a=$(a.currentTarget).data("color");if(a=mh(a))this.kC(a),this.Ue||this.confirm()};
f.U5=function(a){a.preventDefault();this.Ue?Xn(this):(this.Ue||(this.Ue=new Bn({Dl:this.Dl,Qb:this.Qb,Qg:!1}),this.listenTo(this.Ue,"preview",this.e7),this.listenTo(this.Ue,"confirm",this.W5),this.listenTo(this.Ue,"applyAll",this.f5),this.Ue.render(),this.Ny.nm(this.Ue.$el,this.$(".colorPaletteAdd")),this.trigger("showColorPicker")),Fn(this.Ue,this.Ri))};f.k5=function(a){a=!0===$(a.target).prop("checked");this.Ri!==a&&(this.Ri=a,this.trigger("changeApplyAll",this.Ri),this.Ue&&Fn(this.Ue,this.Ri))};
f.v5=function(){Ml(this.j,"add_another_palette","editor","toolbar","color_palette")};f.P6=function(a){0===a.button&&(0<$(a.target).closest(".colorPaletteAdd, .colorPaletteEntry").length?a.preventDefault():Xn(this))};
f.O6=function(a){if(0===a.button&&(a.preventDefault(),!$(a.currentTarget).parents(".pinnedPalette").length)){var b=$(a.currentTarget).data("color"),c=(new ao({target:a.currentTarget})).wJ(a.clientX,a.clientY);this.listenTo(c,"end",function(a){var e=mh(b);!e||this.$el.is(a)||this.$el.get(0).contains(a)||(bo(this.Pl,e),Wn(this));this.stopListening(c)})}};
f.e5=function(a){if(!Zn(this,a)&&!co(this,a)){a=a.ra();var b=$("\x3cli\x3e");b.addClass("colorPaletteEntry");b.data("color",a);b.attr("data-color",a);b.css("color",a);b.insertAfter(this.$(".colorPaletteAdd"))}};function Zn(a,b){var c=b.ra().substr(1);return a.ru.some(function(a){return a.zc.some(function(a){return a.Gg===c})})}function co(a,b){var c=b.ra().substr(1);return Sn(a).some(function(a){return a.zc.some(function(a){return a.Gg===c})})}
f.g7=function(a){var b=a.ra();this.$(".workingPalette .colorPaletteEntry").filter(function(){return $(this).data("color")===b}).remove()};f.e7=function(a){this.Ue&&(this.mP=!0,this.kC(a))};f.W5=function(){Xn(this);this.confirm()};f.f5=function(a){this.Ri!==a&&(this.Ri=a,this.trigger("changeApplyAll",this.Ri),this.$(".colorPaletteApplyAllCheckbox").prop("checked",this.Ri))};function ao(a){this.target=a.target;this.Sm=null;this.NE={x:0,y:0};this.OE=void 0!==a.OE?a.OE:5;this.FU=!1;this.EC=null;this.hX=this.R3.bind(this);this.iX=this.S3.bind(this)}f=ao.prototype;f.trigger=Backbone.Events.trigger;f.on=Backbone.Events.on;f.off=Backbone.Events.off;f.listenTo=Backbone.Events.listenTo;f.wJ=function(a,b){this.NE.x=a;this.NE.y=b;this.Sm=this.target.cloneNode(!0);document.addEventListener("mousemove",this.hX);document.addEventListener("mouseup",this.iX);return this};
f.release=function(a){document.removeEventListener("mousemove",this.hX);document.removeEventListener("mouseup",this.iX);$(this.target).removeClass("fauxDraggerTarget");this.Sm&&this.Sm.parentNode&&this.Sm.parentNode.removeChild(this.Sm);this.Sm=null;this.trigger("end",a);this.off()};f.R3=function(a){var b=a.pageX-this.NE.x;a=a.pageY-this.NE.y;this.FU?$(this.Sm).css("top",this.EC.top+a+"px").css("left",this.EC.left+b+"px"):(Math.abs(b)>this.OE||Math.abs(a)>this.OE)&&this.eL()};
f.S3=function(a){a.preventDefault();a.target instanceof Element&&this.release(a.target)};f.eL=function(){this.EC=this.target.getBoundingClientRect();$(this.Sm).css("top",this.EC.top+"px").css("left",this.EC.left+"px").addClass("fauxDraggerClone");$(this.target).addClass("fauxDraggerTarget");document.body.appendChild(this.Sm);this.trigger("start");this.FU=!0};function eo(a,b){this.item={Mv:!1,elements:[],yw:null,timestamp:0,um:null,wm:null};this.yC=a;this.TZ=(b||"anonymous")+"-copybuffer"}function fo(a){var b=JSON.stringify({elements:a.item.elements.map(function(a){return a.serialize()}),timestamp:a.item.timestamp,activeFilterable:a.item.um,activeText:a.item.wm});try{a.yC.setItem(a.TZ,b)}catch(c){}}
function go(a){var b;return a.yC&&(b=a.yC.getItem(a.TZ))&&(b=JSON.parse(b),b.timestamp>a.item.timestamp)?{elements:(b.elements||[]).map(function(a){return yg(a)}),yw:null,timestamp:b.timestamp,um:b.activeFilterable,wm:b.activeText}:null}
function ho(a,b){a.item.timestamp=Date.now();a.item.Mv=!0;a.item.elements=[b];a.item.um=null;b.Zp()&&-1!==b.Qz()&&(a.item.um={elementIndex:0,filterableIndex:b.Qz()});a.item.wm=null;b.se()&&-1!==b.Bb()&&(a.item.wm={elementIndex:0,textIndex:b.Bb()});a.item.yw=null;a.yC&&fo(a)}function io(a,b){var c=cc;c.item.timestamp=Date.now();c.item.Mv=!1;c.item.elements=a;c.item.yw=b?b:null;c.yC&&fo(c)}
function jo(){var a=cc,b=go(a);return b?b:{Mv:a.item.Mv,elements:a.item.elements,yw:a.item.yw,timestamp:a.item.timestamp,um:a.item.um,wm:a.item.wm}};function ko(a,b){this.H=a;this.f_=b||null;this.TI=this.BH=null}ko.prototype.read=function(a){this.BH||(lo++,mo.splice(lo,0,this));this.BH=a;if(no==oo||no==po)this.H.requestAnimationFrame(qo),no=ro;return this};ko.prototype.write=function(a){this.TI||(so++,to.splice(so,0,this));this.TI=a;no==oo&&(this.H.requestAnimationFrame(qo),no=ro);return this};function Zg(a){return new ko(hl,a)}var oo=0,ro=1,po=3,no=oo,mo=[],to=[],lo=0,so=0;
function qo(){var a,b;no=2;so=-1;for(a=0;a<mo.length;a++){lo=a;b=mo[a];var c=b.BH;b.BH=null;c&&c.call(b.f_,b)}mo.length=0;lo=-1;no=po;for(a=0;a<to.length;a++)so=a,b=to[a],c=b.TI,b.TI=null,c&&c.call(b.f_,b);to.length=0;so=-1;no!=ro&&(no=oo)};function uo(){this.N=Ib;this.url="/designschool"};function vo(){}function wo(a){return Object.freeze(Df(vo,a))};var xo=new Ff("fg",!0);function yo(a){this.ua=a.ua;this.G=a.G}function zo(a){var b=["featureOnboardingManager",a.Wk.u()].join("."),c=null;try{c=jm(b)}catch(d){}return new yo({G:a.G,ua:c})}function Ao(a){return a.ua&&a.G.get(xo)}function Bo(a){return Ao(a)&&!!Co(a.ua,Do)}var Do="magicResize";function Eo(a){this.j=a.j;this.W=a.W;this.uK=a.uK;this.Eg=a.Eg;this.ua=a.ua;this.SQ=!1}function Fo(a,b){if(a.SQ?0:b===Go||b===Ho?!Io(a):1){var c=a.uK(),d=c.rH;c.on("signup",function(){$(window).off("beforeunload");var c=b===Jo,g=Ao(a.Eg);c&&g?(c=a.Eg,Ao(c)&&Ko(c.ua,Do),c=a.Eg,Ao(c)&&Ko(c.ua,"onboardingPending"),window.location.reload()):b===Ho||b===Lo?window.location.reload():window.location=d});c.on("hide",function(){a.SQ=!1});c.show(b);a.SQ=!0;b!==Go&&b!==Ho||Mo(a)}}
function Io(a){var b=No;return a.ua?!!Co(a.ua,b):!0}function Mo(a){var b=No;a.ua&&Ko(a.ua,b)}function Oo(a){a=[Po,a.u()].join(".");var b=null;try{b=jm(a)}catch(c){}return b}var Po="EditorCtaHandler",No="ExclusiveMediaUpgradeDialogShown";function Qo(a,b){this.action=a;this.param=b}var Ro={Taa:"tab",G0:"search",Daa:"folder"};function So(){var a=window.location.hash;if(!a)return null;a=a.slice(1).split("\x3d");if(2!==a.length)return null;var b;b=a[0];var c=_.values(Ro);b=b&&-1<c.indexOf(b)?b:null;if(!b)return null;var d;try{d=decodeURIComponent(a[1])}catch(e){d=a[1]}a=d;c=_.values(fc);return"tab"===b&&-1===c.indexOf(a)||!/^[\w ]+$/.test(d)?null:new Qo(b,d||null)};function To(a){this.zc=Uo(a);this.ZD=null}function Uo(a){if(a){var b={};return a.filter(function(a){a=a.ra();return b[a]?!1:b[a]=!0})}return[]}function Vo(a,b){return 0<=Un(a).indexOf(b.ra())}To.prototype.Ce=function(){this.ZD=null};function Wo(a,b){pn(b)&&!Vo(a,b)&&(a.zc.push(b),a.Ce())}function Xo(a,b){pn(b)&&Vo(a,b)&&(a.zc=a.zc.filter(function(a){return!a.equals(b)}),a.Ce())}To.prototype.unshift=function(a){pn(a)&&!Vo(this,a)&&(this.zc.unshift(a),this.Ce())};
function Yo(){var a=new To;a.zc=[];a.Ce();return a}To.prototype.gg=function(){return this.zc};function Un(a){a.ZD||(a.ZD=a.zc.map(function(a){return a.ra()}));return a.ZD}To.prototype.serialize=function(){this.Ce();return this.zc.map(function(a){return a.serialize()})};function Zo(a){function b(a){var b=m+Jn(h,k,void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY)-n;$("#overlays .rotation.align").addClass("on");var c=b%45;0>c&&(c+=45);var d=b>l.Ta(),e=d&&42<c,d=!d&&3>c,g=3>c||42<c;if(a.shiftKey)t=!1,$("#overlays .rotationGuide").removeClass("willSnap"),g||(p=!1);else{g?$("#overlays .rotationGuide").addClass("willSnap"):(t=!1,$("#overlays .rotationGuide").removeClass("willSnap"));if(t)return!1;
e?(b=b+45-c,t=!0):d&&($("#overlays .rotationGuide").addClass("willSnap"),b-=c,t=!0)}a=b;$("#overlays .rotationGuide").css("transform",$o({Sw:a}));c=a=b;0>c&&(c=360+c);v.html(Math.round(c)+"\x26deg;").css("transform",$o({Sw:360-a}));l.dm(b);l instanceof ap&&bp(l);return!1}function c(){l.vg=!1;z.off("mousemove|touchmove",b).off("mouseup|touchend",c);d.removeClass("on");l.ek&&l.ek();$(".cornerHandles .rotate").empty();$("#overlays .align").removeClass("on");$("#overlays .rotationGuide").removeClass("willSnap");
$(document).off("keydown",q);$(document).off("keydown",u);if(m!=l.Ta()){var a={elementIndex:l.K(),pageIndex:cp(K,l.R()),"new":{rotation:l.Ta()},old:{rotation:m}};M.register(new Y(dp,a))}}T.trigger("hideContextualControlsRequested");ep();var d=$(this),e=$(this).parents(".selectionBox").data("element");if(e){var g=e.offset(),h=g.left+e.width()/2,k=g.top+e.height()/2,l=e.data("canvaElement");if(l){var m=l.Ta(),n=Jn(h,k,void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,void 0!==a.clientY?
a.clientY:a.originalEvent.touches[0].clientY),p=!1,q=function(a){a.shiftKey&&$("#overlays .rotationGuide").hasClass("willSnap")&&(p=!0,$("#overlays .rotationGuide").removeClass("willSnap"))},u=function(){p&&(p=!1,$("#overlays .rotationGuide").addClass("willSnap"))},v=$('\x3cspan class\x3d"degrees"\x3e\x3c/span\x3e');$(".cornerHandles .rotate").append(v);d.addClass("on");$(document).on("keydown",q);$(document).on("keyup",u);var z=new fp($(document));l.vg=!0;z.on("mousemove|touchmove",b).on("mouseup|touchend",
c);a=gp(l);var t=!1,e=$("#overlays").get(0).getBoundingClientRect();$("#overlays .rotation.align").first().css("left",a.x-e.left+"px").css("top",a.y-e.top+"px");$("#overlays .rotationGuide").first().css("left",a.x-e.left+"px").css("top",a.y-e.top+"px").css("margin-top",-1*hp(l)/2+"px").css("height",hp(l)+"px");return!1}}};function ip(a,b){this.BJ=a;this.namespace=void 0===b?null:b}function jm(a){if(window.localStorage)return new ip(window.localStorage,a);throw Error("ClientStore: localStorage is not defined on window, likely an unsupported browser");}ip.prototype.setItem=function(a,b){try{return this.BJ.setItem(null==this.namespace?a:this.namespace+"."+a,b),!0}catch(c){return!1}};ip.prototype.getItem=function(a){return this.BJ.getItem(null==this.namespace?a:this.namespace+"."+a)};
function Co(a,b){try{var c=a.getItem(b);return null!==c?JSON.parse(c):null}catch(d){return null}}function Ko(a,b){try{var c=JSON.stringify(!0);a.setItem(b,c)}catch(d){}}ip.prototype.removeItem=function(a){this.BJ.removeItem(null==this.namespace?a:this.namespace+"."+a)};function jp(a){this.type=a.type;this.ua=a.ua;this.H=a.H;this.i=a.i}
jp.prototype.show=function(){var a=this,b=kp,c;a:switch(this.type){case lp:c={$y:"upgraderWelcomeDialog--freeMedia",ld:"https://static.canva.com/static/images/free_media_dialog_header.png",title:this.i.format("upgraderWelcomeDialogFreeMediaTitle",3E5),Ey:this.i.Ia("upgraderWelcomeDialogFreeMediaBodyHtml"),button:this.i.format("upgraderWelcomeDialogFreeMediaButton")};break a;default:throw Error("Could not get model for unknown UpgraderWelcomeDialog.Type: "+this.type);}b=new b({content:mp(c).$el,jf:this.type!==lp,H:this.H});
b.$el.addClass("upgraderWelcomeDialog");return np(b).tap(function(){Ko(a.ua,""+a.type)})};function op(a){a.H.setTimeout(function(){return a.show()},1500)}var lp="FREE_MEDIA",pp=new Ff("ga",!1);function qp(a){this.$el=a}r(qp,gc);
function mp(a){var b=$,c;soy.asserts.assertType(a.Ey instanceof soydata.SanitizedHtml||a.Ey instanceof soydata.UnsanitizedText||goog.isString(a.Ey),"bodyHtml",a.Ey,"soydata.SanitizedHtml");c=a.Ey;soy.asserts.assertType(goog.isString(a.button)||a.button instanceof goog.soy.data.SanitizedContent,"button",a.button,"string|goog.soy.data.SanitizedContent");var d=a.button;soy.asserts.assertType(goog.isString(a.title)||a.title instanceof goog.soy.data.SanitizedContent,"title",a.title,"string|goog.soy.data.SanitizedContent");
var e=a.title;soy.asserts.assertType(goog.isString(a.ld)||a.ld instanceof goog.soy.data.SanitizedContent,"imageUrl",a.ld,"string|goog.soy.data.SanitizedContent");var g=a.ld;soy.asserts.assertType(null==a.$y||a.$y instanceof goog.soy.data.SanitizedContent||goog.isString(a.$y),"cssClasses",a.$y,"null|string|undefined");a=a.$y;c=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cimg class\x3d"upgraderWelcomeDialog__headerImage" src\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeMediaUri(g))+'"\x3e\x3csection class\x3d"upgraderWelcomeDialog__content'+
(a?" "+soy.$$escapeHtmlAttribute(a):"")+'"\x3e\x3cheader class\x3d"upgraderWelcomeDialog__header"\x3e\x3ch2\x3e'+soy.$$escapeHtml(e)+'\x3c/h2\x3e\x3c/header\x3e\x3cdiv class\x3d"upgraderWelcomeDialog__body"\x3e'+soy.$$escapeHtml(c)+'\x3c/div\x3e\x3cfooter class\x3d"upgraderWelcomeDialog__footer"\x3e\x3cbutton class\x3d"button done upgraderWelcomeDialog__button"\x3e\x3cdiv class\x3d"upgraderWelcomeDialog__buttonContent"\x3e'+rp({za:"upgraderWelcomeDialog__buttonIcon",color:"#FFF"})+soy.$$escapeHtml(d)+
"\x3c/div\x3e\x3c/button\x3e\x3c/footer\x3e\x3c/section\x3e");b=b(c.toString());return new qp(b)};function sp(a){this.W=a.W;this.G=a.G;this.Wc=a.Wc;this.Eg=a.Eg;this.Xb=a.Xb;this.Bp=a.Bp;this.Z=a.Z;this.i=a.i;this.j=a.j;this.Oe=a.Oe;this.ua=a.ua;this.Wk=a.Wk;this.Cu=a.Cu;this.Ka=a.Ka;this.fb=a.fb;this.ub=a.ub;this.fa=a.fa}
sp.prototype.go=function(a,b,c,d,e,g){a=a&&a.content;b=new tp(b);if(!a)throw Error("Malformed document. Missing content.");up(this,a,b,c,d,e,g);d=this.G.get(pp)?lp:null;var h;try{h=jm("upgraderWelcomeDialog."+this.Wk.u())}catch(k){h=null}d&&h&&!Bo(this.Eg)&&!c.wh()&&(c=this.i,c.JR||(c.JR=new nf(c.config)),h=new jp({i:c.JR,H:hl,ua:h,type:d}),Co(h.ua,""+h.type)||op(h))};
function up(a,b,c,d,e,g,h){a.j.identify(a.Wk.u(),Dl(a.j,a.Wk).Mk());b={content:b,vc:c,l3:!(-1==lh.indexOf(d.wh())&&!d.wh()),Wc:a.Wc,Bp:a.Bp,Xb:a.Xb,fj:d,U0:g,J$:h,i:a.i,Ti:e,W:a.W,G:a.G,Cu:a.Cu,j:a.j,ub:a.ub,fa:a.fa,Ka:a.Ka,fb:a.fb,ZU:function(){var b=["C4W_UPGRADED_USER","C4W_INVITED_EXISTING_USER"],c=d.wh(),e;if(K){if(-1!=lh.indexOf(d.wh())){var g=a.i;g.ng||(g.ng=new kf(g.config));(new vp(K,d,g.ng)).go()}g=new wp(a.Z,d,a.i,a.W);if(!c&&a.ua&&"1"==a.ua.getItem("onboardingPhase")){if(a.W.G.get(Yf)){var h,
q;q=a.i;q.dL||(q.dL=new lf(q.config));q=q.dL;h=_.defaults({},h,{j:a.j,yg:"download_hint",Oe:a.Oe,FC:5,title:q.eP(),content:q.cP(),We:q.bP(),anchor:$("button.editorActionExport"),xD:"download",position:xp});new yp(h)}a.ua.setItem("onboardingPhase","2");h="first_design";a.W.G.get(qg)&&(h="appcues_first_design_1");a.j.identify(a.Wk.u(),El(new Fl,"onboarding",h).Mk())}window.CANVA_EMBED||("FREE_NEW_USER"===c?(g.go(),zp(a),e="regular"):Ap()?(g.go(),zp(a),new yp({j:a.j,yg:"five_saves_view_designs",Oe:a.Oe,
FC:5,title:id(a.i).eP(),content:$('\x3cp class\x3d"viewYourDesigns"\x3e\x3c/p\x3e').text(id(a.i).cP()),We:id(a.i).bP(),anchor:$("#editorLogo"),xD:"homepage"}),e="layouts"):-1<b.indexOf(c)&&(Bp({wh:c,fz:a.W.fz(),W8:0<=nh(d).indexOf("TEAM_TEMPLATE"),xe:gd(a.i)}).start(),e="c4w"));e&&a.j.identify(a.Wk.u(),El(new Fl,"onboarding",e).Mk())}}};Cp(b)}function zp(a){a.ua&&a.ua.setItem("onboardingPhase","1")};function Dp(a,b,c){var d=this;Date.now();this.vc=b;this.$k=a.doctype?Ep(a.doctype):null;this.c_=a.pages||[];this.yd=a.keywords||[];this.locale=a.locale||null;this.og=Yo();this.fonts=[];this.Uu=Yo();this.Ql=Yo();new Map;a.palette&&a.palette.forEach(function(a){var b="!"===a.charAt(0);if(a=mh(b?a.slice(1):a))b?Wo(this.Uu,a):(Wo(this.og,a),Wo(this.Ql,a))},this);0===this.og.gg().length&&(this.og=new To,this.Ql=new To,this.Uu.gg().forEach(function(a){Xo(this.og,a);Xo(this.Ql,a)},this));this.O=[];this.Si=
null;this.title=new Fp(c,a.title,this.lb().getName());this.title.on("change",this.W3.bind(this));this.FI={title:{},subtitle:{},body:{}};$.extend(this.FI,a.defaultFonts);this.Dr={title:{fontSize:O.l0,fontFamily:O.k0},subtitle:{fontSize:O.i0,fontFamily:O.h0},body:{fontSize:O.Vd,fontFamily:O.Ud}};$.extend(this.Dr,a.canvaDefaultFonts);a=Gp(this,a);a.pages?a.pages.forEach(function(a){d.O.push(new Hp(d,a))}):this.O.push(new Hp(this,this.Jg()));Ip(this,0);this.XM=!1}f=Dp.prototype;f.lb=function(){return this.vc};
f.Jg=function(){return this.vc.Jg()};f.trigger=Backbone.Events.trigger;f.listenTo=Backbone.Events.listenTo;f.stopListening=Backbone.Events.stopListening;f.on=Backbone.Events.on;f.once=Backbone.Events.once;f.off=Backbone.Events.off;_.extend(Dp.prototype,Backbone.Events);f=Dp.prototype;f.gi=function(){return this.Ql};
function Jp(a){var b=[];K.ia().forEach(function(c){0<c.C().parents(".group.chart").length||(c.vs&&c.vs().forEach(function(d,e){d instanceof fn&&a.equals(d)&&b.push({element:c,index:e,type:"TEXT"})}),c.bb&&c.bb().forEach(function(d,e){d instanceof fn&&a.equals(d)&&b.push({element:c,index:e,type:"FILL"})}))});return b}
f.CH=function(){var a=this,b=this.Ql,c=Yo();this.og.gg().forEach(function(a){Wo(c,a)});this.O.forEach(function(b){b.gi().gg().forEach(function(b){Vo(a.Uu,b)||Wo(c,b)})});for(var b=b.gg(),d=c.gg(),e=b.length-1,g=d.length-1;0<=e;)0>g||b[e].ra()!==d[g].ra()?this.trigger("paletteEntry:remove",b[e]):g--,e--;for(;0<=g;)this.trigger("paletteEntry:add",d[g]),g--;this.trigger("paletteEntry:sync");this.Ql=c};
f.IB=function(){var a=[];this.O.forEach(function(b){b.ia().forEach(function(b){(b instanceof Kp||b instanceof ap)&&b.kv().forEach(function(b){-1==a.indexOf(b)&&a.push(b)})})});this.fonts=a};function $n(a,b){if(pn(b)){var c=Un(a.Ql);0<c.length&&c[0]===b.ra()||(bo(a,b),Xo(a.Uu,b),a.og.unshift(b),a.Ql.unshift(b),a.trigger("paletteEntry:add",b),a.trigger("paletteEntry:sync"))}}
function bo(a,b){pn(b)&&Vo(a.Ql,b)&&(Wo(a.Uu,b),Xo(a.og,b),Xo(a.Ql,b),a.trigger("paletteEntry:remove",b),a.trigger("paletteEntry:sync"))}function Lp(a){return Un(a.og).concat(a.Uu.gg().map(function(a){return"!"+a.ra()}))}
f.serialize=function(){var a;a=this.O.reduce(function(a,c){c.Hh||a.push(c.serialize());return a},[]);a={canvaDefaultFonts:this.Dr,defaultFonts:this.FI,layout:this.lb().u(),doctype:this.$k?Mp(this.$k):null,pages:a,palette:Lp(this),title:this.title.ul()};this.yd&&0<this.yd.length&&(a.keywords=this.yd);return a};f.qb=function(){return this.title};f.Sj=function(){return this.yd};function Np(a,b){a.yd=b;""!==a.yd.join("")&&(a.trigger("change:keywords",a),a.trigger("change",a))}f.Df=function(){return this.locale};
f.setLocale=function(a){var b=this.locale;this.locale=a;this.locale!==b&&(this.trigger("change:locale",this),this.trigger("change",this))};function Op(a){return Rg(a.vc.tb).o()||(a.c_[0]||{}).height||0}function Pp(a){return Rg(a.vc.tb).l()||(a.c_[0]||{}).width||0}f.Vj=function(){return this.vc.tb.Vj()};f.Ea=function(){for(var a=0;a<this.O.length;a++)if(this.O[a].Jf())return this.O[a];return this.O[0]};function Qp(a){var b=a.Ea();return cp(a,b)}f.Gb=function(){return this.O};f.jc=function(){return this.O.length};
function Rp(a){return a.O.filter(function(a){return!a.Hh})}function Ip(a,b){b=Math.min(Math.max(0,b),a.O.length-1);b=a.O[b];var c=b.Jf();b.zk(!0);var d=b.Jf();c!==d&&a.trigger("page:change:selected",a,b)}function cp(a,b){return b?a.O.indexOf(b):-1}
function Sp(a){var b=new Hp(a,a.Jg());if(0<a.O.length){var c=Tp(a.O[a.O.length-1]);0<c.length&&(c=c[c.length-1].clone(),c.appendTo(b),c.Hb()&&Up(c))}a.O.push(b);a.trigger("page:add",a,b);b.ia().forEach(function(a){b.trigger("element:add",b,a)});return b}
function Vp(a,b,c,d){var e=a.O.indexOf(b),g=!0;!1===d&&(g=!1);Wp(b,a);-1==e?(a.O.splice(c,0,b),a.trigger("page:add",a,b,c,g)):(a.O.splice(c,0,a.O.splice(e,1)[0]),a.trigger("page:move",a,b,e,c));-1==e&&b.ia().forEach(function(a){b.trigger("element:add",b,a)})}function Xp(a,b){var c=Qp(a),d=a.O.indexOf(b);-1<d&&(a.O.splice(d,1),b.remove(),c>d&&c--,Ip(a,Math.max(0,Math.min(a.O.length-1,c))),a.trigger("page:remove",a,b,d))}
f.Wa=function(){var a=[],b=this.O.map(function(a){return a.Wa()});return a.concat.apply(a,b)};function Yp(){return K.O.some(function(a){return 0<a.Wa().length})}f.ia=function(){var a=[],b=this.O.map(function(a){return a.ia()});return a.concat.apply(a,b)};function Zp(a){a=a.ia();var b=a.filter(function(a){return a.$j()});a.filter(function(a){return a.Jv()}).forEach(function(a){a.Uz().forEach(function(a){b.push(a)})});return b}
function $p(a){var b={};Zp(a).filter(function(a){return a.Ob()}).map(function(a){return a.Ob()}).forEach(function(a){aq(yb,a)&&(b[a.u()]=a)});return _.values(b)}function bq(a){return Zp(a).some(function(a){return(a=a.Ob())&&!aq(yb,a)?!0:!1})}f.hs=function(a){return $.extend(!0,{},this.Dr[a],this.FI[a])};
function Gp(a,b){b=$.extend(!0,{},b);(function(a){var b=[];(a.pages||[]).forEach(function(a){(a.elements||[]).forEach(function(a){"text"===a.type?b.push(a):"svg"===a.type&&a.contents&&a.contents.forEach(function(a){"text"===a.type&&b.push(a)})})});return b})(b).forEach(function(b){var d=Object.keys(ec).map(function(a){return ec[a]}),e=b.style;-1<d.indexOf(e)&&(d=a.hs(e),void 0===b.fontFamily&&(b.fontFamily=d.fontFamily),void 0===b.fontSize&&(b.fontSize=d.fontSize))});return b}
function cq(a){function b(a,h){if(Array.isArray(h))h.forEach(function(e){d=d&&c(a,e);"object"==typeof e&&b(a,e)});else for(var k in h)if(h.hasOwnProperty(k)){var l=h[k];"invalid"===k&&l?(e="Invalid "+(h.type||a),d=!1):"childRange"!==k||dq(l)||(e="Invalid group childRange",d=!1);d=d&&c(k,l);"object"==typeof l&&b(k,l)}}function c(a,b){return"number"===typeof b&&isNaN(b)?(e="Invalid value NaN for "+a,!1):!0}var d=!0,e="";b("document",a);return{result:d,description:e}}
function dq(a){return!!(a&&2===a.length&&0<a[0]&&a[1]>=a[0])}f.isEmpty=function(){return 0<this.ia().length?this.ia().every(function(a){return a.Hh}):!0};f.W3=function(){this.trigger("change:title",this);this.trigger("change",this)};f.resize=function(a,b){this.vc=a;this.$k=b;this.O.forEach(function(b){b.resize(a)});this.trigger("resize");this.trigger("change")};f.wR=function(a,b,c){this.vc=b;this.$k=c;this.O.forEach(function(b,c){b.wR(a.pages[c])});this.trigger("resize");this.trigger("change")};
function eq(){return K.O.some(function(a){return a.Iv()})};function fq(){Error.captureStackTrace&&Error.captureStackTrace(this,fq)}fq.prototype=Object.create(Error.prototype);function gq(){fq.call(this)}gq.prototype=Object.create(fq.prototype);function hq(){fq.call(this)}hq.prototype=Object.create(fq.prototype);function iq(){fq.call(this)}iq.prototype=Object.create(fq.prototype);function jq(a,b,c){this.N=a;this.UK=b;this.A9=c;this.path="/documents"}function kq(a){var b=Ib,c;a:switch(c=Jb.UK(),c){case "NONE":c="NONE";break a;case "LOG":c="LOG";break a;case "THROW":c="THROW";break a;default:throw Error("unknown DocumentDeserializationMode: "+c);}return new jq(b,c,a)}f=jq.prototype;f.duplicate=function(a){return qj(this.N,this.path+"?duplicate\x3d"+encodeURIComponent(a.id),lq(a)).get(0).tap(mq(this,"CreateDocumentResponseProto (duplicate)",nq)).then(oq)};
f.delete=function(a){return qj(this.N,this.path+"/"+encodeURIComponent(a)+"?delete",null).return()};f.move=function(a,b,c){return qj(this.N,this.path+"/"+encodeURIComponent(a)+"?move",{owner:{user:b,brand:c}}).get(0).get("doc")};f.dt=function(a){return qj(this.N,this.path+"/"+encodeURIComponent(a)+"?publicify",null).return()};f.Wx=function(a){return qj(this.N,this.path+"/"+encodeURIComponent(a)+"?unpublicify",null).return()};
f.IJ=function(a){return qj(this.N,this.path+"/"+encodeURIComponent(a)+"?brandPublicify",null).return()};f.JJ=function(a){return qj(this.N,this.path+"/"+encodeURIComponent(a)+"?brandUnpublicify",null).return()};f.JC=function(a){return qj(this.N,this.path+"/"+encodeURIComponent(a)+"?templatify",null).return()};f.TC=function(a){return qj(this.N,this.path+"/"+encodeURIComponent(a)+"?untemplatify",null).return()};
f.getDocument=function(a){a=[this.path,null!=a.ag?"/"+encodeURIComponent(a.ag):"","?includePages\x3d"+encodeURIComponent(String(!!a.tA))].join("");return sj(this.N,a).get(0).tap(mq(this,"GetDocumentResponseProto",pq)).then(qq)};
function rq(a,b){b=[a.path+"?",null!=b.Y?"\x26continuation\x3d"+encodeURIComponent(b.Y):"",null!=b.ja?"\x26designType\x3d"+encodeURIComponent(b.ja):"",b.Zr?"\x26excludeApiDocuments":"",b.EL?"\x26excludeEmpty":"",0<b.wl.length?"\x26ids\x3d"+encodeURIComponent(b.wl.join(",")):"",null!=b.limit?"\x26limit\x3d"+encodeURIComponent(b.limit.toString()):"",null!=b.qd?"\x26brand\x3d"+encodeURIComponent(b.qd.D):"",null!=b.qd&&null!=b.qd.user?"\x26user\x3d"+encodeURIComponent(b.qd.user):"",0<b.tH.length?"\x26principalRoles\x3d"+
encodeURIComponent(b.tH.join(",")):"",b.zY?"\x26public":"",0<b.hS.length?"\x26withoutTags\x3d"+encodeURIComponent(b.hS.join(",")):""].join("").replace("?\x26","?");return sj(a.N,b).get(0).tap(mq(a,"FindDocumentsResponseProto",sq)).then(function(a){return{documents:a.documents.map(tq),continuation:a.continuation}})}function uq(a,b){return sj(a.N,a.path+"/"+encodeURIComponent(b)+"/acl").get(0).then(vq)}
function wq(a,b){return qj(a.N,a.path+"/"+encodeURIComponent(b.document)+"/acl",xq(b)).get(0).then(yq)}f.search=function(a){return sj(this.N,this.path+"/search?query\x3d"+encodeURIComponent(a.query)).get(0).tap(mq(this,"SearchDocumentsResponseProto",zq)).then(Aq)};function Bq(a,b){return qj(a.N,a.path+"/"+encodeURIComponent(b.ag)+"/imagesets?generate",Cq(b)).then(Dq)}function Eq(a){var b=Ab;return sj(b.N,b.path+"/"+encodeURIComponent(a)+"/media").get(0).then(Fq)}
function mq(a,b,c){return function(d){try{c(La(d))}catch(e){switch(a.UK){case "THROW":throw e;case "LOG":a.A9.log("Failed deserialization of "+b,{error:e})}}}};function Gq(){this.remix=this.edit=this.view=this["default"]=null}Gq.prototype.qV=function(){return this["default"]};Gq.prototype.vl=function(){return this.view};Gq.prototype.sV=function(){return this.edit};function Hq(a){var b=new Gq;a&&$.extend(b,a);return b}function Iq(a){this.width=a.width;this.height=a.height;this.url=a.url}function Jq(){}function oq(a){return Object.freeze(Df(Jq,a))}Jq.prototype.getDocument=function(){return tq(this.document)};Jq.prototype.getSession=function(){return this.session};
function Kq(){}function qq(a){return Object.freeze(Df(Kq,a))}Kq.prototype.getDocument=function(){return tq(this.document)};function Lq(){}Lq.prototype.o=function(){return this.height};Lq.prototype.pM=function(){return this.images};Lq.prototype.getVersion=function(){return this.version};Lq.prototype.l=function(){return this.width};function Mq(a){if(!a)return null;a=$.extend(new Lq,a);if(a.images){var b;b=(b=a.images)?b.map(Nq):null;a.images=b}return a}function Oq(){}Oq.prototype.R=function(){return this.page};
Oq.prototype.oa=function(){return this.url};Oq.prototype.getKey=function(){return this.key};function Nq(a){return a?$.extend(new Oq,a):null}function Pq(){}Pq.prototype.u=function(){return this.id};Pq.prototype.getVersion=function(){return this.version};Pq.prototype.pM=function(){return this.images};function Qq(a){a=Df(Pq,a);var b=a.images;if(b)for(var c in b)b[c]=Rq(b[c]);return a}function Fq(a){return a.map(Qq)}function Sq(){}function Aq(a){return Object.freeze(Df(Sq,a))}
Sq.prototype.Zz=function(){return this.results?this.results.map(Tq):[]};function Uq(){}function Tq(a){return Object.freeze(Df(Uq,a))}Uq.prototype.qb=function(){return this.title};Uq.prototype.u=function(){return this.id};Uq.prototype.re=function(){var a=this.thumbnail;return new Iq({width:B("width",a),height:B("height",a),url:C("url",a)})};function Vq(a){switch(a){case Wq:return Xq;case Yq:return $q;case ar:return br;case cr:return dr;case er:return fr;default:throw Error();}}
function gr(a){switch(a){case Xq:return Wq;case $q:return Yq;case br:return ar;case dr:return cr;case fr:return er;default:throw Error();}}function hr(a,b,c){return new ir({qd:new jr({user:a,D:b}),dQ:new kr({oB:lr,Pc:Vq(c)}),origin:new mr({type:nr})})}function or(){}f=or.prototype;f.jv=function(){return this.extensions};f.u=function(){return this.id};f.Ie=function(){return this.draft};f.Xp=function(){return this.tags};
function pr(a,b){if((a=a.draft)&&a.imageSets&&a.imageSets.thumbnail){a=a.imageSets.thumbnail.images;for(var c=0;c<a.length;c++)if(a[c].page==b+1)return a[c].url}return null}f.qb=function(){try{return this.draft.content.title.trim()||null}catch(a){return null}};f.getVersion=function(){var a=this.draft;return a?a.version:-1};var Wq="NONE",er="EDITOR",Yq="OWNER",cr="REMIXER",ar="VIEWER";
function zk(a,b){switch(b){case "NONE":return Wq;case "EDITOR":return er;case "OWNER":return Yq;case "REMIXER":return cr;case "VIEWER":return ar;default:throw Error('unexpected accessRole type for property "'+a+'": '+b);}}var qr={NONE:0,VIEWER:1,REMIXER:2,EDITOR:3,OWNER:4};function tq(a){var b=new or;$.extend(b,a);b.extensions=Hq(a.extensions);return b};function rr(a,b){switch(b){case "MINIMIZE_HEIGHT":return"MINIMIZE_HEIGHT";case "MAXIMIZE_FONT_SIZE":return"MAXIMIZE_FONT_SIZE";default:throw new TypeError('expected ReflowMode for property "'+a+'", found: '+JSON.stringify(b));}}function sr(a,b){switch(b){case "rows":return"COLUMN";case "columns":return"ROW";case "item":return"ITEM";default:throw new TypeError('expected GridStructureType for property "'+a+'", found: '+JSON.stringify(b));}}
function tr(a,b){switch(b){case "NON_ZERO":return"NON_ZERO";case "EVEN_ODD":return"EVEN_ODD";default:throw new TypeError('expected ShapeElementPathFillRule for property "'+a+'", found: '+JSON.stringify(b));}}function ur(a,b){switch(b){case "CHART":return"CHART";default:throw new TypeError('expected GroupGeneratorType for property "'+a+'", found: '+JSON.stringify(b));}}
function vr(a,b){switch(b){case "BAR":return"BAR";case "PIE":return"PIE";case "LINE":return"LINE";case "DONUT":return"DONUT";default:throw new TypeError('expected ChartType for property "'+a+'", found: '+JSON.stringify(b));}}function wr(a,b){switch(b){case "INTERPOLATE":return"INTERPOLATE";case "PALETTE":return"PALETTE";default:throw new TypeError('expected ColoringType for property "'+a+'", found: '+JSON.stringify(b));}}
function xr(a,b){switch(b){case "RGB":return"RGB";case "HSV":return"HSV";case "HSL":return"HSL";case "LAB":return"LAB";case "HCL":return"HCL";default:throw new TypeError('expected ColorSpace for property "'+a+'", found: '+JSON.stringify(b));}}function zr(a){this.fontFamily=a.fontFamily;this.fontSize=a.fontSize;this.bold=a.bold;this.italic=a.italic;this.Ke=a.Ke;this.letterSpacing=a.letterSpacing;this.lineHeight=a.lineHeight;this.color=a.color;this.list=a.list}f=zr.prototype;f.Lc=function(){return this.fontSize};
f.ov=function(){return this.Ke};f.ns=function(){return this.letterSpacing};f.pl=function(){return this.lineHeight};f.Lb=function(){return this.color};f.EF=function(){return this.list};function Ar(a){return new zr({fontFamily:D("fontFamily",a),fontSize:B("fontSize",a),bold:Na("bold",a),italic:Na("italic",a),Ke:D("justification",a),letterSpacing:B("letterSpacing",a),lineHeight:B("lineHeight",a),color:D("color",a),list:Na("list",a)})}function Br(a){this.title=a.title;this.sg=a.sg;this.body=a.body}
Br.prototype.qb=function(){return this.title};function Cr(a){return new Br({title:F(Ar,"title",a),sg:F(Ar,"subtitle",a),body:F(Ar,"body",a)})}function Dr(a){this.ja=a.ja;this.title=a.title;this.description=a.description;this.yd=a.yd||[];this.Dr=a.Dr;this.kU=a.kU;this.O=a.O||[];this.doctype=a.doctype;this.og=a.og||[]}f=Dr.prototype;f.qb=function(){return this.title};f.He=function(){return this.description};f.Sj=function(){return this.yd};f.Gb=function(){return this.O};f.gi=function(){return this.og};
function Er(a){return new Dr({ja:C("layout",a),title:D("title",a),description:D("description",a),yd:Ha.Bd("keywords",a),Dr:F(Cr,"canvaDefaultFonts",a),kU:F(Cr,"defaultFonts",a),O:G(Fr,"pages",a),doctype:Oa(Ep,"doctype",a),og:Ha.Bd("palette",a)})}function Gr(a){this.height=a.height;this.width=a.width;this.Vc=a.Vc;this.elements=a.elements||[];this.type=a.type;this.ja=a.ja;this.ti=a.ti}f=Gr.prototype;f.o=function(){return this.height};f.l=function(){return this.width};f.ia=function(){return this.elements};
f.lc=function(){return this.type};f.ss=function(){return this.ti};function Fr(a){return new Gr({height:A("height",a),width:A("width",a),Vc:B("dpi",a),elements:G(Hr,"elements",a),type:D("type",a),ja:F(Ym,"layout",a),ti:F(Ir,"resizeContentBox",a)})}function Jr(a){this.type=a.type;this.top=a.top;this.left=a.left;this.height=a.height;this.width=a.width;this.Ha=a.Ha;this.rotation=a.rotation;this.link=a.link;this.Uc=a.Uc;this.index=a.index;this.Hd=a.Hd;this.Od=a.Od;this.origin=a.origin}f=Jr.prototype;
f.w=function(){return this.top};f.F=function(){return this.left};f.o=function(){return this.height};f.l=function(){return this.width};f.NF=function(){return this.Ha};f.Ta=function(){return this.rotation};f.mn=function(){return this.link};f.K=function(){return this.index};f.Ef=function(){return this.origin};
function Hr(a){switch(a.type){case "image":return w("image"===a.type),new Kr({top:A("top",a),left:A("left",a),height:A("height",a),width:A("width",a),Ha:B("transparency",a),rotation:B("rotation",a),link:D("link",a),Uc:Ma("userEdited",a),index:B("index",a),Hd:B("elementIndex",a),Od:B("groupIndex",a),origin:F(Lr,"origin",a),ya:B("flipOrientation",a),filter:F(Mr,"filter",a),ba:D("mediaId",a),ca:B("mediaVersion",a),hb:Na("mediaApproved",a),Hb:Na("isBackground",a),oc:Na("isRecolorable",a),ae:Na("isCutout",
a),If:Na("isDark",a),backgroundColor:D("backgroundColor",a),Ba:F(Ir,"imageBox",a),Xc:G(Nr,"fillColors",a)});case "text":return w("text"===a.type),new Or({top:A("top",a),left:A("left",a),height:A("height",a),width:A("width",a),Ha:B("transparency",a),rotation:B("rotation",a),link:D("link",a),Uc:Ma("userEdited",a),index:B("index",a),Hd:B("elementIndex",a),Od:B("groupIndex",a),origin:F(Lr,"origin",a),ya:B("flipOrientation",a),style:D("style",a),html:D("html",a),fontFamily:D("fontFamily",a),fontSize:B("fontSize",
a),color:D("color",a),bold:Na("bold",a),italic:Na("italic",a),list:Na("list",a),kl:F(Ym,"fontMedia",a),An:G(Ym,"htmlFontMedia",a),Ke:D("justification",a),ke:D("verticalAlignment",a),letterSpacing:B("letterSpacing",a),lineHeight:B("lineHeight",a),Bl:Ja.Bd("lineLengths",a),padding:B("padding",a),textTransform:D("textTransform",a),border:F(Pr,"border",a),mG:G(Qr,"kerning",a),GH:Qa(rr,"reflowMode",a),Eh:F(Rr,"stylesOverriden",a)});case "svg":return w("svg"===a.type),new Sr({top:A("top",a),left:A("left",
a),height:A("height",a),width:A("width",a),Ha:B("transparency",a),rotation:B("rotation",a),link:D("link",a),Uc:Ma("userEdited",a),index:B("index",a),Hd:B("elementIndex",a),Od:B("groupIndex",a),origin:F(Lr,"origin",a),ya:B("flipOrientation",a),ba:D("mediaId",a),ca:B("mediaVersion",a),hb:Na("mediaApproved",a),Hb:Na("isBackground",a),oc:Na("isRecolorable",a),ae:Na("isCutout",a),contents:G(Tr,"contents",a),scale:B("scale",a),Xc:G(Nr,"fillColors",a),Ei:F(Ur,"svgMetadata",a)});case "graphic":return w("graphic"===
a.type),new Vr({top:A("top",a),left:A("left",a),height:A("height",a),width:A("width",a),Ha:B("transparency",a),rotation:B("rotation",a),link:D("link",a),Uc:Ma("userEdited",a),index:B("index",a),Hd:B("elementIndex",a),Od:B("groupIndex",a),origin:F(Lr,"origin",a),ya:B("flipOrientation",a),ba:D("mediaId",a),ca:B("mediaVersion",a),hb:Na("mediaApproved",a),scale:B("scale",a),Xc:G(Nr,"fillColors",a),Sg:F(Wr,"spritesheetMetadata",a)});case "grid":return w("grid"===a.type),new Xr({top:A("top",a),left:A("left",
a),height:A("height",a),width:A("width",a),Ha:B("transparency",a),rotation:B("rotation",a),link:D("link",a),Uc:Ma("userEdited",a),index:B("index",a),Hd:B("elementIndex",a),Od:B("groupIndex",a),origin:F(Lr,"origin",a),ya:B("flipOrientation",a),spacing:B("spacing",a),items:G(Yr,"items",a),contents:G(Zr,"contents",a),Xc:G(Nr,"fillColors",a)});case "group":return w("group"===a.type),new $r({top:A("top",a),left:A("left",a),height:A("height",a),width:A("width",a),Ha:B("transparency",a),rotation:B("rotation",
a),link:D("link",a),Uc:Ma("userEdited",a),index:B("index",a),Hd:B("elementIndex",a),Od:B("groupIndex",a),origin:F(Lr,"origin",a),RD:Ja.Bd("childRange",a),wF:Qa(ur,"generatorType",a),zb:F(as,"chart",a)});case "shape":return w("shape"===a.type),new bs({top:A("top",a),left:A("left",a),height:A("height",a),width:A("width",a),Ha:B("transparency",a),rotation:B("rotation",a),link:D("link",a),Uc:Ma("userEdited",a),index:B("index",a),Hd:B("elementIndex",a),Od:B("groupIndex",a),origin:F(Lr,"origin",a),ya:B("flipOrientation",
a),viewBox:F(Ir,"viewBox",a),oj:G(cs,"paths",a)});default:throw Error("unknown case: "+a.type);}}
function Kr(a){Jr.call(this,{type:"IMAGE",top:a.top,left:a.left,height:a.height,width:a.width,Ha:a.Ha,rotation:a.rotation,link:a.link,Uc:a.Uc,index:a.index,Hd:a.Hd,Od:a.Od,origin:a.origin,ya:a.ya,filter:a.filter,ba:a.ba,ca:a.ca,hb:a.hb,Hb:a.Hb,oc:a.oc,ae:a.ae,If:a.If,backgroundColor:a.backgroundColor,Ba:a.Ba,Xc:a.Xc});this.ya=a.ya;this.filter=a.filter;this.ba=a.ba;this.ca=a.ca;this.hb=a.hb;this.Hb=a.Hb;this.oc=a.oc;this.ae=a.ae;this.If=a.If;this.backgroundColor=a.backgroundColor;this.Ba=a.Ba;this.Xc=
a.Xc||[]}r(Kr,Jr);f=Kr.prototype;f.nM=function(){return this.filter};f.Qp=function(){return this.ba};f.qs=function(){return this.ca};f.qM=function(){return this.If};f.lh=function(){return this.backgroundColor};f.ln=function(){return this.Ba};
function Or(a){Jr.call(this,{type:"TEXT",top:a.top,left:a.left,height:a.height,width:a.width,Ha:a.Ha,rotation:a.rotation,link:a.link,Uc:a.Uc,index:a.index,Hd:a.Hd,Od:a.Od,origin:a.origin,ya:a.ya,style:a.style,html:a.html,fontFamily:a.fontFamily,fontSize:a.fontSize,color:a.color,bold:a.bold,italic:a.italic,list:a.list,kl:a.kl,An:a.An,Ke:a.Ke,ke:a.ke,letterSpacing:a.letterSpacing,lineHeight:a.lineHeight,Bl:a.Bl,padding:a.padding,textTransform:a.textTransform,border:a.border,mG:a.mG,GH:a.GH,Eh:a.Eh});
this.ya=a.ya;this.style=a.style;this.html=a.html;this.fontFamily=a.fontFamily;this.fontSize=a.fontSize;this.color=a.color;this.bold=a.bold;this.italic=a.italic;this.list=a.list;this.kl=a.kl;this.An=a.An||[];this.Ke=a.Ke;this.ke=a.ke;this.letterSpacing=a.letterSpacing;this.lineHeight=a.lineHeight;this.Bl=a.Bl||[];this.padding=a.padding;this.textTransform=a.textTransform;this.border=a.border;this.mG=a.mG||[];this.GH=a.GH;this.Eh=a.Eh}r(Or,Jr);f=Or.prototype;f.Lc=function(){return this.fontSize};
f.Lb=function(){return this.color};f.EF=function(){return this.list};f.ov=function(){return this.Ke};f.ws=function(){return this.ke};f.ns=function(){return this.letterSpacing};f.pl=function(){return this.lineHeight};f.rs=function(){return this.padding};
function Sr(a){Jr.call(this,{type:"SVG",top:a.top,left:a.left,height:a.height,width:a.width,Ha:a.Ha,rotation:a.rotation,link:a.link,Uc:a.Uc,index:a.index,Hd:a.Hd,Od:a.Od,origin:a.origin,ya:a.ya,ba:a.ba,ca:a.ca,hb:a.hb,Hb:a.Hb,oc:a.oc,ae:a.ae,contents:a.contents,scale:a.scale,Xc:a.Xc,Ei:a.Ei});this.ya=a.ya;this.ba=a.ba;this.ca=a.ca;this.hb=a.hb;this.Hb=a.Hb;this.oc=a.oc;this.ae=a.ae;this.contents=a.contents||[];this.scale=a.scale;this.Xc=a.Xc||[];this.Ei=a.Ei}r(Sr,Jr);Sr.prototype.Qp=function(){return this.ba};
Sr.prototype.qs=function(){return this.ca};function Vr(a){Jr.call(this,{type:"GRAPHIC",top:a.top,left:a.left,height:a.height,width:a.width,Ha:a.Ha,rotation:a.rotation,link:a.link,Uc:a.Uc,index:a.index,Hd:a.Hd,Od:a.Od,origin:a.origin,ya:a.ya,ba:a.ba,ca:a.ca,hb:a.hb,scale:a.scale,Xc:a.Xc,Sg:a.Sg});this.ya=a.ya;this.ba=a.ba;this.ca=a.ca;this.hb=a.hb;this.scale=a.scale;this.Xc=a.Xc||[];this.Sg=a.Sg}r(Vr,Jr);Vr.prototype.Qp=function(){return this.ba};Vr.prototype.qs=function(){return this.ca};
Vr.prototype.us=function(){return this.Sg};function Xr(a){Jr.call(this,{type:"GRID",top:a.top,left:a.left,height:a.height,width:a.width,Ha:a.Ha,rotation:a.rotation,link:a.link,Uc:a.Uc,index:a.index,Hd:a.Hd,Od:a.Od,origin:a.origin,ya:a.ya,spacing:a.spacing,items:a.items,contents:a.contents,Xc:a.Xc});this.ya=a.ya;this.spacing=a.spacing;this.items=a.items||[];this.contents=a.contents||[];this.Xc=a.Xc||[]}r(Xr,Jr);Xr.prototype.pe=function(){return this.spacing};Xr.prototype.Cf=function(){return this.items};
function $r(a){Jr.call(this,{type:"GROUP",top:a.top,left:a.left,height:a.height,width:a.width,Ha:a.Ha,rotation:a.rotation,link:a.link,Uc:a.Uc,index:a.index,Hd:a.Hd,Od:a.Od,origin:a.origin,RD:a.RD,wF:a.wF,zb:a.zb});this.RD=a.RD||[];this.wF=a.wF;this.zb=a.zb}r($r,Jr);
function bs(a){Jr.call(this,{type:"SHAPE",top:a.top,left:a.left,height:a.height,width:a.width,Ha:a.Ha,rotation:a.rotation,link:a.link,Uc:a.Uc,index:a.index,Hd:a.Hd,Od:a.Od,origin:a.origin,ya:a.ya,viewBox:a.viewBox,oj:a.oj});this.ya=a.ya;this.viewBox=a.viewBox;this.oj=a.oj||[]}r(bs,Jr);function ds(a){this.fontFamily=a.fontFamily;this.fontSize=a.fontSize;this.bold=a.bold;this.italic=a.italic;this.Ke=a.Ke;this.color=a.color}ds.prototype.Lc=function(){return this.fontSize};ds.prototype.ov=function(){return this.Ke};
ds.prototype.Lb=function(){return this.color};function Rr(a){return new ds({fontFamily:Na("fontFamily",a),fontSize:Na("fontSize",a),bold:Na("bold",a),italic:Na("italic",a),Ke:Na("justification",a),color:Na("color",a)})}function es(a){this.type=a.type;this.index=a.index;this.origin=a.origin}es.prototype.K=function(){return this.index};es.prototype.Ef=function(){return this.origin};
function Tr(a){switch(a.type){case "text":return w("text"===a.type),new fs({index:A("index",a),origin:F(Lr,"origin",a),html:D("html",a),left:A("left",a),top:A("top",a),width:A("width",a),height:A("height",a),fontFamily:D("fontFamily",a),fontSize:B("fontSize",a),italic:Na("italic",a),bold:Na("bold",a),Ke:D("justification",a),list:Na("list",a),textTransform:D("textTransform",a),color:D("color",a),Bl:Ja.Bd("lineLengths",a),letterSpacing:B("letterSpacing",a),lineHeight:A("lineHeight",a),kl:F(Ym,"fontMedia",
a),An:G(Ym,"htmlFontMedia",a),ko:B("preferredFontSize",a)});case "image":return Zr(a);default:throw Error("unknown case: "+a.type);}}
function fs(a){es.call(this,{type:"TEXT",index:a.index,origin:a.origin,html:a.html,left:a.left,top:a.top,width:a.width,height:a.height,fontFamily:a.fontFamily,fontSize:a.fontSize,italic:a.italic,bold:a.bold,Ke:a.Ke,list:a.list,textTransform:a.textTransform,color:a.color,Bl:a.Bl,letterSpacing:a.letterSpacing,lineHeight:a.lineHeight,kl:a.kl,An:a.An,ko:a.ko});this.html=a.html;this.left=a.left;this.top=a.top;this.width=a.width;this.height=a.height;this.fontFamily=a.fontFamily;this.fontSize=a.fontSize;
this.italic=a.italic;this.bold=a.bold;this.Ke=a.Ke;this.list=a.list;this.textTransform=a.textTransform;this.color=a.color;this.Bl=a.Bl||[];this.letterSpacing=a.letterSpacing;this.lineHeight=a.lineHeight;this.kl=a.kl;this.An=a.An||[];this.ko=a.ko}r(fs,es);f=fs.prototype;f.F=function(){return this.left};f.w=function(){return this.top};f.l=function(){return this.width};f.o=function(){return this.height};f.Lc=function(){return this.fontSize};f.ov=function(){return this.Ke};f.EF=function(){return this.list};
f.Lb=function(){return this.color};f.ns=function(){return this.letterSpacing};f.pl=function(){return this.lineHeight};function gs(a){es.call(this,{type:"IMAGE",index:a.index,origin:a.origin,ba:a.ba,vG:a.vG,ca:a.ca,Ba:a.Ba,ya:a.ya,backgroundColor:a.backgroundColor,hb:a.hb,filter:a.filter});this.ba=a.ba;this.vG=a.vG;this.ca=a.ca;this.Ba=a.Ba;this.ya=a.ya;this.backgroundColor=a.backgroundColor;this.hb=a.hb;this.filter=a.filter}r(gs,es);f=gs.prototype;f.Qp=function(){return this.ba};f.qs=function(){return this.ca};
f.ln=function(){return this.Ba};f.lh=function(){return this.backgroundColor};f.nM=function(){return this.filter};function Zr(a){w("image"===a.type);return new gs({index:A("index",a),origin:F(Lr,"origin",a),ba:D("mediaId",a),vG:D("localMediaId",a),ca:B("mediaVersion",a),Ba:F(Ir,"imageBox",a),ya:A("flipOrientation",a),backgroundColor:D("backgroundColor",a),hb:Na("mediaApproved",a),filter:F(Mr,"filter",a)})}function hs(a){this.width=a.width}hs.prototype.l=function(){return this.width};
function Pr(a){return new hs({width:A("width",a)})}function is(a){this.SX=a.SX;this.du=a.du}function Qr(a){return new is({SX:C("pair",a),du:A("adjustment",a)})}function js(a){this.type=a.type;this.width=a.width;this.height=a.height;this.children=a.children||[]}js.prototype.lc=function(){return this.type};js.prototype.l=function(){return this.width};js.prototype.o=function(){return this.height};js.prototype.getChildren=function(){return this.children};
function Yr(a){return new js({type:Qa(sr,"type",a),width:B("width",a),height:B("height",a),children:G(Yr,"children",a)})}function ks(a){this.top=a.top;this.left=a.left;this.width=a.width;this.height=a.height}ks.prototype.w=function(){return this.top};ks.prototype.F=function(){return this.left};ks.prototype.l=function(){return this.width};ks.prototype.o=function(){return this.height};function Ir(a){return new ks({top:A("top",a),left:A("left",a),width:A("width",a),height:A("height",a)})}
function ls(a){this.index=a.index;this.color=a.color}ls.prototype.K=function(){return this.index};ls.prototype.Lb=function(){return this.color};function Nr(a){return new ls({index:A("index",a),color:C("color",a)})}function ms(a){this.viewBox=a.viewBox;this.e_=a.e_||[];this.cY=a.cY||[];this.ET=a.ET;this.i_=a.i_}function Ur(a){return new ms({viewBox:Oa(Ir,"viewBox",a),e_:G(Ir,"textHolderBoxes",a),cY:G(Ir,"photoHolderBoxes",a),ET:F(Ir,"centerBox",a),i_:Na("tile",a)})}
function ns(a){this.blur=a.blur;this.brightness=a.brightness;this.contrast=a.contrast;this.saturation=a.saturation;this.sf=a.sf;this.vignette=a.vignette;this.Zf=a.Zf;this.Gh=a.Gh;this.name=a.name}ns.prototype.hv=function(){return this.brightness};ns.prototype.xV=function(){return this.saturation};ns.prototype.getName=function(){return this.name};
function Mr(a){return new ns({blur:B("blur",a),brightness:B("brightness",a),contrast:B("contrast",a),saturation:B("saturation",a),sf:B("tint",a),vignette:B("vignette",a),Zf:B("xpro",a),Gh:B("tintAmount",a),name:D("name",a)})}function os(a){this.fill=a.fill;this.jl=a.jl;this.d=a.d}function cs(a){return new os({fill:C("fill",a),jl:Qa(tr,"fillRule",a),d:C("d",a)})}function ps(a){this.name=a.name;this.cells=a.cells||[]}ps.prototype.getName=function(){return this.name};
function qs(a){return new ps({name:D("name",a),cells:Ha.Bd("cells",a)})}function rs(a){this.ta=a.ta||[]}function ss(a){return new rs({ta:G(qs,"columns",a)})}function ts(a){this.data=a.data;this.uW=a.uW;this.Zc=a.Zc;this.HA=a.HA;this.ST=a.ST;this.As=a.As;this.og=a.og;this.Wi=a.Wi;this.fY=a.fY;this.kT=a.kT;this.JW=a.JW;this.zU=a.zU}ts.prototype.getData=function(){return this.data};ts.prototype.ls=function(){return this.Zc};ts.prototype.rM=function(){return this.HA};ts.prototype.gi=function(){return this.og};
function as(a){return new ts({data:Oa(ss,"data",a),uW:B("labelColumn",a),Zc:Oa(Ar,"labelTextStyle",a),HA:F(Ym,"labelFontMedia",a),ST:Pa(wr,"coloringType",a),As:F(us,"interpolation",a),og:F(vs,"palette",a),Wi:Pa(vr,"chartType",a),fY:F(ws,"pie",a),kT:F(xs,"bar",a),JW:F(ys,"line",a),zU:F(zs,"donut",a)})}function As(a){this.spacing=a.spacing;this.padding=a.padding}As.prototype.pe=function(){return this.spacing};As.prototype.rs=function(){return this.padding};
function ws(a){return new As({spacing:B("spacing",a),padding:B("padding",a)})}function Bs(a){this.spacing=a.spacing;this.padding=a.padding}Bs.prototype.pe=function(){return this.spacing};Bs.prototype.rs=function(){return this.padding};function xs(a){return new Bs({spacing:B("spacing",a),padding:B("padding",a)})}function Cs(a){this.spacing=a.spacing;this.padding=a.padding}Cs.prototype.pe=function(){return this.spacing};Cs.prototype.rs=function(){return this.padding};
function ys(a){return new Cs({spacing:B("spacing",a),padding:B("padding",a)})}function Ds(a){this.spacing=a.spacing;this.padding=a.padding}Ds.prototype.pe=function(){return this.spacing};Ds.prototype.rs=function(){return this.padding};function zs(a){return new Ds({spacing:B("spacing",a),padding:B("padding",a)})}function Es(a){this.QT=a.QT;this.from=a.from;this.to=a.to}Es.prototype.kn=function(){return this.from};
function us(a){return new Es({QT:Pa(xr,"colorSpace",a),from:C("from",a),to:C("to",a)})}function Fs(a){this.zc=a.zc||[]}Fs.prototype.gg=function(){return this.zc};function vs(a){return new Fs({zc:Ha.Bd("colors",a)})}function Gs(a){this.type=a.type}
function Lr(a){switch(a.type){case "CANVA":return w("CANVA"===a.type),new Hs;case "FACEBOOK":return w("FACEBOOK"===a.type),new Is;case "LAYOUT":return w("LAYOUT"===a.type),new Js({id:C("id",a),version:A("version",a)});case "DOCUMENT":return w("DOCUMENT"===a.type),new Ks({id:C("id",a),version:A("version",a)});default:throw Error("unknown case: "+a.type);}}function Hs(){this.type="CANVA"}r(Hs,Gs);function Is(){this.type="FACEBOOK"}r(Is,Gs);
function Js(a){this.type="LAYOUT";this.id=a.id;this.version=a.version}r(Js,Gs);Js.prototype.u=function(){return this.id};Js.prototype.getVersion=function(){return this.version};function Ks(a){this.type="DOCUMENT";this.id=a.id;this.version=a.version}r(Ks,Gs);Ks.prototype.u=function(){return this.id};Ks.prototype.getVersion=function(){return this.version};function Ls(a,b){switch(b){case "USER":return"USER";case "GROUP":return"GROUP";case "BRAND":return"BRAND";case "EXTENSION":return"EXTENSION";case "DEFAULT":return"DEFAULT";default:throw new TypeError('expected AccessControlListActorType for property "'+a+'", found: '+JSON.stringify(b));}}var Xq="NONE",br="VIEWER",dr="REMIXER",fr="EDITOR",$q="OWNER";
function Ms(a,b){switch(b){case Xq:return"NONE";case br:return"VIEWER";case dr:return"REMIXER";case fr:return"EDITOR";case $q:return"OWNER";default:throw new TypeError('expected AccessControlListRole for property "'+a+'", found: '+JSON.stringify(b));}}
function Ns(a,b){switch(b){case "NONE":return Xq;case "VIEWER":return br;case "REMIXER":return dr;case "EDITOR":return fr;case "OWNER":return $q;default:throw new TypeError('expected AccessControlListRole for property "'+a+'", found: '+JSON.stringify(b));}}var nr="MANUAL";function Os(a,b){switch(b){case nr:return"MANUAL";case "FOLDER":return"FOLDER";default:throw new TypeError('expected AccessControlListOriginType for property "'+a+'", found: '+JSON.stringify(b));}}
function Ps(a,b){switch(b){case "MANUAL":return nr;case "FOLDER":return"FOLDER";default:throw new TypeError('expected AccessControlListOriginType for property "'+a+'", found: '+JSON.stringify(b));}}function Qs(a,b){switch(b){case "CENTIMETERS":return"CENTIMETERS";case "INCHES":return"INCHES";case "MILLIMETERS":return"MILLIMETERS";case "PIXELS":return"PIXELS";default:throw new TypeError('expected Units for property "'+a+'", found: '+JSON.stringify(b));}}
function Rs(a,b){switch(b){case "CENTIMETERS":return"CENTIMETERS";case "INCHES":return"INCHES";case "MILLIMETERS":return"MILLIMETERS";case "PIXELS":return"PIXELS";default:throw new TypeError('expected Units for property "'+a+'", found: '+JSON.stringify(b));}}
function Ss(a,b){switch(b){case "ANDROID_1":return"android-1";case "ANDROID_2":return"android-2";case "IOS_1":return"ios-1";case "IOS_1_1":return"ios-1.1";case "IOS_2":return"ios-2";case "WEB_1":return"web-1";case "WEB_2":return"web-2";default:throw new TypeError('expected Schema for property "'+a+'", found: '+JSON.stringify(b));}}
function sh(a,b){switch(b){case "android-1":return"ANDROID_1";case "android-2":return"ANDROID_2";case "ios-1":return"IOS_1";case "ios-1.1":return"IOS_1_1";case "ios-2":return"IOS_2";case "web-1":return"WEB_1";case "web-2":return"WEB_2";default:throw new TypeError('expected Schema for property "'+a+'", found: '+JSON.stringify(b));}}
function Ts(a,b){switch(b){case "LOSSLESS":return"LOSSLESS";case "EDITING_AFFECTED":return"EDITING_AFFECTED";case "RENDERING_AFFECTED":return"RENDERING_AFFECTED";case "UNREPRESENTABLE":return"UNREPRESENTABLE";default:throw new TypeError('expected ConversionLoss for property "'+a+'", found: '+JSON.stringify(b));}}var lr="SET";
function Us(a,b){switch(b){case lr:return"SET";case "DOWNGRADE":return"DOWNGRADE";case "UPGRADE":return"UPGRADE";default:throw new TypeError('expected RoleChangeOp for property "'+a+'", found: '+JSON.stringify(b));}}function Vs(a,b){switch(b){case "LOW":return"LOW";case "MEDIUM":return"MEDIUM";default:throw new TypeError('expected ImagesetsGenerationPriority for property "'+a+'", found: '+JSON.stringify(b));}}function Ws(a){this.rules=a.rules||[];this.version=a.version;this.Zn=a.Zn}
Ws.prototype.getVersion=function(){return this.version};function Xs(a){return new Ws({rules:G(Ys,"rules",a),version:A("version",a),Zn:Oa(Zs,"owner",a)})}function $s(a){this.type=a.type;this.qd=a.qd;this.Pc=a.Pc;this.origin=a.origin;this.timestamp=a.timestamp}$s.prototype.lc=function(){return this.type};$s.prototype.ts=function(){return this.Pc};$s.prototype.Ef=function(){return this.origin};$s.prototype.un=function(){return this.timestamp};
function Ys(a){return new $s({type:Pa(Ls,"type",a),qd:F(Zs,"principal",a),Pc:Pa(Ns,"role",a),origin:F(at,"origin",a),timestamp:B("timestamp",a)})}function jr(a){this.D=a.D;this.group=a.group;this.user=a.user}jr.prototype.ka=function(){return this.D};jr.prototype.oM=function(){return this.group};jr.prototype.La=function(){return this.user};function bt(a){return{brand:ib("brand",a.D),group:I("group",a.group),user:I("user",a.user)}}
function Zs(a){return new jr({D:C("brand",a),group:D("group",a),user:D("user",a)})}function mr(a){this.type=a.type;this.id=a.id}mr.prototype.lc=function(){return this.type};mr.prototype.u=function(){return this.id};function ct(a){return{type:lb(Os,"type",a.type),id:I("id",a.id)}}function at(a){return new mr({type:Pa(Ps,"type",a),id:D("id",a)})}function dt(a){this.default=a.default;this.view=a.view;this.OY=a.OY;this.iL=a.iL}dt.prototype.qV=function(){return this.default};dt.prototype.vl=function(){return this.view};
dt.prototype.sV=function(){return this.iL};function et(a){return new dt({default:D("default",a),view:D("view",a),OY:D("remix",a),iL:D("edit",a)})}function ft(a){this.type=a.type}function Mp(a){switch(a.type){case "REFERENCE":return{type:"REFERENCE",id:ib("id",a.id),version:db("version",a.version)};case "INLINE":return{type:"INLINE",width:db("width",a.width),height:db("height",a.height),units:lb(Qs,"units",a.units)};default:throw Error();}}
function Ep(a){switch(a.type){case "REFERENCE":return w("REFERENCE"===a.type),new gt({id:C("id",a),version:A("version",a)});case "INLINE":return w("INLINE"===a.type),new ht({width:A("width",a),height:A("height",a),units:Pa(Rs,"units",a)});default:throw Error("unknown case: "+a.type);}}function gt(a){this.type="REFERENCE";this.id=a.id;this.version=a.version}r(gt,ft);gt.prototype.u=function(){return this.id};gt.prototype.getVersion=function(){return this.version};
function ht(a){this.type="INLINE";this.width=a.width;this.height=a.height;this.units=a.units}r(ht,ft);ht.prototype.l=function(){return this.width};ht.prototype.o=function(){return this.height};ht.prototype.Vj=function(){return this.units};function it(a){this.id=a.id;this.version=a.version}it.prototype.u=function(){return this.id};it.prototype.getVersion=function(){return this.version};function jt(a){return new it({id:C("id",a),version:A("version",a)})}
function kt(a){this.id=a.id;this.kk=a.kk;this.xf=a.xf;this.origin=a.origin;this.Zm=a.Zm;this.tags=a.tags||[];this.Ae=a.Ae;this.Jj=a.Jj;this.version=a.version;this.timestamp=a.timestamp;this.RC=a.RC;this.Ty=a.Ty||new Map}f=kt.prototype;f.u=function(){return this.id};f.Ef=function(){return this.origin};f.jv=function(){return this.Zm};f.Xp=function(){return this.tags};f.Qj=function(){return this.Ae};f.Ie=function(){return this.Jj};f.getVersion=function(){return this.version};f.un=function(){return this.timestamp};
function lt(a){return new kt({id:C("id",a),kk:C("owningBrand",a),xf:A("creationDate",a),origin:F(jt,"origin",a),Zm:F(et,"extensions",a),tags:Ha.Bd("tags",a),Ae:F(Xs,"acl",a),Jj:Oa(mt,"draft",a),version:A("version",a),timestamp:B("timestamp",a),RC:F(nt,"trashed",a),Ty:Ta(Ua,Wa,"contributors",a)})}function ot(a){this.timestamp=a.timestamp}ot.prototype.un=function(){return this.timestamp};function nt(a){return new ot({timestamp:A("timestamp",a)})}
function pt(a){this.content=a.content;this.Bh=a.Bh;this.version=a.version;this.timestamp=a.timestamp;this.pa=a.pa;this.od=a.od;this.zN=a.zN||[];this.rA=a.rA;this.Si=a.Si}f=pt.prototype;f.getContent=function(){return this.content};f.getVersion=function(){return this.version};f.un=function(){return this.timestamp};f.getSession=function(){return this.pa};f.jc=function(){return this.od};f.DF=function(){return this.zN};f.fM=function(){return this.Si};
function mt(a){return new pt({content:Oa(qt,"content",a),Bh:C("schema",a),version:A("version",a),timestamp:A("timestamp",a),pa:B("session",a),od:A("pageCount",a),zN:G(Ym,"layouts",a),rA:Oa(rt,"imageSets",a),Si:D("associatedMedia",a)})}function st(a){this.title=a.title;this.description=a.description;this.yd=a.yd||[];this.doctype=a.doctype}st.prototype.qb=function(){return this.title};st.prototype.He=function(){return this.description};st.prototype.Sj=function(){return this.yd};
function qt(a){return new st({title:D("title",a),description:D("description",a),yd:Ha.Bd("keywords",a),doctype:Oa(Ep,"doctype",a)})}function tt(a){this.ud=a.ud;this.Bw=a.Bw}tt.prototype.re=function(){return this.ud};function rt(a){return new tt({ud:Oa(ut,"thumbnail",a),Bw:F(ut,"preview",a)})}function vt(a){this.height=a.height;this.width=a.width;this.version=a.version;this.images=a.images||[]}vt.prototype.o=function(){return this.height};vt.prototype.l=function(){return this.width};
vt.prototype.getVersion=function(){return this.version};vt.prototype.pM=function(){return this.images};function ut(a){return new vt({height:A("height",a),width:A("width",a),version:A("version",a),images:G(wt,"images",a)})}function xt(a){this.bucket=a.bucket;this.key=a.key;this.page=a.page;this.url=a.url}xt.prototype.getKey=function(){return this.key};xt.prototype.R=function(){return this.page};xt.prototype.oa=function(){return this.url};
function wt(a){return new xt({bucket:C("bucket",a),key:C("key",a),page:A("page",a),url:D("url",a)})}function yt(a){this.width=a.width;this.height=a.height;this.url=a.url}yt.prototype.l=function(){return this.width};yt.prototype.o=function(){return this.height};yt.prototype.oa=function(){return this.url};function zt(a){return new yt({width:B("width",a),height:B("height",a),url:C("url",a)})}function At(a){this.id=a.id;this.version=a.version;this.M_=a.M_}At.prototype.u=function(){return this.id};
At.prototype.getVersion=function(){return this.version};function Bt(a){return new At({id:C("id",a),version:A("version",a),M_:D("usedCharacters",a)})}function Ct(a){this.id=a.id;this.title=a.title;this.PT=a.PT||new Map}Ct.prototype.u=function(){return this.id};Ct.prototype.qb=function(){return this.title};function lq(a){return{id:ib("id",a.id),title:I("title",a.title),colorReplacements:ob(qb,tb,"colorReplacements",a.PT)}}
function Dt(a){this.ag=a.ag;this.version=a.version;this.pa=a.pa;this.Ye=a.Ye;this.V0=a.V0||[];this.tA=a.tA;this.h4=a.h4;this.C9=a.C9||[]}Dt.prototype.getVersion=function(){return this.version};Dt.prototype.getSession=function(){return this.pa};Dt.prototype.getExtension=function(){return this.Ye};function Et(a){this.type=a.type;this.id=a.id;this.version=a.version}Et.prototype.u=function(){return this.id};Et.prototype.getVersion=function(){return this.version};
function Ft(a){switch(a.type){case "RASTER":return w("RASTER"===a.type),new Gt({id:C("id",a),version:A("version",a),files:G(Ht,"files",a)});case "VECTOR":return w("VECTOR"===a.type),new It({id:C("id",a),version:A("version",a),files:G(Ht,"files",a),Sg:F(Wr,"spritesheetMetadata",a)});case "DESIGN":return w("DESIGN"===a.type),new Jt({id:C("id",a),version:A("version",a),files:G(Ht,"files",a)});case "FONT":return w("FONT"===a.type),new Kt({id:C("id",a),version:A("version",a),files:G(Lt,"files",a)});case "ELEMENT_GROUP":return w("ELEMENT_GROUP"===
a.type),new Mt({id:C("id",a),version:A("version",a),files:G(Ht,"files",a)});case "UNKNOWN":return w("UNKNOWN"===a.type),new Nt({id:C("id",a),version:A("version",a),files:G(Ot,"files",a)});default:throw Error("unknown case: "+a.type);}}function Gt(a){Et.call(this,{type:"RASTER",id:a.id,version:a.version,files:a.files});this.files=a.files||[]}r(Gt,Et);Gt.prototype.ic=function(){return this.files};
function It(a){Et.call(this,{type:"VECTOR",id:a.id,version:a.version,files:a.files,Sg:a.Sg});this.files=a.files||[];this.Sg=a.Sg}r(It,Et);It.prototype.ic=function(){return this.files};It.prototype.us=function(){return this.Sg};function Jt(a){Et.call(this,{type:"DESIGN",id:a.id,version:a.version,files:a.files});this.files=a.files||[]}r(Jt,Et);Jt.prototype.ic=function(){return this.files};function Kt(a){Et.call(this,{type:"FONT",id:a.id,version:a.version,files:a.files});this.files=a.files||[]}
r(Kt,Et);Kt.prototype.ic=function(){return this.files};function Mt(a){Et.call(this,{type:"ELEMENT_GROUP",id:a.id,version:a.version,files:a.files});this.files=a.files||[]}r(Mt,Et);Mt.prototype.ic=function(){return this.files};function Nt(a){Et.call(this,{type:"UNKNOWN",id:a.id,version:a.version,files:a.files});this.files=a.files||[]}r(Nt,Et);Nt.prototype.ic=function(){return this.files};
function Pt(a){this.url=a.url;this.J_=a.J_;this.width=a.width;this.height=a.height;this.$x=a.$x;this.KZ=a.KZ;this.si=a.si}Pt.prototype.oa=function(){return this.url};Pt.prototype.l=function(){return this.width};Pt.prototype.o=function(){return this.height};Pt.prototype.JF=function(){return this.si};function Ht(a){return new Pt({url:C("url",a),J_:Ma("urlDenied",a),width:A("width",a),height:A("height",a),$x:Ma("watermarked",a),KZ:Ma("spritesheet",a),si:Qa(Qt,"quality",a)})}
function Rt(a){this.url=a.url}Rt.prototype.oa=function(){return this.url};function Lt(a){return new Rt({url:C("url",a)})}function St(a){this.url=a.url;this.width=a.width;this.height=a.height;this.$x=a.$x;this.si=a.si}St.prototype.oa=function(){return this.url};St.prototype.l=function(){return this.width};St.prototype.o=function(){return this.height};St.prototype.JF=function(){return this.si};
function Ot(a){return new St({url:C("url",a),width:B("width",a),height:B("height",a),$x:Na("watermarked",a),si:Qa(Qt,"quality",a)})}function Tt(a){this.Ae=a.Ae}Tt.prototype.Qj=function(){return this.Ae};function vq(a){return new Tt({Ae:Oa(Xs,"acl",a)})}function Ut(a){this.wl=a.wl||[];this.qd=a.qd;this.tH=a.tH||[];this.EL=a.EL;this.zY=a.zY;this.hS=a.hS||[];this.ja=a.ja;this.Zr=a.Zr;this.Y=a.Y;this.limit=a.limit}Ut.prototype.Mb=function(){return this.Y};Ut.prototype.$d=function(){return this.limit};
function Vt(a){this.xU=a.xU||[];this.Y=a.Y}Vt.prototype.Mb=function(){return this.Y};function sq(a){return new Vt({xU:G(lt,"documents",a),Y:D("continuation",a)})}function Wt(a){this.id=a.id;this.m_=a.m_;this.Pw=a.Pw||[];this.Y=a.Y}Wt.prototype.u=function(){return this.id};Wt.prototype.Zz=function(){return this.Pw};Wt.prototype.Mb=function(){return this.Y};function zq(a){return new Wt({id:C("id",a),m_:A("totalHits",a),Pw:G(Xt,"results",a),Y:D("continuation",a)})}
function Yt(a){this.Uq=a.Uq;this.Nq=a.Nq;this.id=a.id;this.title=a.title;this.description=a.description;this.kk=a.kk;this.xf=a.xf;this.RC=a.RC;this.ud=a.ud;this.Lu=a.Lu}f=Yt.prototype;f.zM=function(){return this.Uq};f.yM=function(){return this.Nq};f.u=function(){return this.id};f.qb=function(){return this.title};f.He=function(){return this.description};f.re=function(){return this.ud};
function Xt(a){return new Yt({Uq:C("searchId",a),Nq:A("rank",a),id:C("id",a),title:C("title",a),description:D("description",a),kk:C("owningBrand",a),xf:A("creationDate",a),RC:Ma("trashed",a),ud:Oa(zt,"thumbnail",a),Lu:C("designTypeDisplayName",a)})}function Zt(a){this.document=a.document;this.Ye=a.Ye;this.vE=a.vE;this.MW=a.MW;this.oP=a.oP||[]}Zt.prototype.getDocument=function(){return this.document};Zt.prototype.getExtension=function(){return this.Ye};
function xq(a){return{document:ib("document",a.document),extension:I("extension",a.Ye),defaultRoleChange:jb($t,"defaultRoleChange",a.vE),linkRoleChange:jb($t,"linkRoleChange",a.MW),principalRoleChanges:kb(au,"principalRoleChanges",a.oP)}}function bu(a){this.Ae=a.Ae}bu.prototype.Qj=function(){return this.Ae};function yq(a){return new bu({Ae:Oa(Xs,"acl",a)})}function kr(a){this.oB=a.oB;this.Pc=a.Pc}kr.prototype.ts=function(){return this.Pc};
function $t(a){return{op:lb(Us,"op",a.oB),role:lb(Ms,"role",a.Pc)}}function ir(a){this.qd=a.qd;this.origin=a.origin;this.dQ=a.dQ;this.timestamp=a.timestamp}ir.prototype.Ef=function(){return this.origin};ir.prototype.un=function(){return this.timestamp};function au(a){return{principal:cb.required("principal",bt(a.qd)),origin:cb.required("origin",ct(a.origin)),roleChange:cb.required("roleChange",$t(a.dQ)),timestamp:eb("timestamp",a.timestamp)}}
function cu(a){this.ag=a.ag;this.version=a.version;this.ct=a.ct;this.force=a.force}cu.prototype.getVersion=function(){return this.version};function Cq(a){return{doc:ib("doc",a.ag),version:db("version",a.version),priority:lb(Vs,"priority",a.ct),force:hb("force",a.force)}}function du(){}function Dq(){return new du};function eu(a){this.id=a.id;this.kk=a.kk;this.xf=a.xf;this.origin=a.origin;this.Zm=a.Zm;this.tags=a.tags||[];this.Ae=a.Ae;this.Jj=a.Jj;this.version=a.version;this.timestamp=a.timestamp;this.Ty=a.Ty||new Map}f=eu.prototype;f.u=function(){return this.id};f.Ef=function(){return this.origin};f.jv=function(){return this.Zm};f.Xp=function(){return this.tags};f.Qj=function(){return this.Ae};f.Ie=function(){return this.Jj};f.getVersion=function(){return this.version};f.un=function(){return this.timestamp};
function fu(a){return new eu({id:C("id",a),kk:C("owningBrand",a),xf:A("creationDate",a),origin:F(jt,"origin",a),Zm:Oa(et,"extensions",a),tags:Ha.Bd("tags",a),Ae:F(Xs,"acl",a),Jj:Oa(gu,"draft",a),version:A("version",a),timestamp:B("timestamp",a),Ty:Ta(Ua,Wa,"contributors",a)})}function hu(a){this.Bh=a.Bh;this.content=a.content;this.version=a.version;this.timestamp=a.timestamp;this.pa=a.pa;this.od=a.od;this.media=a.media||[];this.rA=a.rA;this.Si=a.Si}f=hu.prototype;f.getContent=function(){return this.content};
f.getVersion=function(){return this.version};f.un=function(){return this.timestamp};f.getSession=function(){return this.pa};f.jc=function(){return this.od};f.Nb=function(){return this.media};f.fM=function(){return this.Si};function gu(a){return new hu({Bh:C("schema",a),content:Oa(Er,"content",a),version:A("version",a),timestamp:A("timestamp",a),pa:B("session",a),od:A("pageCount",a),media:G(Ym,"media",a),rA:Oa(rt,"imageSets",a),Si:D("associatedMedia",a)})}
function iu(a){this.document=a.document;this.pa=a.pa}iu.prototype.getDocument=function(){return this.document};iu.prototype.getSession=function(){return this.pa};function nq(a){return new iu({document:Oa(fu,"document",a),pa:A("session",a)})}function ju(a){this.document=a.document;this.ef=a.ef||[];this.fonts=a.fonts||[];this.pa=a.pa;this.MS=a.MS;this.jK=a.jK;this.ZT=a.ZT}ju.prototype.getDocument=function(){return this.document};ju.prototype.getSession=function(){return this.pa};
function pq(a){return new ju({document:Oa(fu,"document",a),ef:G(Ft,"mediaMap",a),fonts:G(Bt,"fonts",a),pa:B("session",a),MS:Pa(Ns,"accessRole",a),jK:D("conversionLoss",a),ZT:Qa(Ts,"conversionResult",a)})};function ku(a,b,c,d,e){this.Ra=a;this.N=b;this.context=c;this.hr=null;this.b_=d;this.jq=!1;this.eA=this.aY=this.au=this.uw=this.vm=null;this.j=e}f=ku.prototype;f.start=function(){null!=this.context.id&&(lu(this,6666),mu(this))};function lu(a,b){b!=a.au&&(null!=a.vm&&window.clearInterval(a.vm),a.au=b,a.vm=null!=b?window.setInterval(function(){a.save()},b):null)}function mu(a){12E5!=a.aY&&(null!=a.uw&&window.clearInterval(a.uw),a.aY=12E5,a.uw=window.setInterval(function(){a.sync()},12E5))}
f.save=function(){this.context.ij()&&this.sync()};f.sync=function(){function a(a){var e=b.au;a=a.throttle;if(b.hr==c){b.hr=null;var g=e;!0===a?g=Math.min(2*b.au,6E5):!1===a&&(g=Math.max(b.au-1E3,6666));g!=b.au&&lu(b,g)}return e}if(this.jq&&null!=this.context.id&&!this.hr){var b=this,c=new nu(b.N,b.context,b.j);b.hr=c;b.hr.sync().then(a).then(function(a){b.b_.update(a)})}};
f.close=function(){this.jq=!1;this.hr&&(this.hr.stop(),this.hr=null);this.vm&&(window.clearInterval(this.vm),this.vm=null);this.uw&&(window.clearInterval(this.uw),this.uw=null)};f.GQ=function(a){this.context.GQ(a)};f.post=function(a,b){var c=this.context,d=null;3!=c.pf&&(c.Qk!=a?(c.pf=3,c.state=null):(c.pf=0,c.state=b,c.Qk++,d=c.Qk));ou(c);a=d;null!=a&&(this.eA=b);return a};f.aw=function(a){this.eA||(this.eA=a)};function pu(a,b){return!(!a.eA||_.isEqual(a.eA,b))}
f.dt=function(a){var b=this.context.u();if(this.context.ij())return P.reject(new hq);if(!this.context.$z())return P.reject(new gq);if(!b)return P.reject(new iq);switch(a){case "BRAND":return this.Ra.IJ(b);case "GLOBAL":return this.Ra.dt(b)}return P.reject(new fq)};f.Wx=function(a){var b=this.context.u();if(!b)return P.reject(new iq);switch(a){case "BRAND":return this.Ra.JJ(b);case "GLOBAL":return this.Ra.Wx(b)}return P.reject(new fq)};
f.JC=function(){var a=this.context.u();return a?this.Ra.JC(a):P.reject(Error("synced context has no id"))};f.TC=function(){var a=this.context.u();return a?this.Ra.TC(a):P.reject(Error("synced context has no id"))};f.hc=function(){return this.context.u()};function qu(a){return a.context.jv().qV()}f.timestamp=function(){return this.context.un()};f.version=function(){return this.context.Qk};f.fe=function(){return this.context.fe};f.ij=function(){return this.context.ij()};f.Nv=function(){return this.context.Nv()};
f.state=function(){return this.context.$z()};function ru(a,b,c,d,e,g,h,k,l,m){this.id=a;this.Qk=c;this.uu=d;this.fe=e;this.dC=g;this.state=k;this.yW=null;this.timestamp=h;this.Zm=l;this.jK=m;this.wW=this.pf=b;this.tI=null}f=ru.prototype;f.u=function(){return this.id};f.jv=function(){return this.Zm};f.un=function(){return this.timestamp};f.ij=function(){return 0==this.pf||1==this.pf};f.Nv=function(){return 3!=this.pf};f.$z=function(){return this.state};
f.GQ=function(a){if(this.tI)throw Error("Cannot overwrite DocumentContext sync listener");this.tI=a};function su(a,b,c){b==a.Qk&&c==a.fe&&0==a.pf&&(a.pf=1,ou(a))}function tu(a,b,c){3!=a.pf&&a.fe==b&&(b=c.document.draft,b.version<=a.fe||(a.timestamp=b.timestamp,a.fe=b.version,a.dC=b.session,a.dC!=a.uu&&(a.Qk++,a.pf=3,a.state=null),ou(a)))}
function uu(a,b,c,d,e){3!=a.pf&&(e=e.document.draft,a.fe==d&&(a.yW=b,a.Qk==c&&(a.pf=2),a.timestamp=e.timestamp,a.fe=e.version,a.dC=e.session,a.uu=e.session,ou(a)))}function vu(a,b,c,d){3==a.pf||a.fe>c||(a.timestamp=d.timestamp,a.fe=d.version,a.dC=d.session,a.dC!=a.uu?(a.Qk++,a.pf=3,a.state=null):a.Qk==b&&(a.pf=2),ou(a))}function ou(a){a.pf!=a.wW&&null!=a.id&&(a.wW=a.pf,a.tI&&a.tI(a.pf))}function nu(a,b,c){this.N=a;this.context=b;this.jr=this.request=this.callback=null;this.j=c}
function wu(a){var b=.2*Math.random()-.1;return null==a?5E3:6E5<a?6E5:a*(1.6+b)}nu.prototype.stop=function(){this.callback=null;this.request&&(this.request.cancel(),this.request=null);null!=this.jr&&(window.clearTimeout(this.jr),this.jr=null)};nu.prototype.sync=function(){if(this.callback)throw Error("already syncing");return new P(function(a){this.callback=a;xu(this,wu(null),1)}.bind(this))};nu.prototype.finish=function(a,b){var c=this.callback;c&&(this.callback=null,c({success:a,throttle:b}))};
function yu(a,b){var c=null,d=!1,e=b;if(null!=a){var g=[],h;for(h in b)"pages"===h||_.isEqual(b[h],a[h])||g.push(h);a=a.pages;h=b.pages;if(a&&h){var k=a.length==h.length,l=!_.isEqual(a,h);if(0==g.length&&k&&l){for(b=0;b<a.length;b++)if(!_.isEqual(a[b],h[b]))if(null==c)c=b;else{c=null;break}null!=c&&(e=h[c])}else l||1!=g.length||"title"!=g[0]||(e={title:b.title},d=!0)}}return{K$:d,Ws:c,D8:e}}
function xu(a,b,c){function d(d,g){window.clearTimeout(a.jr);a.request=null;a.jr=null;var h=g&&null!=g.throttle?!!g.throttle:null,m=!1;p&&200==d?uu(e,n,k,l,g):p&&409==d?vu(e,k,l,g):p||200!=d?0!=d&&(p&&403==d&&g.session&&(e.uu=g.session),m=!0):tu(e,l,g);m?a.jr=window.setTimeout(function(){xu(a,wu(b),c+1)},b):a.finish(200==d,h,d,c)}var e=a.context,g=e.u(),h=e.uu,k=e.Qk,l=e.fe,m,n=e.$z(),p=e.ij();if(p&&n)m=yu(e.yW,n),g="/documents"+(null==g?"":"/"+encodeURIComponent(g)+"/content"),m.K$?g+="/title":null!=
m.Ws&&(g+="/pages/"+m.Ws),g+="?version\x3d"+encodeURIComponent(l.toString())+(null==h?"":"\x26session\x3d"+encodeURIComponent(h.toString()))+"";else{if(null==g)return;g="/documents/"+encodeURIComponent(g)+"?includePages\x3dfalse"+(null==h?"":"\x26session\x3d"+encodeURIComponent(h.toString()))}a.jr=window.setTimeout(function(){var d=a.callback;a.callback=null;a.request&&a.request.cancel();a.request=null;a.jr=null;a.callback=d;xu(a,wu(b),c+1)},b);p?(a.request=a.N.post(g,m.D8,d),su(e,k,l)):a.request=
a.N.get(g,d)};function zu(){this.N=Ib};function Au(a){this.ug=a.ug;this.h_=a.h_;this.g_=a.g_;this.HU=a.HU;this.displayName=a.displayName;this.IK=a.IK;this.EZ=a.EZ;this.xp=a.xp;this.Rm=a.Rm;this.CT=a.CT}Au.prototype.tn=function(){return this.ug};Au.prototype.Jb=function(){return this.displayName};
function Bu(a){return new Au({ug:C("thumbnailUrl",a),h_:A("thumbnailWidth",a),g_:A("thumbnailHeight",a),HU:C("editorPath",a),displayName:C("displayName",a),IK:C("dimensionsLabel",a),EZ:Ma("showNewBadge",a),xp:D("doctypeId",a),Rm:D("doctypeName",a),CT:D("categoryId",a)})}function Cu(a){this.PF=a.PF;this.options=a.options||[]}Cu.prototype.Tj=function(){return this.options};function Du(a){return new Cu({PF:C("groupingDisplayName",a),options:G(Bu,"options",a)})}function Eu(a){this.QF=a.QF||[]}
function Fu(a){return new Eu({QF:G(Du,"groups",a)})};function Gu(a){this.N=a;this.QK="/doctypes"}Gu.prototype.lb=function(a){a=this.QK+"/"+encodeURIComponent(a.id)+"?"+a.kr();return sj(this.N,a).get(0).then(La).then(Hu)};Gu.prototype.createDocumentType=function(a){return qj(this.N,this.QK,Iu(a)).get(0).then(La).then(Ju)};
function Ku(a,b){b=[a.QK+"?",null!=b.limit?"\x26limit\x3d"+encodeURIComponent(b.limit.toString()):"",null!=b.visible?"\x26visible\x3d"+encodeURIComponent(String(b.visible)):"",null!=b.bq?"\x26includeAllDescriptions\x3d"+encodeURIComponent(String(b.bq)):"",0<b.wl.length?"\x26ids\x3d"+encodeURIComponent(b.wl.join(",")):"",null!=b.Y?"\x26continuation\x3d"+encodeURIComponent(b.Y):""].join("").replace("?\x26","?");return sj(a.N,b).get(0).then(La).then(Lu)};function Mu(a,b){switch(b){case "FACEBOOK":return"FACEBOOK";case "GOOGLE":return"GOOGLE";case "INSTAGRAM":return"INSTAGRAM";case "LINKEDIN":return"LINKEDIN";case "PINTEREST":return"PINTEREST";case "QQ":return"QQ";case "SLACK":return"SLACK";case "TRELLO":return"TRELLO";case "TUMBLR":return"TUMBLR";case "TWITTER":return"TWITTER";case "VKONTAKTE":return"VKONTAKTE";case "WECHAT":return"WECHAT";case "WEIBO":return"WEIBO";default:throw new TypeError('expected SocialPlatform for property "'+a+'", found: '+
JSON.stringify(b));}}
function Nu(a,b){switch(b){case "FACEBOOK":return"FACEBOOK";case "GOOGLE":return"GOOGLE";case "INSTAGRAM":return"INSTAGRAM";case "LINKEDIN":return"LINKEDIN";case "PINTEREST":return"PINTEREST";case "QQ":return"QQ";case "SLACK":return"SLACK";case "TRELLO":return"TRELLO";case "TUMBLR":return"TUMBLR";case "TWITTER":return"TWITTER";case "VKONTAKTE":return"VKONTAKTE";case "WECHAT":return"WECHAT";case "WEIBO":return"WEIBO";default:throw new TypeError('expected SocialPlatform for property "'+a+'", found: '+
JSON.stringify(b));}}function Ou(a,b){switch(b){case "DEFAULT":return"DEFAULT";case "GROUP":return"GROUP";case "PAGE":return"PAGE";default:throw new TypeError('expected SocialTargetType for property "'+a+'", found: '+JSON.stringify(b));}}function Pu(a,b){switch(b){case "DEFAULT":return"DEFAULT";case "GROUP":return"GROUP";case "PAGE":return"PAGE";default:throw new TypeError('expected SocialTargetType for property "'+a+'", found: '+JSON.stringify(b));}}
function Qu(a,b){switch(b){case "PIXELS":return"PIXELS";case "INCHES":return"INCHES";case "CENTIMETERS":return"CENTIMETERS";case "MILLIMETERS":return"MILLIMETERS";default:throw new TypeError('expected DocumentTypeDimensionsUnits for property "'+a+'", found: '+JSON.stringify(b));}}
function Ru(a,b){switch(b){case "PIXELS":return"PIXELS";case "INCHES":return"INCHES";case "CENTIMETERS":return"CENTIMETERS";case "MILLIMETERS":return"MILLIMETERS";default:throw new TypeError('expected DocumentTypeDimensionsUnits for property "'+a+'", found: '+JSON.stringify(b));}}function Su(a,b){switch(b){case "IMAGE":return"IMAGE";case "PDF":return"PDF";default:throw new TypeError('expected DocumentTypeDefaultExportSettings for property "'+a+'", found: '+JSON.stringify(b));}}
function Tu(a,b){switch(b){case "IMAGE":return"IMAGE";case "PDF":return"PDF";default:throw new TypeError('expected DocumentTypeDefaultExportSettings for property "'+a+'", found: '+JSON.stringify(b));}}
function tp(a){this.id=a.id;this.name=a.name;this.tj=a.tj;this.category=a.category;this.visible=a.visible;this.oC=a.oC;this.Ns=a.Ns;this.iw=a.iw||[];this.ud=a.ud;this.ez=a.ez||new Map;this.tb=a.tb;this.tE=a.tE;this.Xs=a.Xs;this.aq=a.aq;this.version=a.version;this.IN=a.IN||[];this.NO=a.NO||[];this.AP=a.AP||[]}f=tp.prototype;f.u=function(){return this.id};f.getName=function(){return this.name};f.re=function(){return this.ud};f.getVersion=function(){return this.version};
function Uu(a){return{id:I("id",a.id),name:I("name",a.name),sentenceName:I("sentenceName",a.tj),category:I("category",a.category),visible:hb("visible",a.visible),showAsNew:hb("showAsNew",a.oC),multiPage:hb("multiPage",a.Ns),newPageElements:kb(Vu,"newPageElements",a.iw),thumbnail:jb(Wu,"thumbnail",a.ud),descriptions:nb(Xu,"descriptions",a.ez),dimensions:jb(Yu,"dimensions",a.tb),defaultExportSettings:mb(Su,"defaultExportSettings",a.tE),pdfExportSettings:jb(Zu,"pdfExportSettings",a.Xs),imageExportSettings:jb($u,
"imageExportSettings",a.aq),version:eb("version",a.version),localizedDescriptions:kb(av,"localizedDescriptions",a.IN),pageFormats:kb(bv,"pageFormats",a.NO),publishHints:kb(cv,"publishHints",a.AP)}}
function dv(a){return new tp({id:D("id",a),name:D("name",a),tj:D("sentenceName",a),category:D("category",a),visible:Na("visible",a),oC:Na("showAsNew",a),Ns:Na("multiPage",a),iw:G(ev,"newPageElements",a),ud:F(fv,"thumbnail",a),ez:Sa(gv,"descriptions",a),tb:F(hv,"dimensions",a),tE:Qa(Tu,"defaultExportSettings",a),Xs:F(iv,"pdfExportSettings",a),aq:F(jv,"imageExportSettings",a),version:B("version",a),IN:G(kv,"localizedDescriptions",a),NO:G(lv,"pageFormats",a),AP:G(mv,"publishHints",a)})}
function nv(a,b,c){return new tp({id:"custom",name:(new ov({width:a,height:b,units:c})).print(),tj:"design",tb:new ov({width:a,height:b,units:c}),visible:!1,order:0,Ns:!0,oC:!1,custom:new ov({width:a,height:b,units:c}),aq:new pv({Vc:96,Iba:"JPG",np:null,Zba:null,Yba:null}),Xs:new qv({Vc:300})})}f.Jg=function(){var a=this.aq,b=Rg(this.tb);return{elements:this.iw,width:b.l(),height:b.o(),dpi:a&&a.Vc}};
function rv(a){a=a.iw;return Array.isArray(a)?a.filter(function(a){return"fixed"===a.type}).map(Vu):[]}function sv(a){a=rv(a);a=_.min(_.pluck(a,"left"));return Math.min(0,a)}function tv(a){a=rv(a);a=_.min(_.pluck(a,"top"));return Math.min(0,a)}function uv(a){var b=rv(a),b=_.max(b.map(function(a){return a.top+a.height})),c=tv(a);a=a.tb?Rg(a.tb).o():0;return Math.max(a,b)-c}
function vv(a){var b=rv(a),b=_.max(b.map(function(a){return a.left+a.width})),c=sv(a);a=a.tb?Rg(a.tb).l():0;return Math.max(a,b)-c}function wv(a){this.type=a.type;this.tb=a.tb;this.VL=a.VL||[];this.eO=a.eO;this.PJ=a.PJ}wv.prototype.lc=function(){return this.type};function bv(a){return{type:I("type",a.type),dimensions:cb.required("dimensions",Yu(a.tb)),fixedElements:kb(Vu,"fixedElements",a.VL),nameTemplate:I("nameTemplate",a.eO),cardinality:cb.required("cardinality",xv(a.PJ))}}
function lv(a){return new wv({type:D("type",a),tb:Oa(hv,"dimensions",a),VL:G(ev,"fixedElements",a),eO:D("nameTemplate",a),PJ:Oa(yv,"cardinality",a)})}function zv(a){this.lower=a.lower;this.upper=a.upper}function xv(a){return{lower:eb("lower",a.lower),upper:eb("upper",a.upper)}}function yv(a){return new zv({lower:B("lower",a),upper:B("upper",a)})}function Av(a){this.type=a.type}
function cv(a){switch(a.type){case "SHARE_SPEC":return{type:"SHARE_SPEC",platform:mb(Mu,"platform",a.platform),targetType:mb(Ou,"targetType",a.qf)};case "DOWNLOAD_SPEC":return{type:"DOWNLOAD_SPEC",format:mb(Su,"format",a.format),fileType:I("fileType",a.Ze),compression:I("compression",a.np),dpi:eb("dpi",a.Vc),jpgQuality:eb("jpgQuality",a.bk),jpgTargetFileSizeKb:eb("jpgTargetFileSizeKb",a.nq)};default:throw Error();}}
function mv(a){switch(a.type){case "SHARE_SPEC":return w("SHARE_SPEC"===a.type),new Bv({platform:Qa(Nu,"platform",a),qf:Qa(Pu,"targetType",a)});case "DOWNLOAD_SPEC":return w("DOWNLOAD_SPEC"===a.type),new Cv({format:Qa(Tu,"format",a),Ze:D("fileType",a),np:D("compression",a),Vc:B("dpi",a),bk:B("jpgQuality",a),nq:B("jpgTargetFileSizeKb",a)});default:throw Error("unknown case: "+a.type);}}function Bv(a){this.type="SHARE_SPEC";this.platform=a.platform;this.qf=a.qf}r(Bv,Av);
function Cv(a){this.type="DOWNLOAD_SPEC";this.format=a.format;this.Ze=a.Ze;this.np=a.np;this.Vc=a.Vc;this.bk=a.bk;this.nq=a.nq}r(Cv,Av);function Dv(a){this.locale=a.locale;this.name=a.name;this.tj=a.tj;this.PO=a.PO||new Map}Dv.prototype.Df=function(){return this.locale};Dv.prototype.getName=function(){return this.name};function av(a){return{locale:ib("locale",a.locale),name:ib("name",a.name),sentenceName:ib("sentenceName",a.tj),pageNameTemplates:ob(qb,tb,"pageNameTemplates",a.PO)}}
function kv(a){return new Dv({locale:C("locale",a),name:C("name",a),tj:C("sentenceName",a),PO:Ta(Ua,Xa,"pageNameTemplates",a)})}function Ev(a){this.type=a.type;this.placeholder=a.placeholder;this.url=a.url;this.Cn=a.Cn;this.top=a.top;this.left=a.left;this.width=a.width;this.height=a.height;this.Ha=a.Ha}f=Ev.prototype;f.lc=function(){return this.type};f.oa=function(){return this.url};f.w=function(){return this.top};f.F=function(){return this.left};f.l=function(){return this.width};f.o=function(){return this.height};
f.NF=function(){return this.Ha};function Vu(a){return{type:ib("type",a.type),placeholder:I("placeholder",a.placeholder),url:I("url",a.url),image:I("image",a.Cn),top:db("top",a.top),left:db("left",a.left),width:db("width",a.width),height:db("height",a.height),transparency:eb("transparency",a.Ha)}}
function ev(a){return new Ev({type:C("type",a),placeholder:D("placeholder",a),url:D("url",a),Cn:D("image",a),top:A("top",a),left:A("left",a),width:A("width",a),height:A("height",a),Ha:B("transparency",a)})}function Fv(a){this.bucket=a.bucket;this.key=a.key;this.url=a.url;this.width=a.width;this.height=a.height}Fv.prototype.getKey=function(){return this.key};Fv.prototype.oa=function(){return this.url};Fv.prototype.l=function(){return this.width};Fv.prototype.o=function(){return this.height};
function Wu(a){return{bucket:I("bucket",a.bucket),key:I("key",a.key),url:I("url",a.url),width:eb("width",a.width),height:eb("height",a.height)}}function fv(a){return new Fv({bucket:D("bucket",a),key:D("key",a),url:D("url",a),width:B("width",a),height:B("height",a)})}function Gv(a){this.locale=a.locale;this.name=a.name;this.tj=a.tj;this.eM=a.eM;this.ud=a.ud}Gv.prototype.Df=function(){return this.locale};Gv.prototype.getName=function(){return this.name};Gv.prototype.re=function(){return this.ud};
function Xu(a){return{locale:ib("locale",a.locale),name:I("name",a.name),sentenceName:I("sentenceName",a.tj),gender:I("gender",a.eM),thumbnail:jb(Wu,"thumbnail",a.ud)}}function gv(a){return new Gv({locale:C("locale",a),name:D("name",a),tj:D("sentenceName",a),eM:D("gender",a),ud:F(fv,"thumbnail",a)})}function ov(a){this.height=a.height;this.width=a.width;this.units=a.units}ov.prototype.o=function(){return this.height};ov.prototype.l=function(){return this.width};ov.prototype.Vj=function(){return this.units};
function Yu(a){return{height:db("height",a.height),width:db("width",a.width),units:lb(Qu,"units",a.units)}}function hv(a){return new ov({height:A("height",a),width:A("width",a),units:Pa(Ru,"units",a)})}function Hv(a){switch(a){case "PIXELS":return"px";case "CENTIMETERS":return"cm";case "INCHES":return"in";case "MILLIMETERS":return"mm";default:throw Error("Unknown units: "+a);}}ov.prototype.print=function(){var a=this.l(),b=this.o(),c=Hv(this.Vj());return a+" "+c+"  "+b+" "+c};
function Rg(a){var b;switch(a.Vj()){case "PIXELS":return a;case "CENTIMETERS":b=a.l()/2.54*96;a=a.o()/2.54*96;break;case "INCHES":b=96*a.l();a=96*a.o();break;case "MILLIMETERS":b=a.l()/25.4*96;a=a.o()/25.4*96;break;default:throw Error("Unknown units: "+a.Vj());}return new ov({units:"PIXELS",width:b,height:a})}function qv(a){this.Vc=a.Vc}function Zu(a){return{dpi:eb("dpi",a.Vc)}}function iv(a){return new qv({Vc:B("dpi",a)})}
function pv(a){this.Ze=a.Ze;this.np=a.np;this.Vc=a.Vc;this.bk=a.bk;this.nq=a.nq}function $u(a){return{fileType:I("fileType",a.Ze),compression:I("compression",a.np),dpi:eb("dpi",a.Vc),jpgQuality:eb("jpgQuality",a.bk),jpgTargetFileSizeKb:eb("jpgTargetFileSizeKb",a.nq)}}function jv(a){return new pv({Ze:D("fileType",a),np:D("compression",a),Vc:B("dpi",a),bk:B("jpgQuality",a),nq:B("jpgTargetFileSizeKb",a)})}
function Iu(a){return{category:I("category",a.category),visible:hb("visible",a.visible),showAsNew:hb("showAsNew",a.oC),multiPage:hb("multiPage",a.Ns),newPageElements:kb(Vu,"newPageElements",a.iw),thumbnail:jb(Wu,"thumbnail",a.ud),descriptions:nb(Xu,"descriptions",a.ez),dimensions:jb(Yu,"dimensions",a.tb),pdfExportSettings:jb(Zu,"pdfExportSettings",a.Xs),imageExportSettings:jb($u,"imageExportSettings",a.aq)}}function Iv(a){this.vc=a.vc}function Ju(a){return new Iv({vc:Oa(dv,"docType",a)})}
function Jv(a){this.id=a.id;this.bq=a.bq;this.locale=a.locale}Jv.prototype.u=function(){return this.id};Jv.prototype.Df=function(){return this.locale};Jv.prototype.kr=function(){var a={id:ib("id",this.id),includeAllDescriptions:gb("includeAllDescriptions",this.bq),locale:I("locale",this.locale)};return Object.keys(a).map(function(b){var c=a[b];if(void 0!==c&&"object"!==typeof c)return b+"\x3d"+encodeURIComponent(c)}).filter(function(a){return!!a}).join("\x26")};function Kv(a){this.vc=a.vc}
function Hu(a){return new Kv({vc:Oa(dv,"docType",a)})}function Lv(a){this.limit=a.limit;this.visible=a.visible;this.bq=a.bq;this.wl=a.wl||[];this.Y=a.Y}Lv.prototype.$d=function(){return this.limit};Lv.prototype.Mb=function(){return this.Y};function Mv(a){this.Mu=a.Mu||[];this.Y=a.Y}Mv.prototype.Mb=function(){return this.Y};function Lu(a){return new Mv({Mu:G(dv,"docTypes",a),Y:D("continuation",a)})};function Nv(a,b){switch(b){case "DOWNLOAD":return"DOWNLOAD";case "WORKFLOW":return"WORKFLOW";default:throw new TypeError('expected DestinationCode for property "'+a+'", found: '+JSON.stringify(b));}}function Ov(a,b){switch(b){case "PNG":return"PNG";case "PDF":return"PDF";case "JPG":return"JPG";default:throw new TypeError('expected FileFormat for property "'+a+'", found: '+JSON.stringify(b));}}
function Pv(a,b){switch(b){case "LOSSLESS":return"LOSSLESS";case "LOSSY":return"LOSSY";case "NONE":return"NONE";default:throw new TypeError('expected OptimizationStrategy for property "'+a+'", found: '+JSON.stringify(b));}}function Qv(a,b){switch(b){case "PRINT":return"PRINT";case "SCREEN":return"SCREEN";case "THUMBNAIL":return"THUMBNAIL";default:throw new TypeError('expected ExportMediaQuality for property "'+a+'", found: '+JSON.stringify(b));}}
function Rv(a,b){switch(b){case "HIGH":return"HIGH";case "MEDIUM":return"MEDIUM";case "LOW":return"LOW";default:throw new TypeError('expected Priority for property "'+a+'", found: '+JSON.stringify(b));}}function Sv(a,b){switch(b){case "COMPLETE":return"COMPLETE";case "FAILED":return"FAILED";case "CREATED":return"CREATED";default:throw new TypeError('expected ExportStatus for property "'+a+'", found: '+JSON.stringify(b));}}
function Tv(a){this.lu=a.lu;this.Yh=a.Yh;this.RK=a.RK;this.uU=a.uU;this.ZQ=a.ZQ;this.ct=a.ct;this.hY=a.hY;this.lY=a.lY;this.WY=a.WY;this.KX=a.KX||[];this.Bh=a.Bh}
function Uv(a){return{attachment:hb("attachment",a.lu),docId:ib("docId",a.Yh),docVersion:eb("docVersion",a.RK),docMedia:jb(Vv,"docMedia",a.uU),spec:jb(Wv,"spec",a.ZQ),priority:mb(Rv,"priority",a.ct),pollableJob:hb("pollableJob",a.hY),prefetchDocument:hb("prefetchDocument",a.lY),renderSpec:jb(Xv,"renderSpec",a.WY),outputSpecs:kb(Yv,"outputSpecs",a.KX),schema:lb(Ss,"schema",a.Bh)}}function Zv(a){return{bleedMicrons:eb("bleedMicrons",a.nba),resizeBleedBackground:gb("resizeBleedBackground",a.vca)}}
function Xv(a){return{bleed:jb(Zv,"bleed",a.qu),crops:gb("crops",a.Or),mediaQuality:lb(Qv,"mediaQuality",a.SA),mediaDpi:db("mediaDpi",a.Is),pages:fb(a.O),watermark:gb("watermark",a.Zca),scaleFactor:eb("scaleFactor",a.Sd),removeCanvas:hb("removeCanvas",a.it)}}function $v(a){return{type:lb(aw,"type",a.type),queue:jb(bw,"queue",a.queue),workflow:jb(cw,"workflow",a.Kh)}}
function aw(a,b){switch(b){case "WORKFLOW":return"WORKFLOW";case "QUEUE":return"QUEUE";default:throw new TypeError('expected Destination2Type for property "'+a+'", found: '+JSON.stringify(b));}}function bw(a){return{queueName:ib("queueName",a.oca),token:I("token",a.km),expiryHours:eb("expiryHours",a.Gba)}}function cw(a){return{taskToken:ib("taskToken",a.Pca)}}
function Yv(a){return{destination:jb($v,"destination",a.destination),format:lb(Ov,"format",a.format),pages:fb(a.O),jpg:jb(dw,"jpg",a.GA),png:jb(ew,"png",a.BB),pdf:jb(fw,"pdf",a.gca)}}function dw(a){return{width:eb("width",a.width),height:eb("height",a.height),jpgQuality:eb("jpgQuality",a.bk),targetImageSizeKb:eb("targetImageSizeKb",a.Nx),zipped:hb("zipped",a.VI)}}
function ew(a){return{width:eb("width",a.width),height:eb("height",a.height),zipped:hb("zipped",a.VI),optimizationStrategy:mb(Pv,"optimizationStrategy",a.IO)}}function fw(a){return{rasterizePages:hb("rasterizePages",a.pca)}}function gw(a){this.type=a.type;this.qu=a.qu;this.Or=a.Or;this.destination=a.destination;this.Is=a.Is;this.format=a.format;this.IO=a.IO;this.SA=a.SA;this.O=a.O||[];this.Nx=a.Nx;this.XV=a.XV;this.TV=a.TV;this.VI=a.VI;this.bk=a.bk;this.it=a.it}gw.prototype.lc=function(){return this.type};
gw.prototype.Gb=function(){return this.O};
function Wv(a){return{type:lb(hw,"type",a.type),bleed:hb("bleed",a.qu),crops:hb("crops",a.Or),destination:mb(Nv,"destination",a.destination),mediaDpi:db("mediaDpi",a.Is),format:lb(Ov,"format",a.format),optimizationStrategy:mb(Pv,"optimizationStrategy",a.IO),mediaQuality:lb(Qv,"mediaQuality",a.SA),pages:fb(a.O),targetImageSizeKb:eb("targetImageSizeKb",a.Nx),imageWidth:eb("imageWidth",a.XV),imageHeight:eb("imageHeight",a.TV),zipped:hb("zipped",a.VI),jpgQuality:eb("jpgQuality",a.bk),removeCanvas:hb("removeCanvas",
a.it)}}function hw(a,b){switch(b){case "CUSTOM":return"CUSTOM";case "PRINT":return"PRINT";case "SCREEN":return"SCREEN";default:throw new TypeError('expected ExportType for property "'+a+'", found: '+JSON.stringify(b));}}function iw(a){this.Mj=a.Mj}iw.prototype.mM=function(){return this.Mj};function jw(a){return new iw({Mj:Oa(kw,"export",a)})}function lw(a){this.id=a.id;this.rB=a.rB;this.status=a.status;this.Ez=a.Ez}lw.prototype.u=function(){return this.id};lw.prototype.ph=function(){return this.status};
function kw(a){return new lw({id:B("id",a),rB:F(mw,"output",a),status:Pa(Sv,"status",a),Ez:D("failureReason",a)})}function nw(a){this.title=a.title;this.fF=a.fF||[]}nw.prototype.qb=function(){return this.title};function mw(a){return new nw({title:D("title",a),fF:G(ow,"exportBlobs",a)})}function pw(a){this.bucket=a.bucket;this.key=a.key;this.page=a.page;this.url=a.url;this.width=a.width;this.height=a.height}f=pw.prototype;f.getKey=function(){return this.key};f.R=function(){return this.page};f.oa=function(){return this.url};
f.l=function(){return this.width};f.o=function(){return this.height};function ow(a){return new pw({bucket:C("bucket",a),key:C("key",a),page:A("page",a),url:D("url",a),width:B("width",a),height:B("height",a)})}function qw(a){this.lu=a.lu;this.id=a.id}qw.prototype.u=function(){return this.id};function rw(a){this.Mj=a.Mj}rw.prototype.mM=function(){return this.Mj};function sw(a){return new rw({Mj:Oa(kw,"export",a)})}function tw(a){this.id=a.id}tw.prototype.u=function(){return this.id};
function uw(){}function vw(){return new uw};function ww(a,b){this.N=a;this.path="/export";this.VN=void 0!=b?b.VN:1E3;this.TW=void 0!=b?b.TW:3E4;this.fW=void 0!=b?b.fW:1.6}ww.prototype.eE=function(a){var b=this;return qj(this.N,this.path,Uv(a)).get(0).then(La).then(jw).bind(this).then(function(a){y(a.Mj.id);var d=a.Mj.id;return xw(b,a.Mj,b.VN).catch(P.CancellationError,function(a){return yw(b,new tw({id:d})).finally(function(){return P.reject(a)})})})};
function xw(a,b,c){c=Math.max(c||0,a.VN);return"FAILED"===b.status?P.reject(b):"CREATED"!==b.status?P.resolve(b):P.delay(c).cancellable().bind(a).then(function(){w(!!b.id,"Job id required to get an export");return this.mM(new qw({id:b.id,lu:!0}))}).then(function(a){return xw(this,a.Mj,Math.min(c*this.fW,this.TW))})}ww.prototype.mM=function(a){return sj(this.N,this.path+"/"+encodeURIComponent(a.id+"")+("?attachment\x3d"+encodeURIComponent(a.lu+""))).get(0).then(La).then(sw)};
function yw(a,b){return Ik(a.N,a.path+"/"+encodeURIComponent(b.id+"")).get(0).then(La).then(vw)};var zw={xaa:"DROPBOX",yaa:"FACEBOOK",Eaa:"GOOGLE",Faa:"INSTAGRAM",Kaa:"LINKEDIN",Maa:"PINTEREST",Naa:"QQ",Paa:"SLACK",Xaa:"TRELLO",Yaa:"TUMBLR",Zaa:"TWITTER",cba:"VKONTAKTE",dba:"WECHAT",eba:"WEIBO"};
function Aw(a,b){switch(b){case "DROPBOX":return"DROPBOX";case "FACEBOOK":return"FACEBOOK";case "GOOGLE":return"GOOGLE";case "INSTAGRAM":return"INSTAGRAM";case "LINKEDIN":return"LINKEDIN";case "PINTEREST":return"PINTEREST";case "QQ":return"QQ";case "SLACK":return"SLACK";case "TRELLO":return"TRELLO";case "TUMBLR":return"TUMBLR";case "TWITTER":return"TWITTER";case "VKONTAKTE":return"VKONTAKTE";case "WECHAT":return"WECHAT";case "WEIBO":return"WEIBO";default:throw new TypeError('expected Platform for property "'+
a+'", found: '+JSON.stringify(b));}}
function Bw(a,b){switch(b){case "DROPBOX":return"DROPBOX";case "FACEBOOK":return"FACEBOOK";case "GOOGLE":return"GOOGLE";case "INSTAGRAM":return"INSTAGRAM";case "LINKEDIN":return"LINKEDIN";case "PINTEREST":return"PINTEREST";case "QQ":return"QQ";case "SLACK":return"SLACK";case "TRELLO":return"TRELLO";case "TUMBLR":return"TUMBLR";case "TWITTER":return"TWITTER";case "VKONTAKTE":return"VKONTAKTE";case "WECHAT":return"WECHAT";case "WEIBO":return"WEIBO";default:throw new TypeError('expected Platform for property "'+a+
'", found: '+JSON.stringify(b));}}function Cw(a,b){switch(b){case "GET_BASIC_PROFILE":return"GET_BASIC_PROFILE";case "GET_EMAIL":return"GET_EMAIL";case "PUBLISH":return"PUBLISH";case "PUBLISH_TO_GROUP":return"PUBLISH_TO_GROUP";case "PUBLISH_TO_PAGE":return"PUBLISH_TO_PAGE";case "PUBLISH_TO_STORAGE":return"PUBLISH_TO_STORAGE";default:throw new TypeError('expected Permission for property "'+a+'", found: '+JSON.stringify(b));}}
function Dw(a,b){switch(b){case "GET_BASIC_PROFILE":return"GET_BASIC_PROFILE";case "GET_EMAIL":return"GET_EMAIL";case "PUBLISH":return"PUBLISH";case "PUBLISH_TO_GROUP":return"PUBLISH_TO_GROUP";case "PUBLISH_TO_PAGE":return"PUBLISH_TO_PAGE";case "PUBLISH_TO_STORAGE":return"PUBLISH_TO_STORAGE";default:throw new TypeError('expected Permission for property "'+a+'", found: '+JSON.stringify(b));}}
function Ew(a,b){switch(b){case "DEFAULT":return"DEFAULT";case "PAGE":return"PAGE";case "GROUP":return"GROUP";case "NESTED":return"NESTED";default:throw new TypeError('expected TargetType for property "'+a+'", found: '+JSON.stringify(b));}}function Fw(a,b){switch(b){case "DEFAULT":return"DEFAULT";case "PAGE":return"PAGE";case "GROUP":return"GROUP";case "NESTED":return"NESTED";default:throw new TypeError('expected TargetType for property "'+a+'", found: '+JSON.stringify(b));}}
function Gw(a){this.platform=a.platform;this.OR=a.OR;this.vv=a.vv||[];this.Ku=a.Ku||[];this.username=a.username}Gw.prototype.qh=function(){return this.username};function Hw(a){return new Gw({platform:Pa(Bw,"platform",a),OR:Ma("userDeniedAuthorization",a),vv:Ra(Dw,"grantedPermissions",a),Ku:Ra(Dw,"deniedPermissions",a),username:D("username",a)})};var Iw={neverShowReplacePageContentWarning:"aa"};function Jw(a){this.N=a;this.path="/profile"}Jw.prototype.La=P.method(function(a){return sj(this.N,this.path+"/users/"+encodeURIComponent(a)).get(0).then(Kw)});function Lw(a,b){return sj(a.N,a.path+"/users/"+encodeURIComponent(b)+"?detailed").get(0).then(Mw)}
function Nw(a){return sj(a.N,a.path+"/user/uiinfo").get(0).then(function(a){for(var c=_.invert(Iw),d=la(Object.keys(a)),e=d.next();!e.done;e=d.next())e=e.value,c[e]&&(a[c[e]]=a[e],delete a[e]);return a})}function Ow(a,b,c){return Nw(a).then(function(a){Iw[b]&&(delete a[b],b=Iw[b]);if(a[b]===c)return a;a[b]=c;return qj(this.N,this.path+"/user/uiinfo",a).get(0)}.bind(a))}function Pw(a,b){return qj(a.N,a.path+"/brands/"+encodeURIComponent(b.brand),b).get(0).then(Qw)}
Jw.prototype.ka=function(a){return sj(this.N,this.path+"/brands/"+encodeURIComponent(a)).get(0).then(Rw)};Jw.prototype.nZ=P.method(function(a){var b=this.path+"/brands/"+encodeURIComponent(a.ka())+"/invitations";return qj(this.N,b,a).spread(Sw)});
P.method(function(a){a=this.path+"/brands/"+encodeURIComponent(a.ka())+"/invitations?"+(null!=a.Mb()?"\x26continuation\x3d"+encodeURIComponent(a.Mb()):"")+(null!=a.$d()?"\x26limit\x3d"+encodeURIComponent(a.$d()):"")+(a.countOnly?"\x26countOnly\x3d"+encodeURIComponent(a.countOnly):"")+(a.L3()?"\x26includeLinkInvitations\x3d"+encodeURIComponent(a.L3()):"");return sj(this.N,a).spread(Tw)});
P.method(function(a){var b=this.path+"/brands/"+encodeURIComponent(a.ka())+"/invitations?update\x3dtrue";return qj(this.N,b,Uw(a)).spread(Vw)});
Jw.prototype.Iz=P.method(function(a){a=this.path+"/brands/"+encodeURIComponent(a.ka())+"/members?"+(a.includeAvatars?"\x26includeAvatars\x3d"+encodeURIComponent(a.includeAvatars):"")+(a.includeEmails?"\x26includeEmails\x3d"+encodeURIComponent(a.includeEmails):"")+(a.countOnly?"\x26countOnly\x3d"+encodeURIComponent(a.countOnly):"")+(null!=a.Mb()?"\x26continuation\x3d"+encodeURIComponent(a.Mb()):"")+(null!=a.$d()?"\x26limit\x3d"+encodeURIComponent(a.$d()):"")+(null!=a.users?"\x26users\x3d"+encodeURIComponent(a.users.join(",")):
"");return sj(this.N,a).spread(Ww)});P.method(function(a){var b=this.path+"/brands/"+encodeURIComponent(a.ka())+"/members";return qj(this.N,b,Xw(a)).spread(Yw)});function Zw(a,b){return sj(a.N,a.path+"/users/"+encodeURIComponent(b.user)+"/oauth/"+encodeURIComponent(b.platform)).get(0).then(La).then($w)};var tm="MEMBER";function ax(a,b){switch(b){case tm:return"MEMBER";case "DESIGNER":return"DESIGNER";case "ADMIN":return"ADMIN";case "OWNER":return"OWNER";default:throw new TypeError('expected BrandUserRole for property "'+a+'", found: '+JSON.stringify(b));}}function Jh(a,b){switch(b){case "MEMBER":return tm;case "DESIGNER":return"DESIGNER";case "ADMIN":return"ADMIN";case "OWNER":return"OWNER";default:throw new TypeError('expected BrandUserRole for property "'+a+'", found: '+JSON.stringify(b));}}
function bx(a,b){switch(b){case "PENDING":return"PENDING";case "SUCCEEDED":return"SUCCEEDED";case "FAILED":return"FAILED";default:throw new TypeError('expected AvatarBundleStatus for property "'+a+'", found: '+JSON.stringify(b));}}function cx(a,b){switch(b){case "PENDING":return"PENDING";case "SUCCEEDED":return"SUCCEEDED";case "FAILED":return"FAILED";default:throw new TypeError('expected AvatarBundleStatus for property "'+a+'", found: '+JSON.stringify(b));}}
function dx(a,b){switch(b){case "AD":return"AD";case "AE":return"AE";case "AF":return"AF";case "AG":return"AG";case "AI":return"AI";case "AL":return"AL";case "AM":return"AM";case "AO":return"AO";case "AQ":return"AQ";case "AR":return"AR";case "AS":return"AS";case "AT":return"AT";case "AU":return"AU";case "AW":return"AW";case "AX":return"AX";case "AZ":return"AZ";case "BA":return"BA";case "BB":return"BB";case "BD":return"BD";case "BE":return"BE";case "BF":return"BF";case "BG":return"BG";case "BH":return"BH";
case "BI":return"BI";case "BJ":return"BJ";case "BL":return"BL";case "BM":return"BM";case "BN":return"BN";case "BO":return"BO";case "BQ":return"BQ";case "BR":return"BR";case "BS":return"BS";case "BT":return"BT";case "BV":return"BV";case "BW":return"BW";case "BY":return"BY";case "BZ":return"BZ";case "CA":return"CA";case "CC":return"CC";case "CD":return"CD";case "CF":return"CF";case "CG":return"CG";case "CH":return"CH";case "CI":return"CI";case "CK":return"CK";case "CL":return"CL";case "CM":return"CM";
case "CN":return"CN";case "CO":return"CO";case "CR":return"CR";case "CU":return"CU";case "CV":return"CV";case "CW":return"CW";case "CX":return"CX";case "CY":return"CY";case "CZ":return"CZ";case "DE":return"DE";case "DJ":return"DJ";case "DK":return"DK";case "DM":return"DM";case "DO":return"DO";case "DZ":return"DZ";case "EC":return"EC";case "EE":return"EE";case "EG":return"EG";case "EH":return"EH";case "ER":return"ER";case "ES":return"ES";case "ET":return"ET";case "FI":return"FI";case "FJ":return"FJ";
case "FK":return"FK";case "FM":return"FM";case "FO":return"FO";case "FR":return"FR";case "GA":return"GA";case "GB":return"GB";case "GD":return"GD";case "GE":return"GE";case "GF":return"GF";case "GG":return"GG";case "GH":return"GH";case "GI":return"GI";case "GL":return"GL";case "GM":return"GM";case "GN":return"GN";case "GP":return"GP";case "GQ":return"GQ";case "GR":return"GR";case "GS":return"GS";case "GT":return"GT";case "GU":return"GU";case "GW":return"GW";case "GY":return"GY";case "HK":return"HK";
case "HM":return"HM";case "HN":return"HN";case "HR":return"HR";case "HT":return"HT";case "HU":return"HU";case "ID":return"ID";case "IE":return"IE";case "IL":return"IL";case "IM":return"IM";case "IN":return"IN";case "IO":return"IO";case "IQ":return"IQ";case "IR":return"IR";case "IS":return"IS";case "IT":return"IT";case "JE":return"JE";case "JM":return"JM";case "JO":return"JO";case "JP":return"JP";case "KE":return"KE";case "KG":return"KG";case "KH":return"KH";case "KI":return"KI";case "KM":return"KM";
case "KN":return"KN";case "KP":return"KP";case "KR":return"KR";case "KW":return"KW";case "KY":return"KY";case "KZ":return"KZ";case "LA":return"LA";case "LB":return"LB";case "LC":return"LC";case "LI":return"LI";case "LK":return"LK";case "LR":return"LR";case "LS":return"LS";case "LT":return"LT";case "LU":return"LU";case "LV":return"LV";case "LY":return"LY";case "MA":return"MA";case "MC":return"MC";case "MD":return"MD";case "ME":return"ME";case "MF":return"MF";case "MG":return"MG";case "MH":return"MH";
case "MK":return"MK";case "ML":return"ML";case "MM":return"MM";case "MN":return"MN";case "MO":return"MO";case "MP":return"MP";case "MQ":return"MQ";case "MR":return"MR";case "MS":return"MS";case "MT":return"MT";case "MU":return"MU";case "MV":return"MV";case "MW":return"MW";case "MX":return"MX";case "MY":return"MY";case "MZ":return"MZ";case "NA":return"NA";case "NC":return"NC";case "NE":return"NE";case "NF":return"NF";case "NG":return"NG";case "NI":return"NI";case "NL":return"NL";case "NO":return"NO";
case "NP":return"NP";case "NR":return"NR";case "NU":return"NU";case "NZ":return"NZ";case "OM":return"OM";case "PA":return"PA";case "PE":return"PE";case "PF":return"PF";case "PG":return"PG";case "PH":return"PH";case "PK":return"PK";case "PL":return"PL";case "PM":return"PM";case "PN":return"PN";case "PR":return"PR";case "PS":return"PS";case "PT":return"PT";case "PW":return"PW";case "PY":return"PY";case "QA":return"QA";case "RE":return"RE";case "RO":return"RO";case "RS":return"RS";case "RU":return"RU";
case "RW":return"RW";case "SA":return"SA";case "SB":return"SB";case "SC":return"SC";case "SD":return"SD";case "SE":return"SE";case "SG":return"SG";case "SH":return"SH";case "SI":return"SI";case "SJ":return"SJ";case "SK":return"SK";case "SL":return"SL";case "SM":return"SM";case "SN":return"SN";case "SO":return"SO";case "SR":return"SR";case "SS":return"SS";case "ST":return"ST";case "SV":return"SV";case "SX":return"SX";case "SY":return"SY";case "SZ":return"SZ";case "TC":return"TC";case "TD":return"TD";
case "TF":return"TF";case "TG":return"TG";case "TH":return"TH";case "TJ":return"TJ";case "TK":return"TK";case "TL":return"TL";case "TM":return"TM";case "TN":return"TN";case "TO":return"TO";case "TR":return"TR";case "TT":return"TT";case "TV":return"TV";case "TW":return"TW";case "TZ":return"TZ";case "UA":return"UA";case "UG":return"UG";case "UM":return"UM";case "US":return"US";case "UY":return"UY";case "UZ":return"UZ";case "VA":return"VA";case "VC":return"VC";case "VE":return"VE";case "VG":return"VG";
case "VI":return"VI";case "VN":return"VN";case "VU":return"VU";case "WF":return"WF";case "WS":return"WS";case "YE":return"YE";case "YT":return"YT";case "ZA":return"ZA";case "ZM":return"ZM";case "ZW":return"ZW";case "ZZ":return"ZZ";default:throw new TypeError('expected CountryCode for property "'+a+'", found: '+JSON.stringify(b));}}
function ex(a){this.platform=a.platform;this.valid=a.valid;this.permissions=a.permissions||[];this.vv=a.vv||[];this.Ku=a.Ku||[];this.username=a.username;this.zg=a.zg;this.JY=a.JY;this.accessToken=a.accessToken}ex.prototype.qh=function(){return this.username};ex.prototype.gM=function(){return this.zg};
function gx(a){return new ex({platform:Pa(Bw,"platform",a),valid:Ma("valid",a),permissions:Ra(Dw,"permissions",a),vv:Ra(Dw,"grantedPermissions",a),Ku:Ra(Dw,"deniedPermissions",a),username:D("username",a),zg:D("avatarUrl",a),JY:Na("refreshRecommended",a),accessToken:D("accessToken",a)})}function hx(a){this.user=a.user;this.platform=a.platform;this.B3=a.B3}hx.prototype.La=function(){return this.user};function ix(a){this.summary=a.summary}function $w(a){return new ix({summary:Oa(gx,"summary",a)})}
function jx(a){this.version=a.version;this.sizes=a.sizes||new Map;this.status=a.status}jx.prototype.getVersion=function(){return this.version};jx.prototype.ph=function(){return this.status};function kx(a){return{version:db("version",a.version),sizes:nb(lx,"sizes",a.sizes),status:mb(bx,"status",a.status)}}function mx(a){return new jx({version:A("version",a),sizes:Sa(nx,"sizes",a),status:Qa(cx,"status",a)})}function ox(a){this.size=a.size;this.width=a.width;this.height=a.height;this.url=a.url}
ox.prototype.Wp=function(){return this.size};ox.prototype.l=function(){return this.width};ox.prototype.o=function(){return this.height};ox.prototype.oa=function(){return this.url};function lx(a){return{size:db("size",a.size),width:db("width",a.width),height:db("height",a.height),url:ib("url",a.url)}}function nx(a){return new ox({size:A("size",a),width:A("width",a),height:A("height",a),url:C("url",a)})}function Tn(a){this.Gg=a.Gg;this.name=a.name}Tn.prototype.getName=function(){return this.name};
function px(a){return new Tn({Gg:C("hexString",a),name:D("name",a)})}function Rn(a){this.zc=a.zc||[];this.name=a.name}Rn.prototype.gg=function(){return this.zc};Rn.prototype.getName=function(){return this.name};function qx(a){return new Rn({zc:G(px,"colors",a),name:D("name",a)})}function rx(a){this.family=a.family;this.size=a.size;this.bold=a.bold;this.italic=a.italic;this.media=a.media}rx.prototype.Wp=function(){return this.size};rx.prototype.Nb=function(){return this.media};
function sx(a){return new rx({family:D("family",a),size:A("size",a),bold:Na("bold",a),italic:Na("italic",a),media:F(Ym,"media",a)})}function tx(a){this.name=a.name;this.font=a.font}tx.prototype.getName=function(){return this.name};function ux(a){return new tx({name:D("name",a),font:F(sx,"font",a)})}function vx(a){this.name=a.name;this.LC=a.LC||[]}vx.prototype.getName=function(){return this.name};function wx(a){return new vx({name:D("name",a),LC:G(ux,"textStyles",a)})}
function xx(a){this.yb=a.yb;this.My=a.My||[];this.KC=a.KC||[]}xx.prototype.hn=function(){return this.yb};function yx(a){return new xx({yb:F(px,"brandColor",a),My:G(qx,"colorPalettes",a),KC:G(wx,"textStylePalettes",a)})}function zx(a){this.id=a.id;this.username=a.username;this.AB=a.AB;this.displayName=a.displayName;this.QM=a.QM;this.Xd=a.Xd;this.sb=a.sb;this.FD=a.FD;this.locale=a.locale;this.sE=a.sE}f=zx.prototype;f.u=function(){return this.id};f.qh=function(){return this.username};f.Xz=function(){return this.AB};
f.Jb=function(){return this.displayName};f.gs=function(){return this.Xd};f.Rj=function(){return this.sb};f.oV=function(){return this.FD};f.Df=function(){return this.locale};function Ax(a){return new zx({id:C("id",a),username:D("username",a),AB:D("personalBrand",a),displayName:D("displayName",a),QM:D("homepage",a),Xd:D("city",a),sb:Qa(dx,"countryCode",a),FD:Oa(mx,"avatar",a),locale:C("locale",a),sE:Ma("deactivated",a)})}
function Bx(a){this.user=a.user;this.email=a.email;this.locale=a.locale;this.Pc=a.Pc}Bx.prototype.La=function(){return this.user};Bx.prototype.fi=function(){return this.email};Bx.prototype.Df=function(){return this.locale};Bx.prototype.ts=function(){return this.Pc};function Cx(a){return new Bx({user:Oa(Ax,"user",a),email:D("email",a),locale:C("locale",a),Pc:Pa(Jh,"role",a)})}
function Dx(a){this.id=a.id;this.KJ=a.KJ;this.displayName=a.displayName;this.pj=a.pj;this.iK=a.iK;this.yN=a.yN;this.oR=a.oR;this.yb=a.yb}Dx.prototype.u=function(){return this.id};Dx.prototype.yF=function(){return this.KJ};Dx.prototype.Jb=function(){return this.displayName};Dx.prototype.hn=function(){return this.yb};
function Ex(a){return new Dx({id:C("id",a),KJ:D("brandname",a),displayName:D("displayName",a),pj:Ma("personal",a),iK:Ma("contributor",a),yN:Ma("layoutContributor",a),oR:Ma("thirdParty",a),yb:D("brandColor",a)})}function Uw(a){return{brand:ib("brand",a.D),removeEmail:I("removeEmail",a.sca),removeInviteLink:hb("removeInviteLink",a.tca)}}function Fx(){}function Vw(){return new Fx}function Gx(a){return{user:ib("user",a.user),token:ib("token",a.km)}}
function Xw(a){return{brand:I("brand",a.D),add:ob(qb,ax,"add",a.add),addByToken:jb(Gx,"addByToken",a.fba),update:ob(qb,ax,"update",a.update),remove:$a.Bd("remove",a.remove),includeAvatars:gb("includeAvatars",a.Tba)}}function Hx(a){this.E_=a.E_;this.VA=a.VA||[]}Hx.prototype.FF=function(){return this.VA};function Yw(a){return new Hx({E_:Oa(Ex,"updatedBrand",a),VA:G(Cx,"members",a)})}function Ix(a){this.GY=a.GY};function Jx(){this.enabled=null;this.allowedReferrers=[]}Jx.prototype.isEnabled=function(){return this.enabled};function Kx(){this.id="";this.brandname=this.displayName=null;this.thirdParty=this.layoutContributor=this.contributor=this.personal=!1;this.billingInfo=this.brandKit=this.apiSettings=null}f=Kx.prototype;f.u=function(){return this.id};f.Jb=function(){return this.displayName};f.yF=function(){return this.brandname};f.iW=function(){return this.contributor};f.nW=function(){return this.layoutContributor};
f.hi=function(){return this.personal};f.qW=function(){return this.thirdParty};f.Lp=function(){return this.brandKit?yx(this.brandKit):null};function Qw(a){if(!a)return null;a=Df(Kx,a);var b;b=(b=a.apiSettings)?Df(Jx,b):null;a.apiSettings=b;return a}function Lx(a){a=void 0===a?{}:a;this.id=a.id||"";this.displayName=a.displayName||null;this.brandname=a.oba||null;this.personal=a.pj||!1;this.contributor=a.iK||!1;this.layoutContributor=a.yN||!1;this.thirdParty=a.oR||!1;this.brandColor=a.yb||null}f=Lx.prototype;
f.u=function(){return this.id};f.Jb=function(){return this.displayName};f.yF=function(){return this.brandname};f.iW=function(){return this.contributor};f.nW=function(){return this.layoutContributor};f.hi=function(){return this.personal};f.qW=function(){return this.thirdParty};f.hn=function(){return this.brandColor};function Rw(a){return a?Df(Lx,a):null}
function Mx(){this.brand="";this.owner=this.billingInfo=this.hiddenMagicTemplates=this.personal=this.brandKit=this.apiSettings=this.displayName=this.brandname=null}f=Mx.prototype;f.Uo=function(a){this.brand=a;return this};f.u=function(){return this.brand};f.St=function(a){this.brandname=a;return this};f.getName=function(){return this.brandname};function Nx(a,b){a.displayName=b;return a}f.Jb=function(){return this.displayName};function Ox(a){a.personal=!1;return a}
function Px(a){a=void 0===a?{}:a;this.id=a.id||"UNKNOWN_USER_ID";this.username=a.username||"";this.personalBrand=a.AB||"";this.displayName=a.displayName||"";this.homepage=a.QM||null;this.city=a.Xd||null;this.countryCode=a.sb||null;this.avatar=a.FD||null;this.roles=a.Aca||[];this.deactivated=a.sE||!1;this.locale=a.locale||"en"}f=Px.prototype;f.u=function(){return this.id};f.qh=function(){return this.username};f.Xz=function(){return this.personalBrand};f.Jb=function(){return this.displayName};
f.gs=function(){return this.city};f.Rj=function(){return this.countryCode};f.gv=function(){return this.avatar};f.tv=function(){return this.roles};function Kw(a){if(!a)return null;a=Df(Px,a);a.avatar&&(a.avatar=mx(a.avatar));return a}function Ak(a){return Kw(a)}f.NC=function(){return Ax(Object.assign({},this,{avatar:this.avatar&&kx(this.avatar)}))};f.gM=function(a){var b=this.gv();return b&&(a=b.sizes.get(a))?a.oa():null};
function Qx(){this.id="";this.creationDate=0;this.temporary=this.deactivated=!1;this.email=this.displayName="";this.emailStatus=null;this.username="";this.apiDetails=this.google=this.facebook=this.credentials=this.avatar=this.userNotificationSettings=this.countryCode=this.city=this.homepage=null;this.roles=[];this.personalBrand="";this.brands={};this.uiInfo=null;this.locale="";this.phoneNumber=this.profession=null}f=Qx.prototype;f.u=function(){return this.id};f.Jb=function(){return this.displayName};
f.fi=function(){return this.email};f.kW=function(){return"VERIFIED"===this.emailStatus};f.qh=function(){return this.username};f.gs=function(){return this.city};f.Rj=function(){return this.countryCode};f.rZ=function(a){this.countryCode=a};f.gv=function(){return this.avatar};f.tv=function(){return this.roles};f.Xz=function(){return this.personalBrand};f.pV=function(){return this.brands};f.Df=function(){return this.locale};f.setLocale=function(a){this.locale=a};
function Mw(a){var b;if(!a)return null;b=Df(Qx,a);b.avatar&&(b.avatar=mx(b.avatar));a.userNotificationSettings&&(b.userNotificationSettings=new Ix({GY:Ma("receiveSocialEmails",a.userNotificationSettings)}));return b}f.gM=function(a){var b=this.gv();return b&&(a=b.sizes.get(a))?a.oa():null};
f.NC=function(){return Kw({id:this.id,username:this.username,personalBrand:this.personalBrand,displayName:this.displayName,homepage:this.homepage,city:this.city,countryCode:this.countryCode,avatar:this.avatar&&kx(this.avatar),roles:this.roles,deactivated:this.deactivated,locale:this.locale})};var Rx=mx({version:0,sizes:{50:{size:50,width:50,height:50,url:"https://static.canva.com/static/images/default_avatar_50.png"},200:{size:200,width:200,height:200,url:"https://static.canva.com/static/images/default_avatar_200.png"}}});function Sx(){}
Sx.prototype.fi=function(){return this.email};Sx.prototype.ts=function(){return this.role};function Tx(){}Tx.prototype.zj=function(a){this.brand=a;return this};Tx.prototype.ka=function(){return this.brand};function Ux(a,b){a.invitees=b;return a}function Vx(a,b){a.utmContent=b;return a}function Wx(){}function Sw(a){return Object.freeze(Df(Wx,a))}function Xx(){}Xx.prototype.Mb=function(){return this.continuation};Xx.prototype.getCount=function(){return this.count};
function Tw(a){return Object.freeze(Df(Xx,a))}function Yx(a){a=void 0===a?{}:a;this.user=a.user;this.email=a.email;this.role=a.Pc}Yx.prototype.La=function(){return this.user};Yx.prototype.fi=function(){return this.email};Yx.prototype.ts=function(){return this.role};function Zx(a){a=Df(Yx,a);a.user=Kw(a.user);return Object.freeze(a)}function $x(){}f=$x.prototype;f.zj=function(a){this.brand=a;return this};f.ka=function(){return this.brand};f.Aj=function(a){this.continuation=a;return this};f.Mb=function(){return this.continuation};
f.Vg=function(a){this.limit=a;return this};f.$d=function(){return this.limit};function ay(a){a.includeAvatars=!0;return a}function by(a){a.includeEmails=!0;return a}function cy(a){a.countOnly=!0;return a}function dy(a,b){a.users=b;return a}function ey(a){a=void 0===a?{}:a;this.members=a.VA;this.continuation=a.Y}ey.prototype.FF=function(){return this.members};ey.prototype.Mb=function(){return this.continuation};ey.prototype.getCount=function(){return this.count};
function Ww(a){a=Df(ey,a);a.members&&(a.members=a.members.map(Zx));return Object.freeze(a)};function fy(){this.N=Ib;this.path="/social"};function gy(){}function hy(){var a=Df(gy,window.clientInfo),b;b=Df(iy,a.brandInfo);b.brand=Rw(b.brand);b.subscription&&(b.subscription=$i(b.subscription));b=Object.freeze(b);a.brandInfo=b;b=Df(jy,a.user);b.avatar&&(b.avatar=mx(b.avatar));b=Object.freeze(b);a.user=b;return Object.freeze(a)}function ky(a){return a.brandInfo}function ly(a){return a.user}function iy(){}iy.prototype.ka=function(){return this.brand};iy.prototype.Lp=function(){return this.brandKit?yx(this.brandKit):null};
iy.prototype.getSubscription=function(){return this.subscription||null};function my(a){return a.brandMembersCount}function ny(a){return a.brandInvitationsCount}function jy(){}f=jy.prototype;f.u=function(){return this.id};f.oV=function(){return this.avatar};f.fi=function(){return this.email};f.kW=function(){return this.emailVerified};f.qh=function(){return this.username};f.Jb=function(){return this.displayName};f.tv=function(){return this.roles};f.Xz=function(){return this.personalBrand};f.OF=function(){return this.uiInfo};
f.Df=function(){return this.locale};f.Sz=function(){return this.country};f.NC=function(){return Kw({id:this.u(),username:this.qh(),personalBrand:this.Xz(),displayName:this.Jb(),avatar:kx(this.oV()),roles:this.tv(),countryCode:this.Sz(),locale:this.Df()})};function oy(){this.N=Ib;this.url="/session"}function py(a){return qj(a.N,a.url+"/brand?invalidateCache",null)}function qy(a){return qj(a.N,a.url+"/user?invalidateCache",null)};function ry(a){this.N=a;this.url="/shares"}ry.prototype.AM=function(a){return sj(this.N,this.url+"/"+encodeURIComponent(a.id)).get(0).then(La).then(sy)};function ty(a,b){return qj(a.N,a.url+"/targetqueues",uy(b)).get(0).then(La).then(vy)}
function wy(a,b){return sj(a.N,a.url+"/targetqueues?"+(b.user?"\x26user\x3d"+encodeURIComponent(b.user):"")+(b.D?"\x26brand\x3d"+encodeURIComponent(b.D):"")+(b.qf?"\x26targetType\x3d"+encodeURIComponent(b.qf):"")+(b.externalId?"\x26externalId\x3d"+encodeURIComponent(b.externalId):"")+(b.platform?"\x26platform\x3d"+encodeURIComponent(b.platform):"")+(b.Y?"\x26continuation\x3d"+encodeURIComponent(b.Y):"")+("\x26limit\x3d"+encodeURIComponent(String(b.limit)))).get(0).then(La).then(xy)}
function yy(a,b){return qj(a.N,a.url+"/email/document/"+encodeURIComponent(b.pb),zy(b)).get(0).then(La).then(Ay)}function By(a,b){return sj(a.N,a.url+"/email/quota/"+encodeURIComponent(b.Zw)).get(0).then(La).then(Cy)};function Dy(a,b){switch(b){case "NEW":return"NEW";case "IN_PROGRESS":return"IN_PROGRESS";case "SUCCESS":return"SUCCESS";case "FAILURE":return"FAILURE";default:throw new TypeError('expected Status for property "'+a+'", found: '+JSON.stringify(b));}}function Ey(a,b){switch(b){case "PNG":return"PNG";case "PDF":return"PDF";case "JPG":return"JPG";default:throw new TypeError('expected ShareFileFormat for property "'+a+'", found: '+JSON.stringify(b));}}
function Fy(a,b){switch(b){case "PNG":return"PNG";case "PDF":return"PDF";case "JPG":return"JPG";default:throw new TypeError('expected ShareFileFormat for property "'+a+'", found: '+JSON.stringify(b));}}
function Gy(a,b){switch(b){case "PREPARATION_REQUIRED":return"PREPARATION_REQUIRED";case "PREPARATION_STARTED":return"PREPARATION_STARTED";case "PREPARATION_COMPLETED":return"PREPARATION_COMPLETED";case "PREPARATION_FAILED":return"PREPARATION_FAILED";default:throw new TypeError('expected PreparationStatus for property "'+a+'", found: '+JSON.stringify(b));}}
function Hy(a,b){switch(b){case "WAITING_FOR_MEDIA":return"WAITING_FOR_MEDIA";case "READY_FOR_UPLOAD":return"READY_FOR_UPLOAD";case "MEDIA_GENERATION_FAILED":return"MEDIA_GENERATION_FAILED";case "LOCKED_FOR_UPLOAD":return"LOCKED_FOR_UPLOAD";case "UPLOAD_IN_PROGRESS":return"UPLOAD_IN_PROGRESS";case "UPLOAD_COMPLETED":return"UPLOAD_COMPLETED";case "UPLOAD_FAILED":return"UPLOAD_FAILED";case "DELETED_BY_USER":return"DELETED_BY_USER";case "SKIPPED":return"SKIPPED";default:throw new TypeError('expected UploadTaskStatus for property "'+
a+'", found: '+JSON.stringify(b));}}function Iy(a,b){switch(b){case "UPLOAD_NOW":return"UPLOAD_NOW";case "SCHEDULE_FOR_DATE":return"SCHEDULE_FOR_DATE";case "APPEND_TO_QUEUE":return"APPEND_TO_QUEUE";case "PREPEND_TO_QUEUE":return"PREPEND_TO_QUEUE";case "SKIP_UPLOAD":return"SKIP_UPLOAD";default:throw new TypeError('expected Action for property "'+a+'", found: '+JSON.stringify(b));}}
function Jy(a,b){switch(b){case "UPLOAD_NOW":return"UPLOAD_NOW";case "SCHEDULE_FOR_DATE":return"SCHEDULE_FOR_DATE";case "APPEND_TO_QUEUE":return"APPEND_TO_QUEUE";case "PREPEND_TO_QUEUE":return"PREPEND_TO_QUEUE";case "SKIP_UPLOAD":return"SKIP_UPLOAD";default:throw new TypeError('expected Action for property "'+a+'", found: '+JSON.stringify(b));}}
function Ky(a,b){switch(b){case "WEB_1":return"WEB_1";case "WEB_2":return"WEB_2";default:throw new TypeError('expected DocumentSchema for property "'+a+'", found: '+JSON.stringify(b));}}function Ly(a,b){switch(b){case "QUEUED":return"QUEUED";case "SCHEDULED":return"SCHEDULED";case "MANUAL":return"MANUAL";default:throw new TypeError('expected UploadType for property "'+a+'", found: '+JSON.stringify(b));}}function My(a){this.platform=a.platform;this.qf=a.qf;this.externalId=a.externalId}
function Ny(a){return{platform:lb(Aw,"platform",a.platform),targetType:lb(Ew,"targetType",a.qf),externalId:I("externalId",a.externalId)}}function Oy(a){this.id=a.id;this.platform=a.platform;this.Ox=a.Ox;this.hT=a.hT||[];this.version=a.version;this.document=a.document;this.Zb=a.Zb;this.message=a.message;this.title=a.title;this.OA=a.OA;this.status=a.status;this.H_=a.H_;this.dz=a.dz;this.url=a.url;this.Gp=a.Gp;this.oU=a.oU;this.G_=a.G_;this.F_=a.F_;this.I_=a.I_;this.externalId=a.externalId}f=Oy.prototype;
f.u=function(){return this.id};f.getVersion=function(){return this.version};f.getDocument=function(){return this.document};f.qb=function(){return this.title};f.ph=function(){return this.status};f.oa=function(){return this.url};f.tV=function(){return this.Gp};
function Py(a){return new Oy({id:C("id",a),platform:Pa(Bw,"platform",a),Ox:F(Qy,"targetQueue",a),hT:G(Ry,"attachments",a),version:A("version",a),document:D("document",a),Zb:B("documentVersion",a),message:D("message",a),title:D("title",a),OA:D("linkUrl",a),status:Pa(Dy,"status",a),H_:Pa(Hy,"uploadTaskStatus",a),dz:Ma("deleted",a),url:D("url",a),Gp:D("errorMessage",a),oU:B("desiredUploadDate",a),G_:B("uploadStartDate",a),F_:B("uploadEndDate",a),I_:Qa(Ly,"uploadType",a),externalId:D("externalId",a)})}
function Sy(a){this.id=a.id;this.xf=a.xf;this.user=a.user;this.D=a.D;this.action=a.action;this.status=a.status;this.nY=a.nY;this.Xx=a.Xx||[]}Sy.prototype.u=function(){return this.id};Sy.prototype.La=function(){return this.user};Sy.prototype.ka=function(){return this.D};Sy.prototype.ph=function(){return this.status};
function Ty(a){return new Sy({id:C("id",a),xf:A("creationDate",a),user:C("user",a),D:C("brand",a),action:Pa(Jy,"action",a),status:Pa(Dy,"status",a),nY:Pa(Gy,"preparationStatus",a),Xx:G(Py,"uploads",a)})}
function Uy(a){this.id=a.id;this.user=a.user;this.D=a.D;this.platform=a.platform;this.qf=a.qf;this.externalId=a.externalId;this.TU=a.TU;this.VU=a.VU;this.paused=a.paused;this.r_=a.r_||[];this.s_=a.s_;this.EY=a.EY;this.FY=a.FY;this.gZ=a.gZ;this.hZ=a.hZ;this.timeZone=a.timeZone;this.Xl=a.Xl;this.dz=a.dz}Uy.prototype.u=function(){return this.id};Uy.prototype.La=function(){return this.user};Uy.prototype.ka=function(){return this.D};
function Qy(a){return new Uy({id:C("id",a),user:C("user",a),D:C("brand",a),platform:Pa(Bw,"platform",a),qf:Pa(Fw,"targetType",a),externalId:D("externalId",a),TU:D("externalName",a),VU:D("externalThumb",a),paused:Ma("paused",a),r_:G(Vy,"triggerPatterns",a),s_:A("triggerPatternsCount",a),EY:A("queuedUploadsCount",a),FY:A("queuedUploadsHistoricCount",a),gZ:A("scheduledUploadsCount",a),hZ:A("scheduledUploadsHistoricCount",a),timeZone:D("timeZone",a),Xl:Ma("restricted",a),dz:Ma("deleted",a)})}
function Wy(a){this.user=a.user;this.D=a.D;this.document=a.document;this.Zb=a.Zb;this.O=a.O||[];this.O_=a.O_||[];this.message=a.message;this.title=a.title;this.OA=a.OA;this.Jj=a.Jj;this.HK=a.HK||[];this.Ft=a.Ft||[];this.action=a.action;this.fZ=a.fZ;this.Bh=a.Bh;this.rI=a.rI;this.$m=a.$m}f=Wy.prototype;f.La=function(){return this.user};f.ka=function(){return this.D};f.getDocument=function(){return this.document};f.Gb=function(){return this.O};f.qb=function(){return this.title};f.Ie=function(){return this.Jj};
function Xy(a){return{user:ib("user",a.user),brand:ib("brand",a.D),document:I("document",a.document),documentVersion:eb("documentVersion",a.Zb),pages:fb(a.O),userUploads:kb(Yy,"userUploads",a.O_),message:I("message",a.message),title:I("title",a.title),linkUrl:I("linkUrl",a.OA),draft:I("draft",a.Jj),destinations:kb(Ny,"destinations",a.HK),targetQueues:$a.Bd("targetQueues",a.Ft),action:lb(Iy,"action",a.action),scheduleDate:I("scheduleDate",a.fZ),schema:mb(Ky,"schema",a.Bh),supportErrorResponse:gb("supportErrorResponse",
a.rI),fileFormat:mb(Ey,"fileFormat",a.$m)}}function Zy(a){this.type=a.type}function $y(a){switch(a.type){case "SUCCESS":return w("SUCCESS"===a.type),new az({id:C("id",a),fm:Oa(Ty,"share",a)});case "ERROR":return w("ERROR"===a.type),new bz({message:C("message",a)});default:throw Error("unknown case: "+a.type);}}function az(a){this.type="SUCCESS";this.id=a.id;this.fm=a.fm}r(az,Zy);az.prototype.u=function(){return this.id};az.prototype.AM=function(){return this.fm};
function bz(a){this.type="ERROR";this.message=a.message}r(bz,Zy);function cz(a){this.id=a.id}cz.prototype.u=function(){return this.id};function dz(a){this.fm=a.fm}dz.prototype.AM=function(){return this.fm};function sy(a){return new dz({fm:Oa(Ty,"share",a)})}function ez(a){this.user=a.user;this.D=a.D;this.platform=a.platform;this.qf=a.qf;this.timeZone=a.timeZone;this.externalId=a.externalId;this.Xl=a.Xl}ez.prototype.La=function(){return this.user};ez.prototype.ka=function(){return this.D};
function uy(a){return{user:ib("user",a.user),brand:ib("brand",a.D),platform:lb(Aw,"platform",a.platform),targetType:lb(Ew,"targetType",a.qf),timeZone:I("timeZone",a.timeZone),externalId:I("externalId",a.externalId),restricted:hb("restricted",a.Xl)}}function fz(a){this.Ox=a.Ox}function vy(a){return new fz({Ox:Oa(Qy,"targetQueue",a)})}function gz(a){this.user=a.user;this.D=a.D;this.platform=a.platform;this.qf=a.qf;this.externalId=a.externalId;this.Xl=a.Xl;this.Y=a.Y;this.limit=a.limit}
gz.prototype.La=function(){return this.user};gz.prototype.ka=function(){return this.D};gz.prototype.Mb=function(){return this.Y};gz.prototype.$d=function(){return this.limit};function hz(a){this.Ft=a.Ft||[];this.Y=a.Y}hz.prototype.Mb=function(){return this.Y};function xy(a){return new hz({Ft:G(Qy,"targetQueues",a),Y:D("continuation",a)})}function iz(a){this.d=a.d;this.h=a.h;this.m=a.m}function Vy(a){return new iz({d:A("d",a),h:A("h",a),m:A("m",a)})}
function jz(a){this.pb=a.pb;this.wU=a.wU;this.mode=a.mode;this.Ye=a.Ye;this.va=a.va;this.Xr=a.Xr||[];this.ld=a.ld;this.Zw=a.Zw;this.XC=a.XC;this.DH=a.DH}jz.prototype.hc=function(){return this.pb};jz.prototype.getExtension=function(){return this.Ye};
function zy(a){return{documentId:ib("documentId",a.pb),documentUrl:I("documentUrl",a.wU),mode:ib("mode",a.mode),extension:I("extension",a.Ye),brandId:I("brandId",a.va),emails:$a.Bd("emails",a.Xr),imageUrl:I("imageUrl",a.ld),senderId:I("senderId",a.Zw),utmSource:I("utmSource",a.XC),recaptchaToken:I("recaptchaToken",a.DH)}}function kz(a){this.GP=a.GP}function Ay(a){return new kz({GP:Na("recaptchaRequired",a)})}function lz(a){this.Zw=a.Zw}function mz(a){this.Dp=a.Dp}
function Cy(a){return new mz({Dp:A("emailsRemaining",a)})}function nz(a){this.displayName=a.displayName;this.bucket=a.bucket;this.UV=a.UV;this.WV=a.WV;this.ld=a.ld;this.ir=a.ir;this.$m=a.$m;this.order=a.order}nz.prototype.Jb=function(){return this.displayName};nz.prototype.nn=function(){return this.order};
function Ry(a){return new nz({displayName:D("displayName",a),bucket:C("bucket",a),UV:C("imageKey",a),WV:D("imageThumbKey",a),ld:C("imageUrl",a),ir:D("thumbUrl",a),$m:Pa(Fy,"fileFormat",a),order:B("order",a)})}function Yy(a){return{key:ib("key",a.key),displayName:I("displayName",a.displayName)}};function kp(){}kp=Backbone.View.extend();kp.prototype.initialize=function(a){a=_.defaults({},a,{Gr:!0,content:$(),jf:!0,Ho:!0});this.H=a.H;this.Gr=!!a.Gr;this.content=a.content;this.Qd=new oz({style:this.Rp(),H:this.H});this.listenTo(this.Qd,"maskClick",this.blur);this.result=1;this.jf=!!a.jf;this.Re=!!a.Re;this.Ho=!!a.Ho;this.title=a.Ho?a.title:"";this.Ez=null;this.zx=!1};kp.sS=300;f=kp.prototype;f.blur=function(){this.Gr&&(this.result=0,this.remove())};f.cancel=function(){this.result=1;this.remove()};
f.fail=function(a){this.result=3;this.Ez=a||null;this.remove()};f.events=function(){return{"click .close":this.KG,"click .dialogMaskCloseButton":this.KG,"click button.done":this.ok}};f.Rp=function(){return pz};f.ok=function(){this.result=2;this.remove()};f.KG=function(a){a.preventDefault();this.cancel()};
f.remove=function(){var a=this;this.$el.children(".dialog").addClass("disappearing");this.Qd.hide();this.zx=!1;this.trigger("hide",this.result);this.H.setTimeout(function(){a.trigger("remove",a);Backbone.View.prototype.remove.call(a)},kp.sS);return this};f.render=function(){this.$el.html(this.template(this.wi()));this.$(".content").append(this.content);this.$(".dialog").data("Canva_Views_Dialog",this);return this};
f.wi=function(){return{showCloseButton:this.jf,showDialogMaskCloseButton:this.Re,showTitle:this.Ho,title:this.title}};f.X9=function(a){this.$("h2").text(a);this.title=a};
f.show=function(){function a(d){d.target===d.currentTarget&&(b.off("animationend transitionend",a),c.trigger("showTransitionEnd",c))}var b,c=this;this.render();b=this.$el.children(".dialog");this.Qd.show(this.$el);this.zx=!0;this.trigger("show",this);il(function(){b.removeClass("preparing");b.on("animationend transitionend",a)});return this};function np(a){return new P(function(a,c){this.once("hide",function(d){3!==d?a(d):c(this.Ez)}.bind(this));this.show()}.bind(a))}f.template=_.template('\x3c% if (showDialogMaskCloseButton) { %\x3e\x3ca class\x3d"dialogMaskCloseButton"\x3eClose\x3c/a\x3e\x3c% } %\x3e\x3cdiv class\x3d"dialog preparing"\x3e\x3c% if (showTitle) { %\x3e\x3ch2 class\x3d"dialog__title"\x3e\x3c%- title %\x3e\x3c/h2\x3e\x3c% } %\x3e\x3cdiv class\x3d"content"\x3e\x3c/div\x3e\x3c% if (showCloseButton) { %\x3e\x3ca class\x3d"close" href\x3d"#" title\x3d"Close this dialog"\x3eClose\x3c/a\x3e\x3c% } %\x3e\x3c/div\x3e');function qz(){}qz=kp.extend({className:"fontUploadDialog"});qz.create=function(a){return new qz(a)};f=qz.prototype;f.events=function(){return _.extend(kp.prototype.events.call(this),{"click .fontUploadDialogConfirm":this.K5,"click .fontUploadDialogFinish":this.ok,"click .fontUploadDialogCancel":this.xT})};f.initialize=function(a){kp.prototype.initialize.call(this,{H:hl,jf:!0,Gr:!0,Re:!1});this.error=null;this.dg=a.dg;this.Lz=this.dg.wba();this.opentype=opentype;this.progress=!1};
f.render=function(){kp.prototype.render.call(this);rz(this);this.$(".fontFileInput").remove();var a=$('\x3cinput class\x3d"fontFileInput" type\x3d"file" accept\x3d".ttf,.otf,.woff"\x3e');this.$el.append(a);a.on("change",this.o5.bind(this));return this};
f.o5=function(){var a={message:this.dg.qca()},b=this.$(".fontFileInput")[0].files;if(b.length&&/.*\.(ttf|otf|woff)$/gi.test(b[0].name)){if(this.error=null,this.rF=b[0],this.Lz=this.rF.name,this.opentype){var c=new FileReader;c.onload=function(){if(c.result)try{var b=this.opentype.parse(c.result);b&&b.supported?b.names&&b.names.fullName&&b.names.fullName.en&&(this.Lz=b.names.fullName.en):this.error=a}catch(e){this.error=a}else this.error=a;this.show()}.bind(this);c.readAsArrayBuffer(this.rF);return}}else this.error=
{message:this.dg.lba()};this.show()};f.K5=function(){this.$(".fontUploadDialogDisclaimerCheck").prop("checked")?(this.progress=1,this.$(".fontUploadDialogBlurb").html(this.dg.kca()),this.$(".fontUploadDialogConfirm").addClass("buttonProgress").html('\x3cspan class\x3d"buttonProgressIndicator"\x3e\x3c/span\x3e\x3cspan class\x3d"buttonProgressText"\x3e'+this.dg.Wca()+"\x26hellip;\x3c/span\x3e"),this.rF&&this.trigger("fontUpload",this.rF)):sz(this)};
function tz(a){return{canEditFontName:!1,error:null!=a.error?a.error.message:!1,supportUrl:null!=a.error?a.error.sI:null,supportTitle:null!=a.error?a.error.Lca:"fonts",fontName:a.Lz,progress:a.progress||!1,sorrySomethingWentWrong:a.dg.Hca(),pleaseSeeSupportArticle:a.dg.jca(),beforeYouUpload:a.dg.mba(),fontNameHeading:a.dg.Kba(),ok:a.dg.ok(),youMustConfirm:a.dg.ada(),iOwnThisFont:a.dg.Nba(),uploadAway:a.dg.Vca(),cancelUpload:a.dg.xT()}}
function sz(a){a.$(".fontUploadDialogDisclaimerError").addClass("on");setTimeout(function(){this.$(".fontUploadDialogDisclaimerError").removeClass("on")}.bind(a),3200)}f.lf=function(a){this.error=a;rz(this)};function rz(a){a.$(".fontUploadDialogContents").remove();a.$(".dialog .content").append(a.gK(tz(a)))}f.GZ=function(a){this.progress=Math.round(100*a);this.$(".buttonProgressIndicator").css("width",String(this.progress)+"%")};f.xT=function(){this.trigger("fontUploadCancel");this.cancel()};
f.gK=_.template('\x3cdiv class\x3d"fontUploadDialogContents"\x3e\x3c% if (error) { %\x3e\x3ch2\x3e\x3c%- sorrySomethingWentWrong %\x3e\x3c/h2\x3e\x3cdiv class\x3d"fontUploadDialogError"\x3e\x3cp\x3e\x3c%- error %\x3e\x3c/p\x3e\x3c% if (supportUrl !\x3d null) { %\x3e\x3cp\x3e\x3c%- pleaseSeeSupportArticle %\x3e\x3ca href\x3d"\x3c%- supportUrl %\x3e" target\x3d"_blank"\x3e\x3c%- supportTitle %\x3e\x3c/a\x3e \x3c/p\x3e\x3c% } %\x3e\x3cdiv class\x3d"fontUploadDialogControls"\x3e\x3cbutton class\x3d"button buttonBlock buttonSubmittable fontUploadDialogFinish"\x3e\x3c%- ok %\x3e\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e\x3c% } else { %\x3e\x3ch2\x3e\x3c%- beforeYouUpload %\x3e\x3c/h2\x3e\x3cdiv class\x3d"fontUploadDialogDisclaimer"\x3e\x3cp\x3e\x3cstrong\x3e\x3c%- fontNameHeading %\x3e\x3c/strong\x3e: \x3c% if (canEditFontName) { %\x3e\x3cinput class\x3d"fontUploadDialogFontName" autocomplete\x3d"off" value\x3d"\x3c%- fontName %\x3e"\x3e\x3c% } else { %\x3e\x3c%- fontName %\x3e\x3c% } %\x3e\x3c/p\x3e\x3cp\x3e\x3cspan class\x3d"fontUploadDialogDisclaimerError"\x3e\x3c%- youMustConfirm %\x3e\x3c/span\x3e\x3clabel\x3e\x3cinput class\x3d"fontUploadDialogDisclaimerCheck" type\x3d"checkbox"\x3e\x3cspan class\x3d"fontUploadDialogDisclaimerText"\x3e\x3c%- iOwnThisFont %\x3e\x3c/span\x3e\x3c/label\x3e\x3c/p\x3e\x3c/div\x3e\x3cdiv class\x3d"fontUploadDialogControls"\x3e\x3cbutton class\x3d"button buttonBlock buttonSubmittable fontUploadDialogConfirm"\x3e\x3c%- uploadAway %\x3e\x3c/button\x3e\x3cspan class\x3d"fontUploadDialogCancel"\x3e\x3c%- cancelUpload %\x3e\x3c/span\x3e\x3c/div\x3e\x3c% } %\x3e\x3c/div\x3e');function uz(){}uz=Backbone.View.extend({className:"multipageDialog"});f=uz.prototype;f.initialize=function(a){this.H=hl;this.Ag=0;this.iF=a.iF||[];this.Yi=void 0===a.Yi||a.Yi;this.Re=!!a.Re;this.Qd=new oz({H:this.H,style:pz});this.O=a.O;this.O.forEach(function(a){this.listenTo(a,"next",this.f$);this.listenTo(a,"back",this.h$)},this)};f.events=function(){return{click:this.Lf,"click .dialogMaskCloseButton":this.hide}};
f.hide=function(){this.$el.addClass("multipageDialogDisappearing");this.Qd.hide();this.H.setTimeout(function(){this.trigger("hide")}.bind(this),300)};f.Lf=function(a){$(a.target).is(".multipageDialogPage, .multipageDialogPageWrapper")&&this.Yi&&this.hide()};
f.render=function(){var a=this;(function(){a.iF.forEach(function(b){a.$el.addClass(b)})})();(function(){a.O.forEach(function(a){a.$el.detach()});a.$el.empty()})();a.Re&&a.$el.append('\x3cbutton class\x3d"buttonLink dialogMaskCloseButton"\x3eClose\x3c/button\x3e');(function(){a.O.forEach(function(b){var c,d;c=$("\x3cdiv\x3e").addClass("multipageDialogPageWrapper");d=$("\x3cdiv\x3e").addClass("multipageDialogPage");c.append(d);d.append(b.render().$el);a.$el.append(c)})})();vz(this,this.Ag);return this};
f.show=function(){this.$el.addClass("multipageDialogAppearing");this.Qd.show(this.render().$el);this.H.setTimeout(function(){this.$el.removeClass("multipageDialogAppearing")}.bind(this),300)};f.f$=function(){var a=this.Ag+1;a>=this.O.length?this.hide():vz(this,a)};f.h$=function(){var a=this.Ag-1;0>a?this.hide():vz(this,a)};
function vz(a,b){a.trigger("pageChange",a.O[b]);var c=a.$(".multipageDialogPageWrapper"),d=a.$(".multipageDialogPage");a.Ag=b;c.css("transform","translateY("+-100*b+"%)");d.removeClass("multipageDialogCurrentPage");d.eq(b).addClass("multipageDialogCurrentPage")};function wz(a){var b={},c=a.ZS.ml(),d=a.qp.l(),e=c-a.margin-a.KI.F(),g=a.KI.Za()-c-a.margin;b.left=Math.round((g>=d||g>=e?c+a.margin:c-a.margin-d)-a.mX.F())+"px";c=a.ZS.nl();d=a.qp.o();e=c-a.margin-a.KI.w();g=a.KI.xa()-c-a.margin;b.top=Math.round((g>=d||g>=e?c+a.margin:c-a.margin-d)-a.mX.w())+"px";return b}function xz(a){this.ty=a.ty;this.bA=a.bA;this.margin=a.margin||0;this.zC=a.zC}
xz.prototype.nm=function(a,b){if(0!==b.length&&0!==a.length){this.ty(a);var c=a.get(0),d=b.get(0),e=c.offsetParent||c.ownerDocument.body;b=this.bA().get(0)||c.ownerDocument.body;c=Wg(c.getBoundingClientRect());d=Wg(d.getBoundingClientRect());e=Wg(e.getBoundingClientRect());b=Wg(b.getBoundingClientRect());Bm(d,this.margin);Bm(b,-this.margin);b=this.zC({margin:this.margin,ZS:d,qp:c,mX:e,KI:b});a.css(b)}};function yz(){}yz=kp.extend();yz.prototype.initialize=function(a){kp.prototype.initialize.call(this,_.extend(a,{H:hl}));this.LK=a.LK};yz.prototype.render=function(){kp.prototype.render.call(this);this.$(".dialog").addClass("alert");this.$(".content").append('\x3cp class\x3d"buttonContainer"\x3e\x3cbutton class\x3d"button done"\x3e'+(this.LK?this.LK:"OK")+"\x3c/button\x3e\x3c/p\x3e");return this};var xp="top",zz={LEFT:"left",Iaa:"leftTop",Vaa:xp,Waa:"topLeft",Oaa:"rightTop"};function Az(){}Az=kp.extend();f=Az.prototype;f.initialize=function(a){kp.prototype.initialize.call(this,_.extend({H:hl},a));this.We=a.We||"Done";this.vx=void 0!==a.vx?a.vx:!0;this.qy=null;this.jY=a.position instanceof Array?a.position:[a.position||xp];this.position=null;this.Of=_.defaults({},a.Of,{left:0,top:0});this.qw=a.qw||!1;this.on("hide",this.hU);this.keydown=this.keydown.bind(this)};
f.g9=function(){$(document).off("keydown",this.keydown)};f.Rp=function(){return Bz};f.getCurrentPosition=function(){return this.position};f.render=function(){kp.prototype.render.call(this);this.$(".dialog").addClass("popover").addClass(this.qw?"paddingLess":"").prepend('\x3cdiv class\x3d"pointer"\x3e\x3c/div\x3e');this.vx&&this.$(".content").append('\x3cp class\x3d"buttonContainer"\x3e\x3cbutton class\x3d"button buttonBlock done"\x3e'+this.We+"\x3c/button\x3e\x3c/p\x3e");return this};
f.Bi=function(a){if(!this.qy){var b=_.debounce(this.nm.bind(this),300);window.addEventListener("resize",b,!1);this.on("remove",function(){window.removeEventListener("resize",b,!1)})}this.show();$(document).on("keydown",this.keydown);this.on("remove",this.g9);Cz(this,a);this.nm();return this};function Dz(){this.$O=this.Rl=this.dialogLeft=this.dialogTop=null}
f.nm=function(){for(var a,b,c=0;c<this.jY.length;c++){a=b=this.jY[c];var d=this.qw?5:13,e=this.qw?20:40,g=this.qy,h=g.offset(),k=h.top-$(document).scrollTop(),l=g.outerWidth(),m=g.outerHeight(),n=this.$(".dialog").outerHeight(),p=this.$(".dialog").outerWidth(),q=this.$el.width(),g=new Dz,u=Math.round(h.left+l/2-p/2);switch(a){case xp:g.dialogLeft=u+p+10>q?q-p-10:u;g.dialogLeft+=this.Of.left;g.dialogTop=Math.round(k)+m+d+this.Of.top;a=u-g.dialogLeft;g.Rl="calc(50% - 7px + "+a+"px)";break;case "topLeft":g.dialogLeft=
h.left+p+10>q?q-p-10:h.left;g.dialogLeft+=this.Of.left;g.dialogTop=Math.round(k)+m+d+this.Of.top;g.Rl=g.dialogLeft+d;break;case "left":g.dialogLeft=h.left+l+this.Of.left;g.dialogTop=k-n/2+d+this.Of.top;break;case "leftTop":g.dialogLeft=h.left+l+this.Of.left+d;g.dialogTop=k+m/2-e+this.Of.top;10>g.dialogTop&&(g.$O=g.dialogTop-10,g.dialogTop=10);break;case "rightTop":g.dialogLeft=h.left-p+this.Of.left-d,g.dialogTop=k+m/2-e+this.Of.top,10>g.dialogTop&&(g.$O=g.dialogTop-10,g.dialogTop=10)}d=a=g;e=this.$(".dialog");
if(!(d.dialogLeft+e.outerWidth()>$(window).width()||d.dialogTop+e.outerHeight()>$(window).height()))break}this.position=b;this.$(".dialog").css("top",a.dialogTop).css("left",a.dialogLeft);c=this.$(".pointer");c.removeClass(_.values(zz).join(" ")).addClass(b);c.css("left",a.Rl||"");c.css("margin-top",a.$O||"");return this};function Cz(a,b){a.hU();a.qy=b;b.addClass("on");b.blur()}f.hU=function(){this.qy&&this.qy.removeClass("on")};
f.keydown=function(a){27===a.which&&(this.cancel(),a.stopPropagation(),a.preventDefault())};function Ez(a){soy.asserts.assertType(goog.isString(a.WI)||a.WI instanceof goog.soy.data.SanitizedContent,"zoomInLabel",a.WI,"string|goog.soy.data.SanitizedContent");var b=a.WI;soy.asserts.assertType(goog.isString(a.YI)||a.YI instanceof goog.soy.data.SanitizedContent,"zoomOutLabel",a.YI,"string|goog.soy.data.SanitizedContent");var c=a.YI;soy.asserts.assertType(goog.isString(a.uF)||a.uF instanceof goog.soy.data.SanitizedContent,"fullscreenModeLabel",a.uF,"string|goog.soy.data.SanitizedContent");var d=
a.uF;soy.asserts.assertType(goog.isString(a.IG)||a.IG instanceof goog.soy.data.SanitizedContent,"normalModeLabel",a.IG,"string|goog.soy.data.SanitizedContent");var e=a.IG,g=goog.asserts.assertArray(a.wf,"expected parameter 'zoomLevels' of type list\x3cstring\x3e."),h=goog.asserts.assertArray(a.saa,"expected parameter 'zoomTranslations' of type list\x3cstring\x3e."),k=goog.asserts.assertNumber(a.Mm,"expected parameter 'currentZoomIndex' of type int.");soy.asserts.assertType(goog.isString(a.nF)||a.nF instanceof
goog.soy.data.SanitizedContent,"fitLabel",a.nF,"string|goog.soy.data.SanitizedContent");var l=a.nF;soy.asserts.assertType(goog.isString(a.kF)||a.kF instanceof goog.soy.data.SanitizedContent,"fillLabel",a.kF,"string|goog.soy.data.SanitizedContent");var m=a.kF;soy.asserts.assertType(goog.isBoolean(a.Yr)||1===a.Yr||0===a.Yr,"enablePresentationMode",a.Yr,"boolean");a=!!a.Yr;b='\x3csection class\x3d"zoomer zoomer__pane '+(a?"zoomer--presentation":"")+'"\x3e\x3cdiv class\x3d"zoomer__toolbar"\x3e'+(a?'\x3cbutton class\x3d"zoomer__item zoomer__toolbarItem zoomer__fullscreen" title\x3d"'+
soy.$$escapeHtmlAttribute(d)+'"\x3e\x3c/button\x3e\x3cbutton class\x3d"zoomer__item zoomer__toolbarItem zoomer__normal" title\x3d"'+soy.$$escapeHtmlAttribute(e)+'"\x3e\x3c/button\x3e\x3cdiv class\x3d"zoomer__divider"\x3e\x3c/div\x3e':"")+'\x3cbutton class\x3d"zoomer__item zoomer__toolbarItem zoomer__out" title\x3d"'+soy.$$escapeHtmlAttribute(c)+'"\x3e\x26ndash;\x3c/button\x3e\x3cbutton class\x3d"zoomer__item zoomer__toolbarItem zoomer__prev" title\x3d"'+soy.$$escapeHtmlAttribute(c)+'"\x3e\x26nbsp;\x3c/button\x3e\x3cspan class\x3d"zoomer__item zoomer__toolbarItem zoomer__status zoomer__zoomLevel"\x3e'+
soy.$$escapeHtml(g[k])+'\x3c/span\x3e\x3cspan class\x3d"zoomer__item zoomer__toolbarItem zoomer__status zoomer__pageIndex"\x3e\x3c/span\x3e\x3cbutton class\x3d"zoomer__item zoomer__toolbarItem zoomer__in" title\x3d"'+soy.$$escapeHtmlAttribute(b)+'"\x3e+\x3c/button\x3e\x3cbutton class\x3d"zoomer__item zoomer__toolbarItem zoomer__next" title\x3d"'+soy.$$escapeHtmlAttribute(b)+'"\x3e\x26nbsp;\x3c/button\x3e\x3c/div\x3e\x3cdiv class\x3d"zoomer__popover zoomer__pane"\x3e\x3cul class\x3d"zoomer__popoverList"\x3e';
c=g.length;for(d=0;d<c;d++)e=g[d],b+='\x3cli data-zoom\x3d"'+soy.$$escapeHtmlAttribute(e)+'" class\x3d"zoomer__item zoomer__popoverItem '+(d==k?"zoomer__item--selected":"")+'"\x3e'+("fit"==e?soy.$$escapeHtml(l):"fill"==e?soy.$$escapeHtml(m):soy.$$escapeHtml(h[d]))+"\x3c/li\x3e";return soydata.VERY_UNSAFE.ordainSanitizedHtml(b+'\x3c/ul\x3e\x3c/div\x3e\x3cdiv class\x3d"zoomer__popoverArrow"\x3e\x3c/div\x3e\x3c/section\x3e')};function Fz(a,b,c){Backbone.View.call(this,{className:"zoomToolbar"});this.H=a;this.Bj=b;this.Yr=c;this.wf=[];this.Mm=0;this.eg=!1;this.hy=this.QV=0;this.paused=!1;this.Ep=this.Ep.bind(this)}r(Fz,Backbone.View);f=Fz.prototype;f.wJ=function(a,b){this.wf=b;this.Mm=Math.max(0,b.indexOf("100%"));this.hy=parseInt(this.wf[this.Mm],10);this.render().$el.appendTo(a)};
f.events=function(){return{"click .zoomer__out":this.e0,"click .zoomer__in":this.d0,"click .zoomer__next":this.b5,"click .zoomer__prev":this.H8,"click .zoomer__fullscreen":this.dM,"click .zoomer__normal":this.c5,"click .zoomer__popover .zoomer__item":this.raa,"click .zoomer__zoomLevel":this.j_,"mouseenter .zoomer__popover":this.j_.bind(this,!0),"mouseleave .zoomer":this.PV}};f.d0=function(){this.trigger("zoomInClick")};f.e0=function(){0<this.Mm&&this.trigger("zoomOutClick")};f.b5=function(){this.trigger("nextPageClick")};
f.H8=function(){this.trigger("prevPageClick")};f.dM=function(){this.trigger("presentationModeClick");this.Ep()};f.c5=function(){this.exitFullscreen()};f.raa=function(a){this.trigger("zoomLevelClick",$(a.currentTarget).data("zoom"))};f.j_=function(a){this.eg||(this.H.clearTimeout(this.QV),this.$el.toggleClass("zoomer--expanded",a))};f.PV=function(){var a=this;this.QV=this.H.setTimeout(function(){a.$el.removeClass("zoomer--expanded")},500)};
f.haa=function(a,b){a="string"==typeof a?this.wf.indexOf(a):-1;-1<a&&(this.Mm=a);this.$el.removeClass("zoomer--minZoom zoomer--maxZoom");0===a?this.$el.addClass("zoomer--minZoom"):a===this.wf.indexOf("fill")-1&&this.$el.addClass("zoomer--maxZoom");a=this.wf[this.Mm];"number"!=typeof b||"fill"!=a&&"fit"!=a||(this.hy=100*b,a=this.hy.toFixed(1));a=this.Bj.hy(parseInt(a,10));this.$el.find(".zoomer__zoomLevel").text(a);this.$el.find(".zoomer__popoverItem").removeClass("zoomer__item--selected").eq(this.Mm).addClass("zoomer__item--selected")};
f.B_=function(a){this.$el.removeClass("zoomer--firstPage zoomer--lastPage");var b=Qp(a);a=a.jc();0===b&&this.$el.addClass("zoomer--firstPage");b===a-1&&this.$el.addClass("zoomer--lastPage");this.$el.find(".zoomer__pageIndex").text(++b+" / "+a);this.eg&&this.paused&&this.Ep()};f.exitFullscreen=function(){this.eg&&(this.$el.removeClass("zoomer--fullscreenMode"),this.eg=!1,this.trigger("fullscreenMode",this.eg))};
f.Ep=function(){this.$el.addClass("zoomer--fullscreenMode");this.eg=!0;this.PV();this.trigger("fullscreenMode",this.eg)};function Gz(a){a.paused=!1;$("body").removeClass("zoomer--fullscreenWindowMode");$("#content").off("click",a.Ep)}
f.render=function(){var a=this;this.el.innerHTML=Ez({wf:this.wf,Mm:this.Mm,Yr:this.Yr,saa:this.wf.map(function(b){return a.Bj.hy(parseInt(b,10))}),WI:this.Bj.format("zoomToolbarZoomIn"),YI:this.Bj.format("zoomToolbarZoomOut"),uF:this.Bj.eg(),IG:this.Bj.format("zoomToolbarNormalMode"),kF:this.Bj.fill(),nF:this.Bj.format("zoomToolbarFit")});return this};var W=1;function Hz(a,b,c,d,e,g){this.Gd=a;this.Ni=b;this.gY=c;this.YO=!1;this.H=d;this.W=e;this.j=g;this.uB=!1;this.lastIndex=0;this.vw=!0;this.gX=0;this.TF=this.TF.bind(this)}function Iz(a,b,c,d,e,g,h){d=new Fz(hl,d,e.G.get(Zf));a=new Hz(a,d,a.$el,hl,e,g);Jz(a);d.listenTo(c,"documentView:zoom",d.haa);d.listenTo(b,"page:change:selected",d.B_);d.on("fullscreenMode",h);d.B_(b);a.listenTo(c,"pausePresentationOnExit",a.l8);return a}
function Jz(a){var b=$(".documentContainer"),c=_.values(Kz);a.IM=a.IM.bind(a);a.Ni.wJ(b,c);a.listenTo(a.Ni,{zoomInClick:a.f2,zoomOutClick:a.h2,nextPageClick:a.WJ,prevPageClick:a.XJ,zoomLevelClick:a.g2,presentationModeClick:a.U1,fullscreenMode:a.U3});$(document).on("webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange",function(){var b=$("body");if(Lz())Pz(a);else if(a.vw){a.lastIndex=Qp(a.Gd.model);var c=a.Ni;$("body").addClass("zoomer--fullscreenWindowMode");c.paused=!0;
$("#content").on("click",c.Ep);a.vw=b.hasClass("modalContentVisible")}else Qz(a)});$(document).on("keyup",function(b){return Rz(a,b)});$(window).on("mousewheel wheel",a.IM)}
function Rz(a,b){if(!$("body").hasClass("modalContentVisible"))if(!b.metaKey&&!b.ctrlKey&&!b.altKey)switch(b.which){case 27:if(Lz())return a.vw=!1,!0;a.Ni.paused&&Qz(a);break;case 38:case 37:case 33:return a.XJ(),!1;case 40:case 39:case 34:case 32:case 13:return a.WJ(),!1;case 116:return a.Ni.dM(),!1}else if(b.ctrlKey&&b.shiftKey&&13===b.which)return a.Ni.dM(),!1}f=Hz.prototype;f.U3=function(a){$("body");this.lastIndex=Qp(this.Gd.model);a?(this.vw=!1,Sz().Ep()):(this.vw=!1,Sz().exitFullscreen(),Qz(this))};
function Qz(a){var b=$("body");Gz(a.Ni);a.Ni.exitFullscreen();O.oD=O.r0;b.off("mousemove",a.TF);b.removeClass("fullscreenMode fullscreenModeLinkAnimations fullscreenModeTransitionIn");Tz(a.Gd,!1);Uz(a.Gd,a.lastIndex)}function Pz(a){var b=$("body");Gz(a.Ni);O.oD=O.u0;hh();Vz();b.addClass("fullscreenMode");Tz(a.Gd,!0);b.on("mousemove",a.TF);P.delay(100).then(function(){Uz(a.Gd,a.lastIndex);return P.delay(100)}).then(function(){b.addClass("fullscreenModeTransitionIn")})}
f.l8=function(a){Lz()&&(this.vw=a)};f.TF=function(a){var b=$("body");120>a.clientY?b.addClass("hoverTop"):120>$(window).outerHeight()-a.clientY?b.addClass("zoomer--hoverBottom"):b.removeClass("zoomer--hoverBottom hoverTop");this.H.clearTimeout(this.gX);a=$(a.target);a.is(".zoomer__toolbar")||a.parents(".zoomer__toolbar").length||(this.gX=this.H.setTimeout(function(){return b.removeClass("zoomer--hoverBottom hoverTop")},Wz))};
f.IM=function(a){var b=this,c=a.originalEvent.wheelDeltaY||a.originalEvent.deltaY,d=a.originalEvent.wheelDeltaX||a.originalEvent.deltaX,c=Math.abs(d)>Math.abs(c)?d:c;!this.Ni.eg&&this.gY&&this.gY.find(a.target).length&&a.ctrlKey&&(a.preventDefault(),Xz(this,c));this.Ni.eg&&!this.uB&&(120<=c?(this.XJ(),this.uB=!0,this.H.setTimeout(function(){b.uB=!1},600)):-120>=c&&(this.WJ(),this.uB=!0,this.H.setTimeout(function(){b.uB=!1},600)))};
function Xz(a,b){a.YO||(0<b?a.Ni.d0():a.Ni.e0(),a.YO=!0,a.H.setTimeout(function(){return a.YO=!1},250))}f.f2=function(){var a=Yz(this.Gd);this.j.zoom("zoom_in","editor","zoom_toolbar","bottom_right",a);return!1};f.h2=function(){var a=Zz(this.Gd);this.j.zoom("zoom_out","editor","zoom_toolbar","bottom_right",a);return!1};f.g2=function(a){$z(this.Gd,a);this.j.zoom("popover_item","editor","zoom_toolbar","bottom_right",a);return!1};
f.U1=function(){Yl(this.j,"fullscreen_mode","button","editor","zoom_toolbar","bottom_right");return!1};f.WJ=function(){var a=this.Gd,b=Qp(a.model);b+1<a.model.jc()&&Uz(a,b+1);return!1};f.XJ=function(){var a=this.Gd,b=Qp(a.model);0<=b-1&&Uz(a,b-1);return!1};var Wz=5E3;f=Hz.prototype;f.listenTo=Backbone.Events.listenTo;f.off=Backbone.Events.off;f.on=Backbone.Events.on;f.stopListening=Backbone.Events.stopListening;f.trigger=Backbone.Events.trigger;function Cp(a){O.w0&&$("html").addClass("isMac");$("#content").addClass("preparing");aA();window.setTimeout(function(){bA(a.content,a.vc,a.fj,a.i,a.U0,a.J$);cA({Ka:a.Ka,fb:a.fb,ub:a.ub,fa:a.fa});var b=new dA({i:zc(a.i)});$("#canvaDocument").before(b.render());b.init({Ti:a.Ti,i:a.i,j:a.j});eA({i:a.i,Wc:a.Wc,Bp:a.Bp,Xb:a.Xb,G:a.G});a.Cu(vb,K,T,kd(a.i),a.W,a.j,function(a){Nb.toggle(a,K.ia())});fA(a.i);gA(!!a.l3);hA(0,!0);a.ZU&&a.ZU();$("body").hasClass("preroll")?(window.setTimeout(function(){window.requestAnimationFrame(iA)},
O.Da.lk*O.iy),window.setTimeout(function(){jA()},2E3)):window.setTimeout(function(){$("#content").removeClass("preparing").addClass("on")},O.Da.lk*O.iy)},O.Gc)}function iA(){var a=$(".preroll .prerollDelay6");if(1>a.length)window.requestAnimationFrame(iA);else $(a).one("animationend",jA)}function jA(){$("#content").removeClass("preparing").addClass("on");$("#search").css("transform","translateX(0)");$("body").removeClass("preroll")}
function aA(){Qb=Pb=Ob=0;var a=kA("editorPageToolbarStylesheet");if(null!=a)for(var b=0;b<a.length&&!(".pageToolbar"==a[b].selectorText?(Qb=parseInt(a[b].style.marginTop,10),Ob=parseInt(a[b].style.width,10)):".pageToolbar.vertical"==a[b].selectorText&&(Pb=parseInt(a[b].style.width,10)),Pb&&Ob&&Qb);b++);}function kA(a){for(var b=null,c=0;c<document.styleSheets.length;c++)if(document.styleSheets[c].ownerNode.id==a){b=document.styleSheets[c];break}return null==b?null:b.cssRules||null}
function hA(a,b){if(!lA&&!mA){var c=$("#objectPanel");nA();var d=$(".layer",c).eq(0).width();a=Math.ceil(d/O.D0);var e=Math.ceil(d/O.B0),d=Math.ceil(d/O.C0),g=kA("objectPanelStylesheet");null!=g&&(g[0].style.width=Math.round(100/a*10)/10+"%",g[1].style.width=Math.round(100/e*10)/10+"%",g[2].style.width=Math.round(100/d*10)/10+"%");oA();window.setTimeout(function(){c.find(".results \x3e .layer \x3e .inner \x3e .browseCategories").each(function(){pA($(this),!0)})},O.Gc);vb&&vb.RA(b)}}
function qA(a){return wb.Nv()?wb.ij()?new P(function(b,c){function d(a){2==a?(e(),b()):1!=a&&0!=a&&(e(),c())}function e(){window.clearTimeout(g);T.off("session:sync",d)}var g=window.setTimeout(function(){e();c()},a||O.j0);T.on("session:sync",d);wb.save()}):P.resolve():P.reject()};function rA(a){this.N=a.N;this.HO=a.HO;this.Ee=a.Ee;this.pa=a.pa;this.qL=a.qL;this.nR=a.nR;this.DJ=a.DJ;this.jL=a.jL}
rA.prototype.eQ=function(){if(!this.qL&&!O.I0&&this.pa&&this.pa.Nv()&&!$("#savingError").hasClass("on")){if(0<this.nR.QC.length)return"You're in the middle of uploading an image. Are you sure you want to leave the Canva editor?";if(this.pa.ij())return this.pa.save(),"We are still auto-saving the latest changes to your design. Are you sure you want to leave the Canva editor?";var a=K;if(a&&pu(this.pa,a.serialize()))return a.trigger("change"),"We are still auto-saving the latest changes to your design. Are you sure you want to leave the Canva editor?";
this.pa.close();this.DJ||(a=Math.floor((Date.now()-this.HO)/1E3),Gk(this.N,"/session/editor/"+encodeURIComponent(this.Ee)+"?close",this.jL,{docId:this.Ee,session:this.pa.context.uu,durationSecs:a}))}};var sA="bold fontFamily fontSize italic justification letterSpacing lineHeight list textTransform".split(" ");function tA(a){a=a.children(".inner").get(0);a=uA(a);for(var b=window.getSelection(),c=a.filter(function(a){return vA(b,a,!1)}),d=a.map(function(a){return a.textContent||""}).join(""),e="",g=0,h=b.rangeCount;g!=h;g++)e+=b.getRangeAt(g).toString();d=wA(d,e);(e=a.length)&&"BR"==a[e-1].nodeName&&--e;return c.length>=e&&d}
function wA(a,b){if(a==b)return!0;a=a.replace(/^\s*/,"").replace(/\s*$/,"").replace(/(?!^)\s+(?!$)/gi," ");b=b.replace(/^\s*/,"").replace(/\s*$/,"").replace(/(?!^)\s+(?!$)/gi," ");return a==b}function xA(a){var b=window.getSelection();return 0<b.rangeCount&&(b=b.getRangeAt(0).cloneRange(),b.collapse(!0),a=a.get(0))?(b.setStart(a,0),b.toString().slice(-1)):""}
function yA(a){var b=window.getSelection();if(0==b.rangeCount)return-1;a=a.children(".inner");if(0==a.length)return-1;a=a.get(0);return zA(b,a)?b.toString().length:-1}function AA(a){var b=window.getSelection();if(0==b.rangeCount)return!0;a=a.children(".inner");if(0==a.length)return!0;a=a.get(0);return zA(b,a)?b.isCollapsed:!0}
function zA(a,b){if(!b||BA(a))return!1;var c=a.getRangeAt(0);a=c.startContainer;c=c.endContainer;if(!a||!c)return!1;a=3==a.nodeType||4==a.nodeType?CA(a):a;var d=3==c.nodeType||4==c.nodeType?CA(c):c,c=!(b!=a&&b!=d);b=!(!b.contains(a)&&!b.contains(d));return c||b}function DA(a,b){var c=a.cb(b).children(".inner");EA(c);FA(c);c.find("*").css({"font-size":"","line-height":"","letter-spacing":"",color:""});c.find("br").removeAttr("color");GA(a,b)}
function GA(a,b){function c(a){if(1!==a.length)return!1;a=a.get(0);if(a.nodeType!==Node.ELEMENT_NODE)return!1;var b=a.nodeName.toLowerCase();return"ul"===b||"li"===b?!1:1===a.parentNode.childNodes.length}for(var d=a.Tb(b),e=a.cb(b).children(".inner").contents(),g=e,h=!1;c(e);)HA(d,e.get(0)),h=!0,e=e.contents();h&&(g.replaceWith(e),a.uj(b,d))}
function HA(a,b){function c(a){a=a.match(/"[^"]*"|'[^']*'|[^\s"',]+/g);if(!a)return"";a=a[0];var b=a.charAt(0);if('"'===b||"'"===b)a=a.slice(1,-1).trim();return a}var d=b.nodeName.toLowerCase();if("b"===d||"strong"===d)a.bold=!0;else{var e=b.style.fontWeight;a.bold="bold"===e||"600"<=e&&"900">=e}"i"===d||"em"===d?a.italic=!0:(e=b.style.fontStyle,a.italic="italic"===e||"oblique"===e);e=mh(b.style.color);b.color&&(e=mh(b.color));e&&(a.color=e.ra());e=null;(e="font"===d?c(b.face):c(b.style.fontFamily))&&
(b=IA(e))&&(a.fontFamily=b)}function JA(a){var b=[],c=[],d=a.children(".inner").get(0);uA(d).forEach(function(d){"br"!==d.nodeName.toLowerCase()&&(d=KA(CA(d),a),Array.prototype.push.apply(b,d.$e),Array.prototype.push.apply(c,d.Bf))});return{$e:b,Bf:c}}
function LA(a,b){var c=a.clone();c.addClass("doNotTransform");c.children(".inner").addClass("doNotTransform");c.appendTo("#limbo");MA(c,b);for(var d=c.find(".char"),e=0,g=[],h=NA(d),k=1;k<h.length;k++)if(!OA(h[k-1],h[k])){var l=d.index(h[k]);g.push(l-e);e=l}g.push(d.length-e);c.remove();a.data("cachedLineLengths",g);b&&(g=g.map(function(a){return a-1}));return g}function NA(a){return a.filter(function(){return 0!==this.offsetHeight||0!==this.offsetWidth})}
function OA(a,b){var c=a.offsetTop-b.offsetTop;return 0<=c||c>=b.offsetHeight-a.offsetHeight}
function MA(a,b){function c(){if(this.nodeType===Node.ELEMENT_NODE){var a=this.nodeName.toLowerCase();if("br"===a)if(b){var e=document.createElement("span");e.textContent="";e.classList.add("char");$(this).before(e)}else return;if("script"!==a&&"style"!==a){e=$(this).contents();if("span"===a){if(this.classList.contains("fauxCaret"))return;if(this.classList.contains("char")){if(1===e.length&&e[0].nodeType===Node.TEXT_NODE&&1===e[0].data.length)return;e.replaceAll(this)}}e.each(c)}}else this.nodeType===
Node.TEXT_NODE&&(a=this.data.split("").map(function(a){var b=document.createElement("span");b.classList.add("char");d.test(a)&&b.classList.add("diacriticalMark");b.appendChild(document.createTextNode(a));return b}),$(this).replaceWith(a))}var d=/[\u0300-\u036f]/,e=String(a.data("fontFamily"));Kb&&PA(e)||a.children(".inner").each(c)}function QA(a,b){!b&&a.data("kernPairs")||a.find(".char").each(function(){var a=$(this),b=a.contents();0<b.length?a.replaceWith(b):a.remove()})}var RA=!1;
function SA(a,b){function c(a){return" "===a||"\n"===a||"\t"===a||"\r"===a||""===a||"\u2028"===a||"\u2029"===a||""===a}MA(a);var d=[],e=a.children(".inner"),g=e.find(".char"),h=a.data("letterSpacing")||0,k=0!==h?h/1E3+"em":"0",l=a.parent(),m=a.prev();if(function(){return b.reduce(function(a,b){return a+b},0)}()===g.length){e.addClass("explicitLineBreaksLayoutMode");e.find(".implicitLineBreak").remove();a.removeData("ephemeralLetterSpacing");a.css("letter-spacing",k);a.data("cachedLineLengths",b);
document.body.contains(a[0])||(e.addClass("doNotTransform"),a.addClass("doNotTransform"),a.appendTo("#limbo"),d.push(function(){0<l.length?0<m.length?a.insertAfter(m):a.prependTo(l):a.detach();a.removeClass("doNotTransform");e.removeClass("doNotTransform")}));var n=0,p=-1,q=0,u=0,v=0;b.forEach(function(a){var b=n,e=Math.min(b+a,g.length);if(!(b>=e)){for(var h=b,k=e-1;h<=k&&c(g[h].firstChild.data);)h++;for(;h<=k&&c(g[k].firstChild.data);)k--;d.push(function(){g.slice(b,h).addClass("superfluousWhitespace");
g.slice(k+1,e).addClass("superfluousWhitespace")});h<=k&&(0<=p&&OA(g[p],g[h])&&d.push(function(){$("\x3cbr\x3e").addClass("implicitLineBreak").insertBefore(g[b])}),p=k,h!==k&&(a=g[k].offsetLeft+g[k].offsetWidth-g[h].offsetLeft,a>q&&(q=a,u=h,v=k)));n=e}});k=e[0].offsetWidth;if(q>k){var z=NA(g.slice(u,v+1)).length,k=(k-q)/z,z=parseFloat(window.getComputedStyle(e[0]).getPropertyValue("font-size")),t=Math.max(h-1E3/12,1E3*k/z),x=a.data("index")||0;d.push(function(){var b=a.data("canvaElement");b&&b.YH(x,
t)})}d.forEach(function(a){a()});RA=!0;TA(a);RA=!1}}function UA(a,b){RA||(QA(a,b),a.removeData("cachedLineLengths"),b=a.children(".inner"),b.hasClass("explicitLineBreaksLayoutMode")&&(b.removeClass("explicitLineBreaksLayoutMode"),b.find(".implicitLineBreak").remove(),b.find(".superfluousWhitespace").removeClass("superfluousWhitespace"),TA(a)))}
function EA(a){for(var b=a.find("*"),c=b.length-1;0<=c;c--){var d=b[c],e=d.nodeName.toLowerCase();"br"!==e&&"div"!==e&&"ul"!==e&&"li"!==e&&"p"!==e&&(("span"!==e&&"font"!==e||0!==d.attributes.length)&&""!==d.textContent.trim()||$(d).contents().replaceAll(d))}a.get(0).normalize()}
function FA(a){function b(a,b){if(!a||!b)return!1;var e;if(a.nodeType===Node.ELEMENT_NODE){e=a.nodeName.toLowerCase();if("br"===e||"div"===e||"ul"===e||"li"===e||"p"===e)return!1;for(;(a=a.lastChild)&&a.nodeType===Node.ELEMENT_NODE;)if("br"===a.nodeName.toLowerCase())return!1}return b.nodeType===Node.ELEMENT_NODE&&(e=b.nodeName.toLowerCase(),"ul"===e||"li"===e)?!1:!0}a.find("div, p").each(function(){var a=$(this);b(this.previousSibling,this.firstChild||this.nextSibling)&&$("\x3cbr\x3e").insertBefore(this);
b(this.lastChild||this.previousSibling,this.nextSibling)&&$("\x3cbr\x3e").insertAfter(this);a.replaceWith(a.contents())})}function BA(a){if(0===a.rangeCount)return!1;a=a.getRangeAt(0);return null!=a.startContainer&&!(a.startContainer instanceof Object)||null!=a.endContainer&&!(a.endContainer instanceof Object)}
function VA(a){function b(a){var b;$.browser.msie?(b=document.selection.createRange(),b.collapse(!0),b=b.parentElement()):b=window.getSelection().getRangeAt(0).startContainer;return a.contains(b)}var c=[],d=[],e=window.getSelection(),g=a.children(".inner").get(0);if(BA(e))return{$e:[],Bf:[]};AA(a)?1==e.rangeCount&&b(g)&&(g=KA(CA(e.getRangeAt(0).startContainer),a),c=c.concat(g.$e),d=d.concat(g.Bf)):uA(g).filter(function(a){return vA(e,a,!0)&&a.nodeType==Node.TEXT_NODE}).forEach(function(b){b=KA(CA(b),
a);c=c.concat(b.$e);d=d.concat(b.Bf)});c=c.filter(function(a,b){return c.lastIndexOf(a)===b});d=d.filter(function(a,b){return d.lastIndexOf(a)===b});return{$e:c,Bf:d}}
function KA(a,b){var c,d,e=[],g=[],h=b.children(".inner").get(0);c=b.get(0);var k=b.data("fontName");b=b.data("fill");if(a==h||a==c)c=k,d=mh(b),c&&e.push(c),d&&g.push(d.ra());else{for(;a!==h;)"font"==a.tagName.toLowerCase()&&((c=a.getAttribute("face"))&&e.push(c),(d=mh($(a).css("color")||a.getAttribute("color")))&&g.push(d.ra())),a=a.parentElement;0==e.length&&k&&e.push(k);0==g.length&&b&&g.push(b)}return{$e:e,Bf:g}}
function uA(a){for(var b=[],c=0;c<a.childNodes.length;c++){var d=a.childNodes[c];0==d.childNodes.length?b.push(d):b=b.concat(uA(d))}return b}function CA(a){if(a.parentElement)return a.parentElement;for(a=a.parentNode;a&&a.nodeType!==Node.ELEMENT_NODE;)a=a.parentNode;return a}
function vA(a,b,c){if(a.containsNode)return a.containsNode(b,c);c=document.createRange();c.selectNodeContents(b);b=0;for(var d;b<a.rangeCount;++b){d=a.getRangeAt(b);try{if(0>=d.compareBoundaryPoints(d.START_TO_START,c)&&0<=d.compareBoundaryPoints(d.END_TO_END,c))return!0}catch(e){if(e.code!==DOMException.WRONG_DOCUMENT_ERR)throw e;}}return!1}function WA(a){if(!a)return[];for(var b=/<font[^>]+\bface="([^"]+)/gi,c,d=[];c=b.exec(a);)c=c[1].replace(/('|&#39;)/g,""),d.push(c);return _.uniq(d)}
function XA(a){var b=a.html().toString();a.data("fontFamily")&&(b+='\x3cfont face\x3d"'+a.data("fontFamily")+'"\x3e\x3c/font\x3e');return WA(b).filter(function(a){return null!==YA(Kb,a)})}function ZA(a,b){b?this.cb(a).data("fontMedia",{id:b.id,version:b.version}):this.cb(a).removeData("fontMedia")}function $A(a,b){function c(a){return{id:a.u(),version:a.getVersion()}}b&&0<b.length?this.cb(a).data("htmlFontMedia",b.map(c)):this.cb(a).removeData("htmlFontMedia")}
function aB(a,b,c,d){function e(a){if(a){var d="'"+m.family+"'",e;if(e=Jb)e=Jb.G.get(Jf);e?d+=", notdef":$.browser.msie||(d+=", "+m.generic);h.css("font-family",d).css("font-weight",void 0!==m.weight?m.weight:"");h.toggleClass("noBold",!m.variants.bold);h.toggleClass("noItalic",!m.variants.italic);h.toggleClass("noBoldItalic",!m.variants.boldItalic);TA(h);g.trigger("change:fontFamily",this,h,b)}c&&c(a)}var g=this,h=this.cb(a),k=h.data("fontName"),l=!1;b&&PA(String(b))&&(l=!0);d||h.find("font").removeAttr("face");
b!==k&&(this.jt(a),this.Mw(a),UA(h),l&&EA(h));if(void 0===b)h.removeData("fontName").removeData("fontFamily").removeData("fontWeight").removeData("fontMedia").removeData("htmlFontMedia").css("font-family","").css("font-weight",""),c&&c(!0);else if(Kb){h.data("fontFamily",b);var m=YA(Kb,b);d=bB(b);m||d?(h.data("fontName",m.name||m.family).data("fontFamily",m.family),this.Xq(a,d),cB(Kb,d,b,e)):c&&c(!1)}else c&&c(!1)}
function dB(a,b,c){var d=this.cb(a),e=parseFloat(d.data("fontSize"))/b;if(isNaN(e)||!c&&(2<=e||.5>=e))this.jt(a),this.Mw(a),UA(d);void 0===b?d.removeData("fontSize").css("font-size",""):(d.data("fontSize",b).css("font-size",b*O.Oi+"%"),!0!==c&&TA(d,!0))}function eB(a){this.ve(this.Bb(),a)}function fB(a){return this.cb(a).data("fontSize")||O.hD}function gB(){for(var a=[],b=0;b<this.MF();b++){var c=this.cb(b).data("fontFamily");c&&a.push(""+c)}return a}
function hB(a,b){a=this.cb(a);void 0===b?a.removeData("justification").css("text-align",""):a.data("justification",b).css("text-align",b)}
function iB(a,b){function c(a,b,c){a.children(".inner").find("*").filter(function(){var a=mh($(this).css("color")||$(this).attr("color"));return a&&a.equals(b)}).attr("color",c?c.ra():"")}function d(a,b,c){b?a.data("fill",b.ra()).css("color",b.ra()):a.removeData("fill").css("color","");c&&a.find("*").removeAttr("color").css("color","")}a=this.cb(a);var e=tA(a),g=AA(a),h=a.is(".focused"),k=mh(a.data("fill")),l=mh(VA(a).Bf[0]);h&&b&&document.execCommand("foreColor",!1,b.ra());h&&g?(e=0<VA(a).Bf.length,
k=l&&l.equals(k),!e||k?d(a,b,!1):c(a,l,b)):(e||g)&&d(a,b,h)}function jB(a,b){a=this.cb(a);a.is(".focused")&&document.execCommand("bold",!1,null);if(tA(a)||AA(a))void 0===b?a.removeData("bold").removeClass("bold"):(a.data("bold",b),b?a.addClass("bold"):a.removeClass("bold"));TA(a,!0)}
function kB(a,b){a=this.cb(a);a.is(".focused")&&document.execCommand("italic",!1,null);if(tA(a)||AA(a))void 0===b?a.removeData("italic").removeClass("italic"):(a.data("italic",b),b?a.addClass("italic"):a.removeClass("italic"));TA(a,!0)}
function lB(a,b){function c(){var b;l.focus();e()?b=!0:(l.click(),b=e());b&&(document.execCommand("selectAll",!1,null),document.execCommand("insertUnorderedList",!1,null),DA(g,a),document.execCommand("selectAll",!1,null),d());l.attr("contentEditable",m)}function d(){window.setTimeout(function(){TA(h,!0)},0)}function e(){return null!==window.getSelection().focusNode&&"BODY"!==window.getSelection().focusNode.tagName}var g=this,h=this.cb(a),k=0<h.find("li").length;if(!!b!==k){var l=h.children(".inner"),
m=String(l.prop("contentEditable"));l.attr("contentEditable","true");l.focus();mB(l,c)}b?h.data("list",!0):h.removeData("list")}function nB(a){return"uppercase"===this.cb(a).data("textTransform")}function oB(a,b){a=this.cb(a);b?a.data("textTransform",b).css("text-transform",b):a.removeData("textTransform").css("text-transform","none");TA(a,!0)}
function pB(a,b){a=this.cb(a);var c=a.children(".inner");b?(a.data("lineHeight",b),c.css("line-height",b/100)):(a.removeData("lineHeight"),c.css("line-height",O.Vt/100));TA(a,!0)}function qB(a){return this.cb(a).data("lineHeight")||O.Vt}function rB(a,b){a=this.cb(a);a.removeData("ephemeralLetterSpacing");void 0===b||0===b?(a.removeData("letterSpacing"),a.css("letter-spacing","0")):(a.data("letterSpacing",b),a.css("letter-spacing",b/1E3+"em"));TA(a,!0)}
function sB(a,b){a=this.cb(a);var c=0!==b?b/1E3+"em":"0";a.data("ephemeralLetterSpacing",b);a.css("letter-spacing",c)}function tB(a){a=this.cb(a);var b=a.data("ephemeralLetterSpacing"),c=a.data("letterSpacing")||0;b!==c&&a.css("letter-spacing",0!==c?c/1E3+"em":"0");a.removeData("ephemeralLetterSpacing")}function uB(a){a=this.cb(a);var b=a.data("ephemeralLetterSpacing");return void 0!==b?b:a.data("letterSpacing")||0}function vB(a){return this.cb(a).data("kernPairs")||{}}
function wB(a,b){return(a=this.cb(a).data("kernPairs"))&&a.hasOwnProperty(b)?parseFloat(a[b]):0}function xB(a){a=this.cb(a);a.data("kernPairs")&&(a.removeData("kernPairs"),QA(a,!0))}
function yB(a){var b=this.cb(a);a=this.ks(a);if(0<Object.keys(a).length){if(MA(b),a=b.data("kernPairs")||null)if(b=b[0].querySelectorAll(".char"),0!==b.length)for(var c=b[0].firstChild.data,d=1;d<b.length;d++){var e=b[d].firstChild.data,c=a[c+e]||0;0===c?b[d].removeAttribute("style"):b[d].style.marginLeft=c/1E3+"em";c=e}}else QA(b)}function zB(a,b,c){if(2===c.length){var d=this.cb(a);a=this.ks(a);a[c]=b;d.data("kernPairs",a)}}function AB(a,b){this.cb(a).data("kernPairs",b)}
function BB(){var a=this.Ge();0<a.parents("#overlays").length&&CB(a)}function DB(a){var b=this.ks(a),c=[];b&&0!==Object.keys(b).length&&Object.keys(b).forEach(function(a){c.push({pair:a,adjustment:b[a]})});return c}function EB(a){if(void 0===a||0===a.length)return null;var b={};a.forEach(function(a){b[a.pair]=a.adjustment});return b}
function GB(a){function b(a){if(a=bB(a))return{id:a.id,version:a.version}}function c(){var a=h.data("cachedLineLengths");if(!a){a=h[0].style;if(""===a.fontFamily||""===a.width)return;a=h.data("fontScaling");if(void 0!==a&&1!==a||h.hasClass("focused"))return;a=LA(h)}g.lineLengths=a}function d(){var b=e.UH(a);0!==b.length&&(g.kerning=b)}var e=this,g={index:a},h=this.cb(a),k=String(h.data("fontFamily")),k=PA(k);(function(){var a=h.clone();UA(a,!0);g.html=a.children(".inner").html()})();(function(){sA.forEach(function(a){var b=
h.data(a);void 0!==b&&(g[a]=b)});h.data("fill")&&(g.color=h.data("fill"))})();k||(c(),d());(function(){var a=bB(g.fontFamily);a?g.fontMedia={id:a.id,version:a.version}:h.data("fontMedia")&&(g.fontMedia=h.data("fontMedia"));var c=XA(h).map(b).filter(function(a){return!!a}).filter(function(b){return!a||b.id!==a.id});0<c.length?g.htmlFontMedia=c:h.data("htmlFontMedia")&&(g.htmlFontMedia=h.data("htmlFontMedia"))})();return g};function Vm(a){this.type=a.type;this.id=a.id||"";this.version=a.version||0}Vm.prototype.lc=function(){return this.type};Vm.prototype.u=function(){return this.id};Vm.prototype.ju=function(){this.type=HB;return this};Vm.prototype.serialize=function(){return this.type===HB||this.type===IB?{type:this.type,id:this.id,version:this.version}:this.type?{type:this.type}:null};function JB(a){this.source=a;this.filename="";this.viewBox=[]}function KB(a){if(a===LB)return LB;if(a=mh(a||""))return a}function MB(a){if(a===LB)return LB;if(a instanceof fn)return a.ra()}JB.prototype.X_=function(a){this.filename=a;return this};var LB="inherit";function NB(a,b){a:{var c;try{c=$.parseXML(a)}catch(d){a=null;break a}a=$(c.documentElement)}return!a||!b&&OB(a)||PB(a)?!1:!0}function OB(a){return QB(a).some(function(a){return-1===RB.indexOf(a.localName.toLowerCase())})}function PB(a){return QB(a).some(function(a){a=a.attributes;for(var c=0;c<a.length;c++){var d=a[c].name.toLowerCase(),e;if(e="xlink:href"===d)e=a[c].value,e=!("#"===e.charAt(0)||SB.test(e));if(e||-1===TB.indexOf(d))return!0}return!1})}
function QB(a){a=a.get(0);var b=Array.from(a.getElementsByTagName("*"));return[a].concat(b)}
var SB=/^data:image\/[^,;]+;base64,/,RB="circle clippath defs desc ellipse feblend fecolormatrix fecomponenttransfer fecomposite feconvolvematrix fediffuselighting fedisplacementmap fedistantlight feflood fefunca fefuncb fefuncg fefuncr fegaussianblur feimage femerge femergenode femorphology feoffset fepointlight fespecularlighting fespotlight fetile feturbulence filter g hkern image line lineargradient marker mask path pattern polygon polyline radialgradient rect stop svg symbol text textpath title tref tspan use view vkern".split(" "),TB=
"amplitude azimuth basefrequency baseline-shift bias class clip clip-path clip-rule clippathunits color color-interpolation color-interpolation-filters color-profile color-rendering cursor cx cy d diffuseconstant direction display divisor dominant-baseline dx dy edgemode elevation enable-background exponent fill fill-opacity fill-rule filter filterres filterunits flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight fx fy g1 g2 glyph-orientation-horizontal glyph-orientation-vertical gradienttransform gradientunits height id image-rendering in in2 intercept k k1 k2 k3 k4 kernelmatrix kernelunitlength kerning lengthadjust letter-spacing lighting-color limitingconeangle marker-end marker-mid marker-start markerheight markerunits markerwidth mask maskcontentunits maskunits method mode numoctaves offset opacity operator order orient overflow pathlength patterncontentunits patterntransform patternunits pointer-events points pointsatx pointsaty pointsatz preservealpha preserveaspectratio primitiveunits r radius refx refy result rotate rx ry scale seed shape-rendering slope spacing specularconstant specularexponent spreadmethod startoffset stddeviation stitchtiles stop-color stop-opacity stroke stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width style surfacescale tablevalues targetx targety text-anchor text-decoration text-rendering textlength transform type u1 u2 unicode-bidi values version viewbox viewtarget visibility width word-spacing writing-mode x x1 x2 xchannelselector xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type xml:base xml:lang xml:space xmlns xmlns:svg xmlns:xlink y y1 y2 ychannelselector z zoomandpan".split(" ");function UB(a){var b=a.indexOf("\x3csvg",0),c=a.slice(0,b);-1===c.toUpperCase().indexOf("\x3c!DOCTYPE")&&(a=c+'\x3c!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"\x3e\n'+a.slice(b));return a}function VB(a){function b(a){return 0!==a.filter(function(a){return isNaN(a)}).length}var c=($($.parseXML(a)).find("svg").attr("viewBox")||"").split(/\s/);a=c.map(function(a,b){return parseFloat(c[b])});return 4!==a.length||b(a)?[]:a}
function WB(a){function b(a){a=g.attr(a);return"undefined"==typeof a||""===a?NaN:parseFloat(a.replace(/[^0-9\.]/g,""))}var c=$("#limbo"),d=!1;0>=c.length&&(c=$('\x3cdiv id\x3d"limbo"\x3e\x3c/div\x3e'),$("body").append(c),d=!0);var e=$($.parseXML(a)),g,h,k,l,m;if(4!==VB(a).length){g=e.find("svg");if(!g)throw Error("SVG with no \x3csvg\x3e!");h=b("x");k=b("y");l=b("width");m=b("height");var n=e.find("svg");c.append(n);n=n.get(0).getBBox();isNaN(h)&&(h=n.x);isNaN(k)&&(k=n.y);isNaN(l)&&(l=n.width);isNaN(m)&&
(m=n.height);e.remove();d&&c.remove();c=' viewBox\x3d"'+[h,k,l,m].join(" ")+'" ';d=a.indexOf("\x3csvg",0)+4;return a.substring(0,d)+c+a.substring(d)}return a}
function XB(a){if(!NB(a))throw Error("Aborting attempt to generate color changes on unacceptable SVG");var b=$(a).filter("svg"),c='\x3c?xml version\x3d"1.0" standalone\x3d"no"?\x3e',d=a.match(/<\?xml([^?]*)\?>/gi);d&&0<=d.length&&(c=d[0]);d=b.find("[fill]").not('[fill\x3d"none"]');if(0<b.find("g").filter(function(){return/^change/gi.test(this.id)}).length)return a;var e=[],g={};d.each(function(){var a=mh($(this).attr("fill"));if(a){var b=a.ra();g.hasOwnProperty(b)||(e.push(a.ra()),g[b]=1);a=e.indexOf(b)+
1;$(this).wrap('\x3cg id\x3d"change'+a+"_"+g[b]+'"\x3e\x3c/g\x3e');g[b]+=1}});a=$("\x3cdiv\x3e\x3c/div\x3e").append(b).html();return c+a}
function YB(a,b){for(var c=/SVGID_/g,d=new Set,e=/((url\(|xlink:href=)['"]?#)([a-z0-9_-]+)(['"]?)/gi,g;g=e.exec(a);)g[3]&&!d.has(g[3])&&(c&&c.test(g[3])||d.add(g[3]));return 0==d.size?a:a.replace(e,function(a,c,e,g,n){return(c||"")+(d.has(g)?b+g:g)+(n||"")}).replace(/(xml:)?(id=['"]?)([a-z0-9_-]+)(['"]?)/gi,function(a,c,e,g,n){return(c||"")+(e||"")+(d.has(g)?b+g:g)+(n||"")})};function ZB(a,b){a=a.trim();a=a.replace(/SVGID_/g,b+"SVGID_");a=YB(a,b);a=a.replace(/font-size\s*:\s*\d+\.?\d*(?=[\s;"])/g,"$\x26px");a=UB(a);return a=WB(a)}function $B(a){var b=a.get(0);b.removeAttribute("width");b.removeAttribute("height");b.removeAttribute("id");$("g",a).each(function(a,b){b.id=b.id.toLowerCase()});$("style",a).remove();aC(a);bC(a);cC(a);dC(a);eC(a)}
function aC(a){var b=0,c=0,d=/^[neswc]_repeat/i,e=/^([ns][ew]?|e|w|c)(_\d+)(_|$)/i;$("g",a).each(function(a,g){d.test(g.id)?(g.id=g.id.substr(0,1),g.classList.add("repeat")):(a=g.id.match(e))&&a[1]&&(g.id=a[1]);-1<["w","e"].indexOf(g.id)&&b++;-1<["n","s"].indexOf(g.id)&&c++});var g=0<b&&0===c,h=0<c&&0===b,k=a.get(0);g?(k.classList.add("horizontalOnly"),$("g#w, g#c, g#e",a).each(function(a,b){b.id="n"+b.id;"nc"==b.id&&(b.id="n")})):h&&(k.classList.add("verticalOnly"),$("g#n, g#c, g#s",a).each(function(a,
b){b.id+="w";"cw"==b.id&&(b.id="w")}))}
function bC(a){function b(a,b){var c,k,l;l=(k=(c=a.getAttribute("style"))&&c.match(fC))?c.match(fC)[2]:a.getAttribute("fill");k&&(c=c.replace(fC,""),a.setAttribute("style",c),a.setAttribute("fill",l));a.hasAttribute("fill")&&(a.classList.add("color"),a.setAttribute("data-color",a.getAttribute("fill")),a.classList.add("color-"+b));b=a.getAttribute("fill");c=mh(b);k=null;gC.equals(c)?k="primaryColor":hC.equals(c)?k="secondaryColor":iC.equals(c)&&(k="tertiaryColor");(c=k)?a.classList.add(c):b&&(d=!1)}
var c=/^change(\d+|$)/i,d=!0;a.find("g").filter(function(){return c.test(this.id)}).each(function(a,c){var d=parseFloat(c.id.substr(6)),d=isNaN(d)?1:d;c.removeAttribute("id");b(c,d);$("[style*\x3dfill], [fill], [FILL]",c).each(function(){b(this,d)})});d&&a.get(0).classList.add("baseColors")}
function cC(a){var b=/^stack(_|$)/i;a.find("g").filter(function(){return b.test(this.id)}).each(function(a,b){var e=b.id;b.removeAttribute("id");b.classList.add("canva");b.classList.add("stack");e=e.match(/_(vcenter|vtop|vbottom)(_|$)/i);b.setAttribute("data-valign",e?e[1].substr(1).toUpperCase():"CENTER");b.setAttribute("data-stack-id",a)})}
function dC(a){var b=jC(a),c=b.F(),d=b.w(),e=/^[op](_|$)/i,g=0;a.find("g").filter(function(){return e.test(this.id)}).each(function(a,b){a=document.createElementNS("http://www.w3.org/2000/svg","g");a.setAttribute("class","canva");b.parentNode.insertBefore(a,b);b.parentNode.removeChild(b);b=kC(b,["circle","ellipse","path","polygon","rect"]);if(null!==b){var e=document.createElementNS("http://www.w3.org/2000/svg","clipPath");a.appendChild(e);e.id=lC();e.setAttribute("transform","translate("+-c+", "+
-d+")");b.setAttribute("class","photoPlaceholder");e.appendChild(b);var m=document.createElementNS("http://www.w3.org/2000/svg","image");m.setAttribute("class","placeholder");m.setAttribute("clip-path","url(#"+e.id+")");m.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","https://static.canva.com/static/images/placeholder.jpg");m.setAttribute("transform","translate("+c+", "+d+")");m.setAttribute("data-placeholder-index",g.toString());g++;a.appendChild(m);b=mC(b,"cx cy r rx ry d pathLength points x y width height transform".split(" "));
b.setAttribute("class","outline");b.setAttribute("fill","none");a.appendChild(b)}})}
function eC(a){var b=/^t(_|$)/i;a.find("g").filter(function(){return b.test(this.id)}).each(function(a,b){var e=document.createElementNS("http://www.w3.org/2000/svg","g");e.setAttribute("class","canva");b.parentNode.insertBefore(e,b);b.parentNode.removeChild(b);a=kC(b,["rect"]);if(null!==a){a=mC(a,"rx ry x y width height".split(" "));a.setAttribute("class","textPlaceholder");a.setAttribute("fill","none");e.appendChild(a);var e=kC(b,["text"]),e=nC(e),g=b.id,h=/_(dfont)(_|$)/.test(g),k=/_(dwidth)(_|$)/.test(g),
l=/_(dheight)(_|$)/.test(g),m=g.match(/_(left|center|right)(_|$)/),g=g.match(/_ls([0-9]+)(_|$)/),e=$.extend({},e,{justification:m?m[1]:void 0,"line-spacing":g?parseFloat(g[1].substring(0,1)+"."+g[1].substring(1)):void 0,"dynamic-font-size":h,"dynamic-width":k&&!l,"dynamic-height":l}),n;for(n in e)a.setAttribute("data-"+n,e[n]);if(b){n=[];b=b.getElementsByTagNameNS("http://www.w3.org/2000/svg","text");for(e=0;e<b.length;e++)h=b[e],h.textContent&&0<h.textContent.trim().length&&n.push(h.textContent.trim());
b=n.join(" ")}else b="";""!=b&&a.setAttribute("data-placeholder-text",b)}})}function mC(a,b){var c=document.createElementNS("http://www.w3.org/2000/svg",a.nodeName);b.forEach(function(b){a.hasAttribute(b)&&c.setAttribute(b,a.getAttribute(b))});return c}function kC(a,b){var c=[];b.forEach(function(b){b=a.getElementsByTagNameNS("http://www.w3.org/2000/svg",b);for(var e=0;e<b.length;e++)c.push(b[e])});return 0===c.length?null:c[0]}
function nC(a){function b(a){for(var b=a.replace(/^['"]|['"]$/g,""),d=oC(Kb),e,g,p=0;p<d.length;p++)for(g in e=d[p],e.styles)if(e.styles[g].psName&&e.styles[g].psName.toLowerCase()===b.toLowerCase())return a=-1<[e.styles.bold,e.styles.boldItalic].indexOf(e.styles[g]),g=-1<[e.styles.italic,e.styles.boldItalic].indexOf(e.styles[g]),{"font-name":e.name||e.family,"font-family":e.family,bold:a,italic:g};return c(a)}function c(a){var b=["bold","italic","bolditalic","black"],c={},d=oC(Kb),e=a.replace(/^['"]|['"]$/g,
"").toLowerCase();if(a=_.find(d,function(a){return(a.internalName||"").toLowerCase()===e}))return c["font-name"]=a.name||a.family,c["font-family"]=a.family,c;var d=d.filter(function(a){a=(a.internalName||"").toLowerCase().replace(/-[^-]+$/,"");return 0===e.indexOf(a)}),g=_.find(d,function(a){return-1<(a.internalName||"").toLowerCase().indexOf("-regular")})||d[0];g&&b.forEach(function(a){var b=(g.internalName||"").toLowerCase().replace(/-[^-]+$/,"");e==b+"-"+a&&(c["font-name"]=g.name||g.family,c["font-family"]=
g.family,c.bold="bold"==a||"bolditalic"==a||"black"==a,c.italic="italic"==a||"bolditalic"==a)});return c}var d=["fill","font-size","font-family"];if(!a)return{};var e={};d.forEach(function(b){var c=(a.getAttribute(b)||"").trim();""!==c&&(e[b]=c)});(a.getAttribute("style")||"").split(";").forEach(function(a){var b=a.split(":");2==b.length&&(a=b[0].trim(),b=b[1].trim(),-1<d.indexOf(a)&&(e[a]=b))});if(e.fill){var g=mh(e.fill);g?e.fill=g.ra():delete e.fill}e["font-size"]&&(e["font-size"]=.72*parseFloat(e["font-size"]));
e["font-family"]&&(g=b(e["font-family"]),delete e["font-family"],$.extend(e,g));return e}var fC=/(\b|^)fill\s*:\s*([^;]+);\s*/i;function Z(a){this.i=Lb;this.Qa=$('\x3cdiv class\x3d"element" /\x3e');this.Qa.data("canvaElement",this);this.selected=!1;this.ht=!0;this.ya=this.rotation=this.height=this.width=this.top=this.left=0;this.page=this.te=null;this.Jm=this.NP=!1;this.Ha=0;this.link="";this.JB=this.Hh=!1;this.zm=this.origin=null;this.GD=!0;this.Dy=1;this.oe=null;this.VE=["copy","arrange","transparency","link","delete"];this.Uc=!0;this.Cy=!1;if(a){var b=vm({left:a.left,top:a.top,width:a.width,height:a.height});this.sd(b);
null!=a.rotation&&(this.rotation=a.rotation);null!=a.flipOrientation&&(this.ya=a.flipOrientation);0<=Object.keys(a).indexOf("userEdited")&&(this.Uc=a.userEdited);0<=Object.keys(a).indexOf("transparency")&&(this.Ha=a.transparency);0<=Object.keys(a).indexOf("link")&&(this.link=a.link);null!=a.origin&&(this.origin=new Vm(a.origin));null!=a.groupIndex&&(this.Cy=!0)}}f=Z.prototype;f.Iv=function(){return!1};f.sR=function(){this.ke="top"};f.UN=function(){this.ke="middle"};f.FJ=function(){this.ke="bottom"};
f.ws=function(){return this.ke||"top"};f.lv=function(){return O.eJ};f.zV=function(){return{lj:0,gk:0,maxLength:0,Pd:0,$J:[]}};f.bN=function(){return!1};f.Hg=function(){return!1};function pC(a){return"middle"===a.ke}function qC(a){return"bottom"===a.ke}f.trigger=Backbone.Events.trigger;f.listenTo=Backbone.Events.listenTo;f.stopListening=Backbone.Events.stopListening;f.on=Backbone.Events.on;f.once=Backbone.Events.once;f.off=Backbone.Events.off;_.extend(Z.prototype,Backbone.Events);f=Z.prototype;
f.$Z=function(){return!1};f.iR=function(){return!1};f.transform=function(a){var b=an($m([this.F(),this.w()]).transform(a));this.dm(rC(this.Ta(),180*Math.atan2(a.m[3],a.m[4])/Math.PI*-1));this.setPosition(b[0],b[1])};f.C=function(){return this.Qa};function sC(a){a=a.Qa[0].children;for(var b=0;b<a.length;b++){var c=a[b];if(c.classList.contains("inner"))return $(c)}return $()}f.Ff=function(){return!1};f.yv=function(){return!1};f.JM=function(){return!1};f.MM=function(){return!1};f.jA=function(){return!1};
f.SW=function(){this.Hh=!0};f.se=function(){return!1};f.Zp=function(){return!1};f.MV=function(){return!1};f.AH=function(){};f.Kp=function(){};f.Jp=function(){};f.Oq=function(){this.JB=!0};f.tk=function(){this.JB=!1};f.js=function(){return this.VE};f.lq=function(){return!0};f.mV=function(){return[]};f.Md=function(){return 0};
function tC(a,b){function c(){d.off("placeholderImage:loaded",e);d.eG(b)}if(void 0===a.Xa||void 0===a.$c)throw Error("loadImagesAndFilters must be called on elements that have placeable and filterable images");var d=a,e=_.after(a.Xa.length,c);a.on("placeholderImage:loaded",e);0===a.Xa.length?window.setTimeout(c,0):a.Xa.forEach(function(a,b){a.update(function(){d.trigger("placeholderImage:loaded",b)})})}
f.eG=function(a){function b(){c.FH();a&&a()}if(void 0===this.Xa||void 0===this.$c)throw Error("initializeFilters must be called on elements that have placeable and filterable images");var c=this,d=_.after(this.$c.length,b);0===this.$c.length?window.setTimeout(b,0):this.$c.forEach(function(a){a.initialize(d)})};f.Ef=function(){return this.origin};
function uC(a,b){for(var c=[],d,e=_.pluck(a,"index"),g,h=0;h<b.length;h++)d={},g=e.indexOf(h),-1<g?d=a[g]:d.index=h,c.push(vC(d.filter,b[d.index]));return c}function wC(a,b,c){for(var d=[],e,g=_.pluck(a,"index"),h,k=0;k<b;k++)e={},h=g.indexOf(k),-1<h?e=a[h]:e.index=k,h=c.is(".svg.element")?c.find("svg image.placeholder").eq(k).parent():c.find(".placeholder").eq(k).parent(),d.push(new xC(e,h));return d}
function yg(a){switch(a.type){case "text":return new Kp(a);case "image":return new yC(a);case "graphic":return"print"!==zC?a=new AC(a):(a=new ap(a),a.jW=!0),a;case "svg":return new ap(a);case "shape":return new BC(a);case "grid":return new CC(a);case "fixed":return new DC(a);case "group":switch(a.generatorType){case EC:return FC(a);default:return new GC(a)}}return null}f.Ce=function(){delete this.ue};
f.remove=function(){this.page&&this.page.rj(this,{h9:!0});this.oe&&this.oe.remove();this.oe=this.te=this.page=null;this.NP=!0};f.K=function(){return this.page?this.page.ia().indexOf(this):-1};f.R=function(){return this.page};f.Yq=function(a){this.page=a};f.em=function(a){this.Ha=a;this.rc()};f.NF=function(){return this.Ha};function HC(a){for(var b in IC)if(IC.hasOwnProperty(b)&&IC[b].test(a))return!0;return!1}function JC(a,b){HC(b)?a.link=b||"":a.link=""}
f.mn=function(){return HC(this.link)?this.link:""};f.kb=function(a){KC(this,a);this.rc()};function KC(a,b){void 0!==b&&!isNaN(b)&&isFinite(b)&&(a.left=b)}function LC(a,b){a.left-=b;a.rc()}function MC(a,b){a.top-=b;a.rc()}function NC(a,b){a.left+=b;a.rc()}function OC(a,b){a.top+=b;a.rc()}f.F=function(){return this.left};function PC(a){return{Ha:a.Ha,rotation:a.Ta(),top:a.w(),left:a.F(),width:a.l(),height:a.o()}}
function QC(a){var b={left:0,top:0,right:0,bottom:0,width:0,height:0},c=W;if(a.te){var d=a.C().get(0);a=a.te;d.parentNode&&a.get(0).parentNode&&(d=d.getBoundingClientRect(),a=a.find(".page__content").get(0).getBoundingClientRect(),b.left=(d.left-a.left)/c,b.right=(d.right-a.left)/c,b.top=(d.top-a.top)/c,b.bottom=(d.bottom-a.top)/c,b.width=b.right-b.left,b.height=b.bottom-b.top)}return b}f.$b=function(){return QC(this).left};f.Nd=function(){return QC(this).right};f.kc=function(){return QC(this).top};
f.kd=function(){return QC(this).bottom};f.rh=function(){return QC(this).width};f.nh=function(){return QC(this).height};f.lM=function(){var a=Math.round(this.left*W),b=0;this.page&&(b=RC(vb.Ma[this.page?this.page.K():0])||0);return b+a};f.eb=function(a){SC(this,a);this.rc()};function SC(a,b){void 0!==b&&!isNaN(b)&&isFinite(b)&&(a.top=b)}f.w=function(){return this.top};f.setPosition=function(a,b){KC(this,a);SC(this,b);this.rc()};
f.ma=function(a){void 0!==a&&!isNaN(a)&&isFinite(a)&&(this.width=a);a=TC(this);this.C().css("width",a)};f.l=function(){return this.width};function TC(a){return Math.round(a.l()*W)}f.ea=function(a){void 0!==a&&!isNaN(a)&&isFinite(a)&&(this.height=a);a=hp(this);this.C().css("height",a)};f.o=function(){return this.height};function hp(a){return Math.round(a.o()*W)}f.setSize=function(a,b){this.ma(a);this.ea(b)};
function gp(a){a=a.C().get(0).getBoundingClientRect();return{x:a.left+a.width/2,y:a.top+a.height/2}}f.sd=function(a){var b=a.F(),c=a.w();KC(this,b);SC(this,c);this.setSize(a.l(),a.o())};f.qa=function(){return new V(this.F(),this.w(),this.l(),this.o())};f.dm=function(a){this.rotation=a;this.rc()};f.Ta=function(){return this.rotation};f.ex=function(a){this.ya=a};f.ut=function(a){var b=this.ya^a;this.ex(a);1!=b&&2!=b||this.Aw();this.rc()};f.hq=function(){return!1};f.Aw=function(){};
f.Za=function(){return this.left+this.width};f.xa=function(){return this.top+this.height};f.Xi=function(){};f.lp=function(){return!this.Cy};f.OD=function(){return!0};f.Gy=function(){return!0};f.PD=function(){return!1};f.ae=function(){return!1};f.Jf=function(){return this.selected};f.Hb=function(){return!1};f.qD=function(){return!1};f.QS=function(){return!1};f.vr=function(){return!1};f.bu=function(){return!1};f.RS=function(){return!1};f.sy=function(){return!1};f.NJ=function(){return!1};f.nb=function(){return!1};
f.iG=function(){return!1};f.zk=function(a){this.selected=a};function UC(a){return 0<a.C().parents(".group").length}f.oM=function(){var a=this.C().parents(".group");return a.length&&(a=a.data("canvaElement"),a instanceof GC)?a:null};
f.rc=function(a){var b=this.C(),c=Math.round(this.left*W),d=Math.round(this.top*W);if(0<this.C().parents("#overlays").length&&!UC(this))var e=vb.Ma[this.page?this.page.K():0],c=c+Math.round(RC(e)),d=d+Math.round(VC(e));b.css("transform",$o({Sw:this.rotation,Ji:d,Ii:c}));b.css("opacity",(100-this.Ha)/100);this.hq()&&this.CI();!a&&this.te&&this.$a()};f.CI=function(){};function WC(a){var b=O.wS*a.l();a.C().css("perspective",b+"px")}f.clone=function(){return yg(this.serialize())};
f.dl=function(a){a.addElement(this,!0)};f.appendTo=function(a){-1==a.elements.indexOf(this)?a.addElement(this):XC(a,this,a.ia().length)};f.Ov=function(a){return a?Yg(this.qa(),a.qa()):!1};f.insertAfter=function(a){var b=a.K();if(-1!=b){var c=a.page,d=c.elements.indexOf(this);-1==d?XC(c,this,b+1):d<b?XC(c,this,b):d>b&&XC(c,this,b+1);!this.te&&a.te&&(this.te=a.te);this.ab()}};
f.insertBefore=function(a){var b=a.K();if(-1!=b){var c=a.R(),d=c.elements.indexOf(this);-1==d?XC(c,this,b):d<b-1?XC(c,this,b-1):d>b&&XC(c,this,b);!this.te&&a.te&&(this.te=a.te)}};f.ab=function(){function a(){b.te&&b.$a()}var b=this;this.ht&&(KC(this),SC(this),this.rc(!0),this.ma(),this.ea(),this.rc(),this.oe&&this.oe.Ds()?this.oe.update(!1,a):a())};f.$a=function(){if(this.te){var a=this.C().data("toolbar");a&&(YC(a),ZC(a,this));$C(this)}};
function $C(a){Zg(a).write(function(){var a=this.C(),c=a.data("selectionBox");if(c){var d=this.lM(),e;e=Math.round(this.top*W);var g=0;this.page&&(g=VC(vb.Ma[this.page?this.page.K():0])||0);e=g+e;var g=this.Ta(),h=TC(this),a=hp(this)||a.height(),k=0,l=0,m=80>h||80>a;this.ei&&this.ei()&&(k=this.C().css("font-size").replace("px",""),k=this.ei()/1E3*parseInt(k,10)*W);this.rs&&(l=(this.padding||0)*W);c.css("transform",$o({Ii:d,Ji:e,Sw:g})).css("width",h+2*(k+l)).css("height",a+2*(k+l));c.toggleClass("tightTargets",
m);aD(c,g)}})}f.Ah=function(){var a=this.C(),b=a.data("toolbar"),c=a.data("selectionBox"),d=a.data("sideDrawer");d&&(bD(d,!1),P.delay(200).then(function(){a.removeData("sideDrawer");d.remove()}));b&&b.remove();c&&c.remove();a.removeData("selectionBox").removeData("toolbar");T.trigger("hideContextualControlsRequested")};
f.serialize=function(){var a={elementIndex:this.K(),left:this.left,top:this.top,width:this.width,height:this.height,rotation:this.rotation,transparency:this.Ha,userEdited:this.Uc};this.link&&(a.link=this.link);var b=this.origin&&this.origin.serialize();b&&(a.origin=b);0!=this.ya&&(a.flipOrientation=this.ya);return a};f.$j=function(){return!1};f.Jv=function(){return!1};f.gi=function(){return this.ue||(this.ue=new To)};f.kA=function(){return!1};f.aA=function(){return{}};f.vZ=function(){};f.Py=function(){return!1};
function cD(a){var b;b=K.Ea();var c=ky(hy()).ka().hn();b=(c=c?mh("#"+c):null)?{$s:c,rt:c.hv()<O.$I?hn(new fn,255,255,255):hn(new fn,0,0,0),Ht:c.hv()<O.$I?un(c,hn(new fn,255,255,255),O.ES):un(c,hn(new fn,0,0,0),O.ES)}:!dD(b)||b.If()?{$s:hn(new fn,255,255,255),rt:hn(new fn,0,0,0),Ht:hn(new fn,127,127,127)}:{$s:hn(new fn,0,0,0),rt:hn(new fn,255,255,255),Ht:hn(new fn,127,127,127)};c=a.zm;c===b||c&&b&&c.$s.equals(b.$s)&&c.rt.equals(b.rt)&&c.Ht.equals(b.Ht)||(a.zm=b,a.GD=!0)}
function eD(a,b){b!=a.Dy&&(a.Dy=b,a.GD=!0)}f.PB=function(){};function fD(){return 0==this.Fg().length}function gD(){var a=this.fg();if(!a)return null;var b=this.hd(),c=this.Xa?this.Xa[this.Jc()].ya:this.ya;return Km(a,b,c)}
function hD(){var a=this.C(),b=this.Fg(),c=this.hd(),d=a.data("selectionBox");if(d){c.scale(W).round();var e=a.data("cropControls");e||(e=$('\x3cdiv class\x3d"cropControls"\x3e\x3cdiv class\x3d"viewPort"\x3e\x3cdiv class\x3d"inner"\x3e\x3cimg class\x3d"masked" /\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"cropBox cornerHandles"\x3e\x3cdiv class\x3d"inner"\x3e\x3c/div\x3e\x3ca class\x3d"handle tl" href\x3d"#"\x3e\x3c/a\x3e\x3ca class\x3d"handle tr" href\x3d"#"\x3e\x3c/a\x3e\x3ca class\x3d"handle br" href\x3d"#"\x3e\x3c/a\x3e\x3ca class\x3d"handle bl" href\x3d"#"\x3e\x3c/a\x3e\x3ca class\x3d"move" href\x3d"#"\x3e\x3c/a\x3e\x3cimg class\x3d"uncropped" /\x3e\x3c/div\x3e\x3c/div\x3e'),e.data("canvaElement",
this),a.data("cropControls",e),e.appendTo("#overlays"));var g=e.find(".viewPort");g.css(iD(c,0));g.children(".inner").css("width",c.l()).css("height",c.o());var h=b.attr("src")||b.attr("xlink:href"),b=e.find("img.masked, img.uncropped");b.attr("src")!=h&&b.each(function(){jD(kD,$(this),h)});b=lD(d);e.css(iD(b,this.Ta()));b=this.fg();b.scale(W).round();var k=this.Xa?this.Xa[this.Jc()].ya:this.ya;mD(g.find("img.masked"),b,k);b.translate(c.F(),c.w());c=e.find(".cropBox");c.css(iD(b,0));mD(c.find("img.uncropped"),
null,k);d.addClass("cropping");nD(a);a=a.data("confirmationToolbar");YC(a)}}function oD(a,b){var c=this.fg(),d=this.hd();d.kb(0).eb(0);a>d.F()?a=d.F():a+c.l()<d.Za()&&(a=d.Za()-c.l());b>d.w()?b=d.w():b+c.o()<d.xa()&&(b=d.xa()-c.o());c.kb(a).eb(b);this.bm(c)}function pD(a){var b=this.Jc();-1<b&&qD(this.Xa[b],a)}
function rD(){var a=this.C();a.removeClass("cropping");var b=a.data("confirmationToolbar"),c=a.data("cropControls");a.removeData("confirmationToolbar").removeData("cropControls");b&&b.remove();c&&c.remove();(a=a.data("selectionBox"))&&a.removeClass("cropping")}function sD(){this.C().removeClass("cropping");var a=this.Fg();if(a){var b=this.xF().scale(W).round();a.css(iD(b,0)).attr("data-image-rect",JSON.stringify(this.fg().serialize()))}}function tD(){var a=this.Jc();return this.rn(0<=a?a:0)}
function uD(){var a=this.Jc();if(-1===a)return!1;a=this.rl(a);return void 0!==a.mediaId&&void 0!==a.mediaVersion}
function vD(a){function b(b){if(c.data("mediaId")===a.ba&&c.data("mediaVersion")===a.ca){var d=!!b;b=!!b&&b.src||"";d&&jD(kD,c,b);a.nw&&a.nw(d)}}var c=a.Cn;c.data("mediaId",a.ba);c.data("mediaVersion",a.ca);var d=Hb.Kc(a.ba,a.ca);if(d){var d=d[wD],e=xD(a.ba,a.ca,"print"===zC?yD:Lg);jD(kD,c,d.oa());e.then(function(a){return zD(kD,a.oa())}).then(b).catch(b.bind(null,void 0))}else a.nw&&a.nw(!1)}
function yC(a){var b=this;Z.call(this,a);this.background=!!a.isBackground;this.Pm=!!a.isDark;this.backgroundColor=a.backgroundColor||null;this.ba="string"===typeof a.mediaId?a.mediaId:null;this.ca="number"===typeof a.mediaVersion?a.mediaVersion:null;this.hb=void 0===a.mediaApproved||!!a.mediaApproved;this.mq()?(this.UF=!0,this.az=!1):(this.UF=void 0!==a.isCutout,this.az=!this.UF||a.isCutout);this.EH=!!a.isRecolorable;this.Jm=!this.mq();var c=this.Ob(),d=null!==c,e=this.C();e.addClass("image").toggleClass("hasMedia",
d);if(d){var g=$("\x3cdiv\x3e").addClass("imageWrapper");g.append("\x3cimg\x3e");g.appendTo(e);this.Oc=new xC({mediaId:this.ba,mediaVersion:this.ca,mediaApproved:this.hb},g);this.oe=vC(a.filter,this.Oc);this.cm(c.id,c.version).bind(this).then(function(){T.trigger("elementLoaded",this);T.trigger("elementLoaded:image",this)}).catch(function(){T.trigger("elementLoadingError",this)})}else this.oe=this.Oc=null;this.EH&&this.backgroundColor&&e.css("background-color",this.backgroundColor);this.Ug=new V((this.width-
this.width*O.lD)/2,(this.height-this.height*O.lD)/2,this.width*O.lD,this.height*O.lD);this.Ba=new V(-this.Ug.F(),-this.Ug.w(),this.width,this.height);this.Vx=this.qa();this.Tk=!1;if(c=a.imageBox)sl(this,new V(-1*c.left,-1*c.top,this.width,this.height)),this.bm(vm(c)),this.Vx=this.fg(),this.Nr(),a=vm({left:a.left,top:a.top,width:a.width,height:a.height}),this.sd(a);this.background&&Up(this);d||window.setTimeout(function(){T.trigger("elementLoaded",b);T.trigger("elementLoaded:image",b)},0)}
yC.prototype=Object.create(Z.prototype);f=yC.prototype;f.constructor=yC;f.gq=fD;f.tQ=oD;f.Pq=rD;f.hd=tD;f.xF=gD;f.Zp=function(){return!!this.oe};f.MV=function(){return!0};f.Ld=function(){return this.oe};f.Qz=function(){return 0};f.Mp=function(a){return 0===a?this.oe:null};f.lq=function(){return!(!this.oe||!this.oe.Ds())};f.js=function(){return this.qD()?["transparency","delete"]:this.VE};f.p4=yC.prototype.lq;f.AH=function(a,b){AD(this.oe,b)};f.Kp=function(){this.oe.Kp()};f.Jp=function(){this.oe.Jp()};
f.eG=function(a){function b(){c.FH();a&&a()}var c=this;this.oe&&this.oe.initialize(b)};f.FH=function(){var a;this.p4()&&(a=this.C().data("toolbar"))&&a.view.Su("filter")};f.PD=function(){return!this.Hb()&&!this.ae()};f.mq=function(){return this.hb&&null===this.Ob()};f.appendTo=function(a){this.Hb()?(XC(a,this,0),BD(a)):Z.prototype.appendTo.call(this,a)};
f.serialize=function(){var a=Z.prototype.serialize.call(this),b;this.oe&&(b=CD(this.oe))&&(a.filter=b);a.type="image";a.mediaId=this.ba;a.mediaVersion=this.ca;a.isBackground=this.background;a.isRecolorable=this.EH;a.isCutout=this.az;a.isDark=this.Pm;this.backgroundColor&&(a.backgroundColor=this.backgroundColor);this.hb||(a.mediaApproved=!1);this.Tk&&(a.imageBox=this.Ba.serialize());return a};
f.ma=function(a){void 0===a&&(a=this.width);var b=this.C(),c=a!=this.width;this.Ba&&c&&!b.is(".cropping")&&(b=a/this.width,this.Ba.scale(b,1),this.Ug.scale(b,1));this.Oc&&qD(this.Oc,this.Tk?this.Ba:new V(0,0,a,this.height));Z.prototype.ma.call(this,a)};
f.ea=function(a){void 0===a&&(a=this.height);var b=this.C(),c=a!=this.height;this.Ba&&c&&!b.is(".cropping")&&(b=a/this.height,this.Ba.scale(1,b),this.Ug.scale(1,b));this.Oc&&qD(this.Oc,this.Tk?this.Ba:new V(0,0,this.width,a));Z.prototype.ea.call(this,a)};f.hq=function(){return null!==this.Oc};f.ex=function(a){Km(this.Ba,this.Ug,this.ya^a);this.Ug.kb(-this.Ba.F());this.Ug.eb(-this.Ba.w());this.ya=a};f.CI=function(){mD(this.C().find(".imageWrapper"),null,this.ya)};
f.Aw=function(){WC(this);var a=this.C().find(".imageWrapper");a.addClass("flipping");a.one("transitionend",function(){a.removeClass("flipping")})};f.ab=function(){Z.prototype.ab.call(this);var a=this.C();if(this.Tk&&!a.is(".cropping")){var b=this.xF().scale(W).round();$("img",a).css(iD(b,0))}};f.$a=function(){Z.prototype.$a.call(this);this.C().is(".cropping")?this.nz():this.Pq()};f.YC=function(a){this.mq()||aq(a,this.Ob())||(this.gC(!1),this.ca=this.ba=null)};f.$j=function(){return!0};
f.Ob=function(){return null!=this.ba&&null!=this.ca?new Xm({id:this.ba,version:this.ca}):null};f.Kw=function(){var a=this.Ob();return a?this.cm(a.id,a.version):P.resolve()};f.cm=function(a,b){return new P(function(c,d){this.ba=a;this.ca=b;var e=this;vD({Cn:e.C().find("img"),ba:a,ca:b,nw:function(a){a?e.eG(c):d()}})}.bind(this))};f.EA=function(){return this.hb};f.gC=function(a){this.hb=a;this.C().toggleClass("unapproved",!a);this.$a()};f.st=function(){};f.Fg=function(){return this.C().find("img")};
f.Jc=function(){return 0};f.Yz=function(a){return 0!=a?$():$("img",this.C()).eq(0)};f.ig=function(){return 1};f.rn=function(){return this.Ug.clone()};f.rl=function(){return null};f.Sp=function(){return this.Oc};f.$q=function(){};f.NB=function(){};function sl(a,b){var c=a.Ug.F(),d=a.Ug.w();a.Ug=b.clone();a.Ba.translate(c-a.Ug.F(),d-a.Ug.w())}f.fg=function(){return this.Ba.clone()};f.NM=function(){return!0};
f.nz=function(){if(this.page){var a=this.C();this.AI||(this.AI=!0,this.Vx=new V(this.left+(this.Tk?this.Ba.F():0),this.top+(this.Tk?this.Ba.w():0),this.Ba.l(),this.Ba.o()));var b=DD(vb,this.page),c=RC(b)||0,d=VC(b)||0,b=this.Vx.clone();b.scale(W).translate(c,d).round();(c=a.data("selectionBox"))&&c.css(iD(b,this.Ta()));hD.call(this);0==$(".viewPort .frameHandle").length&&(c=$('\x3ca class\x3d"frameHandle tl" href\x3d"#"\x3e\x3cspan class\x3d"tl"\x3e\x3c/span\x3e\x3c/a\x3e\x3ca class\x3d"frameHandle tr" href\x3d"#"\x3e\x3cspan class\x3d"tr"\x3e\x3c/span\x3e\x3c/a\x3e\x3ca class\x3d"frameHandle br" href\x3d"#"\x3e\x3cspan class\x3d"br"\x3e\x3c/span\x3e\x3c/a\x3e\x3ca class\x3d"frameHandle bl" href\x3d"#"\x3e\x3cspan class\x3d"bl"\x3e\x3c/span\x3e\x3c/a\x3e'),
(a=a.data("cropControls"))&&a.find(".viewPort").append(c))}};f.Ah=function(){Z.prototype.Ah.call(this);this.Pq()};f.bm=function(a){this.Ba=a.clone()};f.Nr=function(){sD.call(this);var a=this.C();this.Fg().css("position","absolute");a.css("overflow","hidden");var b=this.Ug.clone();b.translate(this.Vx.F(),this.Vx.w());a.addClass("cropping");this.sd(b);a.removeClass("cropping");this.Ug.kb(-this.Ba.F()).eb(-this.Ba.w());this.Tk=!0;this.AI=!1};
function Up(a){var b=a.oc();a.background=!0;a.Jm=!1;a.C().addClass("background");a.page&&(XC(a.page,a,0),BD(a.page),a.page.trigger("change:background",a.page));a.oc()!==b&&a.$a();a.Ce()}function ED(a){var b=a.oc();a.background=!1;a.Jm=!a.mq();a.C().removeClass("background");a.ae()&&null!==a.backgroundColor&&a.ax(null);a.oc()!==b&&a.$a();a.page&&a.page.trigger("change:background",a.page);a.Ce()}f.Hb=function(){return this.background};f.NJ=function(){return!0};f.qD=function(){return this.background};
f.vr=function(){return!0};f.yv=function(){return!0};f.oc=function(){return this.ae()?this.Hb():this.EH};f.qM=function(){if(this.oc()){var a=mh(this.backgroundColor||O.bJ);if(a)return a.hv()<O.$I}return this.Pm};f.ae=function(){var a=this;this.UF||null===this.Ob()||(this.UF=!0,Db.Nb(this.ba,(new FD).Ik(this.ca),function(b,c){a.az=c.Ja().ae()}));return this.az};f.bb=function(){var a=[];if(this.oc()){var b=mh(this.backgroundColor||O.bJ);b&&a.push(b)}return a};f.Md=function(){return this.bb().length};
f.lh=function(){return null!==this.backgroundColor?mh(this.backgroundColor):null};f.ax=function(a){var b=this.C();a?(this.backgroundColor=a.ra(),b.css("background-color",this.backgroundColor)):(this.backgroundColor=null,b.css("background-color",""));this.Hb()&&this.page&&this.page.trigger("change:background",this.page);this.Ce()};f.ge=function(a,b){if(0!==a)throw Error("ImageElement.setChangeableColorAtIndex - invalid index: "+a.toString());this.ax(b)};
f.gi=function(){if(this.ue)return this.ue;var a=new To;this.bb().forEach(function(b){Wo(a,b)});return this.ue=a};
function ap(a){this.ww=[];this.vb=this.Cc=this.oJ=null;this.Vb=$();this.Fx=[];this.$Q=$();this.Xa=[];this.$c=[];this.jW=this.loaded=!1;Z.call(this,a);if(void 0!==a&&void 0!==a.mediaId){this.ba=a.mediaId;this.ca=a.mediaVersion;this.hb=void 0===a.mediaApproved?!0:a.mediaApproved;var b=this.C();b.addClass("svg");var c=$('\x3cimg class\x3d"placeholder" /\x3e');b.append(c);this.listenTo(this,"change:fontSize",this.wX);this.listenTo(this,"change:fontFamily",this.wX);this.contents=a.contents?a.contents.slice(0):
null;a.scale&&(this.scale=a.scale);this.Ei=null;a.svgMetadata&&(this.Ei=a.svgMetadata);a.fillColors&&(this.Xc=a.fillColors.map(function(a){return{index:a.index,color:KB(a.color)}}),Object.freeze(this.Xc));this.cm(this.ba,this.ca).bind(this).then(function(){T.trigger("elementLoaded",this);T.trigger("elementLoaded:svg",this)}).catch(function(){T.trigger("elementLoadingError",this)})}}ap.prototype=Object.create(Z.prototype);f=ap.prototype;f.constructor=ap;f.gq=fD;f.Pq=rD;f.hd=tD;f.NM=uD;f.xF=gD;
f.fp=yB;f.xE=EB;f.Lc=fB;f.kv=gB;f.CF=wB;f.ks=vB;f.ns=uB;f.pl=qB;f.BF=nB;f.Mw=tB;f.jt=xB;f.UH=DB;f.$w=GB;f.yo=jB;f.setColor=iB;f.YH=sB;f.Xq=ZA;f.fC=$A;f.yk=aB;f.ve=dB;f.eC=eB;f.Ao=kB;f.yi=hB;f.hx=zB;f.$H=AB;f.ix=rB;f.jx=pB;f.kx=lB;f.br=oB;f.Mx=BB;f.hq=function(){return this.jW};f.DA=function(){return!0};f.vr=function(){return!this.Ff()};f.bu=function(){return this.se()&&!this.yv()};f.se=function(){return this.Vb&&0<this.Vb.length};f.Zp=function(){return this.$c&&0<this.$c.length};
f.CI=function(){mD(this.C().children("svg"),null,this.ya)};f.Aw=function(){WC(this);var a=this.C().children("svg");a.get(0).classList.add("flipping");a.one("transitionend",function(){a.get(0).classList.remove("flipping")})};f.YC=function(a){aq(a,this.Ob())||(this.gC(!1),this.ca=this.ba=null)};f.$j=function(){return!0};
f.JD=function(a,b){function c(){k.NP?b&&b(!1):(k.Vb.each(function(a,b){k.uj(a,k.Tb(a),x,!0);$(b).css("opacity","")}),k.ab(),l.forEach(function(a){var b=a.index,c=k.cb(b);k.uj(b,a,function(b){b&&void 0!==a.lineLengths&&SA(c,a.lineLengths);x()},!0)}),k.ww=GD(p,".photoPlaceholder"),k.Jm=0<k.ig(),HD(p,k.ww),ID(p,k.ww),JD(p,k.ww),m&&(k.Xa=wC(m,k.ig(),h),k.$c=uC(m,k.Xa),Object.freeze(k.$c),Object.freeze(k.Xa)),k.Xa.forEach(function(a,b){xm(a.ln(),wm)&&qD(a,KD(k,b))}),tC(k,function(){t=!0;e()}))}function d(){z=
!0;window.setTimeout(e,0)}function e(){if(t&&z&&!k.loaded&&(k.rc(),k.loaded=!0,p.css("position","absolute"),b&&b(!0),null!=k.Ei&&(null==v||JSON.stringify(k.Ei)!==JSON.stringify(v)))){var a=k.R();(a=a?a.Fb:null)&&a.trigger("change")}}function g(a,b){var c=a.parent(),d=a.prev(),e=jC(a),e=$("\x3cdiv\x3e\x3c/div\x3e").css("opacity",0).css("width",e.l()*W).css("height",e.o()*W).append(a).appendTo("#limbo");try{b()}finally{0<c.length?0<d.length?a.insertAfter(d):a.prependTo(c):a.detach(),e.remove()}}var h=
this.C(),k=this,l=this.contents?this.contents.filter(function(a){return"text"==a.type}):[],m=this.contents?this.contents.filter(function(a){return"image"==a.type}):[];if(!NB(a,!0)||this.NP)b&&b(!1);else{var n=lC();a=ZB(a,n);var p=$(a).filter("svg");$B(p);p=$(p.get(0).cloneNode(!0));p.appendTo(h);this.Cc=jC(p);this.width&&this.height||(this.ma(this.Cc.l()),this.ea(this.Cc.o()));this.Vb=LD(p,nc(this.i));this.Vb.css("opacity",0).data("canvaElement",this).appendTo(h);MD(this);ND(this).each(function(){var a=
$(this).data("designObject");k.listenTo(a,"change:width",k.tX);k.listenTo(a,"change:height",k.sX)});a=OD(p,this.Vb);this.Fx=a.Fx;this.Fx.forEach(function(a){k.listenTo(a,"change",k.CX)});this.$Q=a.P2;this.$Q.appendTo(h);this.Xc&&this.Xc.forEach(function(a){k.ge(a.index,a.color)});var q=[],u=[];this.Vb.each(function(){var a=$(this).data("fontFamily"),b=JA($(this)).$e;a&&q.push(a);q=q.concat(b)});l.forEach(function(a){var b=WA('\x3cfont face\x3d"'+a.fontFamily+'"\x3e\x3c/font\x3e'+a.html);q=q.concat(b);
a.lineLengths&&k.cb(a.index).data("cachedLineLengths",a.lineLengths);a.fontMedia&&(u=u.concat(Ym(a.fontMedia)));Array.isArray(a.htmlFontMedia)&&(u=u.concat(a.htmlFontMedia.map(Ym)))});var u=u.filter(Boolean),v=this.Ei;g(p,function(){k.vb=PD(p);k.Ei=QD(k,p)});k.vb&&(k.scale&&RD(k),k.ma(k.l()),k.ea(k.o()));var z=!1,t=!1;a=this.Vb.length+l.length;var x=_.after(a,d);0===a&&d();this.Ce();SD(Kb,u,q,c)}};f.ab=function(){Z.prototype.ab.call(this);TD(this);bp(this);UD(this)};
f.vs=function(){var a=this,b=[];this.Vb&&this.Vb.each(function(c){b.push(mh(a.Tb(c).color))});return b};f.Ld=function(){var a=this.Jc();return-1<a?this.$c[a]:null};f.Qz=function(){return this.Jc()};f.Mp=function(a){return this.$c[a]||null};f.lq=function(){return!(!this.Ld()||!this.Ld().Ds())};f.js=function(){var a=this.VE.slice();0<this.ig()&&a.push("deletePlaceholder");return a};f.Kp=function(){this.Ld()&&this.Ld().Kp()};f.Jp=function(){this.Ld()&&this.Ld().Jp()};
f.FH=function(){if(this.Ld()&&this.Ld().Ds()){var a=this.C().data("toolbar");a&&a.view.Su("filter")}};f.AH=function(a,b){AD(this.$c[a],b)};f.wX=function(a,b){(a=b.data("designObject"))&&this.loaded&&VD(a)};var WD=0;function lC(){WD=WD==Math.pow(2,53)?0:WD+1;return"CANVA"+WD+"_"}function XD(a){return 0<$("g",a).filter(function(){return-1!="nw n ne w c e sw s se".split(" ").indexOf(this.id)}).length}
function PD(a){function b(a,b){var c=b.firstElementChild;c?b.insertBefore(a,c):b.appendChild(a)}function c(a,c,d,e,g){if(0!=a.length){var h=a.get(0),k=document.createElementNS("http://www.w3.org/2000/svg","g"),m=document.createElementNS("http://www.w3.org/2000/svg","clipPath"),n=lC(),L=lC(),J=document.createElementNS("http://www.w3.org/2000/svg","rect"),Q=document.createElementNS("http://www.w3.org/2000/svg","rect"),S=a.get(0).cloneNode(!0),N=document.createElementNS("http://www.w3.org/2000/svg",
"rect");m.id=n;J.setAttribute("width",e);J.setAttribute("height",g);J.setAttribute("x",c);J.setAttribute("y",d);m.appendChild(J);k.id=L;S.removeAttribute("id");$("g.canva, .textPlaceholder, .photoPlaceholder",S).remove();k.appendChild(S);l.appendChild(k);l.appendChild(m);a.children(":not(.canva)").remove();a.data("clipId",n);a.data("useId",L);h.setAttribute("clip-path","url(#"+n+")");N.setAttribute("width",e);N.setAttribute("height",g);N.setAttribute("x",c);N.setAttribute("y",d);N.setAttribute("class",
"repeat");N.setAttribute("visibility","hidden");N.setAttribute("pointer-events","none");Q.setAttribute("width",e);Q.setAttribute("height",g);Q.setAttribute("class","repeat");Q.setAttribute("display","none");Q.setAttribute("pointer-events","none");Q.setAttribute("class","canva dimensions");b(N,h);h.insertBefore(Q,N);h.setAttribute("class","canva tiled");YD(a)}}if(!XD(a))return null;var d=jC(a),e={left:0,right:0,top:0,bottom:0,repeat:!1,mt:!0,po:!0},g=a.get(0),h=d.l(),k=d.o();$("g",a).each(function(a,
b){-1!=["n","e","s","w"].indexOf(b.id)&&(e.repeat|=b.classList.contains("repeat"));-1!=["ne","e","se"].indexOf(b.id)?(e.right=Math.max(e.right,h-b.getBBox().x),e.right==h&&(e.right=0)):-1!=["n","c","s"].indexOf(b.id)&&(e.left=Math.max(e.left,b.getBBox().x));-1!=["sw","s","se"].indexOf(b.id)?(e.bottom=Math.max(e.bottom,k-b.getBBox().y),e.bottom==k&&(e.bottom=0)):-1!=["w","c","e"].indexOf(b.id)&&(e.top=Math.max(e.top,b.getBBox().y))});e.mt=!g.classList.contains("verticalOnly");e.po=!g.classList.contains("horizontalOnly");
if(e.repeat){var l=document.createElementNS("http://www.w3.org/2000/svg","defs");b(l,g);var d=e.left+e.right,m=e.top+e.bottom,n=g.classList.contains("horizontalOnly"),g=g.classList.contains("verticalOnly");c($("g#n",a),e.left,0,h-d,n?k:e.top);c($("g#s",a),e.left,k-e.bottom,h-d,n?k:e.bottom);c($("g#c",a),e.left,e.top,h-d,k-m);c($("g#w",a),0,e.top,g?h:e.left,k-m);c($("g#e",a),h-e.right,e.top,g?h:e.right,k-m)}return e}
function YD(a){var b=a.data("clipId"),c=a.data("useId"),d=a.get(0);if(b&&c){var b=d.querySelector(".repeat"),e=d.querySelector(".dimensions");if(b&&e){var g=Number(b.getAttribute("width")),h=Number(b.getAttribute("height")),b=Number(e.getAttribute("width")),e=Number(e.getAttribute("height")),g=Math.ceil(g/b),h=Math.ceil(h/e);if(!(isNaN(g*h)||!isFinite(g*h)||0>h||0>g||g===Number(a.data("columns"))&&h===Number(a.data("rows")))){a.find("use").remove();for(var k=0;k<g;k++)for(var l=0;l<h;l++){var m=document.createElementNS("http://www.w3.org/2000/svg",
"use"),n=k*b-.5*k,p=l*e-.5*l;m.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+c);m.setAttribute("transform","translate("+n+","+p+")");d.appendChild(m)}a.data("columns",g);a.data("rows",h)}}}}
function GD(a,b){var c=[];if(0===a.find(b).length)return c;var d=a.parent(),e=a.prev(),g=jC(a),h=$("\x3cdiv\x3e\x3c/div\x3e");h.appendTo($("#limbo"));h.css("width",g.l()).css("height",g.o());a.appendTo(h);a.attr("stroke","transparent").attr("stroke-width",0);Bf(a);var k=a.get(0).getBoundingClientRect();$(b,a).each(function(a,b){a=$(b).clone();a.attr("fill","transparent").appendTo($(b).parents("g, svg").first());Bf(a);b=Wg(a.get(0).getBoundingClientRect());a.remove();b.translate(-k.left,-k.top);c.push(b)});
0<d.length?0<e.length?a.insertAfter(e):a.prependTo(d):a.detach();h.remove();return c}
function LD(a,b){var c=$(),d=GD(a,".textPlaceholder"),e=$(".canva .textPlaceholder",a);d.forEach(function(a,d){var k=e.eq(d),l=k.data()||{},m=$(['\x3cdiv class\x3d"text"\x3e\x3cdiv class\x3d"inner"\x3e',l.placeholderText||b.format("documentSvgPlaceholderText"),"\x3c/div\x3e\x3c/div\x3e"].join(""));m.data("textIndex",d).data("placeholderElement",k).data("placeholderText",l.placeholderText).data("rect",a).data("justification",l.justification||"center").css("text-align",l.justification||"center").data("fontSize",
l.fontSize||O.hD).css("font-size",(l.fontSize||O.hD)*O.Oi+"%").data("defaultFontSize",l.fontSize||O.hD).data("original-fill",l.fill).data("is-primary-color",l.fill&&gC.equals(mh(l.fill))).data("is-secondary-color",l.fill&&hC.equals(mh(l.fill))).data("is-tertiary-color",l.fill&&iC.equals(mh(l.fill))).data("fill",l.fill).css("color",l.fill||"").data("fontName",l.fontName).data("fontFamily",l.fontFamily).css("font-family",l.fontFamily?l.fontFamily:"").data("bold",l.bold).data("italic",l.italic).data("lineSpacing",
l.lineSpacing||O.dJ).css("line-height",l.lineSpacing||O.dJ).data("dynamicFontSize",l.dynamicFontSize).data("dynamicHeight",l.dynamicHeight).data("dynamicWidth",l.dynamicWidth);0<k.parents().filter(function(){return this.classList.contains("stack")}).length||ZD(m);a=new $D(m,0,0);m.data("designObject",a);c=c.add(m)});return c}
function OD(a,b){function c(a,b,c){var d=[];$(a).find(".textPlaceholder").each(function(e,g){e=c.filter(function(){return $(this).data("placeholderElement").get(0)==g});if(1===e.length){var q=new $D(e.eq(0),b.F(),b.w());e.data("stackId",a.getAttribute("data-stack-id")).data("designObject",q);d.push(q)}});return d}var d=$(),e=[],g=GD(a,".canva.stack");a.find(".canva.stack").each(function(a,k){a=g[a];var l=0<$(k).parents("#n, #c, #s").length,m=0<$(k).parents("#w, #c, #e").length,n=c(k,a,b);a={valign:k.getAttribute("data-valign"),
box:a.serialize(),resizeHorizontal:l,resizeVertical:m,contents:n};a=new aE(a);e.push(a);l=$('\x3cdiv class\x3d"stack"\x3e\x3c/div\x3e');m=b.filter(function(){return $(this).data("stackId")==k.getAttribute("data-stack-id")});l.data("sourceElement",k).data("stack",a).append(m);d=d.add(l)});return{Fx:e,P2:d}}
function ZD(a){var b=a.data("placeholderElement"),c=0<b.parents("#n, #c, #s").length,b=0<b.parents("#w, #c, #e").length;c||b?b?a.data("dynamicHeight",!0):c&&a.data("dynamicWidth",!0):a.data("dynamicFontSize",!0)}function HD(a,b){b.forEach(function(b,d){var e=new V(0,0,O.yS,O.xS);Em(e,b);a.find("image.placeholder").eq(d).attr("x",e.F()).attr("y",e.w()).attr("width",e.l()).attr("height",e.o())})}
function ID(a,b){b.forEach(function(b,d){var e=Math.max(b.l(),b.o()),e=new V(0,0,e,e);d=a.find("image.placeholder").eq(d);var g=document.createElementNS("http://www.w3.org/2000/svg","rect");Dm(Em(e,b).scale(Math.max(1,O.py)),b);ym(e)&&(g.classList.add("vignette"),$(g).appendTo(d.parent()).attr("fill","none").attr("clip-path",d.attr("clip-path")).attr("x",e.F()).attr("y",e.w()).attr("width",e.l()).attr("height",e.o()))})}
function JD(a,b){b.forEach(function(b,d){d=a.find("image.placeholder").get(d);var e=d.cloneNode(!0);e.classList.remove("placeholder");e.classList.add("broken");b=Dm(b.clone().scale(.33),b);$(e).appendTo(d.parentNode).attr("x",b.F()).attr("y",b.w()).attr("width",b.l()).attr("height",b.o());e.setAttributeNS("http://www.w3.org/1999/xlink","href","https://static.canva.com/static/images/broken_image_icon.svg")})}
function bE(a,b,c,d){if(!c)return b.clone().scale(d.scale);b=b.clone();b.scale(d.scale);c=a.parents("g#ne, g#e, g#se");0<c.length&&(c=c.data("offsetX")||0,b.translate(d.scale*c,0));c=a.parents("g#n, g#c, g#s");0<c.length&&(c=c.data("deltaX")||0,Cm(b,c*d.scale,0));c=a.parents("g#sw, g#s, g#se");0<c.length&&(c=c.data("offsetY")||0,b.translate(0,d.scale*c));c=a.parents("g#w, g#c, g#e");0<c.length&&(a=c.data("deltaY")||0,Cm(b,0,a*d.scale));return b}f=ap.prototype;
f.tX=function(a,b){if(this.vb&&this.vb.mt&&0!==b){var c=Cm(this.qa(),b,0);switch(a.Jk.data("justification")){case cE:c.translate(-b/2,0);break;case dE:c.translate(-b,0)}eE(this,c);this.rc()}};f.sX=function(a,b){this.vb&&this.vb.po&&0!==b&&(a=Cm(this.qa(),0,b),a.translate(0,-b/2),eE(this,a),this.rc())};function eE(a,b){var c=a.$a,d=a.rc;a.$a=function(){};a.rc=function(){};a.sd(b);a.rc=d;a.$a=c}
f.CX=function(a){if(this.vb&&(this.vb.mt||this.vb.po)){var b=!1,c=a.qa(),d=this.C().children(".stack").filter(function(){return $(this).data("stack")===a}),d=bE($(d.data("sourceElement")),a.Wz(),!0,fE(this));if(this.vb.po){var e=c.xa()-d.xa(),b=b||0!==e;this.ea(this.o()+e)}this.vb.mt&&(c=c.Za()-d.Za(),b=b||0!==c,this.ma(this.l()+c));b&&this.ab()}};
function RD(a){var b,c=a.Cc;b={scale:a.scale,deltaX:a.l()/a.scale-c.l(),deltaY:a.o()/a.scale-c.o()};var c=b.scale,d=b.deltaX;b=b.deltaY;a.setSize(a.Cc.l()*c,a.Cc.o()*c);d&&a.ma(c*d+a.l());b&&a.ea(c*b+a.o())}
f.setSize=function(a,b){var c=this.width;gE(a,this.width)&&!gE(b,this.height)?this.ea(b):gE(b,this.height)&&!gE(a,this.width)?this.ma(a):(Z.prototype.ma.call(this,a),Z.prototype.ea.call(this,b),TD(this),UD(this),MD(this),void 0!==a&&!isNaN(a)&&isFinite(a)&&this.Xa.forEach(function(b){var e=b.ln();e.scale(a/c);qD(b,e)}))};
f.ma=function(a){var b;Z.prototype.ma.call(this,a);if(this.vb&&void 0!==this.width&&void 0!==a&&0!=$("svg",this.C()).length){this.Vb.each(function(){var a=$(this);a.data("dynamicWidth")&&UA(a)});b=jC($("svg",this.C()));b.o()==this.Cc.o()?(a=this.Cc.o()*this.width/this.height,b=this.Cc.clone()):(a=b.o()*this.width/this.height,b=b.clone());b.ma(a);b=[b.F(),b.w(),b.l(),b.o()].join(" ");$("svg",this.C()).get(0).setAttribute("viewBox",b);b=this.vb.left+this.vb.right;var c=this.Cc.l()-b,d=a-b,e=d/c,g=-this.vb.left*
(e-1),h=this;$("g#n, g#c, g#s",this.C()).each(function(){var a=void 0===$(this).data("scaleY")?1:$(this).data("scaleY"),b=$(this).data("offsetY")||0;"c"==this.id&&(b=-h.vb.top*(a-1));h.vb.repeat?($(".repeat",this).attr("width",d),(a=$("#"+$(this).data("clipId")+" rect").get(0))&&a.setAttribute("width",d)):$(this).attr("transform","translate("+g.toString()+", "+b.toString()+") scale("+e.toString()+", "+a.toString()+")");$(this).data("deltaX",d-c).data("scaleX",e)});var k=d-c-1;$("g#ne, g#e, g#se",
this.C()).each(function(){var a=$(this).data("offsetY")||0,b=void 0===$(this).data("scaleY")?1:$(this).data("scaleY");"e"==this.id&&(a=-h.vb.top*(b-1));"e"==this.id&&h.vb.repeat?$(this).attr("transform","translate("+k.toString()+")").data("offsetX",k):$(this).attr("transform","translate("+k.toString()+", "+a.toString()+") scale(1, "+b.toString()+")").data("offsetX",k)});$("g#nw, g#w, g#sw",this.C()).each(function(){var a=$(this).data("offsetY")||0,b=void 0===$(this).data("scaleY")?1:$(this).data("scaleY");
"w"==this.id&&(a=-h.vb.top*(b-1));"w"==this.id&&h.vb.repeat?$(this).attr("transform","translate(1, 0)").data("offsetX",1):$(this).attr("transform","translate(1,"+a.toString()+") scale(1,"+b.toString()+")").data("offsetX",1)});TD(this);UD(this)}};
f.ea=function(a){Z.prototype.ea.call(this,a);if(this.vb&&void 0!==this.height&&void 0!==a&&0!=$("svg",this.C()).length){var b;b=jC($("svg",this.C()));b.l()==this.Cc.l()?(a=this.Cc.l()*this.height/this.width,b=this.Cc.clone()):(a=b.l()*this.height/this.width,b=b.clone());b.ea(a);$("svg",this.C()).get(0).setAttribute("viewBox",b.F()+" "+b.w()+" "+b.l()+" "+b.o());b=this.vb.top+this.vb.bottom;var c=this.Cc.o()-b,d=a-b,e=d/c,g=-this.vb.top*(e-1),h=this;$("g#w, g#c, g#e",this.C()).each(function(){var a=
void 0===$(this).data("scaleX")?1:$(this).data("scaleX"),b=$(this).data("offsetX")||0;"c"==this.id&&(b=-h.vb.left*(a-1));h.vb.repeat?($(".repeat",this).attr("height",d),(a=$("#"+$(this).data("clipId")+" rect").get(0))&&a.setAttribute("height",d)):$(this).attr("transform","translate("+b.toString()+", "+g.toString()+") scale("+a.toString()+", "+e.toString()+")");$(this).data("deltaY",d-c).data("scaleY",e)});var k=d-c-1;$("g#sw, g#s, g#se",this.C()).each(function(){var a=$(this).data("offsetX")||0,b=
void 0===$(this).data("scaleX")?1:$(this).data("scaleX");"s"==this.id&&(a=-h.vb.left*(b-1));"s"==this.id&&h.vb.repeat?$(this).attr("transform","translate(0, "+k.toString()+")").data("offsetY",k):$(this).attr("transform","translate("+a.toString()+", "+k.toString()+") scale("+b.toString()+", 1)").data("offsetY",k)});$("g#nw, g#n, g#ne",this.C()).each(function(){var a=$(this).data("offsetX")||0,b=void 0===$(this).data("scaleX")?1:$(this).data("scaleX");"n"==this.id&&(a=-h.vb.left*(b-1));"n"==this.id&&
h.vb.repeat?$(this).attr("transform","translate(0, 1)").data("offsetY",1):$(this).attr("transform","translate("+a.toString()+", 1) scale("+b.toString()+", 1)").data("offsetY",1)});TD(this);UD(this)}};function hE(a){return a.Cc?a.l()/a.Cc.l():0}
function fE(a){var b={scale:hE(a),deltaX:0,deltaY:0};if(!a.vb)return b;var c,d=jC($("svg",a.C()));a.Cc.l()!=d.l()&&a.Cc.o()!=d.o()?c=a.width/d.l():a.Cc.o()==d.o()?c=a.height/a.Cc.o():(a.Cc.l(),d.l(),c=a.width/a.Cc.l());b.scale=c;b.deltaX=d.l()-a.Cc.l();b.deltaY=d.o()-a.Cc.o();return b}
function bp(a){a.Vb.each(function(){var b=$(this),c=b.data("fontSize"),d=void 0!==b.data("stackId"),e=fE(a),c=c*e.scale;b.css("font-size",c*O.Oi+"%");!d&&b.data("placeholderElement")&&b.data("rect")&&b.data("designObject")&&(d=b.data("placeholderElement"),c=b.data("rect").clone(),c=bE(d,c,!!a.vb,e),e=b.data("designObject"),a.stopListening(e,"change:width"),a.stopListening(e,"change:height"),e.sd(c),a.listenTo(e,"change:width",a.tX),a.listenTo(e,"change:height",a.sX),c.scale(W).round(),b.css(c.serialize()))})}
function ND(a){return a.Vb.filter(function(){return 0==$(this).data("placeholderElement").parents().filter(function(){return this.classList.contains("stack")}).length})}function MD(a){if(a.Vb&&0!=a.Vb.length){var b=ND(a),c=fE(a);b.each(function(){$(this).data("designObject").scale(c.scale)})}}function TD(a){a.C().find(".canva.tiled").each(function(){YD($(this))})}
function UD(a){a.Fx.forEach(function(b,c){var d=fE(a),e=a.C().find(".canva.stack").eq(c),e=bE(e,b.Wz(),!!a.vb,d),g=e.clone().scale(W).round();a.$Q.eq(c).css(g.serialize());a.stopListening(b,"change");b.sd(e,d.scale);b.ja();a.listenTo(b,"change",a.CX)})}f.remove=function(){this.Vb.each(function(){var a=$(this);a.hasClass("focused")&&0<a.parents("#overlays").length&&CB(a)});Z.prototype.remove.call(this);this.stopListening();this.Vb.remove();this.Fx.forEach(function(a){a.remove()})};
f.Ah=function(){Z.prototype.Ah.call(this);this.Pq()};f.MP=function(){var a=$(this.C()).data("toolbar");a&&a.remove()};
f.$a=function(){Z.prototype.$a.call(this);iE(this);var a=this.C(),b=a.data("selectionBox");b&&this.vb&&(this.vb.po&&b.addClass("verticalScale"),this.vb.mt&&b.addClass("horizontalScale"));if(a.is(".cropping"))this.nz();else{this.Pq();var c=this,b=$("#overlays");0!==b.length&&(b=b.find(".svg.text.focused"),b=b.filter(function(){return c==$(this).data("canvaElement")}),a=a.data("toolbar"))&&(0<b.length&&a.view.$el.filter(".toolbar--font").length&&jE(a),this.Xa.length&&(b=-1<this.Jc(),a.view.DZ("imageDelete",
"crop","filter"),a.view.Uf("imageDelete",b),a.view.Uf("crop",b),a.view.Uf("filter",b&&kE(this.Xa[this.Jc()]))),YC(a))}};f.Ob=function(){return null!==this.ba&&null!==this.ca?new Xm({id:this.ba,version:this.ca}):null};f.Kw=function(){var a=this.Ob();if(!a)return P.resolve();this.contents&&this.contents.splice.bind(this.contents,0,Infinity).apply(null,this.serialize().contents);var b=$('\x3cimg class\x3d"placeholder" /\x3e');this.C().empty().append(b);this.loaded=!1;return this.cm(a.id,a.version)};
f.Uz=function(){for(var a=[],b=0;b<this.ig();b++){var c=this.Sp(b);c&&a.push(c)}return a};f.Jv=function(){return!0};f.Zq=function(a){jD(kD,this.C().find("img.placeholder"),a)};f.cm=function(a,b){this.ba=a;this.ca=b;return lE(this)};
function lE(a){return new P(function(a,c){function d(a,b){var c=0>a.indexOf("?")?"?":"\x26",g;g=$.ajax({dataType:"text",url:a});g.done(function(a){k.JD(a,e)});g.fail(function(){b?T.trigger("elementLoadingError",k):d(a+c,!0)})}function e(a){if(a){var b=k;b.C().children("img.placeholder").remove();b.ab()}h(a)}function g(a){function b(a){var c=!!a;k.Zq(c&&a.src||"");k.C().find("img.placeholder").removeClass("placeholder");k.C().addClass("raster");h(c)}zD(kD,a).then(b).catch(b.bind(null,void 0))}function h(d){d?
window.setTimeout(function(){k.ab();k.PB();a()},0):c()}var k=this,l=Hb.Kc(this.ba,this.ca);if(l){var m=l[wD];xD(this.ba,this.ca,"print"==zC?yD:Lg).then(function(a){var b=a.oa();a.url.match(/^data:image\/svg\+xml;base64,/i)?(a=window.atob(b.substr(b.indexOf(",")+1)),k.JD(a,e)):a.url.match(/\.svg(\?|$)/)?(k.Zq("data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"),d(b)):(k.Zq(m.oa()),g(b))})}else c()}.bind(a))}f.EA=function(){return this.hb};
f.gC=function(a){this.hb=a;this.C().toggleClass("unapproved",!a);this.$a()};function mE(a){a=1/hE(a)/W;return"stroke-width: "+1*a+"px; "+("stroke-dasharray: "+3*a+" "+3*a+";")}function iE(a){var b=a.Fg();nE(a);0<b.length&&(b=b.get(0),b.getAttribute("xlink:href")!=O.Yo&&b.classList.add("active"),b.parentNode.querySelector(".outline").setAttribute("style",mE(a)))}
function nE(a){oE(a).each(function(){this.classList.contains("active")&&(this.classList.remove("active"),this.parentNode.querySelector(".outline").removeAttribute("style"))})}f.Xi=function(){nE(this)};f.st=function(a){this.gq()||(this.oJ=a,iE(this),(a=this.C().data("toolbar"))&&ZC(a,this))};f.rl=function(a){return(a=this.Xa[a])?a.serialize():null};f.Sp=function(a){return this.Xa[a]||null};
f.$q=function(a,b){function c(){d.trigger("placeholderImage:loaded",a)}var d=this,e=this.Xa[a];b.mediaId?qD(pE(qE(rE(e,b.mediaId,b.mediaVersion,c),b.origin?new Vm(b.origin):null),b.mediaApproved),vm(b.imageBox)).ex(b.flipOrientation):this.NB(a)};f.UY=function(){this.NB(this.Jc())};f.NB=function(a){a===this.Jc()&&(this.oJ=null,nE(this));var b=KD(this,a);qD(sE(this.Xa[a]),b);this.$c[a].remove()};function KD(a,b){a=a.rn(b);b=new V(0,0,O.yS,O.xS);a&&Em(b,a).translate(-a.F(),-a.w());return b}
function oE(a){return a.C().find("svg image.placeholder")}function tE(a){return oE(a).filter(function(){return $(this).attr("xlink:href")!=O.Yo}).first()}f.Fg=function(){return this.oJ||tE(this)};f.Jc=function(){return oE(this).index(this.Fg())};f.Yz=function(a){return oE(this).eq(a)};f.ig=function(){return this.ww.length};
f.nz=function(){hD.call(this);var a=this.C().data("cropControls");$(".viewPort",a).css("display","none");if(0==$("svg",a).length){var b=this.Fg().clone().get(0),c=this.hd().scale(1/hE(this)).round(),d=document.createElementNS("http://www.w3.org/2000/svg","svg"),e=document.createElementNS("http://www.w3.org/2000/svg","g"),c=[c.F(),c.w(),c.l(),c.o()].join(" ");d.appendChild(e);e.appendChild(b);d.setAttribute("viewBox",c);b=$(d).children("g").get(0);b.classList.add("cropLayer");b.classList.add("masked");
a.append(d)}d=this.hd();d.scale(W).round();a.find("svg").css("transform",$o({Ii:d.F(),Ji:d.w()})).css("width",d.l()).css("height",d.o())};f.tQ=function(a,b){oD.call(this,a,b);b=this.C().data("cropControls");a=this.Fg();b=$("g.cropLayer image",b);var c=this.hd(),d=this.fg();d.translate(c.F(),c.w()).scale(1/hE(this));a.attr("x",d.F()).attr("y",d.w());b.attr("x",d.F()).attr("y",d.w())};
f.bm=function(a){pD.call(this,a);var b=this.C().data("cropControls"),b=$("g.cropLayer image",b),c=this.hd();a=a.clone();a.translate(c.F(),c.w()).scale(1/hE(this));b.attr("x",a.F()).attr("y",a.w()).attr("width",a.l()).attr("height",a.o())};f.rn=function(a){var b=hE(this);a=this.ww[a].clone();a.scale(b);return a};
f.fg=function(){var a=this.Fg(),b=this.hd(),a=new V(parseFloat(a.attr("x")),parseFloat(a.attr("y")),parseFloat(a.attr("width")),parseFloat(a.attr("height")));a.scale(hE(this)).translate(-b.F(),-b.w());return a};f.Nr=function(){var a=this.C();a.removeClass("cropping");var b=this.Fg(),a=a.data("cropControls"),a=$("g.cropLayer image",a);b.attr("x",a.attr("x"));b.attr("y",a.attr("y"));b.attr("width",a.attr("width"));b.attr("height",a.attr("height"))};
f.serialize=function(){function a(a,b){a=a===LB?LB:a.ra();return{index:b,color:a}}var b=Z.prototype.serialize.call(this);b.type="svg";b.mediaId=this.ba;b.mediaVersion=this.ca;this.hb||(b.mediaApproved=!1);0!==hE(this)&&(b.scale=fE(this).scale);var c=this,d=[],e;this.loaded?(this.Xa.forEach(function(a,b){if(kE(a)||!a.hb)a=a.serialize(),(b=CD(c.$c[b]))&&(a.filter=b),d.push(a)}),this.Vb&&this.Vb.each(function(a){a=c.Tb(a);a.type="text";d.push(a)}),0<d.length&&(b.contents=d),e=this.bb().map(a),0<e.length&&
(b.fillColors=e)):(this.scale&&(b.scale=this.scale),this.contents&&(b.contents=this.contents.slice(0)),this.Xc&&(b.fillColors=this.Xc.map(function(b,c){return a(b.color,c)})));this.Ei&&(b.svgMetadata=this.Ei);return b};
function QD(a,b){function c(a,b){var c,e,g,h,k,z,t,x;a.find("g[id\x3dc]")[0]?(c=d("n"),e=d("s"),g=d("w"),h=d("e"),k=d("nw"),z=d("ne"),t=d("sw"),x=d("se")):a.find("g[id\x3dn]")[0]?(g=d("nw"),h=d("ne"),c=e=k=z=t=x={width:0,height:0}):a.find("g[id\x3dw]")[0]&&(c=d("nw"),e=d("sw"),g=h=k=z=t=x={width:0,height:0});a=Math.max(g.width,k.width,t.width);c=Math.max(c.height,z.height,k.height);return{x:b.x+a,y:b.y+c,width:b.width-a-Math.max(h.width,z.width,x.width),height:b.height-c-Math.max(e.height,x.height,
t.height)}}function d(a){return(a=b.find("g[id\x3d"+a+"]")[0])?a.getBBox():{x:0,y:0,width:0,height:0}}function e(a){return{left:a.x,top:a.y,width:a.width,height:a.height}}w(1===b.closest("#limbo").length,"svg must be in limbo element.");try{var g=a.vb,h={},k={x:a.Cc.F(),y:a.Cc.w(),width:a.Cc.l(),height:a.Cc.o()};h.viewBox=e(k);h.textHolderBoxes=b.find(".textPlaceholder").toArray().map(function(a){return e(a.getBBox())});h.photoHolderBoxes=b.find("image.placeholder").toArray().map(function(a){a=(a=
a.getAttribute("clip-path"))&&a.match(/url\(["']?(.*?)["']?\)/);Fa(!!a,"SVG image placeholder's clip-path attribute is missing or invalid.");var c=b.find(a[1]);Fa(1===c.length,"SVG image placeholder's clipPath element is missing or ambiguous.");a=SVGClipPathElement.prototype.getBBox?c[0].getBBox():null;if(null==a||0===a.width&&0===a.height&&null!=c[0].innerHTML)c=$("\x3csvg\x3e\x3cg\x3e\x3c/g\x3e\x3c/svg\x3e").children().html(c.html()).insertAfter(c),a=c[0].getBBox(),c.remove();return e(a)});g&&(h.centerBox=
e(c(b,k)),h.tile=!!g.repeat);return h}catch(l){return uE().log("Failed to serialize SVG metadata.",{error:l}),null}}f.Ge=function(){return this.Vb?this.Vb.filter(".focused"):$()};f.Ff=function(){return 0<this.Ge().length};f.yv=function(){return 0<this.Fg().length};f.gi=function(){function a(a,c){JA($(c)).Bf.forEach(b)}function b(a){(a=mh(a))&&Wo(c,a)}if(this.ue)return this.ue;var c=new To;this.Vb&&this.Vb.each(a);this.bb().forEach(function(a){a instanceof fn&&Wo(c,a)});return this.ue=c};f.MF=function(){return this.Vb.length};
f.cb=function(a){return this.Vb?this.Vb.eq(a):$()};f.Bb=function(){return this.Vb.index(this.Ge())};
f.Tb=function(a){function b(a,b,c){var d=Math.PI/2,e=Math.PI,g=Math.PI+Math.PI/2;if(0<=c&&c<d)return b*=Math.sin(c),{left:a.left+b,top:a.top};if(c>=d&&c<e)return b*=Math.sin(c-d),{left:a.right,top:a.top+b};if(c>=e&&c<g)return b*=Math.sin(c-e),{left:a.right-b,top:a.bottom};if(c>=g)return b*=Math.sin(c-g),{left:a.left,top:a.bottom-b};throw Error("Invalid radians value "+c);}function c(a,b,c){var d=a.left-b.left;a=a.top-b.top;var e=Math.sin(c);c=Math.cos(c);return{left:d*c-a*e+b.left,top:d*e+a*c+b.top}}
if(0>a||a>=this.Vb.length)throw Error("SvgElement.getTextAtIndex - invalid index: "+a.toString());var d=this.Vb.eq(a);a=this.$w(a);var e=d.data("designObject");e&&(a.preferredFontSize=e.ko);var g=d.children(".inner");a.width=g.prop("clientWidth");a.height=g.prop("clientHeight");e=function(a,d){var e=a[0].getBoundingClientRect(),m=g[0].getBoundingClientRect();if(0===d)return{left:(m.left-e.left)/W,top:(m.top-e.top)/W};d=Hn(0<=d?d:360+d);var n={left:e.left+e.width/2,top:e.top+e.height/2};a=Number(a.prop("clientHeight"));
e=b(e,a,d);e=c(e,n,-d);a=Number(g.prop("clientHeight"))*W;m=b(m,a,d);m=c(m,n,-d);return{left:(m.left-e.left)/W,top:(m.top-e.top)/W}}(this.C(),this.Ta()%360);a.left=e.left;a.top=e.top;d=Number(d.data("lineSpacing"));a.lineHeight=100*(isNaN(d)?O.dJ:d);return a};
f.uj=function(a,b,c,d){if(0<=a&&this.Vb&&a<this.Vb.length){var e=this.Vb.eq(a),g=e.children(".inner");g.html(b.html);var h=("true"==g.attr("contentEditable")).toString();g.attr("contentEditable","true");for(var k=window.getSelection(),l=[],m=0;m<k.rangeCount;m++)l.push(k.getRangeAt(m));m=g.get(0)||null;document.body.contains(m)&&k.selectAllChildren(m);this.yk(a,b.fontFamily,c,d);this.Xq(a,b.fontMedia&&Ym(b.fontMedia));this.setColor(a,mh(b.color));k.removeAllRanges();l.forEach(function(a){try{k.addRange(a)}catch(b){}});
this.ve(a,b.fontSize*fE(this).scale);this.yo(a,b.bold);this.Ao(a,b.italic);this.yi(a,b.justification);this.kx(a,b.list);this.br(a,b.textTransform);a=e.data("designObject");void 0!==b.preferredFontSize&&(a.ko=b.preferredFontSize);g.attr("contentEditable",h);m&&m.hasAttribute("_moz_abspos")&&m.setAttribute("_moz_abspos","transparent");UA(e)}};f.uL=function(){};f.BE=function(){};f.CA=function(){};
f.ve=function(a,b){var c=this.cb(a);if(void 0===b)c.removeData("fontSize").css("font-size","");else{var d=fE(this).scale,e=c.data("fontSize"),g=b/d;c.data("fontSize",b/d).css("font-size",b*O.Oi+"%");if(e!==g){d=g/e;if(.5>d||2<d)this.jt(a),this.Mw(a),UA(c);this.trigger("change:fontSize",this,c,b)}}};f.Lc=function(a){a=fB.call(this,a);var b=fE(this).scale;return a*b};f.eC=function(a){var b=this.Ge().data("designObject"),c=fE(this).scale;b.ko=a/c;eB.apply(this,arguments)};
f.bb=function(){var a=vE(this);return _.sortBy(a,function(a,c){return parseInt(c.match(/\d+/)[0],10)})};f.Md=function(){return this.bb().length};function vE(a){var b={};a.C().children("svg").find(".color").each(function(){for(var a,d=0;d<this.classList.length;d++){var e=this.classList.item(d);if(e.match(/^color-\d+$/)){a=e;break}}a&&(d=KB(this.getAttribute("fill")))&&(b[a]=d)});return b}f.Py=function(){var a=this.C().children("svg").get(0);return!!a&&a.classList.contains("baseColors")};
f.PB=function(){function a(a,b,c){return un(mh(a),b,c)}var b=this.zm,c=this.Dy;null!==this.zm&&this.Py()&&(this.C().children("svg").find(".primaryColor").each(function(){this.setAttribute("fill",a(this.getAttribute("data-color"),b.$s,c).ra())}),this.C().children("svg").find(".secondaryColor").each(function(){this.setAttribute("fill",a(this.getAttribute("data-color"),b.rt,c).ra())}),this.C().children("svg").find(".tertiaryColor").each(function(){this.setAttribute("fill",a(this.getAttribute("data-color"),
b.Ht,c).ra())}),this.Vb.each(function(d,e){var g=!!jQuery.data(e,"is-primary-color"),h=!!jQuery.data(e,"is-secondary-color"),k=!!jQuery.data(e,"is-tertiary-color");e=jQuery.data(e,"original-fill");g?this.setColor(d,a(e,b.$s,c)):h?this.setColor(d,a(e,b.rt,c)):k&&this.setColor(d,a(e,b.Ht,c))}.bind(this)))};
f.ge=function(a,b){var c=vE(this);a=_.sortBy(_.keys(c),function(a){return parseInt(a.match(/\d+/)[0],10)})[a];this.C().children("svg").find("."+a).each(function(){var a=this.getAttribute("data-color");this.setAttribute("fill",MB(b)||a)});this.Ce()};
function Kp(a,b){function c(){g.uj(0,a,d,!0);g.Eh=$.extend(!0,{},a.stylesOverriden);g.ht=!1}function d(a){n=!0;q=a;m&&e()}function e(){var c=p&&q;g.loaded=!0;h.removeClass("textElementLoading");if(c)g.ht=!0,g.ab(),g.Jd&&a.height?g.ea(a.height):g.ea(),SC(g),KC(g),g.rc(),T.trigger("elementLoaded",g),T.trigger("elementLoaded:text",g);else{var d=g;Z.prototype.ea.call(d,a.height);Z.prototype.ma.call(d,a.width);SA(d.C(),a.lineLengths||[]);d.Dz=!0;d.C().toggleClass("failed",d.Dz);d.ht=!0;T.trigger("elementLoadingError",
g)}b&&b(g,c)}Z.call(this,a);var g=this,h=this.C(),k=nc(this.i);h.addClass("text").addClass("textElementLoading").data("placeholderText",a.placeholderText||k.Ng()).append('\x3cdiv class\x3d"inner"\x3e'+k.Ng()+"\x3c/div\x3e");this.style=a.style;this.padding=a.padding;this.border=a.border;this.wG=!0;!1===a.lockedWidth&&(this.wG=!1);k=[];a.fontMedia&&k.push(Ym(a.fontMedia));a.htmlFontMedia&&(k=k.concat(a.htmlFontMedia.map(Ym)));a.verticalAlignment&&(this.ke=a.verticalAlignment);var l=WA(a.html);a.fontFamily&&
l.push(a.fontFamily);var m=!1,n=!1,p=!1,q=!1;this.Eh={};0<k.length?wE(Kb,k,c):c();this.Jd=this.loaded=!1;this.S7=a;SD(Kb,k,l,function(a){m=!0;p=a;n&&e()});this.FN=!1}Kp.prototype=Object.create(Z.prototype);f=Kp.prototype;f.constructor=Kp;f.fp=yB;f.xE=EB;f.Lc=fB;f.kv=gB;f.CF=wB;f.ks=vB;f.ns=uB;f.pl=qB;f.BF=nB;f.Mw=tB;f.jt=xB;f.UH=DB;f.$w=GB;f.yo=jB;f.setColor=iB;f.YH=sB;f.Xq=ZA;f.fC=$A;f.yk=aB;f.ve=dB;f.eC=eB;f.Ao=kB;f.yi=hB;f.hx=zB;f.$H=AB;f.ix=rB;f.jx=pB;f.kx=lB;f.br=oB;f.Mx=BB;f.Iv=function(){return!this.loaded};
f.MF=function(){return 1};f.lp=function(){return this.loaded&&!this.Cy&&!this.Dz};f.bu=function(){return!0};f.OD=function(){return this.loaded&&!this.Dz};f.$Z=function(){return!0};f.iR=function(){return!0};f.DA=function(){return this.wG};f.ek=function(){this.wG=!0};f.yR=function(){this.wG=!1};
function xE(a){if(!a.tr){var b=a.cb(0),c=window.getSelection(),d=c.focusNode,c=c.toString();if(d&&d.parentNode&&d.parentNode.classList.contains("char"))(b=d&&d.parentNode&&d.parentNode.nextSibling)&&b.classList.contains("fauxCaret")&&(b=b.nextSibling),b&&b.classList.contains("char")&&(c=d.textContent+b.textContent);else if(1===c.length&&8203===c.charCodeAt(0)&&(c=""),0===c.length){d=xA(b);a:{c=window.getSelection();if(0<c.rangeCount&&(c=c.getRangeAt(0).cloneRange(),c.collapse(!0),b=b.get(0))){c.setEnd(b,
1);b=c.toString().slice(0,1);8203===b.charCodeAt(0)&&(b=c.toString().slice(1,2));break a}b=""}c=d+b}else 1===c.length&&(c=xA(b)+c);2===c.length&&(a.tr=c)}a.tr&&(a.tr=a.tr.replace(/\s/gi,""),2!==a.tr.length&&(a.tr=void 0));return a.tr}function yE(a){var b=xE(a);return b?a.CF(0,b):0}f.uZ=function(a){var b=xE(this);b&&(this.hx(0,a,b),this.fp(0))};f.YV=function(){var a=xE(this);if(a){var b=yE(this);this.hx(0,Math.min(b+10,200),a);this.fp(0)}};
f.jU=function(){var a=xE(this);if(a){var b=yE(this);this.hx(0,Math.max(b-10,-200),a);this.fp(0)}};f.yk=function(a,b,c,d){this.Eh.fontFamily=!0;aB.call(this,a,b,c,d)};f.ve=function(a,b,c){this.Eh.fontSize=!0;dB.call(this,a,b,c)};f.yo=function(a,b){this.Eh.bold=!0;jB.call(this,a,b)};f.Ao=function(a,b){this.Eh.italic=!0;kB.call(this,a,b)};f.yi=function(a,b){this.Eh.justification=!0;hB.call(this,a,b)};f.setColor=function(a,b){this.Eh.color=!0;iB.call(this,a,b);this.Ce()};
f.ma=function(a){var b=void 0!==a&&a!==this.width;Z.prototype.ma.call(this,a);a=this.l();sC(this).css("width",Math.round(a));b&&!this.FN&&UA(this.C())};f.ea=function(a){this.Jd?a&&Z.prototype.ea.call(this,a):(a=sC(this).prop("scrollHeight")||0,Z.prototype.ea.call(this,a))};f.setSize=function(a,b,c){this.FN=!!c;this.ma(a);this.ea(b);this.FN=!1};
f.rc=function(){var a=sC(this),b=W,c=.5*(O.Vt-this.pl(0))/100*b;a.css("transform","translateY("+c+"em) scale("+b+")").css("transform-origin","top left").css("width",this.l());Z.prototype.rc.apply(this,arguments)};f.Ge=function(){return this.Qa};f.Ff=function(){return 0<this.Qa.length};f.gi=function(){if(this.ue)return this.ue;var a=new To;JA(this.Qa).Bf.forEach(function(b){(b=mh(b))&&Wo(a,b)});return this.ue=a};f.cb=function(a){return 0!==a?$():this.Qa};f.Bb=function(){return 0};
f.Tb=function(a){a=this.$w(a);a.height=this.o();a.width=this.l();this.Jd&&(a.fontSizeAuto=this.Jd);return a};f.vs=function(){return[mh(this.Tb(0).color)]};function AE(a){return JA(a.C()).Bf.filter(function(a,c,d){return d.indexOf(a)===c})}
f.uj=function(a,b,c,d){var e=this,g=this.C(),h=Array.isArray(b.htmlFontMedia)?b.htmlFontMedia.map(Ym):[],k=this.xE(b.kerning),l=b.lineLengths,m=b.fontFamily;this.Jd=!1;sC(this).html(b.html);this.fC(a,h);this.Xq(a,b.fontMedia&&Ym(b.fontMedia));this.ve(a,b.fontSize);this.yo(a,b.bold);this.Ao(a,b.italic);this.yi(a,b.justification);this.ix(a,b.letterSpacing);this.jx(a,b.lineHeight);this.kx(a,b.list);this.br(a,b.textTransform);this.setColor(a,mh(b.color));l&&g.data("cachedLineLengths",l);this.Eh=$.extend(!0,
{},b.stylesOverriden);this.Ce();this.yk(a,m,function(b){b&&(k&&e.fp(a),l&&(0<l.length||!(0!==l.length||Kb&&PA(m)))&&SA(g,l));c&&c(b)},d);k&&this.$H(a,k);b.fontSizeAuto&&BE(this)};f.uL=function(){BE(this)};f.BE=function(){this.Jd=!1};f.CA=function(){return this.Jd};f.se=function(){return!0};f.JM=function(){return!0};function CE(a,b){a.border=b?{width:b}:{width:0};a.ab()}f.ei=function(){return this.border&&this.border.width||0};f.MM=function(){return!0};f.hC=function(a){this.padding=a?a:0;this.ab()};
f.rs=function(){return this.padding};f.ab=function(){Z.prototype.ab.call(this);var a=this.C(),b="#000000",c=JA(a).Bf;0<c.length&&(b=c[c.length-1]);this.ei()?a.css("border",this.ei()/1E3*W+"em solid "+b):a.css("border","none");a.css("padding",this.padding*W+"px")};f.lv=function(){var a=O.eJ;Jb.G.get(ng)&&(a=a.slice(0),a.push(DE));return a};f.remove=function(){var a=this.C();0<a.parents("#overlays").length&&CB(a);Z.prototype.remove.call(this)};
f.$a=function(){Z.prototype.$a.call(this);var a=this.C(),b=a.data("toolbar"),a=a.data("selectionBox");b&&(a&&(this.Jd?(a.addClass("autoSize"),a.removeClass("horizontalScale")):(a.addClass("horizontalScale"),a.removeClass("autoSize"))),jE(b),YC(b))};f.Ah=function(){Z.prototype.Ah.call(this);var a=this.C(),b=a.data("toolbar");b&&b.remove();a.removeData("toolbar")};function BE(a){a.Jd=!0;a.ek();a.$a()}
f.serialize=function(){var a=Z.prototype.serialize.call(this);if(!this.loaded){var b=this.S7;Object.keys(a).forEach(function(c){b[c]=a[c]});return b}var c=this.Tb(0);a.type="text";a.style=this.style;a.border=this.border;a.padding=this.padding;a.stylesOverriden=$.extend(!0,{},this.Eh);for(var d in c)a[d]=c[d];this.ke&&(a.verticalAlignment=this.ke);delete a.fontSizeAuto;return a};
function CC(a){function b(){var a={type:"columns",children:[{type:"item"},{type:"item"}]};return[a,a]}void 0===a&&(a={});a.width=a.width||O.oS;a.height=a.height||O.oS;Z.call(this,a);var c=parseInt(a.spacing,10);this.spacing=isNaN(c)||!isFinite(c)||0>c?O.iD:c;this.items=a.items||b();this.Jm=!0;c=this.C();c.addClass("grid").css("width",this.width*W).css("height",this.height*W);EE(this,FE(this.items));a=a.contents||[];this.Xa=wC(a,this.ig(),c);Object.freeze(this.Xa);this.$c=uC(a,this.Xa);Object.freeze(this.$c);
this.load().bind(this).then(function(){T.trigger("elementLoaded",this);T.trigger("elementLoaded:grid",this)})}CC.prototype=Object.create(Z.prototype);f=CC.prototype;f.constructor=CC;f.gq=fD;f.fg=function(){return-1===this.Jc()?null:this.Xa[this.Jc()].ln()};f.nz=hD;f.tQ=oD;f.bm=pD;f.Pq=rD;f.Nr=sD;f.hd=tD;f.NM=uD;f.xF=gD;f.hq=function(){return!0};f.Yq=function(a){Z.prototype.Yq.call(this,a);this.C().toggleClass("fullPageGrid",this.Hg())};
f.setSize=function(a,b,c){Z.prototype.setSize.call(this,a,b,c);this.C().toggleClass("fullPageGrid",this.Hg())};f.rc=function(){Z.prototype.rc.call(this);this.C().toggleClass("fullPageGrid",this.Hg())};f.Kw=function(){this.Xa.forEach(function(a){a.VF=!1});return this.load()};f.load=function(){return new P(function(a){tC(this,a)}.bind(this))};f.gi=function(){if(this.ue)return this.ue;var a=new To;this.Xa.forEach(function(b){(b=b.lh())&&Wo(a,b)});return this.ue=a};f.bb=function(){return this.Xa.map(function(a){return a.lh()})};
f.Md=function(){return this.bb().length};f.ge=function(a,b){var c=this.Xa[a]||this.Xa[this.Xa.length-1];this.$q(a,null);c.ax(b);this.$a();this.Ce()};
function FE(a){function b(a){var d=a.type||"rows";a=a.children||a;for(var e=$(),g=0,h=0;h<a.length;h++){var k=a[h],l=$('\x3cdiv class\x3d"'+k.type+'"\x3e\x3c/div\x3e');"item"==k.type&&$('\x3cdiv class\x3d"content"\x3e\x3cdiv class\x3d"placeholder" /\x3e\x3c/div\x3e').appendTo(l);if("rows"==d){var m=1/(a.length-h)*(100-g),m=k.height||m,n=g,m=~~(10*m)/10;l.css("top",n+"%").css("height",m+"%").attr("data-top",n/100).attr("data-height",m/100)}else m=1/(a.length-h)*(100-g),m=k.width||m,n=g,m=~~(10*m)/
10,l.css("left",n+"%").css("width",m+"%").attr("data-left",n/100).attr("data-width",m/100);g+=m;void 0!==k.children&&l.append(b(k));e=e.add(l)}return e}return b([{type:"rows",children:a}])}f.Zp=function(){return this.$c&&0<this.$c.length};f.Ld=function(){var a=this.Jc();return-1!=a&&kE(this.Xa[a])?-1<a?this.$c[a]:null:null};f.Qz=function(){var a=this.Jc();return-1!==a&&kE(this.Xa[a])?a:-1};f.Mp=function(a){return this.$c[a]};f.lq=function(){return this.Ld()&&this.Ld().Ds()};f.qM=function(){return!1};
f.lh=function(){return 1===this.Md()?mh(this.bb()[0]):null};f.mq=function(){return null!==this.lh()};f.oc=function(){var a=1===this.Xa.length&&null===this.Xa[0].Ob();return this.mq()||a};f.Hg=function(){return!(!this.page||!Fm(this.qa(),this.page.qa()))};f.vr=function(){return!0};f.yv=function(){return 0<this.Fg().length};f.js=function(){var a=this.VE.slice();0<this.ig()&&a.push("deletePlaceholder");return a};f.Kp=function(){this.Ld()&&this.Ld().Kp()};f.Jp=function(){this.Ld()&&this.Ld().Jp()};
f.FH=function(){if(this.Ld()&&this.Ld().Ds()){var a=this.C().data("toolbar");a&&a.view.Su("filter")}};f.AH=function(a,b){AD(this.$c[a],b)};f.UY=function(){this.NB(this.Jc());this.C().find(".active").removeClass("active")};function Um(a,b,c,d){if(d)return new V(0,0,a,b);c*=O.vS;return new V(-c,-c,a+2*c,b+2*c)}function EE(a,b){var c=a.C();c.empty();$('\x3cdiv class\x3d"inner"\x3e\x3c/div\x3e').append(b).appendTo(c);GE(a)}f.ab=function(){Z.prototype.ab.call(this);GE(this);HE(this)};
function GE(a){var b=Math.round(Math.round(a.spacing/2)*W);a=sC(a);a.css("left",b).css("right",b).css("top",b).css("bottom",b);$(".item \x3e .content",a).css("left",b).css("right",b).css("top",b).css("bottom",b)}function HE(a){a.Xa.forEach(function(a){a.update()})}
f.$a=function(){function a(){if(IE(vb,c.R())){var a=c.Xa[c.Jc()];if(a)if(kE(a)){e.view.Su("crop","filter","flip","imageDelete");e.view.DZ("crop","filter","flip");var d;d=a.Qa.find("img.placeholder");a=a.Qa.find("canvas");d=1==d.length&&d.attr("src")?""+d.attr("src"):1==a.length?a.get(0).toDataURL():O.Yo;b(d)}else e.view.JK("crop","filter","flip","imageDelete"),e.view.YF("crop","filter","flip"),b(O.Yo),(d=c.bb()[c.Jc()])&&e.view.setColor([d.ra()],g);else b(O.Yo),e.view.JK("crop","filter","flip","imageDelete"),
e.view.YF("crop","filter","flip")}}function b(a){e.view.setColor(["url("+a+")"],g)}Z.prototype.$a.call(this);var c=this,d=this.C(),e=d.data("toolbar"),g=xe();d.is(".cropping")?this.nz():(this.Pq(),e&&a())};f.Ah=function(){Z.prototype.Ah.call(this);this.Pq()};f.ar=function(a){this.spacing=a;this.ab()};f.remove=function(){Z.prototype.remove.call(this);this.$c.forEach(function(a){a.remove()})};f.pe=function(){return this.spacing};f.jA=function(){return!0};
f.serialize=function(){var a=Z.prototype.serialize.call(this);a.type="grid";a.items=this.items;a.spacing=this.spacing;var b=this,c=[];this.Xa.forEach(function(a,e){a.isEmpty()||(a=a.serialize(),a.filter=CD(b.$c[e]),c.push(a))});a.contents=c;return a};f.st=function(a){if(!this.gq()){T.trigger("hideContextualControlsRequested");var b=$(".item .placeholder.active, div.content.active",this.C());0<b.length&&b.removeClass("active");a.parent("div.content").andSelf().addClass("active");this.$a()}};
f.Fg=function(){var a=this.C().find(".item .placeholder"),b=a.filter(".active");if(0!==b.length)return b.first();b=a.filter("[src]");return 0!==b.length?b.first():a.first()};f.Jc=function(){var a=this.C().find(".item .content.active");0===a.length&&(a=this.C().find(".item.filled .content"));return this.C().find(".item .content").index(a)};f.Yz=function(a){return this.C().find(".item .placeholder").eq(a)};f.ig=function(){return this.C().find(".item .placeholder").length};
f.rn=function(a){a=this.Yz(a).parent("div.content");var b=new V(0,0,this.width,this.height);a=a.parentsUntil(".inner");b.translate(this.spacing,this.spacing);Cm(b,-this.spacing,-this.spacing);a.toArray().reverse().forEach(function(a){a=$(a);var d=parseFloat(a.data("left"))||0,e=parseFloat(a.data("top"))||0,g=parseFloat(a.data("width"))||1;a=parseFloat(a.data("height"))||1;b.translate(d*b.l(),e*b.o()).ma(b.l()*g).ea(b.o()*a)});b.ma(b.l()-this.spacing).ea(b.o()-this.spacing);return b};
f.rl=function(a){return(a=this.Xa[a])?a.serialize():null};f.Sp=function(a){return this.Xa[a]||null};f.$q=function(a,b){function c(){d.trigger("placeholderImage:loaded",a)}var d=this,e=this.Xa[a];e&&(b&&b.mediaId?qD(pE(qE(rE(JE(e),b.mediaId,b.mediaVersion,c),b.origin?new Vm(b.origin):null),b.mediaApproved),vm(b.imageBox)).ex(b.flipOrientation):b&&b.backgroundColor?e.ax(mh(b.backgroundColor)):(e.clear(),this.$c[a].remove(),KE(this.$c[a],new LE)))};f.NB=function(a){this.$q(a,null)};f.kA=function(){return!0};
f.aA=function(){return{imageBoxes:this.Xa.map(function(a){return a.isEmpty()?null:a.ln().serialize()})}};f.vZ=function(a){a=a.imageBoxes;for(var b=0;b<this.Xa.length;b++){var c=this.Xa[b],d=a[b];d&&!c.isEmpty()&&qD(c,vm(d))}};f.Uz=function(){for(var a=[],b=0;b<this.ig();b++){var c=this.Sp(b);c&&a.push(c)}return a};f.Jv=function(){return!0};function ME(a){this.a=a}function NE(){var a=document.createElement("a");return new ME(a)}function OE(a,b){a=a.a;a.href=b;return"data:"==a.protocol||"blob:"==a.protocol||":"==a.protocol||""==a.hostname?!1:a.protocol!=window.location.protocol||a.hostname!=window.location.hostname||a.port!=window.location.port}
function jD(a,b,c){var d=b instanceof jQuery?b:$(b);return new P(function(e,g){function h(){d.attr(p)===c&&(d.one("error",k),d.attr(p,c+n))}function k(){m();g(Error("Could not load image from src: "+c))}function l(){m();e(b)}function m(){d.off("error",h);d.off("error",k);d.off("load",l)}var n=0>c.indexOf("?")?"?":"\x26",p=null;d&&d.length&&(p="image"===d.get(0).tagName?"xlink:href":"src",d.one("load",l),OE(a,c)?(d.attr("crossorigin","anonymous"),d.one("error",h)):(d.removeAttr("crossorigin"),d.one("error",
k)),d.attr(p,c))})}function zD(a,b){return jD(a,new Image,b)}var kD=NE();function PE(a){this.N=a;this.path="/licenses"}
PE.prototype.lF=function(a){var b=a.status,c=a.D,d=a.document,e=a.Bc,g=a.media,h=a.P_,k=a.Y,l=a.limit;a=[].concat(ma(a.types.map(function(a){return"type\x3d"+encodeURIComponent(a)})),ma(b.map(function(a){return"status\x3d"+encodeURIComponent(a)})),[c&&"brand\x3d"+encodeURIComponent(c),d&&"document\x3d"+encodeURIComponent(d)],ma(e.map(function(a){return"license\x3d"+encodeURIComponent(a)})),ma(g.map(function(a){return"media\x3d"+encodeURIComponent(a)})),[h&&"validAt\x3d"+encodeURIComponent(String(h)),
k&&"continuation\x3d"+encodeURIComponent(k),l&&"limit\x3d"+encodeURIComponent(String(l))]);return sj(this.N,this.path+"?"+a.filter(function(a){return!!a}).join("\x26")).get(0).then(La).then(QE)};function $h(a,b){switch(b){case "ONE_USE":return"ONE_USE";case "ROYALTY_FREE":return"ROYALTY_FREE";case "EXTENDED":return"EXTENDED";default:throw new TypeError('expected LicenseType for property "'+a+'", found: '+JSON.stringify(b));}}function zi(a,b){switch(b){case "ONE_USE":return"ONE_USE";case "ROYALTY_FREE":return"ROYALTY_FREE";case "EXTENDED":return"EXTENDED";default:throw new TypeError('expected LicenseType for property "'+a+'", found: '+JSON.stringify(b));}}
function RE(a,b){switch(b){case "ACTIVATED":return"ACTIVATED";case "REVOKED":return"REVOKED";default:throw new TypeError('expected LicenseStatus for property "'+a+'", found: '+JSON.stringify(b));}}function SE(a,b){switch(b){case "UNLIMITED_IMAGES":return"UNLIMITED_IMAGES";default:throw new TypeError('expected Prerequisite for property "'+a+'", found: '+JSON.stringify(b));}}
function TE(a){this.types=a.types||[];this.status=a.status||[];this.D=a.D;this.user=a.user;this.document=a.document;this.Bc=a.Bc||[];this.media=a.media||[];this.P_=a.P_;this.G8=a.G8||[];this.Y=a.Y;this.limit=a.limit}f=TE.prototype;f.ph=function(){return this.status};f.ka=function(){return this.D};f.La=function(){return this.user};f.getDocument=function(){return this.document};f.Nb=function(){return this.media};f.Mb=function(){return this.Y};f.$d=function(){return this.limit};
function UE(a){this.id=a.id;this.media=a.media;this.ca=a.ca;this.D=a.D;this.user=a.user;this.eU=a.eU;this.hW=a.hW;this.document=a.document;this.dU=a.dU;this.YN=a.YN;this.yz=a.yz;this.pY=a.pY;this.type=a.type;this.status=a.status;this.ZW=a.ZW}f=UE.prototype;f.u=function(){return this.id};f.Nb=function(){return this.media};f.qs=function(){return this.ca};f.ka=function(){return this.D};f.La=function(){return this.user};f.getDocument=function(){return this.document};f.lc=function(){return this.type};
f.ph=function(){return this.status};function VE(a){return new UE({id:C("id",a),media:C("media",a),ca:A("mediaVersion",a),D:C("brand",a),user:D("user",a),eU:C("creatingBrand",a),hW:C("invoiceItem",a),document:D("document",a),dU:A("createdDate",a),YN:A("modifiedDate",a),yz:B("expiryDate",a),pY:Qa(SE,"prerequisite",a),type:Pa(zi,"type",a),status:Pa(RE,"status",a),ZW:C("mediaBrand",a)})}function WE(a){this.Bc=a.Bc||[];this.Wl=a.Wl;this.Y=a.Y}WE.prototype.Mb=function(){return this.Y};
function QE(a){return new WE({Bc:G(VE,"licenses",a),Wl:A("responseTimestamp",a),Y:D("continuation",a)})};function XE(a){this.N=a}
function YE(a,b,c){b="/media?"+("brand"in b?"\x26brand\x3d"+encodeURIComponent(b.brand):"")+("user"in b?"\x26user\x3d"+encodeURIComponent(b.user):"")+("filename"in b?"\x26filename\x3d"+encodeURIComponent(b.filename):"")+("ids"in b?"\x26ids\x3d"+encodeURIComponent(b.ids):"")+("restricted"in b?"\x26restricted\x3d"+encodeURIComponent(b.restricted):"")+("deactivated"in b?"\x26deactivated\x3d"+encodeURIComponent(b.deactivated):"")+("staging"in b?"\x26staging\x3d"+encodeURIComponent(b.staging):"")+"\x26projection\x3d"+
encodeURIComponent(b.projections.join(""))+("continuation"in b&&null!=b.continuation?"\x26continuation\x3d"+encodeURIComponent(b.continuation):"")+("types"in b?"\x26types\x3d"+encodeURIComponent(b.types):"")+("limit"in b?"\x26limit\x3d"+encodeURIComponent(b.limit):"");return a.N.get(b,function(a,b){var g=null;200==a&&(g={media:ZE(b.media),continuation:b.continuation});c&&c(a,g)})}
function $E(a,b){return new P(function(a,d){YE(this,b,function(b,g){g?a({Y:g.continuation,media:g.media}):d(b)})}.bind(a))}function aF(a,b){return qj(a.N,"/media?"+("name"in b?"\x26file\x3d"+encodeURIComponent(b.name):"")+("restricted"in b?"\x26restricted\x3d"+encodeURIComponent(b.restricted):"")+("listed"in b?"\x26listed\x3d"+encodeURIComponent(b.listed):"")+("fileSize"in b?"\x26fileSize\x3d"+encodeURIComponent(b.fileSize):""),{}).spread(Dj)}
XE.prototype.Nb=function(a,b,c){var d=Object.keys(b).filter(function(a){return"version"!=a}).map(function(a){if("object"!==typeof b[a])return a+"\x3d"+encodeURIComponent(b[a])});a="/media/"+encodeURIComponent(a)+("version"in b?"/"+encodeURIComponent(b.version):"")+(0<d.length?"?"+d.join("\x26"):"");return this.N.get(a,function(a,b){b=200==a?Dj(b):null;c&&c(a,b)})};function bF(a,b,c){return new P(function(a,e){this.Nb(b,c,function(b,c){Ek(b)?a(c):e(b)})}.bind(a))}
function cF(a,b,c){function d(a){return a.id+":"+a.version}b="/media?batch"+("refs"in b?"\x26refs\x3d"+encodeURIComponent(b.refs.map(d).join(",")):"")+("ids"in b?"\x26ids\x3d"+encodeURIComponent(b.ids.join(",")):"")+("staging"in b?"\x26staging\x3d"+encodeURIComponent(b.staging):"")+("unwatermarked"in b?"\x26unwatermarked\x3d"+encodeURIComponent(b.unwatermarked):"")+"\x26projection\x3d"+encodeURIComponent(b.projections.join(""));a.N.get(b,function(a,b){var d=null;200==a&&(d={media:ZE(b.media)});c&&
c(a,d)})}function dF(a,b){return new P(function(a,d){cF(this,b,function(b,g){Ek(b)?a(g):d(b)})}.bind(a))}function eF(a,b,c){var d="/media/"+encodeURIComponent(b.u())+"/"+b.getVersion();a.N.post(d,b,function(a,b){b=200==a?Dj(b):null;c&&c(a,b)})}function fF(a,b,c,d){b=(new gF).Uo(b).Ik(c).Rt(!0);eF(a,b,d)}function hF(a,b,c){return new P(function(a,e){fF(this,b,c,function(b,c){Ek(b)?a(c):e(b)})}.bind(a))}
XE.prototype.S_=P.method(function(a,b){function c(a){return 404===a}function d(){return bF(h,a,b).catch(c,function(){return null})}function e(){return d().then(function(a){g++;var b;if(b=a)b=a.Ja().ph(),b="PENDING_SUBMISSION"!=b&&"PENDING_REVIEW"!=b;return b?a.Ja().ph()===iF?a:Promise.reject(a):P.delay(Math.round(3E3*Math.pow(1.6,g))).then(e).cancellable()})}var g=0,h=this;return e().timeout(36E5)});var wD="THUMBNAIL",Lg="SCREEN",yD="PRINT";function Qt(a,b){switch(b){case "THUMBNAIL":return wD;case "THUMBNAIL_LARGE":return"THUMBNAIL_LARGE";case "SCREEN":return Lg;case "PRINT":return yD;case "ORIGINAL":return"ORIGINAL";default:throw new TypeError('expected MediaQuality for property "'+a+'", found: '+JSON.stringify(b));}}var Eg="RASTER",Gg="VECTOR";
function qh(a,b){switch(b){case "RASTER":return Eg;case "VECTOR":return Gg;case "DESIGN":return"DESIGN";case "FONT":return"FONT";case "ELEMENT_GROUP":return"ELEMENT_GROUP";default:throw new TypeError('expected MediaType for property "'+a+'", found: '+JSON.stringify(b));}}
function jF(a,b){switch(b){case "RECOLORABLE":return"RECOLORABLE";case "BACKGROUND_R":return"BACKGROUND_R";case "BACKGROUND_G":return"BACKGROUND_G";case "BACKGROUND_B":return"BACKGROUND_B";case "BACKGROUND_A":return"BACKGROUND_A";default:throw new TypeError('expected SpritesheetLayerType for property "'+a+'", found: '+JSON.stringify(b));}}
function kF(a,b){switch(b){case "RECOLORABLE":return"RECOLORABLE";case "BACKGROUND_R":return"BACKGROUND_R";case "BACKGROUND_G":return"BACKGROUND_G";case "BACKGROUND_B":return"BACKGROUND_B";case "BACKGROUND_A":return"BACKGROUND_A";default:throw new TypeError('expected SpritesheetLayerType for property "'+a+'", found: '+JSON.stringify(b));}}
function Xi(a,b){switch(b){case "NOT_APPLICABLE":return"NOT_APPLICABLE";case "FREE":return"FREE";case "STANDARD":return"STANDARD";case "NONE":return"NONE";default:throw new TypeError('expected Licensing for property "'+a+'", found: '+JSON.stringify(b));}}
function Di(a,b){switch(b){case "NOT_APPLICABLE":return"NOT_APPLICABLE";case "FREE":return"FREE";case "STANDARD":return"STANDARD";case "NONE":return"NONE";default:throw new TypeError('expected Licensing for property "'+a+'", found: '+JSON.stringify(b));}}function lF(a,b){switch(b){case "MERGE":return"MERGE";case "REPLACE":return"REPLACE";default:throw new TypeError('expected ListUpdatePolicy for property "'+a+'", found: '+JSON.stringify(b));}}function Xm(a){this.id=a.id;this.version=a.version}
Xm.prototype.u=function(){return this.id};Xm.prototype.getVersion=function(){return this.version};function Vv(a){return{id:ib("id",a.id),version:db("version",a.version)}}function Ym(a){return new Xm({id:C("id",a),version:A("version",a)})}function mF(a){this.jm=a.jm;this.er=a.er;this.vF=a.vF;this.oG=a.oG||[]}function Mg(a){return{spritesWide:db("spritesWide",a.jm),spritesHigh:db("spritesHigh",a.er),fullyRecolorable:gb("fullyRecolorable",a.vF),layers:kb(nF,"layers",a.oG)}}
function Wr(a){return new mF({jm:A("spritesWide",a),er:A("spritesHigh",a),vF:Ma("fullyRecolorable",a),oG:G(oF,"layers",a)})}function pF(a){this.type=a.type;this.IA=a.IA;this.color=a.color}pF.prototype.lc=function(){return this.type};pF.prototype.sM=function(){return this.IA};pF.prototype.Lb=function(){return this.color};function nF(a){return{type:lb(jF,"type",a.type),layerIndex:eb("layerIndex",a.IA),color:I("color",a.color)}}
function oF(a){return new pF({type:Pa(kF,"type",a),IA:B("layerIndex",a),color:D("color",a)})}function qF(a){this.title=a.title;this.description=a.description;this.yd=a.yd||[];this.qI=a.qI||[]}qF.prototype.qb=function(){return this.title};qF.prototype.He=function(){return this.description};qF.prototype.Sj=function(){return this.yd};qF.prototype.KF=function(){return this.qI};
function rF(a){return{title:I("title",a.title),description:I("description",a.description),keywords:kb(sF,"keywords",a.yd),superKeywords:kb(sF,"superKeywords",a.qI)}}function sF(a){return{locale:ib("locale",a.locale),text:ib("text",a.text)}}function tF(a){this.data=a.data;this.tW=a.tW;this.ZZ=a.ZZ}tF.prototype.getData=function(){return this.data};var iF="APPROVED",uF={Aaa:"F",Gaa:"K",Qaa:"S",Uaa:"T",vaa:"D"},IB="DOCUMENT",Kg="FACEBOOK",HB="LAYOUT";function vF(a){a=void 0===a?{}:a;this.url=a.url||"";this.width=a.width||0;this.height=a.height||0;this.watermarked=a.$x||!1;this.page=a.page||0;this.quality=a.si||null}f=vF.prototype;f.oa=function(){return this.url};f.o=function(){return this.height};f.l=function(){return this.width};f.R=function(){return this.page};f.JF=function(){return this.quality};
function Rq(a){return a?$.extend(new vF,a):null}function wF(a,b){this.locale=a;this.text=b}wF.prototype.Df=function(){return this.locale};wF.prototype.ul=function(){return this.text};function xF(a){return a?$.extend(new wF(a.locale,a.text),a):null}
function yF(a){a=void 0===a?{}:a;this.version=a.version||0;this.restrictedAccess=a.wca||!1;this.listed=a.aca||!1;this.status=a.status||"PENDING_SUBMISSION";this.rejectionReason=a.rca;this.importState=a.Sba||"PENDING_IMPORT";this.importMessage=a.Rba;this.designVersion=a.xba;this.designType=a.dj;this.artist=a.kba||"";this.title=a.title||"";this.titles=a.Sca;this.description=a.description||"";this.descriptions=a.ez;this.locale=a.locale||null;this.background=a.background||!1;this.cutout=a.az||!1;this.isolated=
a.Wba||!1;this.photoholder=a.ica||!1;this.textholder=a.Qca||!1;this.repeating=a.uca||!1;this.recolorable=a.EH||!1;this.superKeywords=a.qI||[];this.keywords=a.yd||[];this.files=a.files||{};this.quality=a.si;this.ageRating=a.jba||null;this.spritesheetMetadata=a.Sg;this.licensing=a.MA;this.submittedBy=a.Jca;this.submittedDate=a.Kca;this.reviewedBy=a.yca;this.reviewedDate=a.zca}f=yF.prototype;f.getVersion=function(){return this.version};f.ph=function(){return this.status};f.nV=function(){return this.artist};
f.qb=function(){return this.title};f.He=function(){return this.description};f.Df=function(){return this.locale};f.Hb=function(){return this.background};f.ae=function(){return this.cutout};f.FA=function(){return this.repeating};f.oc=function(){return this.recolorable};f.KF=function(){return this.superKeywords};f.Sj=function(){return this.keywords};f.ic=function(){return this.files};f.JF=function(){return this.quality};f.us=function(){return this.spritesheetMetadata};f.tM=function(){return this.licensing};
function zF(a){var b={},b=(b.ONE_USE=0,b.ROYALTY_FREE=0,b.EXTENDED=0,b),c={},c=(c.ONE_USE=1,c.ROYALTY_FREE=10,c.EXTENDED=100,c);switch(a.tM()){case "NOT_APPLICABLE":return{};case "STANDARD":return c;case "FREE":return b;case "NONE":return b;default:throw new TypeError("expected Licensing for media bundle, found: "+JSON.stringify(a.tM()));}}
function AF(a){a=void 0===a?{}:a;this.id=a.id||"";this.importKey=a.importKey||"";this.importBucket=a.Pba||"";this.importFilename=a.Qba||"";this.type=a.type||Eg;this.copyright=a.sba||"";this.bundle=a.pba||new yF;this.deactivated=a.sE||!1;this.oneTimeUseDiscountable=a.eca||!1;this.brand=a.D||"";this.user=a.user;this.design=a.Ee}f=AF.prototype;f.u=function(){return this.id};f.lc=function(){return this.type};f.Ja=function(){return this.bundle};f.Kv=function(){return this.oneTimeUseDiscountable};
f.ka=function(){return this.brand};f.La=function(){return this.user};function Dj(a){if(!a)return null;a=$.extend(new AF,a);if(a.bundle){var b;var c=a.bundle;if(c){c=$.extend(new yF,c);c.superKeywords&&(c.superKeywords=c.superKeywords.map(xF));c.keywords&&(c.keywords=c.keywords.map(xF));if(c.files)for(b in c.files)c.files[b]=Rq(c.files[b]);c.spritesheetMetadata&&(c.spritesheetMetadata=Wr(La(c.spritesheetMetadata)));b=c}else b=null;a.bundle=b}return a}
function ZE(a){if(!a)return null;for(var b=[],c=0;c<a.length;c++)b.push(Dj(a[c]));return b}function BF(){this.projections=[]}f=BF.prototype;f.zj=function(a){this.brand=a;return this};f.Ut=function(a){this.user=a;return this};f.Tt=function(a){this.restricted=a;return this};f.ey=function(a){this.staging=a;return this};f.X_=function(a){null!=a&&0<a.length&&(this.filename=a);return this};f.dS=function(a){null!=a&&0<a.length&&(this.ids=a);return this};f.Rt=function(a){this.deactivated=a;return this};
f.QI=function(a){this.locale=a;return this};f.To=function(){this.projections.push("F");return this};f.OI=function(){this.projections.push("K");return this};f.W_=function(){this.projections=Object.keys(uF).map(function(a){return uF[a]});return this};f.Aj=function(a){this.continuation=a;return this};f.Vg=function(a){this.limit=a;return this};function CF(a,b){a.types=b;return a}function DF(){}DF.prototype.St=function(a){this.name=a;return this};DF.prototype.Tt=function(a){this.restricted=a;return this};
DF.prototype.$_=function(a){this.listed=a;return this};function EF(a,b){a.fileSize=b;return a}DF.prototype.QI=function(a){this.locale=a;return this};function FD(){}f=FD.prototype;f.Ik=function(a){this.version=a;return this};f.ey=function(a){this.staging=a;return this};function FF(a){a.projection="";return a}f.To=function(){this.projection=(this.projection||"")+"F";return this};f.OI=function(){this.projection=(this.projection||"")+"K";return this};
f.a0=function(){this.projection=(this.projection||"")+"T";return this};f.V_=function(){this.projection=(this.projection||"")+"D";return this};function GF(){this.projections=[]}function HF(a,b){a.refs=b;return a}f=GF.prototype;f.dS=function(a){this.ids=a;return this};f.ey=function(a){this.staging=a;return this};f.W_=function(){this.projections=Object.keys(uF).map(function(a){return uF[a]});return this};f.To=function(){this.projections.push("F");return this};
f.a0=function(){this.projections.push("T");return this};f.V_=function(){this.projections.push("D");return this};function IF(a){a.unwatermarked=!0;a.projections.push("F")}function gF(){}f=gF.prototype;f.Uo=function(a){this.id=a;return this};f.u=function(){return this.id};f.Ik=function(a){this.version=a;return this};f.getVersion=function(){return this.version};f.Rt=function(a){this.deactivated=a;return this};f.$_=function(a){this.listed=a;return this};f.Y_=function(a){this.importVersion=a;return this};
function JF(a,b){b={data:cb.required("data",rF(b.data)),keywordsUpdatePolicy:mb(lF,"keywordsUpdatePolicy",b.tW),superKeywordsUpdatePolicy:mb(lF,"superKeywordsUpdatePolicy",b.ZZ)};a.contentMetadata=b;return a}f.OI=function(a){this.keywords=a;return this};f.QI=function(a){this.locale=a;return this};function KF(a,b,c){this.uC=a;this.q$=b;this.r$=c;this.LZ=null;this.wN=this.xN=0;this.j2=this.isAlpha()?"destination-in":"lighter";this.color=LF(this);this.Be=null}f=KF.prototype;f.oc=function(){return"RECOLORABLE"===this.uC.type};f.isAlpha=function(){return"BACKGROUND_A"===this.uC.type};
function LF(a){switch(a.uC.type){case "RECOLORABLE":return mh(a.uC.color);case "BACKGROUND_R":return hn(new fn,255,0,0);case "BACKGROUND_G":return hn(new fn,0,255,0);case "BACKGROUND_B":return hn(new fn,0,0,255);case "BACKGROUND_A":return null;default:throw Error("Unknown SpritesheetLayerType");}}f.sM=function(){return this.uC.IA};f.Lb=function(){return this.color};f.setColor=function(a){this.oc()&&(this.color=a)};
f.multiply=function(a,b,c,d,e){this.Be=a.getImageData(b,c,d,e);c=la([b,c]);b=c.next().value;c=c.next().value;for(d=0;d<this.Be.data.length;d+=4){var g=la(this.color.ob.slice());e=g.next().value;var h=g.next().value,g=g.next().value;this.Be.data[d]=this.Be.data[d]/255*e;this.Be.data[d+1]=this.Be.data[d+1]/255*h;this.Be.data[d+2]=this.Be.data[d+2]/255*g}a.putImageData(this.Be,b,c)};f.compose=function(a,b,c,d,e,g,h,k,l,m){MF(b,this.j2);b.drawImage(a.canvas,c,d,e,g,h,k,l,m)};
function MF(a,b){a.globalCompositeOperation=b;return a.globalCompositeOperation==b}f.Ce=function(){this.Be=null};function NF(a){this.Ko=a.Ko;this.jm=a.jm;this.er=a.er;this.eN=a.eN;this.hf=a.hf;this.Kn=a.Kn;this.TM=a.TM;this.fH=[];this.MD=null;this.KD=!1}function OF(a){var b=document.createElement("canvas").getContext("2d"),c=document.createElement("canvas").getContext("2d"),d=PF(a),e=a.jm,g=a.er;a=a.vF;var h=NE();return(new NF({Ko:d,jm:e,er:g,hf:b,Kn:c,eN:a,TM:h})).init()}
function PF(a){return a.oG.map(function(b,c){return new KF(b,c%a.jm,Math.floor(c/a.jm))}).sort(function(a,c){return a.isAlpha()?1:c.isAlpha()?-1:a.sM()-c.sM()})}NF.prototype.init=function(){this.fH=QF(this);return this};NF.prototype.Mk=function(a){var b=this;this.MD=null;this.KD=!1;return zD(this.TM,a).then(function(a){return RF(b,a)}).then(function(){return SF(b)}).then(function(){return TF(b)}).then(function(){return b.KD=!0}).catch(function(){throw Error("Could not build spritesheet");})};
NF.prototype.oc=function(){return this.Ko.some(function(a){return a.oc()})};function UF(a){var b=[gC,hC,iC];return a.eN&&a.fH.every(function(a){return b.some(function(b){return b.equals(a)})})}function QF(a){return VF(a).map(function(a){return a.Lb()})}function VF(a){return a.Ko.filter(function(a){return a.oc()})}NF.prototype.toDataURL=function(){return this.KD&&this.MD||(this.MD=this.hf.canvas.toDataURL())};
function WF(a,b){var c=a.Ko.indexOf(b);if(!(0>c)){var d=a.Kn,c=c*a.hf.canvas.width,e=a.hf.canvas.width,g=a.hf.canvas.height;b.Ce();MF(d,"source-over");d.drawImage(b.LZ,b.q$*b.xN,b.r$*b.wN,b.xN,b.wN,c,0,e,g);if(b.isAlpha()){var h=la([c,0]);a=h.next().value;h=h.next().value;b.Be=b.Be||d.getImageData(c,0,e,g);for(c=0;c<b.Be.data.length;c+=4)b.Be.data[c+3]=b.Be.data[c],b.Be.data[c]=b.Be.data[c+1]=b.Be.data[c+2]=255;d.putImageData(b.Be,a,h)}else b.color&&(MF(d,"multiply")?(d.fillStyle=b.color.toString(),
d.fillRect(c,0,e,g)):b.multiply(d,c,0,e,g))}}function RF(a,b){var c=b.width/a.jm,d=b.height/a.er;a.hf.canvas.width=c;a.hf.canvas.height=d;a.Kn.canvas.width=a.Ko.length*c;a.Kn.canvas.height=d;a.Ko.forEach(function(a){a.LZ=b;a.xN=c;a.wN=d})}function SF(a){a.Kn.clearRect(0,0,a.Kn.canvas.width,a.Kn.canvas.height);a.Ko.forEach(function(b){return WF(a,b)})}
function TF(a){a.hf.clearRect(0,0,a.hf.canvas.width,a.hf.canvas.height);a.Ko.forEach(function(b,c){return b.compose(a.Kn,a.hf,c*a.hf.canvas.width,0,a.hf.canvas.width,a.hf.canvas.height,0,0,a.hf.canvas.width,a.hf.canvas.height)})};function AC(a){if("print"==zC)throw Error("Graphic should not be used in print as it uses screen media. It should be an SvgElement in print.");if(void 0!==a&&void 0!==a.mediaId&&void 0!==a.spritesheetMetadata){var b=this;this.loaded=!1;this.uN=null;this.Sg=Wr(La(a.spritesheetMetadata));this.Lo=OF(this.Sg);Z.call(this,a);this.ba=a.mediaId;this.ca=a.mediaVersion;this.hb=void 0===a.mediaApproved?!0:a.mediaApproved;var c=this.C();c.addClass("graphic");var d=$('\x3cdiv class\x3d"placeholder"\x3e\x3cimg class\x3d"imgPlaceholder" /\x3e\x3cdiv class\x3d"canvasPlaceholder" /\x3e\x3c/div\x3e');
c.append(d);c.find(".canvasPlaceholder").append(this.Lo.hf.canvas);this.tk();this.contents=a.contents?a.contents.slice(0):null;a.fillColors&&a.fillColors.forEach(function(a){var c=mh(a.color);c&&b.ge(a.index,c)});this.cm(this.ba,this.ca).bind(this).then(function(){T.trigger("elementLoaded",this);T.trigger("elementLoaded:graphic",this)}).catch(function(){T.trigger("elementLoadingError",this)})}}AC.prototype=Object.create(Z.prototype);f=AC.prototype;f.constructor=AC;
f.cm=function(a,b){this.ba=a;this.ca=b;this.loaded=!1;return XF(this,a,b)};function XF(a,b,c){var d=Hb.Kc(b,c);if(!d)return P.reject();d=d[wD];b=xD(b,c,Lg);a.Zq(d.oa());return b.bind(a).then(function(a){return this.Lo.Mk(a.oa())}).then(function(){this.loaded=!0;this.Ce();this.JB?this.Oq():this.tk()})}f.C_=function(){this.loaded&&this.Zq(this.Lo.toDataURL())};f.C2=_.debounce(AC.prototype.C_,200);f.Zq=function(a){var b=this.C().find(".imgPlaceholder");jD(kD,b,a)};
function YF(a){return a.loaded&&a.uN!==a.JB?(a.uN=a.JB,!0):!1}f.Oq=function(){Z.prototype.Oq.call(this);YF(this)&&(this.C().find(".canvasPlaceholder").show(),this.C().find(".imgPlaceholder").hide())};f.tk=function(){Z.prototype.tk.call(this);YF(this)&&(this.C_(),this.C().find(".imgPlaceholder").show(),this.C().find(".canvasPlaceholder").hide())};f.YC=function(a){aq(a,this.Ob())||(this.gC(!1),this.ca=this.ba=null)};f.$j=function(){return!0};
f.Ob=function(){return null!=this.ba&&null!=this.ca?new Xm({id:this.ba,version:this.ca}):null};f.Kw=function(){this.uN=null;var a=this.Ob();return a?this.cm(a.id,a.version):P.resolve()};f.EA=function(){return this.hb};f.gC=function(a){this.hb=a;this.C().toggleClass("unapproved",!a);this.$a()};f.oc=function(){return 0<this.bb().length};f.bb=function(){return 5<QF(this.Lo).length?[]:QF(this.Lo)};f.Md=function(){return this.bb().length};
f.ge=function(a,b){var c=this.Lo;if(a=VF(c)[a])c.MD=null,a.setColor(b),c.KD&&(WF(c,a),TF(c));this.Ce();this.C2()};f.gi=function(){if(this.ue)return this.ue;var a=new To;this.bb().forEach(function(b){Wo(a,b)});return this.ue=a};f.hq=function(){return!0};f.CI=function(){mD(this.C().find(".placeholder"),null,this.ya)};f.Aw=function(){WC(this);var a=this.C().find(".placeholder");a.addClass("flipping");a.one("transitionend",function(){a.removeClass("flipping")})};
f.serialize=function(){var a=Z.prototype.serialize.call(this);a.type="graphic";a.mediaId=this.ba;a.mediaVersion=this.ca;this.hb||(a.mediaApproved=!1);a.spritesheetMetadata=Mg(this.Sg);var b=this.bb().map(function(a,b){return{index:b,color:a.ra()}});0<b.length&&(a.fillColors=b);return a};f.Py=function(){return UF(this.Lo)};function ZF(a){var b=a.Dy;1<=b||0>=b?a.tk():a.Oq()}
f.PB=function(){if(this.oc()&&this.GD&&null!==this.zm&&this.Py()){this.GD=!1;ZF(this);var a;this.Lo.fH.forEach(function(b,c){switch(b.ra()){case gC.ra():a=this.zm.$s;break;case hC.ra():a=this.zm.rt;break;case iC.ra():a=this.zm.Ht;break;default:a=null}a&&(b=un(b,a,this.Dy),this.ge(c,b))}.bind(this))}};f.vr=function(){return!0};AC.prototype.qZ=AC.prototype.ge;function $F(){this.FP=0}var aG=["tame","angry"];
$F.prototype.ge=function(a,b){this.qZ(a,b);if(!(0>["MABsSJ6etSs"].indexOf(this.ba))&&bG(this)){this.FP=this.FP||0;this.Oq();var c=aG[this.FP++]||"flipOut",d=this.C().find(".placeholder");d.addClass(c);var e=this.bb();a={overflow:"visible",zIndex:5};var g=$(".page .elements"),h={},k;for(k in a)h[k]=g.css(k);g.css(a);$({ratio:0}).animate({ratio:1},{duration:500,step:function(a){this.Lo.fH.forEach(function(b,c){b=An(e[c],b,a);this.qZ(c,b)}.bind(this))}.bind(this),always:function(){this.tk();this.$a();
d.removeClass(c);g.css(h)}.bind(this)})}};function bG(a){return a.bb().every(function(a){return a.equals(mh("#cc0000"))})}_.extend(AC.prototype,$F.prototype);function GC(a){this.elements=[];this.ad=null;this.JP=!0;this.vI=new WeakMap;this.Qh(a);Z.call(this,a);this.d1=[{id:"HorizontalAlignLeft",name:me(zc(this.i)),enabled:!0},{id:"HorizontalAlignCenter",name:oe(zc(this.i)),enabled:!0},{id:"HorizontalAlignRight",name:ne(zc(this.i)),enabled:!0},{id:"VerticalAlignTop",name:pe(zc(this.i)),enabled:!0},{id:"VerticalAlignCenter",name:re(zc(this.i)),enabled:!0},{id:"VerticalAlignBottom",name:qe(zc(this.i)),enabled:!0},{id:"HorizontalDistribute",name:se(zc(this.i)),
enabled:!0},{id:"VerticalDistribute",name:te(zc(this.i)),enabled:!0}];this.JD()}var EC="CHART";function cG(a,b){var c;c=Math.max(0,b.Ha-a.Ha);var d=an($m([b.left+b.width/2-(a.left+a.width/2),b.top+b.height/2-(a.top+a.height/2)]).rotate(a.rotation));return{Ha:c||0,rotation:rC(b.rotation,a.rotation)||0,top:d[1]-b.height/2+a.height/2,left:d[0]-b.width/2+a.width/2,width:b.width,height:b.height}}
function dG(a,b,c){c?(c=100-(100-b.Ha)/100*((100-a.Ha)/100)*100,c=Math.round(10*c)/10):c=Math.min(100,b.Ha+a.Ha);var d=bn($m([b.left+b.width/2-a.width/2,b.top+b.height/2-a.height/2]),-a.rotation),e=an(d);return{Ha:c||0,rotation:rC(b.rotation,-(180*Math.atan2(d.m[3],d.m[4])/Math.PI))||0,top:e[1]-b.height/2+a.top+a.height/2,left:e[0]-b.width/2+a.left+a.width/2,width:b.width,height:b.height}}
function eG(a){var b=a.filter(function(a){return"group"===a.type})[0];if(!b)throw Error("Group index out of bounds");var c=b.childRange;if(!dq(c))throw Error("Invalid group child range");for(var b=new GC(b),d,e,g=c[0];g<=c[1];g++)d=yg(a[g]),e=cG(PC(b),PC(d)),d.em(e.Ha),d.setPosition(e.left,e.top),d.dm(e.rotation),fG(b,d),d.Cy=!1;return b}GC.prototype=Object.create(Z.prototype);f=GC.prototype;f.constructor=GC;f.nb=function(){return!0};f.iG=function(){return!0};f.HV=function(){return!1};f.iR=function(){return!0};
f.Qh=function(a){function b(a,b){return a.elementIndex>b.elementIndex?1:-1}var c=this;a&&0<=Object.keys(a).indexOf("elements")&&a.elements.sort(b).forEach(function(a){(a=yg(a))&&c.addElement(a)})};function gG(a,b){KC(a,Math.min.apply(null,b.map(function(a){return a.$b()})));SC(a,Math.min.apply(null,b.map(function(a){return a.kc()})));a.ma(Math.max.apply(null,b.map(function(a){return a.Nd()}))-a.F());a.ea(Math.max.apply(null,b.map(function(a){return a.kd()}))-a.w());return a}
f.Jr=function(a){var b={};b.elementIndex=this.K();b.pageIndex=this.R()&&this.R().K();b.old=this.qa();if(!this.JP)return b["new"]=this.qa(),b;var c=Infinity,d=Infinity,e=-Infinity,g=-Infinity;a||(a=this.elements[0]);if(!a)return b["new"]=this.qa(),b;for(var h=0;h<this.elements.length;h++){var k=this.elements[h].F(),l=this.elements[h].w(),m=this.elements[h].l(),n=this.elements[h].o(),p=Mm(this.elements[h].Ta()),q=k+m/2,u=l+n/2,v=an(bn($m([k-q,l-u]),-p));v[0]+=q;v[1]+=u;var z=an(bn($m([k+m-q,l-u]),-p));
z[0]+=q;z[1]+=u;var t=an(bn($m([k-q,l+n-u]),-p));t[0]+=q;t[1]+=u;k=an(bn($m([k+m-q,l+n-u]),-p));k[0]+=q;k[1]+=u;c=Math.min(c,v[0],z[0],t[0],k[0]);d=Math.min(d,v[1],z[1],t[1],k[1]);e=Math.max(e,v[0],z[0],t[0],k[0]);g=Math.max(g,v[1],z[1],t[1],k[1])}k=e-c;l=g-d;h=an($m([this.F(),this.w()]).translate(-this.l()/2,-this.o()/2).rotate(Mm(-this.Ta())).translate(this.l()/2,this.o()/2));e=an($m([this.F(),this.w()]).translate(-k/2,-l/2).rotate(Mm(-this.Ta())).translate(k/2,l/2));g=e[0]-h[0];e=e[1]-h[1];for(h=
0;h<this.elements.length;h++)q=this.elements[h],0===q.Ta()&&2>Math.round(q.w())&&2>Math.round(q.F())&&2>Math.abs(Math.round(this.l()-q.l()))&&2>Math.abs(Math.round(this.o()-q.o()))&&(this.elements[h].ma(k),this.elements[h].ea(l));this.ma(k);this.ea(l);h=PC(a);pC(a)?h.top+=h.height/2:qC(a)&&(h.top+=h.height);h=dG(PC(this),h);q=h.top;u=h.left;for(h=0;h<this.elements.length;h++)k=this.elements[h].F(),l=this.elements[h].w(),this.elements[h].setPosition(k-c,l-d);h=PC(a);pC(a)?h.top+=h.height/2:qC(a)&&
(h.top+=h.height);a=dG(PC(this),h);c=a.top-q;a=a.left-u;this.setPosition(this.F()-g-a,this.w()-e-c);b["new"]=this.qa();return b};f.NV=function(){return!1};function hG(a){a.elements.forEach(function(b){b instanceof Kp&&a.vI.set(b,LA(b.C(),!0).length)})}
f.IP=function(a,b,c){function d(d,l){g.elements.filter(e).forEach(function(e){var g=h.has(e)?h.get(e):e.qa();h.set(e,e.qa());var m=Mm(a.Ta()),n=LA(a.C(),!0).length,p=Mm(a.Ta()),E=b.clone();1<=n&&5>Math.abs(m-p)&&(m=a.o()/n/2,Bm(E,-m));E=Fm(g,E);m=Lm(b,g,d);n=Lm(c,g,d);if(E||!(m<-1*g.o()/2)){var g=m-n,L=p=0;isFinite(m)&&!isFinite(n)&&k&&(g=m);isFinite(g)&&!isNaN(g)&&(0<=d&&45>d?p=g*Math.cos(d*Math.PI/180):45<=d&&90>d?L=g*Math.sin(d*Math.PI/180):90<=d&&135>d?L=g*Math.cos((d-90)*Math.PI/180):135<=d&&
180>d?p=g*Math.sin((d-90)*Math.PI/180):180<=d&&225>d?p=g*Math.cos((d-180)*Math.PI/180):225<=d&&270>d?L=g*Math.sin((d-180)*Math.PI/180):270<=d&&315>d?L=g*Math.cos((d-270)*Math.PI/180):315<d&&(l=!0,p=g*Math.sin((d-270)*Math.PI/180)),!e.bu()&&E?1<Math.abs(L)?e.ma(e.l()+L):1<Math.abs(p)&&(l&&e.eb(e.w()-p),e.ea(e.o()+p)):(l&&(p*=-1),1<Math.abs(L)?e.kb(e.F()+L):1<Math.abs(p)&&e.eb(e.w()+p)))}})}function e(b){return b!==a}var g=this;if(this.JP&&-1!==this.elements.indexOf(a)&&(c=c||a.qa(),ym(b)&&ym(c))){var h=
new Map,k=c.o()>b.o(),l=a.pl(0),m=.5*(O.Vt-a.pl(0))/100,n=LA(a.C(),!0).length,p=this.vI.get(a);l<O.Vt&&p!==n&&(1===p?c.ea(c.o()+m*b.o()):1===n&&c.ea(c.o()-m*c.o()));this.vI.set(a,n);l=a.Ta();a.ke&&"top"!==a.ke?qC(a)?d(Mm(l),!0):pC(a)&&(d(Mm(180+l),!1),d(Mm(l),!0)):d(Mm(180+l),!1);this.Jr(a)}};f.lv=function(){var a=O.eJ;Jb.G.get(ng)&&(a=a.slice(0),a.push(DE));return a};f.JD=function(){var a=$('\x3cdiv class\x3d"elements"\x3e\x3c/div\x3e');this.C().addClass("group").html(a);this.rc()};
f.setSize=function(a,b,c){var d;a<O.ly||b<O.ly||(void 0!==a&&void 0!==b&&(d=(a-this.l())/this.l(),Z.prototype.setSize.call(this,a,b)),this.elements.forEach(function(a){if(d&&(void 0===c||c)){var b=d,h=a.l()/a.o(),k,l,m;!isNaN(b)&&isFinite(b)&&(k=a.l()+a.l()*b,h=k/h,l=a.F()+a.F()*b,m=a.w()+a.w()*b,a.setSize(k,h,!0),a.setPosition(l,m),a instanceof Kp&&a.Lc&&a.Lc(0)&&(b=a.Lc(0)+a.Lc(0)*b,a.ve(0,b,!0)))}a.ma();a.setPosition();a.ab()}))};
f.ab=function(){this.ht&&(Z.prototype.ab.call(this),this.elements.forEach(function(a){a.ma();a.setPosition();a.ab()}))};f.addElement=function(a){var b=this.elements.indexOf(a);-1===b?this.elements.push(a):this.elements.splice(b,1,a);a instanceof Kp&&this.vI.set(a,LA(a.C(),!0).length)};
function fG(a,b,c){if(b.R()&&void 0===c)a.addElement(b);else{c=void 0!==c?c:Math.max(a.elements.length-1,0);var d=a.R();if(d){b.Yq(d);var e=DD(vb,d);b.te=e.$el;XC(d,b,a.K()+c+1,!0)}a.elements.splice(c,0,b);a=a.C().find(".elements");a.find(".element").length>c?a.find(".element").eq(c).before(b.C()):a.append(b.C());b.rc(!0)}}f.rj=function(a){a=this.elements.indexOf(a);-1!==a&&this.elements.splice(a,1)};
f.remove=function(){this.elements.forEach(function(a){a.remove()});var a=this.R();a&&this.stopListening(a,"change:background");Z.prototype.remove.call(this)};f.ia=function(){return this.elements};function iG(a){return a.elements.filter(function(a){return a instanceof Kp})}f.$b=function(){return Math.min.apply(null,this.ia().map(function(a){return a.$b()}))};f.Nd=function(){return Math.max.apply(null,this.ia().map(function(a){return a.Nd()}))};f.kc=function(){return Math.min.apply(null,this.ia().map(function(a){return a.kc()}))};
f.kd=function(){return Math.max.apply(null,this.ia().map(function(a){return a.kd()}))};f.rh=function(){return this.Nd()-this.$b()};f.nh=function(){return this.kd()-this.kc()};f.clone=function(){var a=this.serialize();return new GC(a)};f.js=function(){return"ungroup copy arrange transparency link delete deleteElement".split(" ")};f.mV=function(){return this.d1};f.Ff=function(){return 1===this.Ge().length};f.MF=function(){return this.elements.reduce(function(a,b){return a+b.MF()},0)};f.yv=function(){return!1};
function jG(a,b){a.Xi();b&&-1!==a.elements.indexOf(b)?(a.ad=b,a.ad.C().addClass("focused")):a.ad=null}f.Xi=function(){this.ad=null;this.elements.forEach(function(a){a.Ah();a.C().removeClass("active focused")})};f.serialize=function(){var a=Z.prototype.serialize.call(this);a.type="group";a.elements=this.ia().map(function(a){return a.serialize()});return a};f.lq=function(){return!1};f.se=function(){for(var a=0;a!==this.elements.length;a++)if(kG(this,a))return!0;return!1};
function kG(a,b){return a.elements[b]instanceof Kp}f.Ge=function(){var a=this.elements.filter(function(a){var c=a.C().hasClass("focused");return a instanceof Kp&&c})[0];return a?a.C():$()};f.Bb=function(){for(var a=0;a!=this.elements.length;a++)if(this.elements[a]instanceof Kp&&this.elements[a].C().hasClass("focused"))return a;return-1};f.cb=function(a){return kG(this,a)?this.elements[a].cb(0):$()};function lG(a){for(var b=[],c=0;c!==a.elements.length;c++)kG(a,c)&&b.push(a.Tb(c));return b}
f.Tb=function(a){if(kG(this,a)){var b=this.elements[a].Tb(0);b.index=a;return b}return this.Rz()};f.uj=function(a,b,c,d){kG(this,a)&&this.elements[a].uj(0,b,c,d)};f.fp=function(a){return this.elements[a].fp(0)};f.kv=function(){for(var a=[],b=0;b!==this.elements.length;b++)this.elements[b].se()&&this.elements[b].kv().forEach(function(b){a.push(b)});return a};f.xE=function(a){return this.elements[a].xE(0)};f.Lc=function(a){return kG(this,a)?this.elements[a].Lc(0):mG(this)};f.CF=function(a){return this.elements[a].CF(0)};
f.ks=function(a){return this.elements[a].ks(0)};f.ns=function(a){return this.elements[a].ns(a)};f.pl=function(a){return this.elements[a].pl(0)};f.BF=function(a){return this.elements[a].BF(0)};f.Mw=function(a){return this.elements[a].Mw(0)};f.jt=function(a){return this.elements[a].jt(0)};f.UH=function(a){return this.elements[a].UH(0)};f.$w=function(a){return this.elements[a].$w(0)};f.yo=function(a,b){kG(this,a)?this.elements[a].yo(0,b):this.vQ(b)};
f.setColor=function(a,b){this.elements[a]?nG(this.elements[a],b):this.wQ(b);this.$a()};function nG(a,b){if(b)if(a instanceof Kp)a.setColor(0,b);else for(var c=0;c<a.Md();c++)a.ge(c,b)}f.ge=function(a,b){this.ad&&this.ad.Md()&&this.ad.ge(a,b)};f.YH=function(a,b){this.elements[a].YH(0,b)};f.Xq=function(a,b){this.elements[a].Xq(0,b)};f.fC=function(a,b){this.elements[a].fC(0,b)};f.yk=function(a,b,c,d){kG(this,a)?this.elements[a].yk(0,b,c,d):this.WH(b,c,d)};
f.ve=function(a,b){if(kG(this,a))this.elements[a].ve(0,b);else if(0!==mG(this))this.XH(b);else{var c=b/oG(this);this.elements.forEach(function(a){if(a instanceof Kp){var b=Math.round(10*a.Lc(0)*c)/10;a.ve(0,b)}})}};f.eC=function(a){this.ve(this.Bb(),a)};f.uL=function(){var a=this.Bb();-1!==a?BE(this.elements[a]):this.elements.forEach(function(a){a instanceof Kp&&BE(a)})};f.BE=function(){var a=this.Bb();-1!==a?this.elements[a].Jd=!1:this.elements.forEach(function(a){a instanceof Kp&&(a.Jd=!1)})};
f.CA=function(){var a=this.Bb();return-1!==a?this.elements[a].Jd:pG(this)};f.Ao=function(a,b){kG(this,a)?this.elements[a].Ao(0,b):this.xQ(b)};f.yi=function(a,b){this.elements[a].yi(0,b)};f.hx=function(a,b,c){this.elements[a].hx(0,b,c)};f.$H=function(a,b){this.elements[a].$H(0,b)};f.ix=function(a,b){this.elements[a].ix(0,b)};f.jx=function(a,b){this.elements[a].jx(0,b)};f.kx=function(a,b){this.elements[a].kx(0,b)};f.br=function(a,b){this.elements[a].br(0,b)};
function qG(a){function b(a){-1===d.indexOf(a)&&d.push(a)}function c(a){-1===e.indexOf(a)&&e.push(a)}var d=[],e=[];a.elements.filter(function(a){return a instanceof Kp}).forEach(function(a){a=JA(a.C());a.$e.forEach(b);a.Bf.forEach(c)});return{$e:d,Bf:e}}f.Rz=function(){var a={};this.elements.filter(function(a){return a instanceof Kp}).forEach(function(b){var c=b.$w(0);sA.forEach(function(b){-1===Object.keys(a).indexOf(b)?a[b]=c[b]:a[b]!==c[b]&&(a[b]=null)})});return a};
f.gg=function(){var a=qG(this).Bf.map(function(a){return mh(a)});this.elements.forEach(function(b){b.Md()&&(a=a.concat(b.bb()))});return a};function rG(a){function b(a){return a instanceof fn?a.ra():"string"===typeof a?a:"#000000"}var c=qG(a).Bf;a.elements.forEach(function(a){a.Md()&&(c=c.concat(a.bb().map(b)))});return c}function sG(a){return rG(a).filter(function(a,c,d){return d.indexOf(a)===c})}function tG(a){var b=a.Rz(),c=$("\x3cdiv\x3e");sA.forEach(function(a){c.data(a,b[a])});return c}
function mG(a){for(var b,c=0;c!==a.elements.length;c++)if(a.elements[c]instanceof Kp&&(b=b||a.elements[c].Lc(0),b!==a.elements[c].Lc(0)))return 0;return b}f.Md=function(){return this.elements.reduce(function(a,b){return a+b.Md()},0)};f.bb=function(){return this.elements.reduce(function(a,b){return b.Md()?a.concat(b.bb()):a},[])};function pG(a){return a.elements.filter(function(a){return a instanceof Kp}).every(function(a){return a.Jd})}
function uG(a){return!pG(a)&&a.elements.filter(function(a){return a instanceof Kp}).some(function(a){return a.Jd})}function oG(a){for(var b=0,c=0;c!==a.elements.length;c++)a.elements[c]instanceof Kp&&(b=Math.max(b,a.elements[c].Lc(0)));return b}f.vQ=function(a){this.elements.forEach(function(b){b instanceof Kp&&b.yo(0,a)});this.$a()};f.wQ=function(a){this.elements.forEach(function(b){nG(b,a)});this.$a()};
f.WH=function(a,b,c){function d(a){g+=1;!h&&g>=e&&(h=!0,k=k&&a,b&&b(k))}var e=0,g=0,h=!1,k=!0;this.elements.forEach(function(b){b instanceof Kp&&(e+=1,b.yk(0,a,d,c))})};f.XH=function(a){this.elements.forEach(function(b){b instanceof Kp&&b.ve(0,a)})};f.xQ=function(a){this.elements.forEach(function(b){b instanceof Kp&&b.Ao(0,a)})};f.Mx=function(){for(var a=0;a<this.elements.length;a++)this.elements[a]instanceof Kp&&this.elements[a].Mx()};f.MP=function(){this.oo()};
f.oo=function(){var a=$(this.C()).data("toolbar");a&&a.remove()};function vG(a){for(var b=a,c=0;c<a.elements.length;c++)a.elements[c].K()>b.K()&&(b=a.elements[c]);return b}function wG(a){function b(a,b){return a.K()-b.K()}0===a.elements.filter(function(a){return-1===a.K()}).length&&a.elements.sort(b);var c=a;a.elements.forEach(function(b){b.insertAfter(c);c=b;b.C().appendTo(a.C().children(".elements"))})}f.insertBefore=function(a){-1!=a.K()&&(Z.prototype.insertBefore.call(this,a),wG(this))};
f.insertAfter=function(a){-1!=a.K()&&(Z.prototype.insertAfter.call(this,a),wG(this))};f.sR=function(){var a=this.Bb();-1!==a&&this.elements[a].sR()};f.UN=function(){var a=this.Bb();-1!==a&&this.elements[a].UN()};f.FJ=function(){var a=this.Bb();-1!==a&&this.elements[a].FJ()};f.qD=function(){return!1};f.QS=function(){return!0};f.vr=function(){for(var a=0;a!==this.elements.length;a++)if(this.elements[a].vr())return!0;return!1};
f.bu=function(){for(var a=0;a!==this.elements.length;a++)if(this.elements[a].bu())return!0;return!1};f.Yq=function(a){var b=this.R();b&&this.stopListening(b);Z.prototype.Yq.call(this,a);xG(this,a)};function xG(a,b){yG(a,b);a.listenTo(b,"change:background",function(){yG(this,b)})}
function yG(a,b){var c=mh("#000000"),d=mh(O.kD);a.elements.forEach(function(a){a.vs&&a.vs()&&a.vs().forEach(function(g,h){g&&g.equals&&(b.If()&&g.equals(c)?a.setColor(h,d):!b.If()&&g.equals(d)&&a.setColor(h,c))});a.Md()&&a.bb().forEach(function(g,h){g&&g.equals&&(b.If()&&g.equals(c)?a.ge(h,d):!b.If()&&g.equals(d)&&a.ge(h,c))})})};function BC(a){Z.call(this,a);this.C().addClass("shape");this.oj=[];this.viewBox=new V(0,0,0,0);if(a&&a.paths){var b=a.paths.map(function(a){return new zG({d:a.d,fill:a.fill,jl:a.fillRule})});AG(this,b)}a&&a.viewBox&&BG(this,vm(a.viewBox));this.render();T.trigger("elementLoaded",this)}BC.prototype=Object.create(Z.prototype);f=BC.prototype;f.constructor=BC;function CG(a){return new BC({top:a.w(),left:a.F(),width:a.l(),height:a.o()})}
function AG(a,b){if(b.some(function(a){return a.d.match(/[^emclazMCLAZ0-9., -]/)}))throw Error("Invalid path data.");a.oj=b}function BG(a,b){a.viewBox=b}
f.render=function(){var a=this.viewBox,b=this.C().find("svg"),c=this.oj;b.length||(b=$(document.createElementNS("http://www.w3.org/2000/svg","svg")),this.C().append(b));b.get(0).setAttribute("viewBox",[a.F(),a.w(),a.l(),a.o()].join(" "));var d=b.find("path");d.slice(c.length).remove();c.forEach(function(a,c){var h=(c=d.get(c))||document.createElementNS("http://www.w3.org/2000/svg","path");h.setAttribute("d",a.d);h.setAttribute("fill",a.fill);if(a.jl){a:switch(a.jl){case "EVEN_ODD":a="evenodd";break a;
default:a="nonzero"}h.setAttribute("fill-rule",a)}!c&&b.append(h)})};f.serialize=function(){var a=Z.prototype.serialize.call(this);a.type="shape";a.paths=this.oj.map(function(a){return{d:a.d,fill:a.fill,fillRule:a.jl}});a.viewBox=this.viewBox.serialize();return a};f.RS=function(){return!0};f.bb=function(){return this.oj.map(function(a){return mh(a.fill)})};f.Md=function(){return this.bb().length};
f.ge=function(a,b){b&&(this.oj[a]=new zG({d:this.oj[a].d,fill:b.toString(),jl:this.oj[a].jl}),this.render(),this.Ce())};f.gi=function(){if(this.ue)return this.ue;if(0<this.C().parents(".group.chart").length)return new To;var a=new To;this.bb().forEach(function(b){b&&Wo(a,b)});return this.ue=a};function zG(a){this.d=a.d;this.fill=a.fill;this.jl=a.jl};function DG(a,b,c,d,e,g){V.call(this,a,b,c,d);this.color=e;this.html=g||""}r(DG,V);f=DG.prototype;f.setColor=function(a){this.color=a;return this};f.He=function(){return["M",this.F(),this.xa(),"L",this.F(),this.w(),"L",this.Za(),this.w(),"L",this.Za(),this.xa(),"Z"].join(" ")};f.Lb=function(){return this.color};f.toString=function(){return this.html};f.setElement=function(a){this.element=a};f.getElement=function(){return this.element};
f.Hm=function(){var a={};a[EG]=this.w();a[FG]=this.F();a[GG]=this.l();a[HG]=this.o();a[IG]=this.Lb();return a};f.clone=function(){var a=new DG(this.F(),this.w(),this.l(),this.o(),this.Lb(),this.toString());a.setElement(this.getElement());return a};
function JG(a,b,c,d,e){e={count:1,ease:e,onUpdate:function(){return d(KG(a,b))},onComplete:function(){return b=c}};e[EG]=function(b,d){return c[a.indexOf(d)].w()};e[FG]=function(b,d){return c[a.indexOf(d)].F()};e[GG]=function(b,d){return c[a.indexOf(d)].l()};e[HG]=function(b,d){return c[a.indexOf(d)].o()};e[IG]=function(b,d){return c[a.indexOf(d)].Lb()};return e}function LG(a){return a.map(function(a){return a.Hm()})}
function KG(a,b){return a.map(function(a,d){d=b[d];d.eb(a[EG]);d.kb(a[FG]);d.ma(a[GG]);d.ea(a[HG]);d.setColor(a[IG]);return d})}var EG="TOP",FG="LEFT",GG="WIDTH",HG="HEIGHT",IG="COLOR";function MG(a,b,c,d,e,g){DG.call(this,b,c,d,e,"transparent",g);this.Pi=a;this.rotation=this.padding=0}r(MG,DG);f=MG.prototype;f.scale=function(a,b){var c=this.l(),d=this.o();DG.prototype.scale.call(this,a,b);this.ma(c);this.ea(d);return this};f.dm=function(a){this.rotation=a;this.Pi=0!=this.rotation?"right":"center"};
f.Ta=function(){return this.rotation};f.ov=function(){return this.Pi};f.yi=function(a){this.Pi=a};f.rs=function(){return this.padding};f.hC=function(a){this.padding=a};f.clone=function(){var a=new MG(this.ov(),this.F(),this.w(),this.l(),this.o(),this.toString());a.setElement(this.getElement());return a};function NG(a){DG.call(this,0,a.value,a.width,a.Gi,a.color);this.Gi=a.Gi||1}r(NG,DG);NG.prototype.scale=function(a,b){DG.prototype.scale.call(this,a,b);this.ea(this.Gi);return this};
NG.prototype.clone=function(){var a=new NG({value:this.w(),width:this.l(),Gi:this.o(),color:this.Lb()});a.setElement(this.getElement());return a};function OG(a){DG.call(this,a.index,a.top,1,Math.abs(a.value),a.color)}r(OG,DG);OG.prototype.He=function(){var a=Math.min(this.o(),Math.max(.08*this.l(),1));return["M",this.F(),this.xa(),"L",this.F(),this.xa()-this.o()+a,"a",a,a,0,0,1,a,-a,"L",this.Za()-a,this.xa()-this.o(),"a",a,a,0,0,1,a,a,"L",this.Za(),this.xa(),"Z"].join(" ")};
OG.prototype.clone=function(){var a=new OG({index:this.F(),top:this.w(),value:this.o(),color:this.Lb()});a.setElement(this.getElement());return a};function PG(a){return Math.PI*(a+-90)/180}function QG(a){DG.call(this,a.left,a.top,a.width,a.height,a.color);this.wy={x:0,y:0};this.data="";this.jh=a.jh;this.uh=a.uh;this.xh=a.xh;this.mf=a.mf;this.jb=a.jb;this.Cm=a.Cm;this.Dm=a.Dm;this.value=a.value;this.Lk=a.Lk}r(QG,DG);f=QG.prototype;f.jd=function(){this.dK();return this.wy};
f.He=function(){this.dK();return this.data};f.dK=function(){var a=this.Cm+this.jb*Math.cos(PG(this.mf)),b=this.Dm+this.jb*Math.sin(PG(this.mf)),c=Math.min(this.jh+5,359.999),d=this.Cm+this.jb*Math.cos(PG(c)),e=this.Dm+this.jb*Math.sin(PG(c));this.Wq(this.Cm+(this.jb+this.Lk)*Math.cos(PG(this.uh)),this.Dm+(this.jb+this.Lk)*Math.sin(PG(this.uh)));this.data=["M",this.Cm,this.Dm,"L",a,b,"A",this.jb,this.jb,0,180<=c-this.mf?1:0,1,d,e,"Z"].join(" ")};f.tc=function(){return this.value};f.ml=function(){return this.Cm};
f.nl=function(){return this.Dm};f.Wq=function(a,b){this.wy={x:a,y:b}};f.setData=function(a){this.data=a};f.setRadius=function(a){this.jb=a};f.clone=function(){return new QG({left:this.F(),top:this.w(),width:this.l(),height:this.o(),color:this.Lb(),value:this.tc(),xh:this.xh,mf:this.mf,uh:this.uh,jh:this.jh,jb:this.jb,Cm:this.ml(),Dm:this.nl(),Lk:this.Lk})};f.Hm=function(){var a={};a[RG]=this.mf;a[SG]=this.jh;a[TG]=this.jb;a[UG]=this.Lb();return a};
function VG(a){return a.map(function(a){return a.Hm()})}function WG(a,b,c,d,e){e={count:1,ease:e,onUpdate:function(){return d(XG(a,b))},onComplete:function(){return b=c}};e[RG]=function(b,d){return c[a.indexOf(d)].mf};e[SG]=function(b,d){return c[a.indexOf(d)].jh};e[TG]=function(b,d){return c[a.indexOf(d)].jb};e[UG]=function(b,d){return c[a.indexOf(d)].Lb()};return e}function XG(a,b){return a.map(function(a,d){d=b[d];d.mf=a[RG];d.jh=a[SG];d.setRadius(a[TG]);d.setColor(a[UG]);return d})}
var RG="START_ANGLE",SG="END_ANGLE",TG="RADIUS",UG="COLOR";function YG(a,b,c,d,e,g){MG.call(this,a,b,c,d,e,g);this.wy={x:0,y:0};this.dX={x:0,y:0};this.angle=0}r(YG,MG);YG.prototype.jd=function(){return this.wy};YG.prototype.Wq=function(a,b){this.wy={x:a,y:b}};function ZG(a){DG.call(this,a.left,a.top,a.width,a.height,a.color);this.data=a.data}r(ZG,DG);ZG.prototype.He=function(){return this.data};function $G(a){QG.call(this,a);this.Zh=a.Zh}r($G,QG);
$G.prototype.dK=function(){var a=Math.min(this.jh+5,359.999),b=this.ml()+this.jb*this.Zh*Math.cos(PG(this.mf)),c=this.nl()+this.jb*this.Zh*Math.sin(PG(this.mf)),d=this.ml()+this.jb*this.Zh*Math.cos(PG(a)),e=this.nl()+this.jb*this.Zh*Math.sin(PG(a)),g=this.ml()+this.jb*Math.cos(PG(this.mf)),h=this.nl()+this.jb*Math.sin(PG(this.mf)),k=this.ml()+this.jb*Math.cos(PG(a)),l=this.nl()+this.jb*Math.sin(PG(a));this.Wq(this.ml()+(this.jb+this.Lk)*Math.cos(PG(this.uh)),this.nl()+(this.jb+this.Lk)*Math.sin(PG(this.uh)));
a=180<=a-this.mf?1:0;this.data=["M",b,c,"L",g,h,"A",this.jb,this.jb,0,a,1,k,l,"L",d,e,"A",this.jb*this.Zh,this.jb*this.Zh,0,a,0,b,c,"Z"].join(" ")};$G.prototype.clone=function(){return new $G({left:this.F(),top:this.w(),width:this.l(),height:this.o(),color:this.Lb(),value:this.tc(),xh:this.xh,mf:this.mf,uh:this.uh,jh:this.jh,jb:this.jb,Cm:this.ml(),Dm:this.nl(),Lk:this.Lk,Zh:this.Zh})};function aH(a){DG.call(this,a.left,a.top,a.width,a.height,a.color);this.jb=a.jb}r(aH,DG);
aH.prototype.setRadius=function(a){this.jb=a};aH.prototype.He=function(){var a=this.jb,b=this.F()+this.l()/2-a,c=this.w();return["M",b,c,"a",a,a,0,1,0,2*a,0,"a",a,a,0,1,0,2*-a,0,"Z"].join(" ")};aH.prototype.clone=function(){return new aH({left:this.F(),top:this.w(),width:this.l(),height:this.o(),color:this.Lb(),jb:this.jb})};aH.prototype.Hm=function(){var a=DG.prototype.Hm.call(this);a[TG]=this.jb;return a};
function bH(a,b,c,d){var e=JG(a,b,c,d,Power1.easeOut);e.onUpdate=function(){return d(cH(a,b))};e[TG]=function(b,d){return c[a.indexOf(d)].jb};return e}function cH(a,b){return a.map(function(a,d){d=b[d];d.eb(a[EG]);d.kb(a[FG]);d.ma(a[GG]);d.ea(a[HG]);d.setColor(a[IG]);d.setRadius(a[TG]);return d})}function dH(a,b,c,d){var e=Math.min(a.x,b.x),g=Math.min(a.y,b.y);DG.call(this,e,g,Math.max(a.x,b.x)-e,Math.max(a.y,b.y)-g,c);this.Dc=a;this.bc=b;this.Gi=d}r(dH,DG);
dH.prototype.He=function(){var a=this.Gi/2,b=180*Math.atan2(this.bc.y-this.Dc.y,this.bc.x-this.Dc.x)/Math.PI- -90-90,c=this.Dc.x-(this.Dc.x+a*Math.cos(PG(b))),a=this.Dc.y-(this.Dc.y+a*Math.sin(PG(b)));return["M",this.Dc.x-c,this.Dc.y-a,"L",this.bc.x-c,this.bc.y-a,"L",this.bc.x+c,this.bc.y+a,"L",this.Dc.x+c,this.Dc.y+a,"Z"].join(" ")};dH.prototype.clone=function(){return new dH({x:this.Dc.x,y:this.Dc.y},{x:this.bc.x,y:this.bc.y},this.Lb(),this.Gi)};
dH.prototype.Hm=function(){var a={};a[eH]=this.Dc.x;a[fH]=this.Dc.y;a[gH]=this.bc.x;a[hH]=this.bc.y;a[iH]=this.Lb();a[jH]=this.Gi;return a};
function kH(a,b,c,d,e){e={count:1,ease:e,onUpdate:function(){return d(lH(a,b))},onComplete:function(){return b=c}};e[eH]=function(b,d){return c[a.indexOf(d)].Dc.x};e[fH]=function(b,d){return c[a.indexOf(d)].Dc.y};e[gH]=function(b,d){return c[a.indexOf(d)].bc.x};e[hH]=function(b,d){return c[a.indexOf(d)].bc.y};e[iH]=function(b,d){return c[a.indexOf(d)].Lb()};e[jH]=function(b,d){return c[a.indexOf(d)].Gi};return e}function mH(a){return a.map(function(a){return a.Hm()})}
function lH(a,b){return a.map(function(a,d){d=b[d];d.Dc.x=a[eH];d.Dc.y=a[fH];d.bc.x=a[gH];d.bc.y=a[hH];d.setColor(a[iH]);d.Gi=a[jH];return d})}var eH="POINT_1_X",fH="POINT_1_Y",gH="POINT_2_X",hH="POINT_2_Y",iH="COLOR",jH="THICKNESS";var nH=/([^\-0-9,.]*)([\-0-9,.\s]*\d)(\D*)/;function oH(a){this.parsed=!1;this.value=a;this.vh=NaN;this.post=this.jO=this.CB="";this.parse()}oH.prototype.Ak=function(a){this.value=a;this.parsed=!1;return this};oH.prototype.parse=function(){if(!this.parsed){var a=nH.exec(this.value);a&&!isNaN(pH(this.value))?(this.vh=pH(this.value),this.CB=a[1],this.jO=a[2],this.post=a[3]):(this.vh=NaN,this.post=this.jO=this.CB="");this.parsed=!0}};
oH.prototype.toString=function(){this.parse();return this.CB+this.jO+this.post};oH.prototype.isValid=function(){this.parse();return!isNaN(this.vh)&&(""!==this.CB||""!==this.post)};function pH(a){if(a=nH.exec(a))if(a=parseFloat(a[2].replace(/[,\s]*/g,"")),!isNaN(a))return a;return NaN};function qH(a){a=void 0===a?{}:a;var b=a.bar||{};this.g1=!0;this.Js=5;this.spacing=void 0!==b.spacing?b.spacing:.5;this.padding=void 0!==b.padding?b.padding:10;this.XS=!1;this.color=wn(nn(a.colors?a.colors[0]:"#00c4cc"),a.gradientRange);this.data=[];this.bz=new V(0,0,0,0);this.Pd=void 0!==a.labelset?a.labelset:0;this.Yf=this.Pd+1;this.Gl={labels:[],CJ:[],Dk:[]};this.de={labels:[],Wv:[],Dk:[]};this.iO=a.iO||function(a){return a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")};a.data&&this.Ls(a.data)}
f=qH.prototype;
f.Ls=function(a,b,c){var d=this;this.Pd=b||this.Pd;this.Yf=c||this.Yf;this.Pd===this.Yf&&this.Yf++;var e=null;this.data=a.map(function(a){var b=new oH(a[d.Yf]);!e&&b.isValid()&&(e=b);a=a[d.Pd];b.parse();return[a,b.vh]}).filter(function(a){return!isNaN(a[d.Yf])});c=this.data.map(function(a){return a[d.Yf]});a=0;b=_.max(c);this.XS&&(a=Math.min(0,_.min(c)));this.g1&&(this.Js=5,5<b&&10>=b&&0!==b%2?b+=2-b%2:10<b&&25>=b&&0!==b%5?b+=5-b%5:25<b&&100>=b&&0!==b%10?b+=10-b%10:100<b&&1E3>=b&&0!==b%50?b+=50-b%
50:1E3<b&&1E4>=b&&0!==b%100?b+=100-b%100:1E4<b&&(c=Math.pow(10,Math.floor(Math.log10(b))),b/=c,b=(Math.floor(b)+Math.ceil(20*(b-Math.floor(b)))/20)*c),4<b&&(0===b%4?this.Js=5:0===b%3?this.Js=4:0===b%5&&(this.Js=6)));this.bz=new V(0,a,this.data.length,b-a);this.de=rH(this,a,b,e);this.Gl=sH(this,this.data,a)};f.uV=function(){var a=[];a[1]=this.Gl.Dk.slice();a[0]=this.de.Dk.slice();return a};f.getData=function(){return this.data};f.ar=function(a){this.spacing=a};f.pe=function(){return this.spacing};
function rH(a,b,c,d){for(var e=[],g=[],h=[],k=[],l=0;l<a.Js;l++)k.push(dn(b,c,l/(a.Js-1)));var m=k.reduce(function(a,b){return Math.abs(a)<Math.abs(b)?a:b});k.forEach(function(c){var k=c-m;c=k+Math.abs(b);var l=a.iO(k.toString());d&&(d.parse(),l=d.CB+l+d.post);h.push(l);k=new NG({value:k+Math.abs(b),width:a.bz.l(),Gi:1,color:"#ccc"});e.push(new MG("right",0,c,a.Js-1,1,l));g.push(k)});return{Dk:h,labels:e,Wv:g}}
function sH(a,b,c){var d=[],e=[],g=[];b.forEach(function(b,k){var l=parseFloat(b[a.Yf]);!a.XS&&0>l&&(l=0);var m=new MG("center",k,0,1,1,b[a.Pd]);e.push(new OG({index:k,top:0>=c&&0<l?Math.abs(c):Math.abs(c)-Math.abs(l),value:l,color:"#ccc"}));d.push(m);g.push(b[a.Pd])});return{labels:d,CJ:e,Dk:g}}function tH(a,b,c,d){var e=c.l()/a.bz.l(),g=c.o()/a.bz.o();return b.map(function(a){a=a.clone();a.scale(e,g);a.translate(c.F(),c.w());a.ea(a.o());a.eb(d.o()-a.w()-a.o());return a})}
f.Lr=function(a){function b(a,b){return a>b?a:b}var c=this;if(0===this.data.length||0===this.bz.o())return{de:[[],[]],data:[[],[]]};var d=a.Qx.by[0].reduce(b,0),e=a.Qx.by[1].reduce(b,0),g=a.Qx.sN;this.padding=.5*g;this.spacing=void 0!==a.spacing?a.spacing:this.spacing;this.color=a.color||this.color;var h=a.TE,k=h.l()-d-2*this.padding,l=k/this.Gl.CJ.length,m=l<e,n=m?.7071067811865475*(e+g):g,p=d+this.padding,q=(1-this.spacing)*l,u=h.o()-n-g-this.padding,v=new V(0,n+this.padding+g/2,d,u),z=m?this.padding:
.5*this.padding,t=new V(p+(m?.7071067811865475*g/2:0),h.o()-n-z,k,n),n=new V(p,n+this.padding,k,u),k=tH(this,this.de.Wv,n,h),v=tH(this,this.de.labels,v,h),x=tH(this,this.Gl.CJ,n,h),H=tH(this,this.Gl.labels,t,h);H.forEach(function(a){return a.ea(g)});v.forEach(function(a){return a.ma(d)});x.forEach(function(a,b){a.setColor(c.color(b,x.length));if(1===x.length)a.ma(l);else{var d=1<x.length?b*c.spacing*l/(x.length-1):0;a.ma(q).translate(d,-1);H[b].translate(-(l-q)/2+d,0)}});k.forEach(function(b){return b.setColor(a.Vv)});
H.forEach(function(a){if(m){var b=a.F()+l/2;a.ma(e);a.kb(b-.7071067811865475*(e+g));a.dm(-45);a.eb(t.w()+.35355339059327373*e)}else a.ma(l),a.eb(t.w())});var E=Math.ceil(1.2*g/l),H=H.filter(function(a,b){return 0===b%E}),h={de:[],data:[]};h.de.push(k);h.de.push(v);h.data.push(x);h.data.push(H);return h};function uH(a){var b="undefined"!==typeof a.N3?a.N3:1;this.canvas=document.createElement("canvas");this.color=wn(nn(a.color||"#00c4cc"),b);this.data=[];this.Pd=0;this.Gl=[];this.total=0;this.Yf=1;this.Dk=[];this.spacing=a.spacing||0;a.data&&this.Ls(a.data)}f=uH.prototype;f.getData=function(){return this.data};f.uV=function(){return this.Dk};f.pe=function(){return this.spacing};f.ar=function(a){this.spacing=a};
f.Ls=function(a,b,c){var d=this;this.Pd=b||this.Pd;this.Yf=c||this.Yf;this.data=a.map(function(a){return[a[d.Pd],pH(a[d.Yf])]}).filter(function(a){return!isNaN(a[d.Yf])}).filter(function(a){return 0<a[d.Yf]});this.total=this.data.reduce(function(a,b){return a+b[d.Yf]},0);this.Gl=this.data.map(function(a){return[a[0],a[d.Yf],100*a[d.Yf]/d.total]});this.Dk[0]=this.data.map(function(a,b){return""+d.Gl[b][0]});this.Dk[1]=this.data.map(function(a,b){return Math.round(d.Gl[b][2])+"%"})};
f.Lr=function(a){for(var b=a.color||this.color,c=a.TE,d=a.e4||.9,e="undefined"!==typeof a.vW?a.vW:.3,d=Math.min(c.o(),c.l())/2*d,g=vH(this,b,c,d,e,a.Vv,a.Qx),h=wH(g,c);0<h&&10<d;)d=Math.max(d-h,10),g=vH(this,b,c,d,e,a.Vv,a.Qx),h=wH(g,c);return g};function vH(a,b,c,d,e,g,h){e*=h.fontSize;var k=c.l()/2,l=c.o()/2;b=xH(a,c,b,k,l,d,e);c=[];var m=[];if(0<h.fontSize){var m=d+2.1*h.fontSize,n=2*h.sN;c=yH(a,b,k,l,m,n,e,h);m=zH(c,k,l,m,n,g)}return{Y3:0<m.length,labels:c,Wv:m,w8:d,Jo:b}}
function yH(a,b,c,d,e,g,h,k){return b.map(function(b,m){var n=Math.ceil(Math.max(k.by[0][m],k.by[1][m]))+2*h,p=.0032*n*(90-Math.abs(b.uh%180-90)),q=c+(e+p)*Math.cos(PG(b.uh)),p=d+(e+p)*Math.sin(PG(b.uh));m=new YG("center",q-n/2,p-g/2,n,g,"\x3cb\x3e"+a.Dk[0][m]+"\x3c/b\x3e\x3cbr/\x3e"+a.Dk[1][m]);m.Wq(q,p);m.angle=b.uh;m.slice=b;return m})}
function AH(a,b,c,d){var e=a.slice,g=e.jd(),h=a.jd(),k=a.dX,l=(2*k.x+e.jd().x)/3,m=(2*k.y+e.jd().y)/3,n=(2*k.x+a.jd().x)/3;a=(2*k.y+a.jd().y)/3;b=g.x>=b?1:-1;c=g.y>=c?-1:1;g=["M",g.x,g.y,"C",l,m,",",n,a,",",h.x,h.y,"L",h.x+b,h.y+c,"C",n+b,a+c,",",l+b,m+c,",",g.x+b,g.y+c,"Z"].join(" ");return new ZG({left:e.F(),top:e.w(),width:e.l(),height:e.o(),color:d,data:g})}
function xH(a,b,c,d,e,g,h){var k=0;return a.Gl.map(function(l,m,n){var p=3.6*k,q=p+3.6*l[2],u=p+1.8*l[2];k+=l[2];return a.cU({top:0,left:0,width:b.l(),height:b.o(),value:l[1],xh:l[2],color:c(m,n.length),mf:p,jh:q,uh:u,jb:g,Cm:d,Dm:e,Lk:h})})}f.cU=function(a){return new QG(a)};
function wH(a,b){b=b.clone().setPosition(0,0);a=a.labels.reduce(function(a,b){return{left:Math.min(a.left,b.F()),top:Math.min(a.top,b.w()),right:Math.max(a.right,b.Za()),bottom:Math.max(a.bottom,b.xa())}},{left:b.F(),top:b.w(),right:b.Za(),bottom:b.xa()});return parseInt(Math.max(Math.abs(a.left-b.F()),Math.abs(a.top-b.w()),Math.abs(a.right-b.Za()),Math.abs(a.bottom-b.xa())),10)}
function zH(a,b,c,d,e,g){for(var h=[],k=[],l=0;10>l;l++){var m=h.length;a.forEach(function(b){a.forEach(function(a){b!==a&&Yg(b,a)&&[b,a].forEach(function(a){-1===h.indexOf(a)&&h.push(a)})})});if(h.length===m)break;h.forEach(function(a){var g=b+d*Math.cos(PG(a.angle)),h=c+d*Math.sin(PG(a.angle));a.Wq(g,h);a.eb(h-e/2);a.jd().x>=b?a.kb(g):a.kb(g-a.l());a.dX={x:g,y:h}})}var l=h.filter(function(a){return a.jd().x>=b&&a.jd().y<c}),m=h.filter(function(a){return a.jd().x>=b&&a.jd().y>=c}),n=h.filter(function(a){return a.jd().x<
b&&a.jd().y<c}),p=h.filter(function(a){return a.jd().x<b&&a.jd().y>=c}),q=[l,m,n,p];q.filter(function(a){return a.length}).forEach(function(a){a.sort(function(a,b){return a.w()>b.w()?1:-1});a[0].jd().y<c&&a.reverse()});var u=0;l[0]&&m[0]&&Yg(l[0],m[0])&&(u=l[0].xa()-m[0].w());n[0]&&p[0]&&Yg(n[0],p[0])&&(u=Math.max(u,n[0].xa()-p[0].w()));q.forEach(function(a){a.forEach(function(d,h){var l=u/2,m=d.jd(),n=d.jd().x>=b?m.x+25:m.x-25,l=d.jd().y>=c?m.y+l:m.y-l,p=d.jd().x>=b?n:n-d.l();d.Wq(n,l);d.kb(p);d.eb(l-
e/2);if((l=a[h-1])&&Yg(d,l))for(l=l.jd(),l=d.jd().y>=c?l.y+e:l.y-e,d.Wq(n,l),d.eb(l-e/2),m=l-m.y,h+=1;h<a.length;h++)n=a[h],l=n.jd(),p=l.y+m,n.Wq(l.x,p),n.eb(p-e/2);k.push(AH(d,b,c,g))})});return k}function BH(a){uH.call(this,a);this.Zh=a.Zh||.55}r(BH,uH);BH.prototype.cU=function(a){a=Object.assign({},a,{Zh:this.Zh});return new $G(a)};function CH(a){a=void 0===a?{}:a;qH.call(this,a)}r(CH,qH);
CH.prototype.Lr=function(a){var b=qH.prototype.Lr.call(this,a),c=b.data[0],d=a.TE.o()/100,e=1.5*d,g=c.map(function(a){return a.Lb()});g.unshift(g[0]);var h=e;a=d;1<c.length&&(a=c[1].F()-c[0].F(),h=Math.max(Math.min(e,a/3),.5*d),a=h/e*d);c=c.map(function(a,b){return new aH({left:a.F(),top:a.w(),width:a.l(),height:a.l(),color:g[b],jb:h})});d=[];for(e=0;e<c.length-1;e++){var k=c[e],l=c[e+1];d.push(new dH({x:k.F()+k.l()/2,y:k.w()},{x:l.F()+l.l()/2,y:l.w()},l.Lb(),a))}b.data[0]=d.concat(c);return b};var DH={type:"text",transparency:0,fontFamily:O.Vd,fontSize:O.Ud},EH={type:"image",isBackground:!1,isRecolorable:!0};function FH(a){var b=a.serialize();b.backgroundColor=a.Lb();return new yC(_.extend({},EH,b))}function GH(a,b,c){var d=a.serialize();d.html=a.toString();d.justification=0!=a.Ta()?"right":"center";d.rotation=a.Ta();d.padding=a.padding;c&&(d.fontMedia=c);return new Kp(_.extend({},DH,d,b))}
function HH(a,b,c,d){var e=d.chart;this.Ow=a;this.Wi=e.chartType;this.data=e.data;this.t2=b;this.kE=c;this.Zc=e.labelTextStyle;this.HA=e.labelFontMedia;this.As=e.interpolation;this.Ir=IH(d);this.Cj=!0;GC.call(this,d);this.C().addClass("chart");this.D2=_.debounce(this.render,300)}HH.prototype=Object.create(GC.prototype);f=HH.prototype;f.constructor=GC;function FC(a){a=JSON.parse(JSON.stringify(a));a.chart.data=JH(a.chart.data);var b=KH(a);return new HH(b,FH,GH,a)}
function LH(a){var b;function c(a,b){var c=document.createElementNS("http://www.w3.org/2000/svg","g");c.setAttribute("shape-rendering","crispEdges");c.setAttribute("style","opacity: 0.15;");c.setAttribute("data-recolorable-lines","true");a.de[0].forEach(function(a){var b=document.createElementNS("http://www.w3.org/2000/svg","line"),d=Math.max(2,a.w());b.setAttribute("x1",a.F());b.setAttribute("y1",d);b.setAttribute("x2",a.Za());b.setAttribute("y2",d);b.setAttribute("stroke",a.Lb());b.setAttribute("stroke-width",
"1");b.setAttribute("vector-effect","non-scaling-stroke");c.appendChild(b)});b.appendChild(c)}var d=JSON.parse(JSON.stringify(a));b=b||new V(0,0,d.width,d.height);a=d.chart.chartType;var e=d.chart;e.data=JH(e.data);var g=KH(d),d=IH(d),e=g.Lr({TE:b,Qx:{by:[[0],[0]],sN:0,fontSize:0},color:d,Vv:e.labelTextStyle.color||MH,e4:e.idealPieRadiusFactor||.8}),h=document.createElementNS("http://www.w3.org/2000/svg","svg");h.setAttribute("width","100%");h.setAttribute("height","100%");h.setAttribute("preserveAspectRatio",
"xMaxYMax");h.setAttribute("viewBox",b.F()+" "+b.w()+" "+b.l()+" "+b.o());switch(a){case NH:c(e,h);e.data[0].forEach(function(a){var b=document.createElementNS("http://www.w3.org/2000/svg","rect");b.setAttribute("x",a.F());b.setAttribute("y",a.w());b.setAttribute("width",a.l());b.setAttribute("height",a.o());b.setAttribute("fill",a.Lb());h.appendChild(b)});break;case OH:case PH:e.Jo.forEach(function(a){var b=document.createElementNS("http://www.w3.org/2000/svg","path");b.setAttribute("d",a.He());
b.setAttribute("fill",a.Lb());h.appendChild(b)});break;case QH:c(e,h);var k=1;e.data[0].filter(function(a){return a instanceof dH}).forEach(function(a){var b=document.createElementNS("http://www.w3.org/2000/svg","line");b.setAttribute("x1",a.Dc.x);b.setAttribute("y1",a.Dc.y);b.setAttribute("x2",a.bc.x);b.setAttribute("y2",a.bc.y);b.setAttribute("stroke",a.Lb());b.setAttribute("stroke-width",.65*a.Gi);b.setAttribute("stroke-linecap","round");b.setAttribute("vector-effect","non-scaling-stroke");h.appendChild(b);
k=a.Gi});e.data[0].filter(function(a){return a instanceof aH}).forEach(function(a){var b=document.createElementNS("http://www.w3.org/2000/svg","circle");b.setAttribute("cx",a.F()+a.l()/2);b.setAttribute("cy",a.w());b.setAttribute("r",k);b.setAttribute("fill",a.Lb());b.setAttribute("stroke",a.Lb());b.setAttribute("stroke-width",.75*k);b.setAttribute("vector-effect","non-scaling-stroke");h.appendChild(b)})}return h}
function KH(a){a=a.chart;var b;b=Lb;b.QJ||(b.QJ=new of(b.config));b=b.QJ;a.iO=b.q1.bind(b);switch(a.chartType){case NH:return new qH(a);case OH:return new uH(a);case QH:return new CH(a);case PH:return new BH(a)}throw Error("Invalid chart type specified");}function IH(a){a=a.chart||{};switch(a.coloringType){case RH:if(a.interpolation&&(a=xn(a.interpolation)))return a}return SH}f.getData=function(){return JSON.parse(JSON.stringify(this.data))};f.pe=function(){return this.Ow.pe()};
f.ar=function(a){this.Ow.ar(a);this.render()};f.Ls=function(a){this.data=JSON.parse(JSON.stringify(a));this.Ow.Ls(this.data)};f.vs=function(){return[mh(this.Zc.color)]};f.bb=function(){return[mh(this.Ir(0,1))]};f.Md=function(){return this.bb().length};f.ge=function(a,b){if(b instanceof fn){switch(this.Wi){case OH:case PH:this.Ir=wn(b,1,90,0,36);break;case NH:case QH:this.Ir=this.As&&this.As.from===this.As.to?function(){return b.ra()}:wn(b,.75)}this.render({Vba:!0})}};
function TH(a){return new V(a.F(),a.w(),a.l(),a.o())}function UH(a){for(var b=TH(a).setPosition(0,0),c=a.ia().filter(function(a){return a instanceof BC}),d=0;2>d;d++){var e=c[d];e||(e=CG(b),fG(a,e,d),c[d]=e);e.viewBox=b;e.ma(b.l());e.ea(b.o())}return c}function VH(a){return function(b){AG(a,b.map(function(a){return new zG({d:a.He(),fill:a.Lb()})}));a.render()}}function WH(a,b){a=a.de[0];var c=VH(b);b.em(75);c(a)}
function XH(a,b){var c=UH(a),d=c[0],e=a.zb.data[0],g=b.data[0],c=VH(c[1]);if(a.Cj)if(e.length){a=Math.max(g.length,e.length);for(var h=0;h<a;h++){var k=g[h],l=e[h];k&&!l?e.push(k):k||e.pop()}a=LG(e);TweenMax.to(a,.3,JG(a,e,g,c,Power1.easeOut))}else a.zb=b,c(a.zb.data[0]);else c(g);WH(b,d)}
function YH(a,b){function c(){if(m.length){var a=[],c=[],k=m.filter(d),l=m.filter(e),t=n.filter(d),x=n.filter(e);g(t,k,k[0]);g(x,l,k[0]);var H=LG(k),E=mH(l),k=bH(H,k,t,function(b){c=b;p(a.concat(c))});TweenMax.to(E,.3,kH(E,l,x,function(b){a=b;p(a.concat(c))},Power1.easeOut));TweenMax.to(H,.3,k)}else h.zb=b,p(h.zb.data[0])}function d(a){return a instanceof aH}function e(a){return a instanceof dH}function g(a,b,c){for(var d=Math.max(a.length,b.length),e=0;e<d;e++){var g=a[e],h=b[e];if(g&&!h){var h=
g.clone(),k=b.length-1;g instanceof dH?-1<k?(h.bc.x=b[k].bc.x,h.bc.y=b[k].bc.y,h.Dc.x=b[k].bc.x,h.Dc.y=b[k].bc.y):(g=c.F()+c.l()/2-c.jb,h.bc.x=g,g=c.w(),h.bc.y=g,g=c.F()+c.l()/2-c.jb,h.Dc.x=g,g=c.w(),h.Dc.y=g):g instanceof aH&&(h.kb(b[k].F()),h.eb(b[k].w()),h.ma(b[k].l()),h.ea(b[k].o()));b.push(h)}else g||b.pop()}}var h=a,k=UH(a),l=k[0],m=a.zb.data[0],n=b.data[0],p=VH(k[1]);a.Cj?c():p(m=n);WH(b,l)}
function ZH(a,b){var c=UH(a),d=c[0],e=VH(d);d.em(75);e(b.Wv);e=c[1];c=a.zb.Jo;d=b.Jo;c.length||(a.zb=b);e=VH(e);if(a.Cj)if(c.length){a=Math.max(d.length,c.length);for(b=0;b<a;b++){var g=d[b],h=c[b];g&&!h?(g=g.clone(),g.setRadius(c[0].jb),c.push(g)):g||(c.pop(),g=c.length-1,d[g]&&(c[g].jh=d[g].jh))}a=VG(c);TweenMax.to(a,.3,WG(a,c,d,e,Power1.easeOut))}else a.zb=b,e(a.zb.Jo);else e(d)}
function $H(a,b,c){if(b!==c&&(b||c)){var d=c&&!b;if(!c&&b)c=b instanceof MG?a.kE(b,a.ls(),a.rM()):a.t2(b),fG(a,c,b instanceof NG?0:void 0),b.setElement(c);else if(d)c=c.getElement(),a.rj(c),a.R().rj(c,{HZ:!0}),c.C().remove(),c.remove();else{c=c.getElement();if(b instanceof MG){c.setPosition(b.F(),b.w());c.ma(b.l());c.dm(b.Ta());c.yi(0,b.ov());var d=c,e=b.toString();Jb.G.get(hg)&&(d.C().removeData("cachedLineLengths"),sC(d).html(e));c.setPosition(b.F(),b.w())}else c.sd(b),c.ax(mh(b.Lb())),c.rc(!0);
b.setElement(c);a.elements[a.elements.indexOf(c)]=c}}}function aI(a,b){var c=a.rM(),d=a.ls().fontFamily,e;c&&(e=new Xm(c));a.render();bI(Kb,d)?b&&b():cB(Kb,e,d,function(){this.render({kP:!0});b&&b()}.bind(a))}f.appendTo=function(a){GC.prototype.appendTo.call(this,a);cI(this,a)};f.dl=function(a){GC.prototype.dl.call(this,a);cI(this,a)};function cI(a,b){dI(a)&&0<a.ia().length&&a.render();a.listenTo(b,"change:background",function(){dI(this)&&this.render()})}
function dI(a){return a.Zc.color?!1:(a.Vv=a.R().If()?O.kD:O.jD,!0)}
f.render=function(a){function b(a){TweenMax.fromTo(a,.5,{autoAlpha:0},{autoAlpha:1,ease:Power1.easeIn})}a=a||{};var c,d=this.Lr();!this.zb&&eI(this);var e=this.Cj;a.kP&&(this.Cj=!1);switch(this.Wi){case OH:case PH:for(c=0;c<Math.max(this.zb.labels.length,d.labels.length);c++)$H(this,d.labels[c],this.zb.labels[c]);a.qN&&this.Cj&&b(this.C().find(".text.element"));ZH(this,d);break;case QH:for(c=0;c<Math.max(this.zb.de[0].length,d.de[0].length);c++)$H(this,d.de[1][c],this.zb.de[1][c]);for(c=0;c<Math.max(this.zb.data[0].length,
d.data[1].length);c++)$H(this,d.data[1][c],this.zb.data[1][c]);!a.qN&&this.Cj&&b(this.C().find(".text.element"));YH(this,d);break;default:for(c=0;c<Math.max(this.zb.de[0].length,d.de[0].length);c++)$H(this,d.de[1][c],this.zb.de[1][c]);for(c=0;c<Math.max(this.zb.data[0].length,d.data[1].length);c++)$H(this,d.data[1][c],this.zb.data[1][c]);!a.qN&&this.Cj&&b(this.C().find(".text.element"));XH(this,d)}this.zb=d;this.Cj=e};f.clone=function(){return FC(this.serialize())};
f.js=function(){return["copy","arrange","transparency","link","delete"]};f.NV=function(){return!0};f.Jr=function(){};f.IP=function(){};f.setSize=function(a,b,c){if(!(a<O.ly||b<O.ly)){var d=this.o();void 0!==a&&void 0!==b&&Z.prototype.setSize.call(this,a,b);c&&(a=this.o()/d,0!==a&&(a*=this.ls().fontSize,GC.prototype.XH.call(this,a),this.Zc.fontSize=a));this.C().find(".elements").length&&this.render({kP:!0})}};
f.$a=function(){GC.prototype.$a.call(this);var a=this.C().data("selectionBox");a&&(a.addClass("verticalScale"),a.addClass("horizontalScale"));(a=this.C().data("toolbar"))&&jE(a)};f.Ah=function(){Z.prototype.Ah.call(this);this.Ru=!1};f.sy=function(){return!0};f.iG=function(){return!1};f.HV=function(){return!0};f.bN=function(){return!!this.Ru};
f.serialize=function(){var a=GC.prototype.serialize.call(this);a.generatorType="CHART";var b=a.chart={};b.data=this.wi();b.labelColumn=0;b.labelTextStyle={};var c=this.ls(),d;for(d in c)b.labelTextStyle[d]=c[d];(c=bB(c.fontFamily))&&(b.labelFontMedia={id:c.id,version:c.version});b.chartType=this.Wi;(b[this.Wi.toLowerCase()]={}).spacing=this.pe();b.coloringType=RH;b=b.interpolation={};b.colorSpace="HCL";b.from=this.Ir(0,1);b.to=this.Ir(1,1);if("#aNaNaN"===b.from||"#aNaNaN"===b.from)a.invalid=!0;return a};
f.wi=function(){var a={columns:[]};this.data.forEach(function(b,c){b.forEach(function(b,e){var g=a.columns[e]||{};g.name=e?"Value":"Label";g.cells=g.cells||[];g.cells[c]=""+b;a.columns[e]=g})});return a};function JH(a){var b=[];a.columns.forEach(function(a,d){a.cells.forEach(function(a,c){b[c]=b[c]||[];b[c][d]=a})});return b}f.zV=function(a){switch(this.Wi){case OH:case PH:return{lj:2,gk:12,maxLength:16,Pd:0,$J:a.slice(0,2)};default:return{lj:2,gk:58,maxLength:16,Pd:0,$J:a.slice(0,2)}}};
f.rM=function(){var a=bB(this.ls().fontFamily);if(a)return{id:a.id,version:a.version}};f.ls=function(){return{fontFamily:this.Zc.fontFamily,fontSize:this.Zc.fontSize,bold:this.Zc.bold,italic:this.Zc.italic,color:this.Zc.color}};f.Rz=function(){return GC.prototype.Rz.call(this)};f.vQ=function(a){GC.prototype.vQ.call(this,a);this.Zc.bold=a;this.render()};f.xQ=function(a){GC.prototype.xQ.call(this,a);this.Zc.italic=a;this.render()};
f.wQ=function(a){this.elements.forEach(function(b){b instanceof Kp&&b.setColor(0,a)});this.Zc.color=a?a.ra():null;this.render()};f.WH=function(a,b,c){var d=this;GC.prototype.WH.call(this,a,function(c){c&&(d.Zc.fontFamily=a);d.render();b(c)},c)};f.XH=function(a){GC.prototype.XH.call(this,a);this.Zc.fontSize=a;this.render()};
f.uj=function(a,b,c,d){GC.prototype.uj.call(this,a,b,c,d);this.Zc.fontFamily=b.fontFamily;this.Zc.fontSize=b.fontSize;this.Zc.bold=b.bold;this.Zc.italic=b.italic;this.Zc.letterSpacing=b.letterSpacing;this.Zc.lineHeight=b.lineHeight;this.Zc.color=b.color;this.render()};function fI(a){switch(a){case OH:a=Om.PIECHART1;break;case QH:a=Om.LINECHART1;break;case PH:a=Om.DONUTCHART1;break;default:a=Om.BARCHART1}return FC(a)}
function gI(a,b){a=a.ls();var c=a.bold?"bold":"normal",d=a.italic?"italic":"",e=a.fontSize||O.Vd,g=a.fontFamily||O.Ud,h=document.createElement("canvas").getContext("2d"),k=96/72*e,l={by:[],sN:(a.lineHeight||O.Vt)/100*k,fontSize:k};h.font=d+" "+c+" "+e+"pt "+g;b.forEach(function(a){l.by.push(a.map(function(a){return Math.ceil(1.2*h.measureText(a).width)}))});return l}var NH="BAR",OH="PIE",QH="LINE",PH="DONUT",hI={uaa:NH,Laa:OH,Jaa:QH,waa:PH},RH="INTERPOLATE";function iI(a,b){a.Ow=b}
function eI(a){a.zb=a.Wi===OH||a.Wi===PH?{labels:[],Jo:[],Y3:!1,w8:0}:{de:[[],[]],data:[[],[]]};for(var b,c=a.R();b=a.elements.pop();)a.rj(b),c&&c.rj(b,{HZ:!0}),b.C().remove(),b.remove()}HH.prototype.Lr=function(){var a=gI(this,this.Ow.uV());return this.Ow.Lr({TE:TH(this),Qx:a,color:this.Ir,Vv:this.Zc.color||this.Vv||O.jD,vW:.3})};
function jI(a,b){function c(a){a=a.clone();a.mf=0;a.jh=0;return a}function d(a){a=a.clone();a.setRadius(0);return a}function e(a){a=a.clone();var b=a.xa();a.ea(0);a.top=b-a.o();return a}function g(a){var b=a.clone();a=q.indexOf(a);0!==a?(a=q[a-1],b.Dc.x=a.bc.x,b.Dc.y=a.bc.y,b.bc.x=a.bc.x,b.bc.y=a.bc.y):(b.bc.x=b.Dc.x,b.bc.y=b.Dc.y);return b}function h(a){AG(t,v);t.em(75);t.render();a=a.map(k);AG(x,a);x.render()}function k(a){return new zG({d:a.He(),fill:a.Lb()})}function l(){aI(p);b&&b();p.Cj=!0}
function m(a){return a instanceof aH}function n(a){return a instanceof dH}var p=a;a.Cj=!1;eI(a);a.render();var q,u,v,z;u=UH(a);var t=u[0],x=u[1];switch(a.Wi){case PH:v=a.zb.Wv.map(k);q=a.zb.Jo.reverse().map(c);u=a.zb.Jo.reverse();z=VG(q);TweenMax.staggerTo(z,.5,WG(z,q,u,h,Power1.easeOut),.5/Math.max(a.getData().length,1),l);break;case OH:v=a.zb.Wv.map(k);q=a.zb.Jo.map(d);u=a.zb.Jo;z=VG(q);TweenMax.staggerTo(z,.5,WG(z,q,u,h,Back.easeOut.config(1.4)),.5/Math.max(z.length,1),l);break;case NH:q=a.zb.data[0].map(e);
u=a.zb.data[0];v=a.zb.de[0].map(k);z=LG(q);TweenMax.staggerTo(z,.5,JG(z,q,u,h,Back.easeOut.config(1.4)),.5/Math.max(z.length,1),l);break;case QH:q=a.zb.data[0];u=a.zb.data[0];v=a.zb.de[0].map(k);var H=[],E=[],L=q.filter(n),L=L.map(g),J=q.filter(m),J=J.map(d),Q=u.filter(n),S=u.filter(m),N=.75/Math.max(J.length,1),ha=new TimelineMax({onComplete:l});J.forEach(function(a,b){L[b]&&(a=L[b].Hm(),ha.to([a],N,kH([a],[L[b]],[Q[b]],function(a){H[b]=a[0]},Power0.easeNone)));a=J[b].Hm();var c=bH([a],[J[b]],[S[b]],
function(a){E[b]=a[0];h(H.concat(E))});ha.to([a],N,c,"-\x3d"+N)});break;default:l()}}HH.prototype.lv=function(){return kI};function lI(a,b){var c=JSON.parse(JSON.stringify(b)),d=c.chart;d.data=a.getData();iI(a,KH(c));a.Wi=d.chartType;a.Ir=IH(b);a.As=d.interpolation;a.Zc=d.labelTextStyle;a.HA=d.labelFontMedia;TweenMax.to(a.C(),.3,{opacity:0,ease:Power1.easeOut,onComplete:function(){jI(a);TweenMax.to(a.C(),.5,{opacity:1,ease:Power1.easeOut})}})}
var SH=wn(nn("#00c4cc")),MH="#fff",kI=[6,8,10,12,14,16,18,21,24,28,32,36];function mI(a){Z.call(this,a);this.Hh=!0;this.rN="vertical"===a.align;this.mW=!this.rN;this.C().addClass("guide").addClass(a.align)}mI.prototype=Object.create(Z.prototype);f=mI.prototype;f.constructor=mI;f.lp=function(){return!1};f.Gy=function(){return!1};f.OD=function(){return!0};f.activate=function(){this.C().removeClass("inactive")};f.rE=function(){this.C().addClass("inactive")};f.eb=function(a){this.mW&&Z.prototype.eb.call(this,a)};f.kb=function(a){this.rN&&Z.prototype.kb.call(this,a)};
f.setPosition=function(a,b){this.rN&&Z.prototype.kb.call(this,a);this.mW&&Z.prototype.eb.call(this,b)};function DC(a){Z.call(this,a);this.Hh=!0;this.placeholder=a.placeholder in nI?a.placeholder:"DEFAULT";this.C().addClass("fixed").css("backgroundImage","url("+nI[this.placeholder]+")")}DC.prototype=Object.create(Z.prototype);DC.prototype.constructor=DC;
var nI={CARD:"https://static.canva.com/static/images/furniture_card_fold_line_center.svg",CARD_VERTICAL:"https://static.canva.com/static/images/furniture_card_fold_line_center_vertical.svg",DEFAULT:"https://static.canva.com/static/images/placeholder.jpg",FACEBOOK:"https://static.canva.com/static/images/furniture_facebook_avatar.svg",FUSION_SPINE_GUIDE:"https://static.canva.com/static/images/furniture_fusion_spine_guide.svg",FUSION_VERTICAL_DANGER_GUIDE:"https://static.canva.com/static/images/furniture_fusion_vertical_danger_guide.svg",FUSION_HORIZONTAL_DANGER_GUIDE:"https://static.canva.com/static/images/furniture_fusion_horizontal_danger_guide.svg",FUSION_HORIZONTAL_COVER_DANGER_GUIDE:"https://static.canva.com/static/images/furniture_fusion_horizontal_cover_danger_guide.svg",
GPLUS_CARD:"https://static.canva.com/static/images/furniture_gplus_card.svg",TWITTER_AVATAR:"https://static.canva.com/static/images/furniture_twitter_avatar.svg",TWITTER_MENU:"https://static.canva.com/static/images/furniture_twitter_menu.svg",TWITTER_STATS:"https://static.canva.com/static/images/furniture_twitter_stats.svg",BROCHURE_FOLD_LINE_LEFT:"https://static.canva.com/static/images/furniture_trifold_brochure_fold_line_left.svg",BROCHURE_FOLD_LINE_CENTER:"https://static.canva.com/static/images/furniture_trifold_brochure_fold_line_center.svg",BROCHURE_FOLD_LINE_RIGHT:"https://static.canva.com/static/images/furniture_trifold_brochure_fold_line_right.svg",BROCHURE_BLEED_AREA:"https://static.canva.com/static/images/furniture_trifold_brochure_bleed_area.svg",
PHONE:"https://static.canva.com/static/images/furniture_phone.svg",TABLET:"https://static.canva.com/static/images/furniture_tablet.svg",BROWSER:"https://static.canva.com/static/images/furniture_browser.svg"};f=DC.prototype;f.serialize=function(){return{type:"fixed"}};f.$a=function(){};f.lp=function(){return!1};f.OD=function(){return!1};f.Gy=function(){return!1};function xC(a,b){this.index=a.index;this.Qa=b;this.ba=a.mediaId;this.ca=a.mediaVersion;this.origin=a.origin?new Vm(a.origin):null;this.Ba=vm(a.imageBox);this.KY=this.NY=this.MY=this.LY=0;this.MB=!0;this.ya=a.flipOrientation|0;this.kG=0<this.Qa.parents(".svg.element").length;this.VF=!1;this.backgroundColor=null;a.backgroundColor&&(this.backgroundColor=mh(a.backgroundColor));this.hb=void 0===a.mediaApproved?!0:a.mediaApproved;pE(this,this.hb)}f=xC.prototype;
f.serialize=function(){var a={type:"image",index:this.index,mediaId:this.ba,mediaVersion:this.ca,imageBox:this.Ba.serialize(),flipOrientation:this.ya,mediaApproved:this.hb};this.backgroundColor&&(a.backgroundColor=this.backgroundColor.serialize());var b=this.origin&&this.origin.serialize();b&&(a.origin=b);return a};f.C=function(){return this.Qa};
function rE(a,b,c,d){var e=b!==a.ba||c!==a.ca;if(a.VF&&!e)return d&&d(!0),a;e&&(a.ba=b,a.ca=c,a.origin=null,pE(a,!0));a.VF=!0;a.MB=!0;a.kG?a.ba&&a.ca&&(b=a.Qa.find("image.placeholder"),a.Qa.get(0).classList.add("filled"),vD({Cn:b,ba:a.ba,ca:a.ca,nw:d})):a.ba&&a.ca&&(b=$("\x3cimg\x3e"),b.addClass("placeholder"),a.Qa.find(".placeholder").remove(),a.Qa.append(b),a.Qa.parent(".item").addClass("filled"),vD({Cn:b,ba:a.ba,ca:a.ca,nw:d}));return a}function qE(a,b){a.origin=b;return a}
function sE(a){a.VF=!1;pE(a,!0);a.ba=void 0;a.ca=void 0;a.origin=null;a.kG?(a.Qa.get(0).classList.remove("filled"),a.Qa.find("image.placeholder").removeAttr("crossorigin").removeData("mediaId").removeData("mediaVersion").attr("xlink:href",O.Yo)):(a.Qa.parent(".item").removeClass("filled"),a.Qa.find(".placeholder").remove(),a.Qa.append('\x3cdiv class\x3d"placeholder"\x3e\x3c/div\x3e'));return a}f.ln=function(){return this.Ba.clone()};function qD(a,b){a.Ba=b.clone();a.MB=!0;oI(a);return a}
f.ex=function(a){var b=a^this.ya;Km(this.Ba,pI(this),b);this.MB=!0;this.ya=a;oI(this);return this};f.ut=function(a){this.Aw();this.ex(a);return this};f.lh=function(){return this.backgroundColor};f.ax=function(a){this.backgroundColor=a;qI(this);return this};function JE(a){a.backgroundColor=null;a.Qa.find(".backgroundColor.placeholder").replaceWith('\x3cdiv class\x3d"placeholder"\x3e\x3c/div\x3e');return a}function kE(a){return!(!a.ba||!_.isNumber(a.ca))}f.isEmpty=function(){return!(kE(this)||this.lh())};
f.Kc=function(){return kE(this)?Hb.Kc(this.ba,this.ca):null};function pE(a,b){(a.hb=b)?a.Qa.get(0).classList.remove("unapproved"):a.Qa.get(0).classList.add("unapproved");return a}f.YC=function(a){var b=this.Ob();null!=this.backgroundColor||null==b||aq(a,this.Ob())||(sE(this),pE(this,!1))};f.Ob=function(){return void 0!==this.ba&&void 0!==this.ca?new Xm({id:this.ba,version:this.ca}):null};f.cm=function(a,b){return new P(function(c){this.ba=a;this.ca=b;this.update(c)}.bind(this))};
f.update=function(a){var b=this.hb;void 0!==this.ba&&void 0!==this.ca?(rE(this,this.ba,this.ca,a),oI(this)):(sE(this),qI(this),a&&a(!0));pE(this,b)};f.clear=function(){sE(this);JE(this)};function qI(a){if(a.backgroundColor){sE(a);var b=$('\x3cdiv class\x3d"backgroundColor placeholder"\x3e\x3c/div\x3e');b.css("background-color",a.backgroundColor.ra());a.Qa.find(".placeholder").replaceWith(b)}else a.clear()}
function oI(a){if(a.kG){var b=a.Qa.closest(".element").data("canvaElement"),c=a.Qa.find("image.placeholder"),d=pI(a);a=a.Ba.clone();a.translate(d.F(),d.w()).scale(1/hE(b));c.attr("width",a.l()).attr("height",a.o()).attr("x",a.F()).attr("y",a.w())}else{b=pI(a);c=b.l();d=b.o();if(a.MB)a.LY=a.Ba.F()/c,a.MY=a.Ba.w()/d,a.NY=a.Ba.l()/c,a.KY=a.Ba.o()/d,a.MB=!1;else{var e=a.Ba.di();a.Ba.kb(c*a.LY);a.Ba.eb(d*a.MY);a.Ba.ma(c*a.NY);a.Ba.ea(d*a.KY);var g=e/a.Ba.di(),e=c/2,h=d/2,k=1;1>g?(Am(a.Ba,e,h,g,1),g=Math.max(0,
a.Ba.F(),c-a.Ba.Za()),k=c/(c-2*g)):1<g&&(Am(a.Ba,e,h,1,1/g),g=Math.max(0,a.Ba.w(),d-a.Ba.xa()),k=d/(d-2*g));1<k&&Am(a.Ba,e,h,k)}mD(a.Qa,null,a.ya);c=a.Ba.clone();Km(c,b,a.ya);c.scale(W);c.round();a.Qa.find("img.placeholder").css(iD(c))}}function pI(a){var b=a.Qa.closest(".element").data("canvaElement");return b?b.rn(a.index):wm.clone()}f.Aw=function(){var a=this.Qa,b=O.wS*this.Ba.l();a.parent().css("perspective",b+"px");a.addClass("flipping");a.one("transitionend",function(){a.removeClass("flipping")})};function aE(a){this.RR=a.valign;this.Fj=vm(a.box);this.Lg=this.Fj.clone();this.mt=a.resizeHorizontal;this.po=a.resizeVertical;this.contents=a.contents;this.SR=[];this.c4=[];this.scale=1;this.Bv=rI(this);this.bW=this.Fj.o()-sI(this);tI(this);this.ja();var b=this;this.contents.forEach(function(a){b.listenTo(a,"change:width",b.ja);b.listenTo(a,"change:height",b.ja)})}aE.prototype.trigger=Backbone.Events.trigger;aE.prototype.listenTo=Backbone.Events.listenTo;aE.prototype.stopListening=Backbone.Events.stopListening;
_.extend(aE.prototype,Backbone.Events);f=aE.prototype;f.remove=function(){var a=this;this.stopListening(this);this.contents.forEach(function(b){a.stopListening(b)})};f.ma=function(a){gE(a,this.l())||(this.Fj.ma(a),this.ja(),this.trigger("change:width",this),this.trigger("change",this))};f.l=function(){return this.Fj.l()};f.ea=function(a){gE(a,this.o())||(this.Fj.ea(a),this.ja(),this.trigger("change:height",this),this.trigger("change",this))};f.o=function(){return this.Fj.o()};
f.setSize=function(a,b,c){var d=this.l()!==a,e=this.o()!==b;if(d||e)this.Fj.setSize(a,b),this.scale!==c&&(this.scale=c,uI(this)),this.ja(),d&&this.trigger("change:width",this),e&&this.trigger("change:height",this),this.trigger("change",this)};f.Wp=function(){return this.Fj.Wp()};f.sd=function(a,b){this.Fj.kb(a.F()).eb(a.w());this.setSize(a.l(),a.o(),b)};f.qa=function(){return this.Fj.clone()};f.Wz=function(){return this.Lg.clone()};
function rI(a){a=a.contents.map(function(a){return a.qa()});return ul(a.map(function(a){return a.w()}))}function sI(a){a=a.contents.map(function(a){return a.qa()});return vl(a.map(function(a){return a.xa()}))}function vI(a){var b=rI(a);return sI(a)-b}function wI(a){a=a.contents.slice(0);a.sort(function(a,c){a=a.Wz();c=c.Wz();return a.w()<c.w()?-1:a.w()>c.w()?1:0});return a}
function tI(a){a.SR=[];if(!(2>a.contents.length)){var b=wI(a);a.contents.forEach(function(c){var d=b.indexOf(c);d==a.contents.length-1?d=0:(c=c.qa(),d=b[d+1].qa().w()-c.xa());a.SR.push(d)})}}function xI(a,b){a.contents.forEach(function(c){var d=c.qa();d.translate(0,b);a.stopListening(c);c.sd(d,a.scale);a.listenTo(c,"change:width",a.ja);a.listenTo(c,"change:height",a.ja)})}
function uI(a){a.contents.forEach(function(b){a.stopListening(b);b.scale(a.scale);a.listenTo(b,"change:width",a.ja);a.listenTo(b,"change:height",a.ja)})}
f.ja=function(){var a=this;this.contents.forEach(function(b){a.stopListening(b);if(!b.DC)if(b.hL)yI(b);else{var c=b.qa(),d=zI(b);c.ma(d.width);c.ea(d.height);b.sd(c)}});var b=0===this.c4.length;this.contents.forEach(function(c){if(a.mt&&b){var d=c.qa();d.l()!==a.l()&&(d.ma(a.l()),c.sd(d,a.scale))}});var c=wI(this);c.forEach(function(b,d){if(0!==d){d=c[d-1];var e=a.contents.indexOf(d),g=a.SR[e],e=b.qa();d=d.qa().xa()+g*a.scale;e.eb(d);b.sd(e,a.scale)}});var d=vI(this),e=this.Fj.o(),g;"CENTER"==this.RR?
(g=this.Bv+this.bW,g=this.Bv+(e-d-g)/2,g-=rI(this),xI(this,g),d>e&&this.po&&(g=-rI(this),xI(this,g),this.ea(d))):"TOP"==this.RR?this.Bv+d>e&&this.po&&this.ea(this.Bv+d):"BOTTOM"==this.RR&&(g=this.Bv+this.bW,g=this.Bv+(e-d-g),g-=rI(this),xI(this,g),d>e&&this.po&&(g=-rI(this),xI(this,g),this.ea(d)));this.contents.forEach(function(b){a.listenTo(b,"change:width",a.ja);a.listenTo(b,"change:height",a.ja)})};
function $D(a,b,c){this.Jk=a;this.Lg=a.data("rect").clone().translate(-b,-c);this.oz=!!a.data("dynamicWidth");this.SE=!!a.data("dynamicHeight");this.hL=!!a.data("dynamicFontSize");this.ko=a.data("defaultFontSize");this.hL&&(this.SE=this.oz=!1);this.oz&&this.SE&&(this.oz=!1);this.Kb={UI:0,ay:0,Gf:0,Sd:1};this.DC=!1}$D.prototype.trigger=Backbone.Events.trigger;$D.prototype.listenTo=Backbone.Events.listenTo;$D.prototype.stopListening=Backbone.Events.stopListening;_.extend($D.prototype,Backbone.Events);
var cE="center",dE="right";f=$D.prototype;f.C=function(){return this.Jk};f.Wz=function(){return this.Lg.clone()};f.qa=function(){var a=this.Lg.clone();a.eb(this.Kb.UI+this.Lg.w()*this.Kb.Sd).kb(this.Lg.F()*this.Kb.Sd).ma(this.Kb.ay+a.l()*this.Kb.Sd).ea(this.Kb.Gf+a.o()*this.Kb.Sd);return a};
f.sd=function(a,b){void 0===b&&(b=this.Kb.Sd);var c=this.qa(),d=a.clone().scale(W).round();this.Jk.css(d.serialize());AI(this);this.Kb.Sd=b;this.Kb.UI=a.w()-this.Lg.w()*this.Kb.Sd;this.Kb.ay=a.l()-this.Lg.l()*this.Kb.Sd;this.Kb.Gf=a.o()-this.Lg.o()*this.Kb.Sd;b=!gE(c.l(),a.l());d=!gE(c.o(),a.o());b&&this.trigger("change:width",this,a.l()-c.l());d&&this.trigger("change:height",this,a.o()-c.o());(b||d)&&this.trigger("change",this)};
f.scale=function(a){this.Kb.UI*=a/this.Kb.Sd;this.Kb.ay*=a/this.Kb.Sd;this.Kb.Gf*=a/this.Kb.Sd;this.Kb.Sd=a};function AI(a){if(a.Jk.hasClass("text")){var b=a.qa(),c=a.Jk.children(".inner");c.css("width",b.l()).css("height","");var d=a.Jk.height();a=c.height();b=Math.round(b.l()*(W-1)*.5);d=Math.ceil(d/2)-Math.floor(a/2);c.css("height",a).css("position","absolute").css("transform","translate("+b+"px, "+d+"px) scale("+W+")")}}
function yI(a){if(!a.DC){var b=BI(a),c=a.Jk.data("canvaElement"),d=a.Jk.data("textIndex");a.DC=!0;c.ve(d,b);a.DC=!1;AI(a)}}function VD(a){var b;if(!a.DC)if(a.hL)yI(a);else{var c=a.qa();b=zI(a);var d=b.width;b=b.height;a.oz&&(d=Math.max(d,a.Lg.l()*a.Kb.Sd));a.SE&&(b=Math.max(b,a.Lg.o()*a.Kb.Sd));c.ma(d);c.ea(b);a.sd(c)}}
function BI(a){function b(a,b,d){var m="width"==a?b.width:b.height;a="width"==a?e:g;var n=m.call(b);d/=n/a;b.css("font-size",d*O.Oi+"%");n=m.call(b);if(0==n)return c;if(n>a)for(;n>a&&!(d*=.95,b.css("font-size",d*O.Oi+"%"),n=m.call(b),n<a||8>d););else if(n<a)for(;n<a;)if(d/=.95,b.css("font-size",d*O.Oi+"%"),n=m.call(b),n>a||d>c){d*=.95;break}return d=Math.max(Math.min(c,d),O.gJ)}var c=a.ko*a.Kb.Sd,d=parseFloat(a.Jk.data("fontSize"))*a.Kb.Sd,e=Math.floor(a.Kb.ay+a.Lg.l()*a.Kb.Sd),g=Math.floor(a.Kb.Gf+
a.Lg.o()*a.Kb.Sd);a=a.Jk.clone();a.addClass("element").appendTo("#canvaDocument \x3e .inner").css("width","").css("height","");a.children(".inner").css("width","").css("height","").css("transform","").css("position","").css("top","");d=b("width",a,d);a.css("font-size",d*O.Oi+"%");a.height()>g&&(a.css("width",a.width()),d=b("height",a,d));a.remove();return d}
function zI(a){function b(a,b,c){var d="height"===b?c:"";c="width"===b?c:"";a=a.clone();"width"===b&&a.css("white-space","nowrap");a.addClass("element").appendTo("#limbo").css("width",d).css("height",c);d=a.children(".inner").css("width",d).css("height",c).css("transform","").css("position","").css("top","");Bf($(d));b=a.get(0).getBoundingClientRect()[b];a.remove();return b}var c=a.Kb.ay+a.Lg.l()*a.Kb.Sd,d=a.Kb.Gf+a.Lg.o()*a.Kb.Sd,e=a.Jk;a.oz&&(c=b(e,"width",d));a.SE&&(d=b(e,"height",c));return{width:c,
height:d}};function CI(a){for(var b,c=/(.*['"<])?([^'">]+)(['">].*)?/g;b=c.exec(a);)if(b=b[2].trim(),DI(b))return b}function DI(a){return/^[^@]+@[^@]+\.[^@]+$/.test(a)&&!/[ ,<>'"]/.test(a)};function EI(){this.N=Ib;this.path="/login"};function FI(){}r(FI,Error);function GI(a,b,c){this.id=a;this.length=b;this.name=c}GI.prototype.u=function(){return this.id};GI.prototype.getLength=function(){return this.length};GI.prototype.getName=function(){return this.name};function HI(a,b,c,d){this.id=a;this.name=b;this.ud=d;this.R7=c}HI.prototype.u=function(){return this.id};HI.prototype.getName=function(){return this.name};HI.prototype.re=function(){return this.ud};HI.prototype.ql=function(){return this.R7};function II(a,b,c){this.height=a;this.url=b;this.width=c}II.prototype.o=function(){return this.height};II.prototype.oa=function(){return this.url};II.prototype.l=function(){return this.width};function JI(a){this.N=a.N;this.QW=a.QW;this.vJ=a.config.vJ;this.ds=null}var KI={v3:function(a,b){var c=[];b.permissions.data.forEach(function(a){"granted"==a.status&&c.push(a.permission)});this.permissions=c},param:"permissions"};
JI.prototype.init=function(){var a=this,b,c;b=this;return(c=window.facebookSdkPromise)?c:c=window.facebookSdkPromise=new P(function(c,e){a.kQ=function(b){LI(a);e(b)};window.fbAsyncInit=function(){FB.init({version:"v2.11",appId:b.vJ,channelUrl:"//"+window.location.hostname+"/static/channel.html",status:!0,xfbml:!1});LI(a);c(a)};MI(a)})};JI.prototype.kQ=function(){LI(this)};function LI(a){document.getElementById("facebook-jssdk").removeEventListener("error",a.kQ)}
function MI(a){var b,c=document.getElementsByTagName("script")[0];document.getElementById("facebook-jssdk")||(b=document.createElement("script"),b.id="facebook-jssdk",b.src="//connect.facebook.com/en_US/sdk.js",b.addEventListener("error",a.kQ),c.parentNode.insertBefore(b,c))}function NI(){var a;a=window.facebookSdkPromise;return!!a&&a.isFulfilled()}
function OI(a,b){return new P(function(c,d){PI(a).then(function(e){e=e.permissions;var g=_.difference(b,e);a.ds&&a.ds.Bca(e);g.length?d():c()}).catch(d)})}
function PI(a){var b=[KI];return new P(function(c,d){a.getAuthResponse().then(function(a){for(var g=[],h=0;h<b.length;h++){var k=b[h];k.param&&g.push(k.param)}g=g.join(",");FB.api("/me?return_ssl_resources\x3d1\x26fields\x3d"+encodeURIComponent(g),function(g){if("error"in g)d("FB_API_ERROR");else{for(var h={},k=0;k<b.length;k++)b[k].v3.call(h,a,g);c(h)}})}).catch(function(b){a.ds=null;d(b)})})}
JI.prototype.getAuthResponse=function(){return new P(function(a,b){FB.getAuthResponse()?a(FB.getAuthResponse()):FB.getLoginStatus(function(c){"connected"==c.status?a(c.authResponse):b("UNAUTHORIZED")})})};JI.prototype.La=function(){return this.ds};
function QI(a){var b=["email","public_profile","user_photos"];return new P(function(c,d){function e(b){a.ds=null;d(b)}function g(g){g.authResponse&&g.status?OI(a,b).then(c).catch(e):d("FB_API_ERROR")}var h=_.difference(b,a.ds?a.ds.permissions:[]);0<h.length?FB.login(g,{scope:h.join(",")}):OI(a,b).then(c).catch(e)})}function RI(a){return OI(a,["email","public_profile","user_photos"])}
function SI(a){if(!NI())throw new FI;var b={fields:"id,name,count"};void 0!==a&&(b.offset=a);b.limit=10;return new P(function(a,d){FB.api("/me/albums?return_ssl_resources\x3d1",b,function(b){"error"in b?d("FB_API_ERROR"):(b=b.data.map(function(a){return new GI(a.id,a.count||0,a.name)}),a(b))})})}
function TI(a,b,c){if(!NI())throw new FI;var d={fields:"id,name,height,width,source,picture,images"};void 0!==b&&(d.offset=b);void 0!==c&&(d.limit=c);return new P(function(b,c){FB.api("/"+encodeURIComponent(a)+"/photos?return_ssl_resources\x3d1",d,function(a){"error"in a?c("FB_API_ERROR"):(a=a.data.map(function(a){var b=a.height,c=a.width,d=a.source,e=b/4.6,g=c/4.6,h=a.picture,v=a.images.filter(function(a){return a.source===h});0<v.length&&(e=v[0].height,g=v[0].width);v=a.images.sort(function(a,b){return b.height-
a.height})[0];if(v.width>c||v.height>b)b=v.height,c=v.width,d=v.source;return new HI(a.id,a.name,new II(b,d,c),new II(e,h,g))}),b(a))})})}
function UI(a,b){return new P(function(c,d){function e(){return m.reduce(function(a,b){return a+b.getLength()},0)}function g(c){var k;m=m.concat(c);c=0<c.length&&10>=c.length;k=e()<a+b;c&&k?SI(m.length).then(g).catch(d):h()}function h(){var c=0,e=m.filter(function(b){c+=b.getLength();return c>a}),g=m.filter(function(a){return-1===e.indexOf(a)}).reduce(function(a,b){return a+b.getLength()},0),h=[],n=0;e.forEach(function(c,d){var e=0===d?a-g:0;d=Math.min(b,c.getLength()-e);n<b&&(c=TI(c.u(),e,d).tap(k),
h.push(c));n+=d});P.all(h).then(l).catch(d)}function k(a){n=n.concat(a)}function l(){c(n)}var m=[],n=[];if(!NI())throw new FI;SI(0).then(g).catch(d)})}function VI(){this.vJ=C("appId",window.facebookConfig)};function WI(a){this.N=a}WI.prototype.PA=function(a,b){var c=b.nM(),d=b.$d(),e=b.Mb(),g=b.kM();a="/vfolders/"+a+b.wc()+"?"+(c?"filter\x3d"+encodeURIComponent(c):"")+(d?"\x26limit\x3d"+encodeURIComponent(String(d)):"")+(e?"\x26continuation\x3d"+encodeURIComponent(e):"")+(g?"\x26decorations\x3d"+encodeURIComponent(g.join(",")):"");return sj(this.N,a).get(0).then(XI)};function YI(a,b){var c=b.ka();return a.PA("brands/"+(c?encodeURIComponent(c):"~"),b)}
function ZI(a,b){var c=b.ka(),d=b.La();return a.PA("brands/"+(c?encodeURIComponent(c):"~")+"/users/"+(d?encodeURIComponent(d):"~"),b)};function $I(){this.content=null}$I.prototype=new wk;$I.prototype.getContent=function(){return this.content};function aJ(a){a=a.content;var b=a.elements;return b&&1===b.length&&"grid"===b[0].type?0>=b[0].top&&0>=b[0].left&&b[0].width>=a.width&&b[0].height>=a.height&&(!b[0].contents||0===b[0].contents.length):!1}function bJ(){}f=bJ.prototype;f.zj=function(a){this.brand=a;return this};f.ka=function(){return this.brand||null};f.Ut=function(a){this.user=a;return this};
f.La=function(){return this.user||null};f.Hk=function(a){this.folder=a;return this};f.wc=function(){return this.folder};function cJ(a,b){a.filter=b;return a}f.nM=function(){return this.filter};f.Aj=function(a){this.continuation=a;return this};f.Mb=function(){return this.continuation||null};f.Vg=function(a){this.limit=a;return this};f.$d=function(){return this.limit};f.kM=function(){return this.decorations};function dJ(){this.items=[];this.folders=this.continuation=null}dJ.prototype.Cf=function(){return this.items};
dJ.prototype.Mb=function(){return this.continuation};dJ.prototype.Np=function(){return this.folders};function XI(a){if(!a)return null;a=$.extend(new dJ,a);a.items&&(a.items=a.items.map(lk));a.folders&&(a.folders=a.folders.map(Uj));return a};function eJ(a,b){this.Va=a;this.J=b}eJ.prototype.Jb=function(){var a=this.Va.getName(),b=this.Va.qe();if(a)return a;if(b){if("LOGOS"===b)return this.J.format("objectPanelUploadsPanelSystemFolderLogos");if("UNFOLDERED"===b)return this.J.format("objectPanelUploadsPanelSystemFolderUnfoldered");throw Error("unrecognised system folder");}return this.Va===bk?this.J.format("objectPanelUploadsPanelUploadsFolder"):this.Va===ck?Ud(this.J):this.J.format("objectPanelUploadsPanelUntitledFolder")};function LE(a){this.name=a||"Normal";this.Zf=this.vignette=this.sf=this.saturation=this.contrast=this.brightness=this.blur=0;this.Gh=50}var fJ=new LE,gJ=new LE("halftone");
function hJ(a){var b=a.match(/([a-z0-9]{2})/gi),c=new LE;if("halftone"===a)return gJ;c.brightness=parseInt(b[0],16)-100;c.contrast=parseInt(b[1],16)-100;c.saturation=parseInt(b[2],16)-100;c.sf=parseInt(b[3],16)-100;c.blur=parseInt(b[4],16)-100;c.vignette=parseInt(b[5],16);c.Zf=parseInt(b[6],16)-100;c.Gh=7<b.length?parseInt(b[7],16):fJ.Gh;return c}function iJ(a){a=a.toLowerCase();return"tint"!==a&&"name"!==a}
function jJ(a,b,c){b=Math.round((b||0)*c);return"vignette"===a||"tintAmount"===a?Math.min(100,Math.max(0,b)):Math.min(100,Math.max(-100,b))}function kJ(a,b){var c=_.findWhere(lJ,{name:a.name});_.chain(c).keys().filter(iJ).each(function(a){this.VH(a,jJ(a,c[a],b))}.bind(a))}function mJ(a){var b=new LE;b.Qh(a.serialize());b.blur&&(b.blur*=.5);b.brightness&&(b.brightness*=.5);b.contrast&&(b.contrast*=.6);b.saturation&&0<b.saturation&&(b.saturation*=.8);b.vignette&&(b.vignette*=.7);return b}f=LE.prototype;
f.Qh=function(a){a&&(this.name=a.name||fJ.name,this.blur=a.blur||fJ.blur,this.brightness=a.brightness||fJ.brightness,this.contrast=a.contrast||fJ.contrast,this.saturation=a.saturation||fJ.saturation,this.sf=a.tint||fJ.sf,this.vignette=a.vignette||fJ.vignette,this.Zf=a.xpro||fJ.Zf,this.Gh=_.isNumber(a.tintAmount)?a.tintAmount:fJ.Gh)};
function nJ(a,b){function c(c){return a[c]!==b[c]}a=void 0===a?fJ:a;b=void 0===b?fJ:b;return null===a&&null===b?!0:null===a||null===b?!1:0===Object.keys(a).filter(c).length&&0===Object.keys(b).filter(c).length}
f.VH=function(a,b){switch(a){case "brightness":return this.brightness=b,!0;case "saturation":return this.saturation=b,!0;case "contrast":return this.contrast=b,!0;case "blur":return this.blur=b,!0;case "tint":return this.sf=b,!0;case "xpro":case "xprocess":return this.Zf=b,!0;case "vignette":return this.vignette=b,!0;case "tintAmount":return this.Gh=b,!0;default:return!1}};
f.getByName=function(a){switch(a){case "brightness":return this.brightness;case "saturation":return this.saturation;case "contrast":return this.contrast;case "blur":return this.blur;case "tint":return this.sf;case "xpro":case "xprocess":return this.Zf;case "vignette":return this.vignette;case "tintAmount":return this.Gh;default:throw Error("unknown filter property name: "+a);}};f.jN=function(){return null!==oJ(this)};
f.serialize=function(){if(nJ(this,fJ))return null;var a={};this.name&&(a.name=this.name);this.blur&&(a.blur=this.blur);this.brightness&&(a.brightness=this.brightness);this.contrast&&(a.contrast=this.contrast);this.saturation&&(a.saturation=this.saturation);this.sf&&(a.tint=this.sf);this.vignette&&(a.vignette=this.vignette);this.Zf&&(a.xpro=this.Zf);_.isNumber(this.Gh)&&(a.tintAmount=this.Gh);return a};
function oJ(a){var b=_.findWhere(lJ,{name:a.name});if(null===b)return null;var c=pJ(a,b);return null===c?null:_.all(b,function(a,e){return iJ(e)?1>=Math.abs(this.getByName(e)-jJ(e,b[e],c)):!0}.bind(a))?c:null}function pJ(a,b){var c=0,d=null;_.each(b,function(a,b){iJ(b)&&Math.abs(a)>=Math.abs(c)&&100>Math.abs(this.getByName(b))&&(c=a,d=b)}.bind(a));return 0===c?null:a.getByName(d)/c}
f.ra=function(){return[this.brightness+100,this.contrast+100,this.saturation+100,this.sf+100,this.blur+100,this.vignette,this.Zf+100,this.Gh].map(function(a){a=Math.round(a).toString(16);1==a.length&&(a="0"+a);return a}).join("")};
function qJ(a,b){a-=200/7;0>a&&(a=200+a);var c,d;a=360*a/200/360;c=1;d=.5;if(0==c)d=c=a=d;else{var e=.5>d?d*(1+c):d+c-d*c,g=2*d-e;d=zn(g,e,a+1/3);c=zn(g,e,a);a=zn(g,e,a-1/3)}a=[Math.round(255*d),Math.round(255*c),Math.round(255*a)];return{color:{r:a[0],ll:a[1],b:a[2]},ep:7+.14*(b-50)}}
function rJ(a){function b(b){return parseFloat((b*a/-100).toFixed(2))}if(0<a){var c=function(b){return parseFloat((b*a/100).toFixed(2))},d=[0,.2,0,-.1,0].map(c),e=[0,.1,0,-.1,0].map(c),c=[.2,0,.2].map(c);return{red:[[0,0],[.3,.3-d[1]],[.7,.7-d[3]],[1,1]],green:[[0,0],[.25,.25-e[1]],[.75,.75-e[3]],[1,1]],blue:[[0,c[0]],[0+2/3*.5,c[0]+2/3*(.5-c[0])],[1+2/3*-.5,1-c[2]+2/3*(.5-(1-c[2]))],[1,1-c[2]]]}}d=[0,.2,.5,-.05].map(b);e=[0,-.15,0,0].map(b);c=[0,-.01,0,.3].map(b);return{red:[[0,0],[.3,.3-d[1]],[.7,
.7-d[2]],[.95,.95-d[3]]],green:[[0,0],[.25,.25-e[1]],[.6,.6],[1,1]],blue:[[0,0],[.3,.3-c[1]],[.5,.5],[1,1-c[3]]]}};function sJ(a){this.filter=new LE;this.fq=this.DP=this.Ij=!1;this.QE={};this.c3="";this.Oc=a;this.DK="print"==zC?yD:Lg;this.WQ=null;this.wA=50}function vC(a,b){var c=new LE;b=new sJ(b);a&&c.Qh(a);KE(b,c);return b}f=sJ.prototype;f.jN=function(){return this.filter.jN()};f.Ds=function(){return this.fq};f.initialize=function(a){function b(){c.fq=!0;a&&a()}var c=this;!kE(this.Oc)||this.fq||nJ(this.filter,fJ)?b():AD(this,b)};function tJ(a){a.bi||(a.bi=new uJ(window,a.Oc,a.DK),a.bi.update(!0))}
f.update=function(a,b){var c=this;if(this.Ij)if(this.WQ=CD(this),this.trigger("change"),this.Oc.isEmpty())this.bi&&(this.bi.remove(),this.bi=null),this.Ij=!1,b&&b();else{this.bi||(this.bi=new uJ(window,this.Oc,this.DK));var d=!!this.DP;vJ(this.bi.apply(this.filter),d).update(!!a,function(){c.Ij=!1;b&&b()})}else b&&b()};function AD(a,b){a.Ij=!0;a.DP=!0;a.Kp();a.update(!0,function(){a.DP=!1;a.Jp();b&&b()})}
f.VH=function(a,b,c){"intensity"===a?(this.wA=b,kJ(this.filter,b/50),this.Ij=!0):this.Ij=this.filter.VH(a,b);this.update(!1,c)};f.getByName=function(a){return"intensity"==a?this.wA:this.filter.getByName(a)};function KE(a,b){a.filter=b;a.wA=Math.round(50*oJ(b))}function wJ(a,b){a.filter=new LE;a.wA=50;b&&a.filter.Qh(b);AD(a,void 0)}function xJ(a){a.filter=new LE;a.wA=50;a.Ij=!0;AD(a,void 0)}function CD(a){return a.filter.serialize()}f.ra=function(){return this.filter.ra()};f.Kp=function(){};
f.Jp=function(){if(this.bi){var a=vJ(this.bi,!0);if(!a.MR)if(a.VC)yJ(a);else if(a.canvas){var b=a.RI.clone(!0).off().removeAttr("crossorigin"),c=zJ(a);c?(b.get(0).src=c,AJ(a)):(c=a.canvas.toDataURL(),a.cache.add(BJ(a),c),b.get(0).src=c);a.Qa.find("img,canvas").remove();a.Qa.append(b);a.RI=b;$("#limbo").append(a.canvas);a.Yx=!1}}};f.Kc=function(){return this.Oc.Kc()};
f.gL=function(a,b,c){var d=new LE;a&&d.Qh(a);this.Oc.serialize().mediaId+this.Oc.serialize().mediaVersion!==this.c3&&(this.QE={});if(this.QE[d.name])c(this.QE[d.name]);else if(a=this.Kc()){var e=this,g=b?wD:this.DK,h=a[g];b=h.oa();a=$("\x3cimg\x3e");var k=$("\x3cdiv\x3e");k.append(a);k.appendTo("#limbo");a.one("load",function(){var a=h.l(),b=h.o();k.css("width",a).css("height",b);var a=new xC(e.Oc.serialize(),k),n=new uJ(window,a,g);n.apply(d).gL().update(!0,function(){var a={src:CJ(n),maa:DJ(n)};
e.QE[d.name]=a;c(a);n.remove();k&&k.remove()})});jD(kD,a,b)}};f.remove=function(){this.bi&&this.bi.remove();this.bi=null};f.trigger=Backbone.Events.trigger;f.listenTo=Backbone.Events.listenTo;f.stopListening=Backbone.Events.stopListening;_.extend(sJ.prototype,Backbone.Events);var lJ=[{name:"The Blues",blur:-14,brightness:63,contrast:-37,tint:0,saturation:-26,vignette:0,xpro:-23,tintAmount:50},{name:"Edge",blur:-53,brightness:10,contrast:-24,tint:49,saturation:26,vignette:0,xpro:29,tintAmount:50},{name:"Selfie",blur:void 0,brightness:10,contrast:-12,tint:-50,saturation:-12,vignette:56,xpro:50,tintAmount:50},{name:"Festive",blur:-7,brightness:10,contrast:21,tint:void 0,saturation:24,vignette:void 0,xpro:40,tintAmount:50},{name:"Rosie",blur:-14,brightness:0,contrast:55,tint:-73,
saturation:-28,vignette:0,xpro:27,tintAmount:50},{name:"Drama",blur:0,brightness:-10,contrast:21,tint:60,saturation:-34,vignette:50,xpro:80,tintAmount:50},{name:"Epic",blur:1,brightness:6,contrast:20,tint:void 0,saturation:-14,vignette:39,xpro:50,tintAmount:50},{name:"Grayscale",blur:void 0,brightness:15,contrast:-20,tint:void 0,saturation:-100,vignette:void 0,xpro:void 0,tintAmount:50},{name:"Nordic",blur:0,brightness:15,contrast:-16,tint:0,saturation:-50,vignette:0,xpro:0,tintAmount:50},{name:"Summer",
blur:0,brightness:10,contrast:14,tint:-46,saturation:18,vignette:25,xpro:30,tintAmount:50},{name:"Street",blur:-7,brightness:-7,contrast:21,tint:0,saturation:-95,vignette:50,xpro:0,tintAmount:50},{name:"Retro",blur:0,brightness:0,contrast:-14,tint:14,saturation:-18,vignette:40,xpro:69,tintAmount:50},{name:"Whimsical",blur:-19,brightness:43,contrast:-15,tint:-79,saturation:-53,vignette:21,xpro:60,tintAmount:50},{name:"Cali",blur:0,brightness:22,contrast:-46,tint:0,saturation:38,vignette:0,xpro:27,
tintAmount:50}];function uJ(a,b,c){this.Oc=b;this.si=c;this.Qa=this.Oc.C();this.MR=this.Oc.kG;this.VC=EJ;this.lN=this.RE=this.Ij=this.locked=this.Yx=!1;!this.VC&&"WebGLRenderingContext"in a&&(a=fx.canvas(),b=fx.canvas(),a&&b&&(FJ=a,GJ=b,this.VC=EJ=!0))}var FJ,GJ;uJ.prototype.M3=function(){var a=0;return function(){a+=1;return a.toString()}}();var EJ=!1;uJ.prototype.gL=function(){this.RE=!0;return this};uJ.prototype.apply=function(a){this.values=new LE;this.values.Qh(mJ(a).serialize());return this};
function vJ(a,b){a.Yx=b;return a}uJ.prototype.update=function(a,b){this.lN||!a&&this.locked||(this.MR?this.gaa(b):this.VC?HJ(this,b):IJ(this,a,b))};function yJ(a){function b(){this.Yx=!1;c.Qa.find("img,canvas").remove();c.Qa.append(d);c.RI=d;$("#limbo").append(c.canvas)}if(a.canvas){var c=a,d=a.RI.clone(!0).off().removeAttr("crossorigin"),e=zJ(a);e?(d.get(0).src=e,b(),AJ(a)):HJ(a,function(){c.canvas.update();c.canvas._.texture.toImage(d.get(0));var a=d.get(0).src;c.cache.add(BJ(c),a);b()})}}
function JJ(a,b){a=a.Oc.ln().scale(W).round();$(b).css(iD(a,0))}
(function(){function a(a,c,d,e){zD(kD,a.Kc()[d].oa()).then(function(g){var h=$("\x3cdiv\x3e").append(g);g=new xC(a.serialize(),h);h.appendTo("#limbo");var k=new uJ(window,g,d);k.values=b(c);k.update(!0,function(){var a=CJ(k);h.remove();e(a)})})}function b(a){a=hJ(a.ra());a.saturation/=.8;0!==a.sf&&(a.brightness=0<a.brightness?a.brightness/1.5:a.brightness-15);0<a.blur&&(a.blur/=2);return a}function c(a){var b=$(a).children("defs.canva.filter");0===b.length?(b=document.createElementNS("http://www.w3.org/2000/svg",
"defs"),b.classList.add("canva"),b.classList.add("filter"),a.appendChild(b)):b=b.get(0);return b}function d(a,b,c){var d={brightness:l,contrast:m,saturation:n,sf:k,blur:p,vignette:h,Zf:e},g=document.createElementNS("http://www.w3.org/2000/svg","filter");c=c.ln().scale(2);g.setAttribute("id",b);"print"===zC&&g.setAttribute("filterRes",c.l()+" "+c.o());b=document.createElementNS("http://www.w3.org/2000/svg","feComponentTransfer");g.appendChild(b);Object.keys(a).filter(function(b){return d.hasOwnProperty(b)&&
void 0!==a[b]}).forEach(function(b){0!==a[b]&&d[b].call(this,a[b],a).forEach(function(a){g.appendChild(a)})});return g}function e(a){if(0===a)return[];a=g(rJ(a));a.forEach(function(a){a.classList.add("crossProcess")});return a}function g(a){var b=document.createElementNS("http://www.w3.org/2000/svg","feComponentTransfer");b.setAttribute("color-interpolation-filters","sRGB");var c={r:a.red,g:a.green,b:a.blue};["r","g","b"].forEach(function(a){var d=document.createElementNS("http://www.w3.org/2000/svg",
"feFunc"+a.toUpperCase());if(a=c[a])a=KJ({x:a[0][0],y:a[0][1]},{x:a[1][0],y:a[1][1]},{x:a[2][0],y:a[2][1]},{x:a[3][0],y:a[3][1]}).map(function(a){return a.y}),d.setAttribute("type","table"),d.setAttribute("tableValues",a.join(" ")),b.appendChild(d)});b.classList.add("curves");return[b]}function h(a){if(0===a)return[];var b=document.createElementNS("http://www.w3.org/2000/svg","radialGradient"),c=document.createElementNS("http://www.w3.org/2000/svg","stop"),d=document.createElementNS("http://www.w3.org/2000/svg",
"stop");b.classList.add("vignette");b.appendChild(c);b.appendChild(d);b.setAttribute("cx","50%");b.setAttribute("cy","50%");b.setAttribute("r","50%");b.setAttribute("fx","50%");b.setAttribute("fy","50%");var e=Math.min(1,O.py);c.setAttribute("offset",(1<O.py?O.mJ/O.py:O.mJ).toString());c.setAttribute("stop-color","#000000");c.setAttribute("stop-opacity","0");d.setAttribute("offset",e.toString());d.setAttribute("stop-color","#000000");d.setAttribute("stop-opacity",a/100);return[b]}function k(a,b){if(0===
a)return[];a=qJ(a+100,b.getByName("tintAmount"));var c={r:a.color.r/255,g:a.color.ll/255,b:a.color.b/255},d=a.ep/100*2,e=document.createElementNS("http://www.w3.org/2000/svg","feComponentTransfer");e.setAttribute("color-interpolation-filters","sRGB");["r","g","b"].forEach(function(a){var b=document.createElementNS("http://www.w3.org/2000/svg","feFunc"+a.toUpperCase());a=c[a]*d;b.setAttribute("type","linear");b.setAttribute("slope",1-d);b.setAttribute("intercept",a);e.appendChild(b)});e.classList.add("tint");
return[e]}function l(a){if(0===a)return[];var b=a/100,c=document.createElementNS("http://www.w3.org/2000/svg","feComponentTransfer");c.setAttribute("color-interpolation-filters","sRGB");["r","g","b"].forEach(function(a){a=document.createElementNS("http://www.w3.org/2000/svg","feFunc"+a.toUpperCase());a.setAttribute("type","linear");a.setAttribute("slope",1);a.setAttribute("intercept",b);c.appendChild(a)});c.classList.add("brightness");return[c]}function m(a){if(0===a)return[];var b=(a*(1<a?1/.6:1)+
100)/100,c=document.createElementNS("http://www.w3.org/2000/svg","feComponentTransfer");c.setAttribute("color-interpolation-filters","sRGB");["r","g","b"].forEach(function(a){a=document.createElementNS("http://www.w3.org/2000/svg","feFunc"+a.toUpperCase());var d=-(.5*b)+.5;a.setAttribute("type","linear");a.setAttribute("slope",b);a.setAttribute("intercept",d);c.appendChild(a)});c.classList.add("contrast");return[c]}function n(a){if(0===a)return[];a=(a+100)/100;a*=1>=a?1:a;a=[.3086+.6914*a,.6094-.6094*
a,.082-.082*a,0,0,.3086-.3086*a,.6094+(1-.6094)*a,.082-.082*a,0,0,.3086-.3086*a,.6094-.6094*a,.082+.918*a,0,0,0,0,0,1,0];var b=document.createElementNS("http://www.w3.org/2000/svg","feColorMatrix");b.setAttribute("color-interpolation-filters","sRGB");b.setAttribute("type","matrix");b.setAttribute("values",a.join(" "));b.classList.add("saturation");return[b]}function p(a){if(0===a)return[];if(0>a){a*=-1;if(0===a)a=[];else{a=a/100*4;a=[0,-a,0,-a,4*a+1,-a,0,-a,0];var b=document.createElementNS("http://www.w3.org/2000/svg",
"feConvolveMatrix");b.setAttribute("order","3");b.setAttribute("kernelMatrix",a.join(" "));b.classList.add("sharpen");a=[b]}return a}b=document.createElementNS("http://www.w3.org/2000/svg","feGaussianBlur");b.setAttribute("stdDeviation",.125*a);b.classList.add("blur");return[b]}var q=0;uJ.prototype.gaa=function(b){var e="_CANVA_FILTER_"+q++;LJ(this);if(!this.values||nJ(this.values,fJ))b&&b();else{this.Hz=c(this.Qa.get(0));var g=d(this.values,e,this.Oc);this.Hz.appendChild(g);var g=this.Hz.querySelector(".vignette"),
h=this.Qa.get(0).querySelector(".vignette"),k=e+"_VIGNETTE";g?(this.Hz.appendChild(g),g.setAttribute("id",k),h.setAttribute("fill","url(#"+k+")")):h.setAttribute("fill","none");var l=this.Qa.find("image.placeholder").get(0);lA?a(this.Oc,this.values,this.si,function(a){a&&jD(kD,$(l),a);b&&b()}):(l.setAttribute("filter","url(#"+e+")"),b&&b())}}})();function BJ(a){var b,c=a.Oc.serialize();a.Ih&&a.values&&a.Oc&&(b=a.values.ra()+c.mediaId+c.mediaVersion+a.Ih.width+a.Ih.height);return b}
function MJ(a){var b=BJ(a);return a.Yx&&!!b&&!!a.cache.fetch(b)}function zJ(a){return MJ(a)?a.cache.fetch(BJ(a)):void 0}
function HJ(a,b){function c(){d.Ih.width=e;d.Ih.height=g;d.canvas||(d.canvas=d.RE?GJ:FJ,d.Qa.append(d.canvas),JJ(d,d.canvas),d.gH=d.canvas.texture(d.Ih),d.canvas.draw(d.gH,e,g),$("#limbo").append(d.Ih));if(d.canvas.width!==e||d.canvas.height!==g)d.canvas.width=e,d.canvas.height=g;JJ(d,d.canvas);d.canvas.draw(d.gH,e,g);if(d.values){d.canvas.brightnessContrast((d.values.brightness||0)/100,(d.values.contrast||0)/100).saturation(d.values.saturation||0);if(d.values.sf){var a=qJ(d.values.sf+100,d.values.Gh);
d.canvas.colorize(a.color.r,a.color.ll,a.color.b,a.ep/100)}d.values.blur&&(0<d.values.blur?d.canvas.triangleBlur(d.values.blur):d.canvas.unsharpMask(3,-1*d.values.blur/20));d.values.Zf&&(a=rJ(d.values.Zf),d.canvas.curves(a.red,a.green,a.blue));AJ(d);d.values.name===gJ.name&&d.canvas.colorHalftone(e/2,g/2,.45,e/100)}d.canvas.update();b&&b();d.RE=!1;d.locked=!1;d.Ij=!1}var d=a,e,g;if(MJ(a))b&&b();else if(a=a.Oc.Kc())a=a[d.si],e=a.l(),g=a.o(),d.VV=a.oa(),d.Yx=!1,d.locked=!0,NJ(d,c)}
function IJ(a,b,c){function d(){h.Ih.width=k;h.Ih.height=l;if(h.Sh){if(h.canvas.width!==k||h.canvas.height!==l)h.canvas.width=k,h.canvas.height=l;e()}else h.canvas=document.createElement("canvas"),h.canvas.setAttribute("data-caman-hidpi-disabled",!0),h.yT="camanCanvas"+h.M3(),h.canvas.id=h.yT,h.canvas.width=k,h.canvas.height=l,JJ(h,h.canvas),h.Qa.append(h.canvas),h.p1=h.canvas.getContext("2d"),h.p1.drawImage(h.Ih,0,0,k,l),h.Sh=Caman("#"+h.yT,e),$("#limbo").append(h.Ih)}function e(){JJ(h,h.canvas);
h.Sh.revert(!1);if(h.values){h.values.brightness&&0!=h.values.brightness&&h.Sh.brightness(h.values.brightness);h.values.contrast&&0!=h.values.contrast&&h.Sh.contrast(h.values.contrast);h.values.saturation&&0!=h.values.saturation&&(-100==h.values.saturation?h.Sh.greyscale():h.Sh.saturation(h.values.saturation));var a=qJ(h.values.sf+100,h.values.Gh);h.values.sf&&h.Sh.colorize(a.color.r,a.color.ll,a.color.b,2.5*a.ep);h.values.blur&&0!=h.values.blur&&(0<h.values.blur?h.Sh.stackBlur(h.values.blur):h.Sh.sharpen(-1*
h.values.blur||0));if(h.values.Zf){var b=rJ(h.values.Zf),a=b.red.map(g),d=b.green.map(g),b=b.blue.map(g);h.Sh.curves("r",a[0],a[1],a[2],a[3]);h.Sh.curves("g",d[0],d[1],d[2],d[3]);h.Sh.curves("b",b[0],b[1],b[2],b[3])}AJ(h)}h.Sh.render(function(){c&&c();h.RE=!1;window.setTimeout(function(){h.locked=!1},1E3);h.Ij=!1})}function g(a){return[Math.min(255,Math.round(255*a[0])),Math.min(255,Math.round(255*a[1]))]}if(b){var h=a,k,l;if(MJ(a))c&&c();else if(a=a.Oc.Kc())a=a[h.si],k=a.l(),l=a.o(),h.VV=a.oa(),
h.Yx=!1,h.locked=!0,NJ(h,d)}else c&&c()}function AJ(a){var b=a.Qa.find(".vignette");0===b.length&&(b=$('\x3cdiv class\x3d"vignette"\x3e\x3c/div\x3e'),a.Qa.prepend(b));a.values.vignette?(a=DJ(a),b.removeClass("off").addClass("on").css("background-image","radial-gradient("+a+")")):b.removeClass("on").addClass("off").css("background-image","none")}
function NJ(a,b){function c(a){if(d.Ts&&0<d.Ts.length&&d.Ts.get(0).src){d.Ih=new Image;var c=$(d.Ih);c.css("visibility","hidden");jD(kD,c,a).then(function(){window.setTimeout(function(){d.lN||(d.Ts.appendTo("#limbo"),c.css("visibility","visible"),b())},300)});JJ(d,d.Ih);d.Qa.append(c)}else window.setTimeout(function(){NJ(d,b)},500)}var d=a;d.canvas?(1==$(d.canvas).parents("#limbo").length&&($(d.canvas).appendTo(d.Qa),d.Qa.find("img").remove()),b()):(d.Ts=d.Qa.find("img"),d.RI=d.Ts,c(d.VV))}
function DJ(a){return"circle farthest-side at center center, rgba(0,0,0,0) "+100*O.mJ+"%, "+("rgba(0,0,0,"+a.values.vignette/100+")")+" "+100*O.py+"%"}function CJ(a){var b=$("\x3cimg /\x3e");a.VC?(a.canvas.update(),a.canvas._.texture.toImage(b.get(0))):b.get(0).src=a.canvas.toDataURL();return b.get(0).src}
uJ.prototype.remove=function(){this.lN=!0;this.MR?LJ(this):($(this.Ih).remove(),this.Ts&&this.Ts.remove(),this.Qa.find(".vignette").remove(),this.gH&&this.gH.destroy(),this.canvas&&($(this.canvas).remove(),this.canvas.width=0,this.canvas=null))};function LJ(a){a.Qa.find("image.placeholder").removeAttr("filter");a.Qa.get(0).querySelector(".vignette").setAttribute("fill","none");$(a.Hz).remove();a.Hz=null}function OJ(){this.cache={}}
OJ.prototype.add=function(a,b){var c=this.cache[a];return c?c:this.cache[a]=b};OJ.prototype.fetch=function(a){return this.cache[a]};uJ.prototype.cache=new OJ;var PJ=FONT_DATA;O.tS&&PJ.forEach(function(a){a.fonts.forEach(function(a){a.displayNameThumbnail=a.displayNameThumbnail2x;a.sampleTextThumbnail=a.sampleTextThumbnail2x})});function QJ(a,b,c){var d=$("\x3cdiv\x3e");d.css("font-family",a+", zerowidthfallbackfont").css("font-size","20px").css("font-weight",b||"400").css("font-style",c||"normal").css("font-synthesis","none").css("position","absolute").css("white-space","pre").html("A1  ");$("#limbo").append(d);a=d.get(0).offsetWidth;d.remove();return 0===a};function RJ(a,b){this.fonts=a;this.ac=b.ac;this.NI=b.NI;this.WL=b.WL;this.XL={};this.Kz=[];this.ZL=[];this.dv=[];this.YL=[];this.sF=[];this.mI=Date.now();this.vP=[];this.WC=[];this.locale=b.locale;this.mY=null;this.hV=!!b.hV;this.H=b.H}RJ.prototype.off=Backbone.Events.off;RJ.prototype.on=Backbone.Events.on;RJ.prototype.once=Backbone.Events.once;RJ.prototype.trigger=Backbone.Events.trigger;
var SJ="hairline thin light regular medium bold black heavy".split(" "),TJ=new Set(SJ),UJ=new Map(SJ.map(function(a,b){return[a,b]})),VJ=new Set(["en"]);function WJ(a){return a.WC.filter(function(a){return 0>this.vP.indexOf(a)},a)}
function XJ(){var a=Kb;a.mY||(a.mY=new P(function(a,c){var d=CF((new BF).Tt(!0).Rt(!1).Ut("*").To(),["FONT"]).Vg(25);YE(this.ac,d,function(d,g){200===d&&g?(d=g.media,d=YJ(this,d),d.forEach(function(a){0<=ZJ(this).indexOf(a)&&(this.WC.unshift(a),this.WC=this.WC.slice(0,25))},this),$J(this,d.map(function(a){return a.internalName})),a()):c()}.bind(this))}.bind(a)))}
function YA(a,b){if(b=b&&b.replace?b.replace(/#/gi,"_"):null)for(var c=0;c<a.fonts.length;c++)for(var d=a.fonts[c],e=0;e<d.fonts.length;e++){var g=d.fonts[e];if(g.name==b||g.family==b)return g.generic=d.generic,g}return null}function PA(a){a=YA(Kb,a);return!(!a||!0!==a.charWrappingForbidden)}
function aK(a,b){if(b)for(var c=0;c<a.fonts.length;c++)for(var d=a.fonts[c],e=0;e<d.fonts.length;e++){var g=d.fonts[e];if(g.media&&g.media.id===b.id&&g.media.version===b.version)return g.generic=d.generic,g}return null}function bB(a){if((a=YA(Kb,a))&&a.media)return new Xm({id:a.media.id,version:a.media.version})}function cB(a,b,c,d){var e=[],g=[];b&&e.push(b);c&&g.push(c);SD(a,e,g,d)}function bK(a,b){$J(Kb,[a],b)}
function bI(a,b){return(b=YA(a,b))?void 0===b.url&&!1===b.generateStyles||0<=a.dv.indexOf(b.family):!1}function cK(a,b,c){a.ZL=a.ZL.concat(b);a.sF.push({$e:b,callback:c||$.noop})}function dK(a){function b(a){var b=!0;0!==a.$e.filter(function(a){var d=bI(c,a);a=0<=c.YL.indexOf(a);if(!d&&!a)return!0;a&&(b=!1);return!1}).length||a.tU||(a.tU=!0,a.callback(b),c.trigger("update"))}var c=a;a.H.setTimeout(function(){c.sF.forEach(b);c.sF=c.sF.filter(function(a){return!a.tU})},0)}
function eK(a,b){a.dv=a.dv.filter(function(c){return(c=YA(a,c))&&0>b.indexOf(c.family)});b.forEach(function(b){var d=YA(a,b);d&&-1===a.YL.indexOf(d.family)&&a.YL.push(d.family);a.trigger("fontLoadFailed",b)});dK(a)}
function fK(a,b,c){c=c||0;var d=b.filter(function(b){var c=YA(a,b);if(c){b=c.family;var d=c.variants.bold,e=c.variants.italic,g=c.variants.boldItalic;Fa(!!(0<$("#limbo").length),"Font measurement requires #limbo");Fa(!!(0<$("#zeroWidthFallbackFont").length),"Font measurement requires #zeroWidthFallbackFont");QJ("zerowidthfallbackfont")?(c=!QJ(b),d=!d||!QJ(b,"700"),e=!e||!QJ(b,"400","italic"),b=!g||!QJ(b,"italic","700"),b=c&&d&&e&&b):b=!1}else b=!1;return b}),e=b.filter(function(a){return-1===d.indexOf(a)});
if(0<e.length)if(6>=c){var g=c+1;a.H.setTimeout(function(){fK(a,e,g)},200*Math.pow(2,c))}else gK(a,e);$.browser.safari?a.H.setTimeout(function(){gK(a,d)},2E3):gK(a,d)}function gK(a,b){b.forEach(function(b){b=YA(a,b);-1===a.dv.indexOf(b.family)&&a.dv.push(b.family)});dK(a)}
RJ.prototype.generateStyles=function(a){function b(a,b,c,k){k=k.woff?"src: url('"+k.woff+"') format('woff'); ":k.ttf?"src: url('"+k.ttf+"') format('truetype'); ":k.otf?"src: url('"+k.otf+"') format('opentype'); ":void 0;k&&d.insertRule("@font-face {"+("font-family: '"+a+"'; ")+("font-style: "+b+"; ")+("font-weight: "+c+"; ")+k+"}",0)}var c=this,d=function(){var a=$("#fontStylesheet"+c.mI);0===a.length&&(a=$('\x3cstyle id\x3d"fontStylesheet'+c.mI+'"\x3e\x3c/style\x3e'),$("head").append(a));return a.get(0).sheet}();
a.generateStyles&&(b(a.family,"normal","400",a.styles.regular),a.variants.bold?b(a.family,"normal","700",a.styles.bold):b(a.family,"normal","700",a.styles.regular),a.variants.italic?b(a.family,"italic","400",a.styles.italic):b(a.family,"italic","400",a.styles.regular),a.variants.boldItalic?b(a.family,"italic","700",a.styles.boldItalic):a.variants.bold?b(a.family,"italic","700",a.styles.bold):a.variants.italic?b(a.family,"italic","700",a.styles.italic):b(a.family,"italic","700",a.styles.regular))};
function SD(a,b,c,d){b&&0<b.length?c&&0<c.length?hK(a,b,function(b){b?$J(a,c,d):a.H.setTimeout(function(){d&&d(!1)},0)}):hK(a,b,d):c&&0<c.length?$J(a,c,d):a.H.setTimeout(function(){d&&d(!0)},0)}function iK(a,b,c){var d=[],e=[];b.forEach(function(a){var b=a.font;a=b.family;(b=b.Nb())?d.push(b):a&&e.push(a)});SD(a,d,e,c)}
function wE(a,b,c){function d(a){if(a){var b=m.WL.Kc(a.id,a.version);if(b)l.push(h(jK(m,a,b)));else throw Error("Media "+a.id+","+a.version+" missing from media map.");}}function e(a){var b=[],d=new Set;a.forEach(function(a){a.media.forEach(function(a){var c=a.u()+","+a.Ja().getVersion();n.has(c)&&!d.has(c)&&(b.push(a),d.add(c))})});a=YJ(m,b).map(h);l=l.concat(a);c(!0,l)}function g(){c(!1,l)}function h(a){return a.family||a.name}function k(a){return null==m.XL[a.u()+","+a.getVersion()]}var l=[],m=
a,n=new Set,p=b.filter(function(a){return!aK(m,a)}).filter(function(a){return!!a});p.forEach(function(a){n.add(a.id+","+a.version)});if(a.ac){var q=p.filter(k);if(0!==q.length){b=HF(new GF,q).To().a0().V_();var u=dF(a.ac,b);q.forEach(function(a){m.XL[a.u()+","+a.getVersion()]=u})}a=p.map(function(a){return m.XL[a.u()+","+a.getVersion()]});P.all(a).then(e).catch(g)}else a.WL&&b.forEach(d),a.H.setTimeout(function(){c(!0,l)},0)}
function hK(a,b,c){wE(a,b,function(b,e){b?$J(a,e,c):c&&a.H.setTimeout(function(){c(!1)},0)})}function kK(a,b){function c(a){return a&&(a=(a.$ca|a.fca+a.Tca)/40,1<a)?Math.round(a*d-d):0}a=a.hV?15E3:6E4;var d=a/30;return b.reduce(function(a,b){b.styles&&(a+=c(b.styles.regular),a+=c(b.styles.bold),a+=c(b.styles.italic),a+=c(b.styles.boldItalic));return Math.ceil(a)},a)}
function $J(a,b,c){function d(a,b,c){h.NI.load({custom:{families:a,urls:b},active:function(){fK(h,c)},inactive:function(){eK(h,c)},timeout:u})}function e(a,b){var c=/^([^:]+)(:.+)?/,d=[];a.forEach(function(a,e){if(void 0!==a&&null!==a){var g=["n4"],h=a.match(c),k=h[1].replace(/[^a-z0-9]/gi,"").toLowerCase();-1<a.indexOf(":")&&(g=h[2].substring(1).split(","));var l=document.querySelector("html"),m=!1;g.forEach(function(a){a="wf-"+k+"-"+a+"-inactive";m=m||l.classList.contains(a)});m&&d.push({family:a,
url:b[e]})}});return d}function g(a){return YA(h,a)}var h=a,k=[],l=[],m={},n=_.uniq(b).filter(function(a){return null!==g(a)}),p=n.filter(function(a){var b=0<=h.dv.indexOf(a);a=YA(h,a);a=void 0===a.url&&!1===a.generateStyles;return!(b||a)}),q=p.filter(function(a){return 0>h.ZL.indexOf(a)}),q=_.uniq(q.map(g)),u=kK(a,q);0===p.length&&c?h.H.setTimeout(function(){c(!0)},0):(cK(h,n,c),dK(h),q.forEach(function(a){var b;b=["n4"];a.variants&&(a.variants.italic&&b.push("i4"),a.variants.bold&&b.push("n7"),
a.variants.boldItalic&&b.push("i7"));b.sort();if(b=(b=a.variants&&(a.variants.italic||a.variants.bold||a.variants.boldItalic)?a.family+":"+b.join(","):a.family)&&b.replace?b.replace(/#/gi,"_"):null){k.push(b);"Noto Sans Devanagari"===a.family&&(m[b]="");!0===a.generateStyles?h.generateStyles(a):a.url&&l.push(a.url);b=h;var c=$("#fontOverrideStylesheet"+b.mI);0===c.length&&(c=$('\x3cstyle id\x3d"fontOverrideStylesheet'+b.mI+'"\x3e\x3c/style\x3e'),$("head").append(c));b=c.get(0).sheet;a.variants&&
(!1===a.variants.italic&&b.insertRule('font[face\x3d"'+a.family+'"] * {font-style: normal !important; }',0),!1===a.variants.bold&&b.insertRule('font[face\x3d"'+a.family+'"] * {font-weight: normal !important; }',0),!1===a.variants.boldItalic&&(b.insertRule('font[face\x3d"'+a.family+'"] b i {font-weight: normal !important; font-style: normal !important; }',0),b.insertRule('font[face\x3d"'+a.family+'"] i b {font-weight: normal !important; font-style: normal !important; }',0)));h.trigger("fontLoadStart",
a.family)}}),0<q.length&&a.NI.load({custom:{families:k,urls:l,testStrings:m},active:function(){var a=e(k,l),c;0<a.length?(c=_.pluck(a,"family"),a=_.pluck(a,"url"),d(c,a,b)):fK(h,b)},inactive:function(){d(k,l,b)},timeout:u}))}function ZJ(a){return oC(a).filter(function(a){return!a.disabled}).sort(a.aK)}
RJ.prototype.aK=function(a,b){a=y(a.family||a.displayName);var c=y(b.family||b.displayName);if(!a.includes(" ")||!c.includes(" "))return a.localeCompare(c);b=a.toLocaleLowerCase().replace(/demi|extra|ultra/gi,"");a=c.toLocaleLowerCase().replace(/demi|extra|ultra/gi,"");var c=b.split(/\s+/gi),d=a.split(/\s+/gi),e=c.pop(),g=d.pop();return c.join("")===d.join("")&&TJ.has(e)&&TJ.has(g)?Math.sign(UJ.get(e)-UJ.get(g)):b.localeCompare(a)};
function oC(a){var b=[];a.fonts.forEach(function(a){a.fonts.forEach(function(a){b.push(a)})});return b.sort(a.aK)}function IA(a){var b=oC(Kb).filter(function(b){return(b.name||b.family).toLowerCase()==a.toLowerCase()});return 0<b.length?b[0].name||b[0].family:null}
function YJ(a,b){return b.map(function(a){var b,e=new Xm({id:a.u(),version:a.Ja().getVersion()});if(lK(this,e))return aK(this,e);b=a.Ja();var g=a.u();a=b.qb()||a.importFilename.replace(/\..*$/,"")||g;var h=b.ic()[Lg].oa(),k,l,m;/\.ttf/gi.test(h)?k=h:/\.otf/gi.test(h)?l=h:/\.woff/gi.test(h)&&(m=h);h=b.ic()[wD];b=mK({displayName:a,fontFamily:g+"_"+b.getVersion(),displayNameThumbnail:{url:h.oa(),width:h.l(),height:h.o()},ba:g,ca:b.getVersion(),t_:k,JX:l,b0:m});this.Kz.push(e);nK(this,b);return b},a)}
function jK(a,b,c){if(lK(a,b)&&aK(a,b))b=y(aK(a,b)),nK(a,b);else{a.Kz.push(b);var d=c[Lg].oa(),e,g,h;/\.ttf/gi.test(d)?e=d:/\.otf/gi.test(d)?g=d:/\.woff/gi.test(d)&&(h=d);c=c[wD];b=mK({displayName:b.id,fontFamily:b.id+"_"+b.version,displayNameThumbnail:{url:c.oa(),width:c.l(),height:c.o()},ba:b.id,ca:b.version,t_:e,JX:g,b0:h})}nK(a,b);return b}
function nK(a,b){var c;(function(){c=a.fonts.filter(function(a){return"Media"===a.category})[0];return!!c})()?c.fonts.push(b):a.fonts.push({category:"Media",generic:"sans-serif",fonts:[b]})}function lK(a,b){for(var c=0;c!==a.Kz.length;c++)if(a.Kz[c].id===b.id&&a.Kz[c].version===b.version)return!0;return!1}
function mK(a){return{family:a.fontFamily,internalName:a.fontFamily,displayName:a.displayName,disabled:!1,generateStyles:!0,displayNameThumbnail:a.displayNameThumbnail,displayNameThumbnail2x:a.displayNameThumbnail,media:{id:a.ba,version:a.ca},styles:{regular:{otf:a.JX,ttf:a.t_,woff:a.b0,psName:a.fontFamily}},url:"#",variants:{italic:!1,bold:!1,boldItalic:!1}}};function oK(a){this.id=a.id;this.version=a.version}oK.prototype.u=function(){return this.id};oK.prototype.getVersion=function(){return this.version};function pK(a){this.document=a.document;this.locale=a.locale}pK.prototype.getDocument=function(){return this.document};pK.prototype.Df=function(){return this.locale};function qK(){}function rK(){return new qK};function sK(){this.N=Ib}function tK(a,b,c,d,e,g){a.N.post("/import/layout/"+encodeURIComponent(b)+"/"+encodeURIComponent(c.toString())+(g?"?designType\x3d"+encodeURIComponent(g):""),d,function(a){e&&e(a)})}function uK(a,b){qj(a.N,"/import/elementgroup/"+encodeURIComponent(b.document.id)+"/"+encodeURIComponent(String(b.document.version)),b).catch(rj).get(0).then(La).then(rK)}function vK(a,b,c,d){return qj(a.N,"/media/"+encodeURIComponent(b)+"/"+encodeURIComponent(c.toString())+"?upload",{url:d})}
function wK(a,b,c,d){return sj(a.N,"/media/"+encodeURIComponent(b)+"/"+encodeURIComponent(c.toString())+"?form\x26signatureV4\x26mimeType\x3d"+encodeURIComponent(d)).spread(xK)}function yK(a,b,c,d){return qj(a.N,"/media/"+encodeURIComponent(b)+"/"+encodeURIComponent(c.toString())+"?import",d).spread(function(a){return Dj(a.media)})}function zK(){this.prices={}}function AK(a,b,c){a.prices[b]=c;return a}var BK=AK(new zK,"ONE_USE",0),CK=AK(AK(AK(new zK,"ONE_USE",1),"ROYALTY_FREE",10),"EXTENDED",100);
function DK(){this.licensing=this.licenseModel=null;this.autoPublicify=!1;this.publicifyMediaRequests=[]}DK.prototype.eS=function(a){this.licenseModel=a;return this};DK.prototype.fS=function(a){this.licensing=a;return this};function EK(a,b){a.publicifyMediaRequests.push(b)}function FK(){var a=(new DK).eS(BK).fS("FREE");a.autoPublicify=!0;return a}DK.prototype.QI=function(a){this.locale=a;return this};
function GK(){this.licensing=this.licenseModel=this.keywords=this.description=this.title=this.version=this.media=void 0}function HK(a){var b=new GK;b.media=a;return b}f=GK.prototype;f.Ik=function(a){this.version=a;return this};function IK(a,b){a.title=b;return a}f.U_=function(a){this.description=a;return this};f.OI=function(a){this.keywords=a;return this};f.eS=function(a){this.licenseModel=a;return this};f.fS=function(a){this.licensing=a;return this};function JK(){}
JK.prototype.Y_=function(a){this.importVersion=a;return this};function KK(a){this.reset();this.i=a}KK.prototype.reset=function(){this.previous=null;this.ur=[];this.Yk={top:0,left:0}};KK.prototype.LB=function(){var a=this;LK();a.ur.forEach(function(b){b={elementIndex:b.K(),pageIndex:cp(K,b.R()),"new":{left:b.F(),top:b.w()},old:{left:b.F()-a.Yk.left,top:b.w()-a.Yk.top}};M.register(new Y(dp,b))});MK()};
KK.prototype.tG=function(){var a=this;return function(b){a.ur=K.Wa();var c=$(b.target);if("true"==c.attr("contenteditable")||c.is("input:focus")||c.is("textarea:focus"))return a.reset(),!0;if(0<$(".toolbar__item--submenuExpanded .menuList").length||"block"===$("#overlays #marquee").css("display")||b.metaKey||b.ctrlKey)return!0;if(0<a.ur.length){var d=1;b.shiftKey&&(d=10);switch(b.which){case 37:return a.previous=37,a.Yk.left-=1/W*1*d,a.ur.forEach(function(a){LC(a,1/W*1*d)}),NK(zc(a.i),Bc(a.i)),!1;
case 38:return a.previous=38,a.Yk.top-=1/W*1*d,a.ur.forEach(function(a){MC(a,1/W*1*d)}),NK(zc(a.i),Bc(a.i)),!1;case 39:return a.previous=39,a.Yk.left+=1/W*1*d,a.ur.forEach(function(a){NC(a,1/W*1*d)}),NK(zc(a.i),Bc(a.i)),!1;case 40:return a.previous=40,a.Yk.top+=1/W*1*d,a.ur.forEach(function(a){OC(a,1/W*1*d)}),NK(zc(a.i),Bc(a.i)),!1}}null!==a.previous&&a.LB();a.reset();return!0}};KK.prototype.save=function(){var a=this;return function(b){a.previous===b.which&&(a.LB(),a.reset())}};function fA(a){$(document).keydown(OK);a=new KK(a);$(document).keydown(a.tG());$(document).keyup(a.save())}
function OK(a){var b;if($("body").hasClass("fullscreenMode"))return!1;if(27===a.which){a=$("#canvaDocument .element.selected,#canvaDocument .element.multiSelected").length;var c=K.Wa();0<$("*:focus").length?$("*:focus").blur():0<$(".modalContentMask").length?(a=$(".modalContentMask:last"),(c=a.next().children(".dialog").data("Canva_Views_Dialog"))?c.cancel():a.trigger("click")):$(".toolbar__item--submenuExpanded").length?T.trigger("hideContextualControlsRequested"):1===c.length&&c[0]instanceof GC&&
c[0].ad?(c[0].ad instanceof Kp&&CB(c[0].ad.C()),c[0].Xi()):0<a?hh():$(".infoPanel .close").click();return!1}if(document.querySelector(".modalContentMask, .mask.editingDefaults, .mask.on, body.blockDocument"))return!0;if(16===a.which){var d=function(a){window.clearTimeout(b);16===a.which&&($(".selectionBox").removeClass("freeResize"),$(document).off("keyup",d))};(c=K.Wa()[0])&&0===yA(c.C())?b=window.setTimeout(function(){$(".selectionBox").addClass("freeResize")},500):$(".selectionBox").addClass("freeResize");
$(document).on("keyup",d)}var c=document.querySelector(".element.text.selected"),e=document.querySelector(".element.text.focused"),g=e,h=document.activeElement,k=h?h.nodeName.toLowerCase():"";if("input"===k||"textarea"===k)g=!0;k=K.Wa()[0];if(g&&9===a.which&&0===$(h).parents(".tableView").length)return PK(),!1;if(K.ia().some(function(a){return a.vg}))return!0;if(k&&a.altKey&&(a.ctrlKey||a.metaKey)){if(67===a.which)return ho(cc,k.clone()),!1;if(86===a.which)return QK(k),!1}if(k&&k.ei&&g&&a.shiftKey&&
a.altKey){if(66===a.which)return RK(k),!1;if(187===a.which||171===a.which)return SK(k,1),!1;if(189===a.which||173===a.which)return SK(k,-1),!1}if(k&&k.jA()&&a.shiftKey&&a.altKey){if(187===a.which||171===a.which)return TK(k,1),!1;if(189===a.which||173===a.which)return TK(k,-1),!1}if(c&&13===a.which&&(a.ctrlKey||a.metaKey))return e?CB($(c)):UK($(c)),!1;if(g&&k&&k.$Z()&&a.altKey){switch(a.which){case 37:return VK(k,-1),!1;case 39:return VK(k,1),!1;default:k.tr=void 0}if(a.shiftKey&&81===a.which)return VK(k,
0),!1}if(k&&k.nb()&&k.se()&&!k.Ff()&&!k.NV()&&(a.metaKey||a.ctrlKey)){if(74===a.which)return WK(k),!1;if(75===a.which){if(a.shiftKey||a.altKey)return XK(k),!1}else if(76===a.which){if(a.shiftKey||a.altKey)return YK(k),!1}else if(82===a.which){if(a.shiftKey||a.altKey)return ZK(k),!1}else if(67===a.which&&(a.shiftKey||a.altKey))return $K(k),!1}if(g&&k&&k.iR()&&(a.shiftKey||a.altKey)&&(a.metaKey||a.ctrlKey)){switch(a.which){case 75:$(".textToolbarUppercase a").trigger("click");$(".toolbar__button--uppercase").trigger("click");
break;case 76:$(".textToolbarLeft a").trigger("click");$(".toolbar__button--left").trigger("mouseup");break;case 82:$(".textToolbarRight a").trigger("click");$(".toolbar__button--right").trigger("mouseup");break;case 67:$(".textToolbarCenter a").trigger("click");$(".toolbar__button--center").trigger("mouseup");break;case 84:aL(k);break;case 77:bL(k);break;case 66:cL(k)}return!1}if(a.metaKey||a.ctrlKey){if(90===a.which)return a.shiftKey?dL():eL(),!1;if(89===a.which){if(a.shiftKey)return!0;dL();return!1}}if(!g){if(a.metaKey||
a.ctrlKey)switch(a.which){case 67:if(a.shiftKey)return!0;fL();return!1;case 86:if(a.shiftKey)return!0;gL();return!1;case 68:if(a.shiftKey)return!0;fL();gL();return!1;case 71:return a.shiftKey?hL():iL(),!1;case 65:return hh(),a.shiftKey||jL(K.Ea().ia()),!1}if(!a.metaKey&&!a.ctrlKey&&!a.altKey)switch(a.which){case 84:return $("#objectPanel .textControls a[data-style\x3dbody]").trigger("click"),!1}switch(a.which){case 8:case 46:return $(".enabled \x3e .toolbar__button--imageDelete").length?$(".toolbar__button--imageDelete").trigger("click"):
$(".enabled \x3e .toolbar__button--elementDelete").length?$(".toolbar__button--elementDelete").trigger("click"):$(".toolbar__button--delete").trigger("click"),!1;case 191:return $("#search").focus().get(0).select(),!1}}if(a.ctrlKey&&a.altKey&&70===a.which)return kL(),!1;if(a.metaKey||a.ctrlKey){if(a.altKey){if(221===a.which)return lL(1),!1;if(219===a.which)return lL(-1),!1}switch(a.which){case 221:case 38:if(Yp())return $(".elementToolbarForward a").click(),$(".toolbar__button--forward").trigger("mouseup"),
!1;break;case 219:case 40:if(Yp())return $(".elementToolbarBackward a").click(),$(".toolbar__button--back").trigger("mouseup"),!1;break;case 187:case 61:return $(".zoomer__in").click(),!1;case 189:case 173:return $(".zoomer__out").click(),!1;case 83:return T.trigger("documentSaveRequested"),!1}if(59===a.which||186===a.which)return Rb().toggle(),!1}if(Jb.G.get(hg)&&a.altKey)switch(a.which){case 112:var l=prompt("Select which type of chart to create:\n0 \x3d Bar chart\n1 \x3d Pie chart\n2 \x3d Line chart\n3 \x3d Donut chart",
"0"),l=hI[Object.keys(hI)[+l]],m=fI(l);m.dl(K.Ea());jI(m,function(){Ag(m);Vl(l)});return!1}return!0};function mL(){}
mL.prototype.search=function(a,b,c){return new P(function(d,e){function g(){d(nL({results:[]}))}function h(){UI(b,c).then(k).catch(g)}function k(a){var b=[];a.forEach(function(a){var c=a.re(),d=a.ql(),c={page:0,quality:"THUMBNAIL",height:c.o(),width:c.l(),url:c.oa()},d={page:0,quality:"SCREEN",height:d.o(),width:d.l(),url:d.oa()};b.push({id:a.u(),title:a.getName(),origin:Kg,files_:[c,d]})});d(nL({results:b}))}"facebook"==a.toLowerCase()?vg&&RI(vg).then(h).catch(function(){QI(vg).then(h).catch(g)}):e(Error("Not handled"))})};function oL(a,b){this.N=a;this.K9=b||[];this.url="/search"}var pL=["DESIGN"],qL=[Eg,Gg],rL=["ELEMENT_GROUP"];
oL.prototype.qt=function(a){function b(a){var b="";0<a.length&&(b=a.map(function(a){return"\x26sort\x3d"+encodeURIComponent(a.Zu+":"+a.direction)}).join(""));return b}a.from||(a.Rf=null);a="/search?q\x3d"+encodeURIComponent(a.query)+(a.Yh?"\x26docId\x3d"+encodeURIComponent(a.Yh):"")+function(a,b,e,g){var h="",k=[],l=[],m=[];if(a&&a.length){var n=[];a.forEach(function(a){a=a.toString().charAt(0);h+=a;n.push(a)});m.push("+type:("+n.join(" ")+")")}b&&Object.keys(b).forEach(function(a){k.push(""+a+":"+
b[a]);m.push("+"+a+":"+b[a])});e&&Object.keys(e).forEach(function(a){l.push(""+a+":"+e[a]);m.push("-"+a+":"+e[a])});g&&(m=m.concat(g));a="";h&&(a+="\x26types\x3d"+h);0<k.length&&(a+="\x26includes\x3d"+encodeURIComponent(k.join(",")));0<l.length&&(a+="\x26excludes\x3d"+encodeURIComponent(l.join(",")));0<m.length&&(a+="\x26fq\x3d"+encodeURIComponent(m.join(",")));return a}(a.Pn,a.Dn,a.Ym,a.filters)+(a.sort?b(a.sort):"")+(a.elevation?"\x26elevation\x3d"+encodeURIComponent(a.elevation):"")+(a.XE?"\x26elevateIds\x3d"+
encodeURIComponent(a.XE.join(",")):"")+(a.rz?"\x26elevatedOnly\x3dtrue":"")+(null!=a.limit?"\x26limit\x3d"+encodeURIComponent(String(a.limit)):"")+(null!=a.from?"\x26from\x3d"+encodeURIComponent(String(a.from)):"")+(a.mm?"\x26translatable\x3dtrue":"")+(a.Rf?"\x26rootSearchId\x3d"+encodeURIComponent(a.Rf):"")+(null!=a.Kg?"\x26organic\x3d"+encodeURIComponent(String(a.Kg)):"")+(null!=a.ci?"\x26freeOnly\x3d"+encodeURIComponent(String(a.ci)):"")+(null!=a.aspectRatio?"\x26aspectRatio\x3d"+encodeURIComponent(String(a.aspectRatio)):
"");return sj(this.N,a).get(0).then(nL)};function sL(a,b){return P.any(a.K9.map(function(a){return a.search(b.query,b.from,b.limit)})).catch(function(){return this.qt(b)}.bind(a)).cancellable()}function tL(a,b){var c=Sb;qj(c.N,c.url+"/click",{events:kb(uL,"events",(new vL({events:[new wL({Uq:a.zM(),ba:a.u(),Nq:a.yM(),Kd:0===xL(a),Kg:!!b})]})).events)}).return()};function yL(){this.searchId="";this.rank=0;this.id="";this.version=0;this.origin="CANVA";this.description=this.title=this.artist=this.brand=null;this.recolorable=this.repeating=this.cutout=this.background=!1;this.oneTimeUsePriceCents=this.keywords=this.superKeywords=null;this.oneTimeUseDiscountable=!1;this.spritesheetMetadata=this.componentMedia=this.extendedPriceCents=this.royaltyFreePriceCents=this.oneTimeUseAggregatePriceCents=null;this.files_=[];this.designType=void 0;this.type=null;this.status=
iF;this.user=null;this.mp=void 0}f=yL.prototype;f.zM=function(){return this.searchId};f.yM=function(){return this.rank};f.u=function(){return this.id};f.getVersion=function(){return this.version};f.Ef=function(){return this.origin};f.ka=function(){return this.brand};f.La=function(){return this.user};f.nV=function(){return this.artist};f.qb=function(){return this.title};f.He=function(){return this.description};f.Hb=function(){return this.background};f.ae=function(){return this.cutout};f.FA=function(){return this.repeating};
f.oc=function(){return this.recolorable};function xL(a){return a.oneTimeUsePriceCents}f.Kv=function(){return this.oneTimeUseDiscountable};f.GF=function(){return this.oneTimeUseAggregatePriceCents};f.iM=function(){return this.componentMedia};f.KF=function(){return this.superKeywords};f.Sj=function(){return this.keywords};f.ic=function(){return this.files_};f.us=function(){return this.spritesheetMetadata};function zL(a){return a.type}
f.Kc=function(a){return this.ic().filter(function(b){return b.R()===(a||0)}).reduce(function(a,c){a[c.JF()]=c;return a},{})};f.jc=function(){return AL(this).length};function AL(a){var b=[];a.ic().forEach(function(a){a=a.R();-1===b.indexOf(a)&&b.push(a)});return b}function BL(a){return"DESIGN"==zL(a)&&1<a.jc()}f.getFile=function(a,b){return(b=this.Kc(b))?b[a]:void 0};
f.ql=function(a){var b=this,c=this.getFile("ORIGINAL");c?b.mp?a&&a(JSON.parse(JSON.stringify(b.mp))):$.getJSON(c.oa(),function(c){b.mp=c;a&&a(JSON.parse(JSON.stringify(b.mp)))}):a&&a(JSON.parse(JSON.stringify(b.mp)))};f.tn=function(){var a=this.getFile("THUMBNAIL_LARGE")||this.getFile(wD);return a?a.oa():null};
function Jg(a){if(!a)return null;a=$.extend(new yL,a);if(a.files_){var b;b=(b=a.files_)?b.map(Rq):null;a.files_=b}Array.isArray(a.componentMedia)&&(a.componentMedia=a.componentMedia.map(La).map(Ym));a.spritesheetMetadata&&(a.spritesheetMetadata=Wr(La(a.spritesheetMetadata)));return a}function CL(a,b){a.id=b.u();a.version=b.Ja().getVersion();a.origin="CANVA"}function DL(){this.id="";this.totalHits=0;this.results=[]}DL.prototype.u=function(){return this.id};DL.prototype.Zz=function(){return this.results};
function nL(a){if(!a)return null;a=$.extend(new DL,a);a.results&&(a.results=a.results.map(Jg));return a};function EL(a,b){switch(b){case "DESC":return"DESC";case "ASC":return"ASC";default:throw new TypeError('expected SortDirection for property "'+a+'", found: '+JSON.stringify(b));}}
function th(a,b){switch(b){case "web_marketplace":return"WEB_MARKETPLACE";case "web_2_object_panel":return"WEB_2_OBJECT_PANEL";case "iphone_marketplace":return"IPHONE_MARKETPLACE";case "iphone_add_menu":return"IPHONE_ADD_MENU";case "ipad_marketplace":return"IPAD_MARKETPLACE";case "ipad_object_panel":return"IPAD_OBJECT_PANEL";case "android_home":return"ANDROID_HOME";case "android_editor":return"ANDROID_EDITOR";default:throw new TypeError('expected ClientFeature for property "'+a+'", found: '+JSON.stringify(b));
}}function FL(a){this.Zu=a.Zu;this.direction=a.direction}FL.prototype.getDirection=function(){return this.direction};function rh(a){return new FL({Zu:C("field",a),direction:Pa(EL,"direction",a)})}
function ph(a){this.query=a.query;this.mm=a.mm;this.Pn=a.Pn||[];this.Dn=a.Dn||new Map;this.Ym=a.Ym||new Map;this.filters=a.filters||[];this.ci=a.ci;this.set=a.set;this.category=a.category;this.yU=a.yU;this.elevation=a.elevation;this.XE=a.XE||[];this.rz=a.rz;this.sort=a.sort||[];this.zc=a.zc||[];this.locale=a.locale;this.aspectRatio=a.aspectRatio;this.dr=a.dr;this.limit=a.limit;this.fT=a.fT;this.nU=a.nU;this.Yh=a.Yh;this.Rf=a.Rf;this.Kg=a.Kg;this.NT=a.NT;this.IX=a.IX;this.SU=a.SU}f=ph.prototype;
f.ps=function(){return this.Pn};f.gg=function(){return this.zc};f.Df=function(){return this.locale};f.di=function(){return this.aspectRatio};f.$d=function(){return this.limit};function wL(a){this.Uq=a.Uq;this.ba=a.ba;this.Nq=a.Nq;this.Kd=a.Kd;this.Kg=a.Kg;this.Rf=a.Rf;this.source=a.source;this.Yh=a.Yh}wL.prototype.zM=function(){return this.Uq};wL.prototype.Qp=function(){return this.ba};wL.prototype.yM=function(){return this.Nq};
function uL(a){return{searchId:ib("searchId",a.Uq),mediaId:ib("mediaId",a.ba),rank:db("rank",a.Nq),free:hb("free",a.Kd),organic:hb("organic",a.Kg),rootSearchId:I("rootSearchId",a.Rf),source:I("source",a.source),docId:I("docId",a.Yh)}}function vL(a){this.events=a.events||[]};function GL(a,b){this.cache=$.extend({},a,!0);this.ac=b;var c=this;Object.keys(this.cache).forEach(function(a){Object.keys(c.cache[a]).forEach(function(b){var g=+b;Object.keys(c.cache[a][+b]).forEach(function(b){c.cache[a][g][b]=Rq(c.cache[a][g][b])})})})}function Qg(a,b,c,d){a.cache[b]=a.cache[b]||{};a.cache[b][c]=a.cache[b][c]||{};for(var e in d)a.cache[b][c][e]=Rq(d[e])}GL.prototype.Kc=function(a,b){return HL(this,a,b)?this.cache[a][b]:null};
function HL(a,b,c){return!!a.cache[b]&&!!a.cache[b][c]}function aq(a,b){return!!b&&HL(a,b.id,b.version)}function IL(a,b,c,d){function e(a){a&&a.media&&a.media.forEach(function(a){Qg(g,a.u(),a.Ja().getVersion(),a.Ja().ic())})}var g=a;0===b.length?d():(b=HF(new GF,b),c?IF(b):b.To(),dF(a.ac,b).then(e).catch($.noop).finally(d))}function JL(a,b,c){IL(a,b,!0,c)}
GL.prototype.getKeys=function(){var a=this,b=[];Object.keys(a.cache).forEach(function(c){Object.keys(a.cache[c]).forEach(function(a){b.push({id:c,version:Number(a)})})});return b};var KL={1:"TOP-LEFT",2:"TOP-RIGHT",3:"BOTTOM-RIGHT",4:"BOTTOM-LEFT",5:"LEFT-TOP",6:"RIGHT-TOP",7:"RIGHT-BOTTOM",8:"LEFT-BOTTOM"};function LL(){}LL.prototype.getKey=function(){return this.key};function xK(a){return Df(LL,a)};function ML(a,b,c){this.fileName=a;this.NU=b;this.q3=c}ML.prototype.getFileName=function(){return this.fileName};function NL(){}NL=yz.extend();NL.prototype.initialize=function(a){this.nr=a.nr;this.tf=a.tf;yz.prototype.initialize.call(this,{title:"Upload error",content:$(OL(this).toString())})};
function OL(a){var b=a.nr.NU,c=a.nr.getFileName()||"";switch(b){case 0:return a.tf.Ia("uploadErrorUnsupportedBrowserHtml");case 3:return a.tf.Ia("uploadErrorWorkerHtml");case 1:return a.tf.Ia("uploadErrorUnsupportedFileTypeHtml",c);case 2:return a.tf.Ia("uploadErrorFileTooLargeHtml",c);case 4:return a.tf.Ia("uploadErrorFileProcessingHtml",c);case 5:return a.tf.Ia("uploadErrorUnsupportedSvgContentHtml",c);case 6:return b=a.nr.q3,b=b instanceof AF?b.Ja().rejectionReason:void 0,b?a.tf.Ia("uploadErrorMediaImportWithReasonHtml",
c,b):a.tf.Ia("uploadErrorMediaImportHtml",c)}throw new TypeError("Unhandled UploadErrorDetails.ErrorType: "+b);}NL.dw=null;NL.show=function(a,b){if(!NL.paa(a))return null;var c=new NL({nr:a,tf:b});c.on("hide",function(){NL.dw===c&&(NL.dw=null)});if(NL.dw)NL.dw.on("hide",function(){c.show()});else c.show();return NL.dw=c};NL.paa=function(a){if(NL.dw)switch(a.NU){case 1:case 2:case 4:case 5:case 6:return!1}return!0};function PL(a,b,c){this.$f=!1;this.tb=b;this.media=null;this.fo=0;this.Jx=Date.now();this.B$=!!c;this.ug=a;this.nr=null}f=PL.prototype;f.off=Backbone.Events.off;f.on=Backbone.Events.on;f.trigger=Backbone.Events.trigger;f.Nb=function(){return this.media};f.tn=function(){return this.ug};f.start=function(a){this.$f||this.media||(this.media=a,this.trigger("start",this))};f.update=function(a){this.$f||(this.fo=100*Math.max(0,Math.min(a,1)),this.trigger("update",this))};
f.complete=function(){this.$f||(this.$f=!0,this.fo=100,this.trigger("complete",this))};f.fail=function(a){this.$f||(this.$f=!0,this.media=null,this.nr=a,this.trigger("fail",this))};function QL(){this.AJ=!1;this.IL=this.$f=0;this.id=void 0;this.$X=[];this.VQ=0}f=QL.prototype;f.off=Backbone.Events.off;f.on=Backbone.Events.on;f.trigger=Backbone.Events.trigger;f.Uo=function(a){this.id=a;return this};f.u=function(){return this.id};f.HF=function(){return this.$X};
f.create=function(a,b,c,d){function e(){k.trigger("start",l)}function g(){l.off("start",e);l.off("complete",g);l.off("fail",h);k.$f++;k.AJ&&k.$f+k.VQ===k.IL&&k.complete()}function h(){k.fail(l.nr);g()}var k=this,l=new PL(a,c,d);l.on("start",e);l.on("complete",g);l.on("fail",h);this.$X.push(l);this.trigger("create");return l};f.init=function(a){a()};f.sync=function(){this.trigger("sync")};function RL(a){a.AJ=!0;a.IL++}f.dr=function(){this.VQ++};
f.complete=function(){this.$f=this.VQ=this.IL=0;this.AJ=!1;this.trigger("complete")};f.fail=function(a){this.trigger("fail",a)};function SL(){this.fw={}}_.extend(SL.prototype,Backbone.Events);SL.prototype.off=Backbone.Events.on;SL.prototype.on=Backbone.Events.on;SL.prototype.trigger=Backbone.Events.trigger;SL.prototype.HF=function(a){return 0<=Object.keys(this.fw).indexOf(a)?this.fw[a].HF():[]};
function TL(a,b){a=Object.keys(a.fw).map(a.HF,a).reduce(function(a,b){return a.concat(b)},[]).filter(function(a){return a.Jx>=b});if(a.every(function(a){return a.$f}))return 100;var c=a.reduce(function(a,b){return a+(b.$f&&!b.media?100:b.fo)},0);return Math.min(100*c/(100*a.length),99)};function UL(a){this.source=a.source;this.YG=a.YG||null;this.listener=a.progress}function VL(a,b,c,d,e,g,h,k){var l=!1,m=a.listener.create(d,e,g,h);WL(b,c,d,g,function(a,b){l||(l=!0,m.start(a));m.update(b)},k).then(function(){m.complete();a.YG&&a.YG(m.Nb())},function(a){m.fail(new ML(b.name||"Unnamed File",6,a))})}
function XL(a){var b=a.naturalWidth,c=a.naturalHeight,d=b,e=c,g=200/Math.max(b,c);1>g&&(d=Math.round(g*b),e=Math.round(g*c));g=document.createElement("canvas");g.width=d;g.height=e;var h=g.getContext("2d");h.drawImage(a,0,0,b,c,0,0,d,e);a=g.toDataURL();for(var d=h.getImageData(0,0,d,e),e=d.data,b=e.length,c=new fn,k=0;k<b;k+=4)hn(c,e[k],e[k+1],e[k+2]),e[k]=e[k+1]=e[k+2]=c.hv();h.putImageData(d,0,0);g=g.toDataURL();return{color:a,AV:g}}
function YL(a,b){ZL(b).then(function(c){var d=XL(c);c={width:c.naturalWidth,height:c.naturalHeight};for(var e=window.atob(b.substr(22)),g=e.length,h=Math.ceil(g/1024),k=Array(h),l=0;l<h;++l){for(var m=1024*l,n=Math.min(m+1024,g),p=Array(n-m),q=0;m<n;++q,++m)p[q]=e[m].charCodeAt(0);k[l]=new Uint8Array(p)}e=new Blob(k,{type:"image/png"});e.name="generated_file_"+Date.now()+".png";e.type="image/png";e.constructor=File;VL(a,e,b,d.color,d.AV,c,!1)}).catch($.noop)}
UL.prototype.upload=function(a,b){var c=this;this.listener.init(function(){function d(a,b,c){var d=$("\x3cimg\x3e");d.one("load",function(){var b;b=d.get(0);var g=document.createElement("canvas"),h=b.naturalWidth,k=b.naturalHeight;-1<[KL[5],KL[6],KL[7],KL[8]].indexOf(c)?(g.width=k,g.height=h):(g.width=h,g.height=k);var l=g.getContext("2d");switch(c){case KL[2]:l.translate(h,0);l.scale(-1,1);break;case KL[3]:l.translate(h,k);l.rotate(Math.PI);break;case KL[4]:l.translate(0,k);l.scale(1,-1);break;case KL[5]:l.rotate(.5*
Math.PI);l.scale(1,-1);break;case KL[6]:l.rotate(.5*Math.PI);l.translate(0,-k);break;case KL[7]:l.rotate(.5*Math.PI);l.translate(h,-k);l.scale(-1,1);break;case KL[8]:l.rotate(-.5*Math.PI),l.translate(-h,0)}l.drawImage(b,0,0,h,k);b=g.toDataURL("image/jpeg",.92);e(a,b)});d.attr("src",b)}function e(a,b){var c=b.slice(b.indexOf(",")+1),d=g(c);d.name=a;d.type="image/jpeg";var e=$("\x3cimg\x3e");e.attr("src",b);e.one("load",function(){k(d,e.get(0),b)})}function g(a){a=window.atob(a);for(var b=a.length,
c=Math.ceil(b/1024),d=Array(c),e=0;e<c;++e){for(var g=1024*e,h=Math.min(g+1024,b),k=Array(h-g),l=0;g<h;++l,++g)k[l]=a[g].charCodeAt(0);d[e]=new Uint8Array(k)}return new Blob(d,{type:"image/jpeg"})}function h(a,b){var d=m[a];$L(d).then(function(a){k(d,a,b)}).catch(function(){c.listener.fail(new ML(a,4));c.listener.dr();l()})}function k(a,d,e){var g=XL(d);VL(c,a,e,g.color,g.AV,{width:d.naturalWidth,height:d.naturalHeight},!1,b);window.setTimeout(l,600)}function l(){u++;u<q?p.postMessage({next:!0}):
c.listener.sync()}if(window.URL){for(var m={},n=[],p=new Worker(O.O0.upload),q=0,u=0,v=0;v<a.length;v++){var z=a[v],t=z.name,x=z.type,H=z.size;RL(c.listener);var E;a:{switch(x){case "image/jpeg":case "image/png":case "image/raw":case "image/svg+xml":case "image/x-fuji-raf":E=!0;break a}E=!1}if(E)if(26214400<H)c.listener.fail(new ML(t,2)),c.listener.dr();else{if("image/jpeg"===x||"image/png"===x)m[t]=z;n.push(z);q++}else c.listener.fail(new ML(t,1)),c.listener.dr()}c.listener.sync();if(0===q)c.listener.complete();
else{p.onmessage=function(a){var g=JSON.parse(a.data);if("error"===g.status)c.listener.fail(new ML(g.fileName,4)),c.listener.dr(),l();else if("exifRotated"===g.specialFile)d(g.fileName,g.imageData,g.orientation);else if("raw"===g.specialFile)e(g.fileName,g.imageData);else if(g.svgText)if(a=g.fileName,g=g.svgText,NB(g)){a=(new JB(g)).X_(a);a.source=XB(a.source);a.source=UB(a.source);a.source=WB(a.source);a.viewBox=VB(a.source);a.source=a.source.replace(/xmlns:xml=['"]http:\/\/www.w3.org\/XML\/1998\/namespace["']/g,
"");g=new Blob([a.source],{type:"image/svg+xml"});g.name=a.filename;g.constructor=File;var k="data:image/svg+xml;base64,"+window.btoa(unescape(encodeURIComponent(a.source)));VL(c,g,k,k,k,{width:a.viewBox[2],height:a.viewBox[3]},!0,b);window.setTimeout(l,600)}else c.listener.fail(new ML(a,5)),c.listener.dr(),l();else h(g.fileName,g.imageData)};try{p.postMessage(n)}catch(L){c.listener.fail(new ML(null,3));c.listener.complete();return}U&&U.track("image_upload",{source:c.source,quantity:q})}}else c.listener.fail(new ML(null,
0)),c.listener.complete()})};function $L(a){return new P(function(b,c){if(aM){var d=window.URL.createObjectURL(a);ZL(d).then(b,c).finally(function(){window.URL.revokeObjectURL(d)})}else{var e=new FileReader;e.onload=function(){ZL(e.result).then(b,c)};e.onerror=c;e.readAsDataURL(a)}})}function ZL(a){return new P(function(b,c){var d=new Image;d.onload=function(){b(d)};d.onerror=c;d.src=a})}var aM="IE"!==(new UAParser).getResult().browser.name;function bM(a){w(0<a);this.G4=a;this.queue=[];this.WM=0}bM.prototype.eQ=function(a){var b=this;return(new P(function(a){b.queue.push(a);cM(b)})).cancellable().then(a).finally(function(){b.WM--;cM(b)})};function cM(a){if(!(a.WM>=a.G4)){var b=a.queue.shift();b&&(a.WM++,b())}};function dM(a,b,c,d,e,g,h,k){this.N=a;this.media=b;this.mc=c;this.ef=d;this.Xx=e;this.s3=g;this.Px={};this.QC=[];this.Ks=h;this.Uh=k;this.y_=[];this.NN=_.throttle(this.NN.bind(this),30,{leading:!1})}dM.prototype.Kc=function(a,b){return null==a||null==b?null:this.ef.Kc(a,b)||this.Px[a]||null};
function xD(a,b,c){var d=Hb,e=d.Kc(a,b),g;return e&&(g=e[c])?g.watermarked?(new P(function(c){d.y_.push({I4:new Xm({id:a,version:b}),resolve:c});d.NN()})).then(function(){var e=d.Kc(a,b);if(!e||!(g=e[c]))throw Error();return g}):P.resolve(g):P.reject()}dM.prototype.NN=function(){var a=this.y_.splice(0),b=a.map(function(a){return a.I4});JL(this.ef,b,function(){return a.forEach(function(a){return a.resolve()})})};
function eM(a,b){var c={};return b.filter(function(a){if(!a)return!1;var b=a.u();a=a.getVersion();if(this.Kc(b,a))return!1;b=b+":"+a;return c[b]?!1:c[b]=!0},a)}function Og(a,b){var c=b.u();a.Px[c]||(b=b.Kc(),a.Px[c]={SCREEN:Rq(b[Lg]),THUMBNAIL:Rq(b[wD])})}
function Cg(a,b,c){var d=b.Ef();if(d!==Kg&&"GOOGLE"!==d)throw Error('Cannot upload media with origin "'+d+'"');var e,g=b.u(),h=fM(b,a.mc),d=(new DF).St(h.filename).Tt(!0);a.QC.push(g);aF(a.media,d).then(function(b){var c=b.Ja();a.Px[b.u()]=c&&c.ic();e=b;a:switch(h.origin){case Kg:case "GOOGLE":b=new gM(h.id,h.mc,b,h.KH);break a;default:throw Error(h.origin+" is unsupported");}return a.Xx.upload(b)}).then(function(){var b=(new FD).Ik(e.Ja().getVersion()).ey(!0);return a.media.S_(e.u(),b)}).then(function(c){var d=
b.getVersion();CL(b,c);Qg(a.ef,c.u(),c.Ja().getVersion(),c.Ja().ic());var d={mediaId:g,mediaVersion:d},e={mediaId:c.u(),mediaVersion:c.Ja().getVersion()};hM(d,e);Zp(K).forEach(function(a){var b=a.Ob();b&&b.id===g&&a.cm(c.u(),c.Ja().getVersion())});iM();return c}).catch(function(b){c.YC(a.ef);iM();return Promise.reject(b)}).finally(a.RZ.bind(a,g))}
function WL(a,b,c,d,e,g){var h=Hb;function k(a){var e={};e[wD]=new vF({url:c,width:d.width,height:d.height});e[Lg]=new vF({url:b,width:d.width,height:d.height});q.Px[a.u()]=e;return a}function l(a){var b=(new FD).Ik(a.Ja().getVersion()).ey(!0);return q.media.S_(a.u(),b)}function m(a){Qg(q.ef,a.u(),a.Ja().getVersion(),a.Ja().ic());iM();return P.resolve(a)}function n(a){return Promise.reject(a)}function p(b){b=new oM({file:a,qF:g,id:_.uniqueId("file_"),media:b,mc:q.mc,Ks:q.Ks,Uh:q.Uh});b.yP.push(e);
return q.Xx.upload(b)}var q=h,u=a.name.replace(/\$/g,"_"),v=_.uniqueId("file_"),z=EF((new DF).St(u).Tt(!0).$_(!1),a.size);h.QC.push(v);return h.s3.eQ(function(){return aF(q.media,z).then(k).then(p).then(l).then(m).catch(n).finally(q.RZ.bind(q,v))})}dM.prototype.RZ=function(a){a=this.QC.indexOf(a);-1!=a&&this.QC.splice(a,1)};function iM(){K.trigger("change")}
function pM(a){function b(a){var g=a.mediaId,h=a.mediaVersion;void 0!==g&&void 0!==h&&null!==g&&null!==h&&(HL(d.ef,g,h)?0:g in d.Px)&&(delete a.mediaId,delete a.mediaVersion);Object.keys(a).forEach(function(d){d=a[d];d instanceof Array?d.filter(c).forEach(function(a){b(a)}):c(d)&&b(d)})}function c(a){return a instanceof Object}var d=Hb;b(a)};function qM(a){this.id=a.id;this.origin=a.origin;this.KH=a.KH;this.ir=a.ir;this.filename=a.filename;this.mc=a.mc}
function fM(a,b){var c=a.Ef();switch(c){case Kg:var c=a.getFile(Lg).oa(),d=a.getFile(wD).oa(),e=c.match(/.*(\.\w+)/)[1],e=a.u()+e;return new qM({id:a.u(),origin:a.Ef(),KH:c,ir:d,filename:e,mc:b});case "GOOGLE":return c=a.getFile(Lg).oa(),d=a.getFile(wD).oa(),e=a.qb(),new qM({id:a.u(),origin:a.Ef(),KH:c,ir:d,filename:e,mc:b});default:throw Error('Cannot create temporary media for origin "'+c+'"');}};function rM(){this.queue=[];this.RB={};this.LR={};this.BK=null}rM.prototype.upload=function(a){function b(){var b=new P(function(b,d){b={request:a,resolve:b,reject:d};c.queue.push(b);d=a.u();var e=c.RB[d];e||(e=[]);e.push(b);c.RB[d]=e});sM(c);return b}var c=this,d=this.LR[a.u()];return d?P.resolve(d):P.resolve().then(b)};function sM(a){if(!a.BK&&0<a.queue.length){var b=a.queue.shift();a.BK=b;tM(a,b)}}
function tM(a,b){var c=b.request.u();uM(b.request).then(function(b){a.LR[c]=b}).then(function(){var b=a.RB[c],e=a.LR[c];if(!e)throw Error("Could not find media reference for uploaded item");b&&b.forEach(function(a){a.resolve(e)})}).catch(function(){var b=a.RB[c];b&&b.forEach(function(a){a.reject()})}).finally(function(){delete a.RB[c]}).finally(a.a5.bind(a))}
function uM(a){return new P(function(b,c){function d(h){7>e&&h===vM?(e++,g*=1.6,P.delay(g).then(a.send.bind(a)).then(b).catch(d)):c(h)}var e=0,g=500;a.send().then(b).catch(d)})}rM.prototype.a5=function(){this.BK=null;sM(this)};function wM(a,b){this.id=a;this.media=b;this.yP=[]}var vM=Error("Canva is too busy to process your upload at this time. Please try again later.");wM.prototype.u=function(){return this.id};wM.prototype.send=function(){return P.reject("Not implemented")};wM.prototype.EX=function(a){if(a.lengthComputable){a=a.loaded/a.total;for(var b=0;b<this.yP.length;b++)this.yP[b](this.media,a)}};function xM(a){a=function(a){var c=/^([^?]+)\?/.exec(a);return c?c[1]:a}(a);return _.find(yM,function(b,c){return a.slice(-c.length)===c})}var yM={".gif":"image/gif",".jpg":"image/jpeg",".jpeg":"image/jpeg",".png":"image/png",".ttf":"application/x-font-truetype",".otf":"application/x-font-otf",".woff":"application/font-woff"};function oM(a){wM.call(this,a.id,a.media);this.file=a.file;this.qF=a.qF;this.mc=a.mc;this.c8=void 0;this.Uh=a.Uh;this.PM=a.Ks.PM("canva.editor.uploadrate")}oM.prototype=Object.create(wM.prototype);oM.prototype.constructor=oM;
oM.prototype.send=P.method(function(){var a=this,b=a.file.type||xM(a.file.name),c=this.Uh.now();return wK(this.mc,this.media.u(),this.media.Ja().getVersion(),b).then(function(c){var e=c.formFields||{};if(0<Object.keys(e).length)return c={file:a.file,url:c.postUrl,$L:e,progress:a.EX.bind(a)},zM(c);c={S0:c.awsAccessKeyId,file:a.file,L4:b,key:c.getKey(),z8:c.policy,progress:a.EX.bind(a),k$:c.signature,url:c.postUrl};return zM({file:c.file,url:c.url,$L:{key:c.key,AWSAccessKeyId:c.S0,policy:c.z8,signature:c.k$,
"Content-Type":c.L4||c.file.type},progress:c.progress,SV:c.SV})}).tap(function(){a.PM.update(a.file.size/(a.Uh.now()-c))}).then(function(c){c=(new JK).Y_(c);c.mimeType=b;c.isPaid=!0===a.c8;a.qF&&(c.folderKey=a.qF);return yK(a.mc,a.media.u(),a.media.Ja().getVersion(),c)}).catch(this.q9.bind(this))});
oM.prototype.q9=function(){throw Error("Unfortunately your upload failed :(\n\nPlease ensure that:\n   - the size of the image is under 25MB;\n   - the image is a .png, .jpg or .svg file;\n   - the image uses an RGB color model (i.e. not CMYK); and,\n   - you have a stable internet connection.\n\nIf you feel that you have met the above criteria and the image is still failing to upload, please let the team know by emailing support@canva.com");};function gM(a,b,c,d){wM.call(this,a,c);this.mc=b;this.url=d}gM.prototype=Object.create(wM.prototype);gM.prototype.constructor=gM;gM.prototype.send=P.method(function(){var a=this;return vK(this.mc,this.media.u(),this.media.Ja().getVersion(),this.url).then(function(){return a.media}).catch(function(a){throw 429===a[1]?vM:Error();})});function eA(a){function b(a,b,c){c||b.forEach(function(a){a.u&&a.getVersion&&a.ic&&("CANVA"==a.Ef()?Qg(yb,a.u(),a.getVersion(),a.Kc()):Og(Hb,a))})}function c(){AM="FREE"===z.Db.bC;BM(l)}var d=$("#objectPanel"),e=new jh(window.viewConfig),g=hy(),h=ly(g),k=ky(g).ka(),l=a.i,m=im(),n=a.Xb,p=new Hj(Ib),q=new oL(Ib);iK(Kb,function(){var a=(ky(g).Lp()||new xx({})).KC;return a&&a[0]?a[0].LC||[]:[]}(),function(){var a=new CM({model:K,Ti:ky(g).Lp(),i:l});$("#resultsText \x3e .layer \x3e .inner").prepend(a.el)});
var u=null,v=oh(e);null!=v&&(u=DM(v));new EM({yb:k.hn(),AK:h.u(),rK:function(b){return new FM({J:lc(l),Hu:b,Wc:a.Wc,tx:!Jb.fz()})},gE:function(a,b){var c,d;-1<h.tv().indexOf("FUSION")?(c=dv(window.cdocType).u(),d=!1):(c=void 0,d=!0);return new GM({el:a,I2:new HM({Ra:Ab,gc:p,na:h.u(),va:k.u(),cv:b,Zr:d,HE:c}),BA:!!b,i:l})},qK:function(a){return new IM({el:a,i:l,jE:function(){return new JM(null!=u?new KM({mQ:q,rd:u}):new KM({mQ:q,vc:K.lb(),query:e.xg.get("layoutQuery",null)}))}})},mK:function(a){return new LM({el:a,
i:l})},Ra:Ab,gc:p,el:"#resultsLayout",E4:e.xg.get("magicTemplates",[]).map(MM),model:K,Eca:Jb.G.get(Nf),Fca:Jb.fz(),i:l,OQ:!!ky(g).getSubscription(),QQ:-1===["DESIGN_TUTORIAL","FREE_NEW_USER"].indexOf(e.wh())});v=$(".searchAdvanced");if(1===v.length){var z=NM({Zl:Ed(l),QL:c,anchor:$("#search"),G:a.G,j:m,WD:function(){if(Jb.G.get(ug)){var a=Mb;a.j.wa(nm());Fo(a,Lo)}else a=Mb,a.j.wa(nm()),Fo(a,OM)}});v.append(z.view.$el);AM="FREE"===z.Db.bC}var t=new PM({el:"#resultsSearch",i:l});t.on("results:didFetch",
b);t.on("searchFilterMediaType",function(){QM=t.ps();BM(l)});QM=t.ps();v=new RM({el:"#resultsElements",i:l,e$:Jb.G.get(hg)});v.on("results:didFetch",b);v.on("folder:expand",function(a){m.track("folder_opened",{section:"editor",subsection:"object_panel",location:"elements_tab",type:a.replace(/\s/g,"_").toLowerCase()})});var v=new WI(Ib),x=new SL,H=new wg({Fb:K,Gd:vb,ef:yb,ac:Db,gc:p,uI:Hb,Xy:function(a,b){var c=lc(l);a=a.u();var d;0<=Object.keys(x.fw).indexOf(a)?a=x.fw[a]:(d=(new QL).Uo(a),d.on("create",
x.trigger.bind(x,"create")),d.on("fail",x.trigger.bind(x,"fail")),a=x.fw[a]=d);return new UL({source:b,J:c,progress:a})}}),E;a:{try{E=ky(g).Lp().hn().Gg;break a}catch(L){}E=void 0}E=new SM({yb:E,Pa:H,vz:Jb.G.get(Rf),hl:Jb.G.get(Pf),Z2:new TM($(window)),il:vg,W:Jb,gc:p,Li:v,ac:Db,i:l,Z:Eb,Xf:x,na:h.u(),H:hl,Wc:a.Wc});E.render().getElement().replaceAll("#normalUploads");E.show();(new UM({root:$("#objectPanel menu .uploads"),Xf:x,tf:md(l)})).start();VM(ky(g).Lp(),tc(l),m);WM(l);oA();d.children("menu").find("a").on("click",
function(){XM.call(this,l)});(new fp("#objectPanel")).on("mousedown",".templateGallery a",YM).on("touchstart",".templateGallery a",YM);d.on("click",".backgroundGallery a",ZM);(new fp("#objectPanel")).on("mousedown",".backgroundGallery *:not(.static) a",$M).on("touchstart",".backgroundGallery *:not(.static) a",$M);d.on("click",".backgroundGallery a",!1);d.on("click",".infoPanelGallery .info .moreInfo",function(){aN.call(this,l)});d.on("click",".infoPanelGallery .info .superKeyword",bN);(new fp("#objectPanel")).on("mousedown",
".photoGallery:not(.gridGallery):not(.albumGallery) a",cN).on("touchstart",".photoGallery:not(.gridGallery):not(.albumGallery) a",cN);d.on("click",".photoGallery:not(.gridGallery):not(.albumGallery) a",!1);(new fp("#objectPanel")).on("mousedown",".gridGallery a",dN).on("touchstart",".gridGallery a",dN);(new fp("#objectPanel")).on("mousedown",".chartGallery .chart a",eN).on("touchstart",".chartGallery .chart a",eN).on("mousedown",".chartGallery :not(.chart) a",cN).on("touchstart",".chartGallery :not(.chart) a",
cN);vg&&vg.init().then(function(a){RI(a).catch(function(){})});$(".results.infinite:not(#resultsSearch):not(#resultsUpload):not(#resultsLayout):not(#resultsElements) \x3e .layer").on("scroll",fN);$("#search").on("focus",gN);$("#someoneElseEditing").find("a").on("click",hN);$("#inReview").find("a").on("click",iN);$("#touchDevice").find("a").on("click",jN);d.find(".scrollPane").each(function(){(new Vn($(this))).render()});kN(d,a.Bp,l);lN(n,mN,function(){var a=Ud(lc(l)),a=d.find('[title\x3d"'+a+'"]'),
b=d.find(".uploads");return b.is(".on")&&1===a.length?(a=a.get(0).getBoundingClientRect(),{x:Number(a.right)+20,y:Number(a.top)+15}):1===b.length?(a=b.get(0).getBoundingClientRect(),{x:Number(a.right)+20,y:Number(a.top)+Number(a.height)/2}):null})}
function kN(a,b,c){function d(b){var d=b.param;"folder"===b.action?e(d):"search"===b.action?g(d):"tab"===b.action&&((b=a.find("menu ."+d+" a").get(0))?XM.call(b,c):h())}function e(b){var d=$("#resultsElements").find('a[data-query\x3d"'+b+'"]');b=a.find("menu .elements a").get(0);0<d.length?(XM.call(b,c),window.setTimeout(function(){d.trigger("mousedown")},O.Da.lk)):h()}function g(b){window.setTimeout(function(){a.find("#search").val(b);BM(c)},O.Da.lk)}function h(){var a=$("#objectPanel").find("menu .on a").get(0);
XM.call(a,c)}b?d(b):h()}
function VM(a,b,c){function d(){var a=e();if(a&&!a.equals(p.Up())||null===a&&null!==p.Up())p.off("preview",m.Bw),p.off("confirm",m.confirm),p.kC(a),p.confirm(),p.on("preview",m.Bw),p.on("confirm",m.confirm),m.reset()}function e(){if(dD(n)){var a=Tp(n);if(0<a.length)return a[a.length-1].lh()}return null}function g(){Xn(p);p.confirm()}function h(a){0===$(a.target).closest(".colorPicker, .colorPalette").length&&g()}var k=$("#resultsBackground"),l=k.find(".colorControls"),m=nN(),n=K.Ea();a=a&&a.My||[];
var p=new Pn({Ny:new xz({ty:function(a){a.appendTo("#objectPanel")},bA:function(){return $(document.body)},margin:O.mS,zC:wz}),Dl:b,Zi:rc(Lb),Pl:K,ru:a,ZB:!1,Qb:e(),j:c,W:Jb,window:window});p.on("preview",m.Bw);p.on("confirm",m.confirm);p.on("showColorPicker",function(){document.addEventListener("mousedown",h,!0);k.find(".layer").on("scroll",g)});p.on("hideColorPicker",function(){document.removeEventListener("mousedown",h,!0);k.find(".layer").off("scroll",g)});p.listenTo(K,"page:change:selected",
function(){g();p.stopListening(n);n=K.Ea();d();p.listenTo(n,"change:background",d)});p.listenTo(n,"change:background",d);p.listenTo(M,"beforeOperationStackPop",g);p.appendTo(l)}function gN(){var a=this;"resultsSearch"!==oN().attr("id")&&$("#objectPanel").find("menu .search a").trigger("click");window.setTimeout(function(){a.select()},O.Gc)}
function XM(a){function b(a,b,c,d,e,g){var h=$(a);a=h.find("\x3e .layer \x3e .inner \x3e .searchGroup").first();a.parent(".layer").find(".searchError").remove();pN(a);a.height(h.height());qN=new rN(c,b,d,null,null,null,null,sN(h,h.height()),null,!1,!1,function(){tN(e)},!1,null);g&&(b=new rN(c,g,d,null,null,null,null,sN(h,h.height()),null,!1,!1,function(){tN(e)},!1,null),b.tY=qN,qN.QH=b);a.data("search",qN);tN(e)}T.trigger("objectPanel:tabClicked");var c=$(this).parents("menu"),d=$("li",c),e=$(this).parents("li"),
g=d.index(c.find("li.on"))+1,h=e.index()+1,k=$("#objectPanel"),l="#"+k.find(".content \x3e .results").get(g-1).id,c="#"+k.find(".content \x3e .results").get(h-1).id,m=k.get(0).className,m=m.replace(/(^| )stage[^ ]+/g,"");k.get(0).className=m;k.addClass("stage"+h);d.removeClass("on");U&&e.get(0)&&Nl(U,e.get(0).className,"object_panel");e.addClass("on");d=oN();e.hasClass("search")&&$("#search").focus();g==h&&d.find(".layer").first().animate({scrollTop:0},O.Da.Tq);e=$(l+" .layer");uN(e);vN&&vN.cancel();
vN=null;g=$(c);e=0===g.find(".gallery li:not(.static)").length;g=0<g.find(".searchLoader").length;e&&!g&&("#resultsLayout"==c?(c=$("#resultsLayout"),a=c.data("view"),c=sN(c,c.height()),a.$h(c)):"#resultsText"==c?b(c,rL,"text",null,a,qL):"#resultsBackground"==c&&b(c,qL,"backgrounds",{background:"true"},a));(a=d.find(".layer").last().find(".searchGroup").last().data("search"))&&qN&&"facebook"!=qN.query.toLowerCase().trim()&&(qN=a);return!1}
function YM(a){function b(a){var b=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;a=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;var c=Math.abs(a-m)>O.Hc,c=Math.abs(b-l)>O.Hc||c;null==k&&c&&(k=g.Wy(),$("#content").append(k),e.css("opacity",0),$("#search").blur(),wN(k,xN(n)));null!=k&&(a=h.top+a-m,k.css("left",h.left+b-l).css("top",a));return!1}function c(){function a(){$(this).remove();e.css("opacity","")}$("#hotspots").remove();n.off("mousemove|touchmove",b).off("mouseup|touchend",
c);e.removeClass("pickedUp");null==k||k.hasClass("disappeared")||k.hasClass("placing")?(k&&k.remove(),e.animate({opacity:1},O.Da.oL),d()):(h=e.offset(),k.addClass("returning"),k.one("transitionend",a).css("left",h.left).css("top",h.top))}function d(){var b=null!=k;if(!$(a.currentTarget).find(".multiPageDesignItem,.multiPageLayoutItem").length||b){var c;switch($(".layoutsControls .tabDropdown").attr("data-selected")){case yN:c=g.model instanceof $I?"canva_layout_grid":"canva_layout";break;case zN:c=
"brand_template";break;case AN:c="your_designs";break;default:c="design_folder"}var d=$(a.target).is(".componentItemLink"),e="function"===typeof g.model.GF&&0<g.model.GF();U&&U.track("layout_use",{media_id:g.model.u(),layout_source:c,component_page:d,interaction:b?"drag":"click",is_paid_layout:e?"yes":"no"});if(b=e&&Jb)b=Jb.G.get(tg);b&&(window.location.hash="#premiumLayoutHint",window.Appcues&&window.Appcues.page())}}if($(a.target).hasClass("moreInfo")||$(a.target).hasClass("superKeyword")||a.which==
O.Mh||a.ctrlKey)return!0;Vz();var e=$(this);e.addClass("pickedUp");var g=e.parents("li").data("view"),h=e.offset(),k=null,l=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,m=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,n=new fp($(document));n.on("mousemove|touchmove",b).on("mouseup|touchend",c);return!1}
function nN(){function a(){b&&(MK(),b=!1);d=c=null}var b=!1,c,d,e;return{Bw:function(a){hh();var h=K.Ea(),k=Tp(h);e={index:0,color:a.ra()};b||(LK(),b=!0);c=k.filter(function(a){return a.mq()}).pop();k.forEach(function(a){a!==c&&(BN(a),a.remove())});c?(d||(h=c.bb()[0],d={index:0,color:h?h.ra():O.bJ}),c.ge(0,a)):(a={type:"image",isBackground:!0,isRecolorable:!0,backgroundColor:e.color},_.extend(a,h.qa().serialize()),a=yg(a),a.appendTo(h),d=e,Ag(a),c=a)},confirm:function(){if(c&&c.R()){var b={elementIndex:c.K(),
pageIndex:c.R().K(),"new":e,old:d};M.register(new Y(CN,b));d=e}a()},reset:a}}function ZM(a){if($(a.target).is(".moreInfo")||$(a.target).is(".superKeyword"))return!1;hh();a=$(a.currentTarget).parents("li")[0];a=$(a);DN(a);a=a.data("result");tL(a,!1);Wl("background_image",a.u(),null);return!1}
function $M(a){function b(a){var b=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;a=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;if(null==m&&(Math.abs(b-n)>=O.Hc||Math.abs(a-p)>O.Hc)){m=$('\x3cdiv class\x3d"clone bg"\x3e\x3c/div\x3e');g.FA()&&m.addClass("patterned");var c=$("img",d).clone(!0).off(""),t=parseInt(c.attr("width"),10),x=parseInt(c.attr("height"),10);t<x?c.css("width",k).css("height",c.height()):c.css("width",c.width()).css("height",k);m.data("li",e).append(c).css("left",
h.left).css("top",h.top).css("width",k).css("height",l).css("background-color",e.data("color"));$("#content").append(m);d.css("opacity",0);$("#search").blur();wN(m,xN(q))}null!=m&&(a=h.top+a-p,m.css("left",h.left+b-n).css("top",a));return!1}function c(){function a(){$(this).remove();d.css("opacity",1)}$("#hotspots").remove();q.off("mousemove|touchmove",b).off("mouseup|touchend",c);d.removeClass("pickedUp");null==m||m.hasClass("disappeared")||m.hasClass("placing")?(m&&m.remove(),d.animate({opacity:1},
O.Da.oL)):(h=d.offset(),m.addClass("returning"),m.one("transitionend",a).css("left",h.left).css("top",h.top))}if(a.which==O.Mh||a.ctrlKey)return!0;if($(a.target).is(".moreInfo")||$(a.target).is(".superKeyword"))return!1;var d=$(this);d.addClass("pickedUp");var e=d.parents("li"),g=e.data("result"),h=d.offset(),k=d.width(),l=d.height(),m=null,n=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,p=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,q=new fp($(document));q.on("mousemove|touchmove",
b).on("mouseup|touchend",c);return!1}
function DN(a){var b=K.Ea(),c=gh(vb),d=Tp(b);if(0<d.length){var e=d[d.length-1].C().clone();e.removeClass("appearing");EN(c,e);P.delay(O.Da.e3*O.iy).then(function(){e.remove()})}a=$("img",a);(a=yg(FN(a)))&&a.NJ()&&(LK(),d.forEach(function(a){var c=a.K(),c={backgroundColor:a.lh(),elementIndex:c,oldElementIndex:c,pageIndex:cp(K,b)};ED(a);M.register(new Y(GN,c));BN(a);a.remove()}),d=b.qa(),c=a.qa(),Em(c,d),a.sd(c),b.addElement(a,!1,!0),Ag(a),d=a.K(),Up(a),d={backgroundColor:a.lh(),elementIndex:a.K(),
oldElementIndex:d,pageIndex:cp(K,b)},M.register(new Y(HN,d)),MK())}
function oA(a,b){function c(a){var b,c,d=a.width(),l=parseFloat(a.find("a").css("margin-right"));b=a.data("layoutItem");c=a.data("designItem");var m=a.data("searchResult");if(b)c=b.getContent(),b=c.width,c=c.height;else{if(c)c=Mq(c.draft.imageSets.thumbnail);else if(c=m.getFile("ORIGINAL"),!c)return d;b=c.l();c=c.o()}return 80>(d-l)*c/b?Number(a.parent().width()):d}void 0===b&&(b=!0);void 0===a&&(a=$("#objectPanel .photoGallery, #objectPanel .infoPanelGallery"));var d=a.filter(".gridGallery");a=a.not(d);
IN(d);a.each(function(){var a=$(this),d=a.children("li"),h=a.hasClass("backgroundGallery");if(!(0>=d.length||(a.removeClass("laidOut"),0>=a.width()))){b||d.filter(":not(.newSearch)").addClass("doNotTransition");$("img",a).css("height","");d.css("width","").css("left","").css("top","");var k;k=a.hasClass("templateGallery")?c(d.first()):d.first().width();for(var l=parseInt($("a",this).css("margin-right"),10),m=parseInt($("a",this).css("margin-bottom"),10),n=Math.round(a.width()/k),p=a.data("columnData"),
q={i2:k,marginRight:l,marginBottom:m,ta:[]},u=p&&p.ta.length==n&&p.i2==k,v=0;v<n;v++)q.ta[v]={height:0,items:[],Gf:0},u&&(q.ta[v].Gf=p.ta[v].Gf);var z=null;a.children("li").find("a.infoOpen").parents("li").first().each(function(){var a=$("img",this),b=a.attr("width")||a.get(0).naturalWidth,a=a.attr("height")||a.get(0).naturalHeight;z=$(this).data("originalTop")+(k-l)/b*a+m});null!=z&&u||d.removeData("modifiedTop");d.each(function(){for(var b=$(this),c=b.data("result"),d=0,g=q.ta[d].height,n=0;n<q.ta.length;n++)if(0==
q.ta[n].height){d=n;g=0;break}else q.ta[n].height<g&&(d=n,g=q.ta[n].height);var n=b.find("a"),p=b.find("img"),t,v;0<p.length?(t=parseInt(p.attr("width"),10)||p.get(0).naturalWidth,v=parseInt(p.attr("height"),10)||p.get(0).naturalHeight):v=t=k;var x=t>v,H=k-l,qa=H/t*v;p.css("height",qa);b.hasClass("grid")&&(qa=b.data("layoutItem").getContent(),qa=(k-l)*qa.height/qa.width,b.find("a").css("height",qa));b.data("originalTop",g).css("width",k).css("left",d*k);h&&(x&&(H=t/v*(k-m),p.css("width",H).css("height",
"")),"backgroundColorAlbum"===b.attr("id")?b.add(n).add(p).css("width","").css("height",""):(b.height(k),n.height(k-m),c&&!c.FA()&&(qa=x?0:(k-m-qa)/2,p.css("margin-left",(k-l-H)/2).css("margin-top",qa))),c&&(c.oc()&&(qa="#"+(O.F0[c.u()]||"888888"),b.data("color",qa),n.css("background-color",qa)),c.FA()&&b.addClass("patterned")),qa=k-m);c=d;b.hasClass("newSearch")?(d=0,null!=z&&g+qa+m>z&&(d=q.ta[c].Gf,0==d&&(d=JN(a.parents(".searchGroup")),d+=z-q.ta[c].height,q.ta[c].Gf=d),b.data("modifiedTop",g+d)),
b.css("top",g+d)):b.data("modifiedTop")?(c=b.data("columnIndex"),g=b.data("modifiedTop"),b.css("left",c*k).css("top",g).data("originalTop",g-q.ta[c].Gf)):u?(c=b.data("columnIndex"),b.css("left",c*k).css("top",q.ta[c].height).data("originalTop",q.ta[c].height)):b.css("top",g);q.ta[c].height+=qa+m;q.ta[c].items.push(b);b.data("columnIndex",c)});a.data("columnData",q);a.parents(".searchGroup").height();a.addClass("laidOut");b||window.setTimeout(function(){d.filter(":not(.newSearch)").removeClass("doNotTransition")},
O.Da.ZA);var t=a.parent(".searchGroup"),n=a.parents(".layer").find("\x3e .inner \x3e .searchGroup").last().get(0)==t.get(0);pA(t,!n);var x=t.height(),H=a.hasClass("templateGallery")?4:1;setTimeout(function(){var b=KN(a.parents(".results")),c=0<a.parents("#resultsSearch").length,d=c?LN(t):0,g=-1;a.children("li.newSearch").each(function(){var a=$(this),e=!1;(e=c?d+a.data("originalTop")<b:parseInt(a.css("top"),10)<x)?window.setTimeout(function(){a.removeClass("newSearch")},++g*O.Da.jw*H):a.addClass("doNotTransition").removeClass("newSearch").removeClass("doNotTransition")})},
O.Gc)}})}
function IN(a){void 0===a&&(a=$("#objectPanel").find(".gridGallery"));var b=$("a",a).width();$("li, a",a).css("height",b);a.addClass("laidOut");a.each(function(){var a=$(this),b=a.children("li"),a=a.parents(".searchGroup"),e=a.parents(".layer"),g=e.offset(),h=e.height();b.each(function(){var a=$(this),b=a.position().top+(a.hasClass("newSearch")?50:0);a.data("originalTop",b)});pA(a,!1);setTimeout(function(){b.each(function(a){var b=$(this);b.offset().top<g.top+h?setTimeout(function(){b.removeClass("newSearch")},a*
O.Da.jw):b.removeClass("newSearch")})},O.Gc)})}function MN(a,b){var c=a.parents("li"),c=c.data("result");c||(c=a.parent().data("li"),c=c.data("result"));c.ql(function(a){NN(a).then(function(){b(a.elements)})})}
function FN(a){var b=a.parents("li"),c=b.data("result");c||(b=a.parent().data("li"),c=b.data("result"));var d=0<b.parents("#resultsBackground").length,e=parseInt(a.data("screen-width")||a.attr("width"),10),g=parseInt(a.data("screen-height")||a.attr("height"),10),h="image";a.hasClass("svg")?(h="svg",e*=vb.Ap,g*=vb.Ap):a.hasClass("graphic")&&(h="graphic");var k=c.us();return{type:h,origin:c.Ef(),mediaId:c.u(),mediaVersion:c.getVersion(),mediaApproved:void 0!==a.data("mediaApproved")?a.data("mediaApproved"):
!0,width:e,height:g,isDark:!!a.hasClass("dark"),isBackground:c.Hb()&&d,isCutout:c.ae(),isRepeating:c.FA(),isRecolorable:c.oc(),backgroundColor:c.oc()?b.data("color"):void 0,spritesheetMetadata:k&&Mg(k)}}
function ON(a){var b=Rg(K.lb().tb),c=$("img",a);a=c.parents("li").data("result");if("ELEMENT_GROUP"===zL(a))PN(a,!0,null);else{var c=yg(FN(c)),d=c.l(),e=c.o(),g=Math.min(d,b.l()*O.Nh),h=g/d*e;h>b.o()*O.Nh&&(h=b.o()*O.Nh,g=h/e*d);c.ma(g);c.ea(h);cD(c);c.PB();b=K.Ea();c.dl(b);QN(c,a);c.$j()&&RN(a,c);Ag(c)}}
function PN(a,b,c){function d(b,d,h,k){g=b.elements.filter(function(a){return"group"!==a.type}).map(function(a){delete a.elementIndex;delete a.groupIndex;"text"===a.type?(l++,a=new Kp(a,e)):a=yg(a);var b=(new Zm).translate(-1*d.F(),-1*d.w());a.transform(b);fG(d,a);return a});b=new V(0,0,d.l(),d.o());var m=O.Nh*h.l(),z=O.Nh*h.o(),m=new V(0,0,m,z),m=fh(b.clone(),m);m.l()<b.l()||m.o()<b.o()?d.setSize(m.l(),m.o(),!0):d.setSize(b.l(),b.o(),!0);k?d.dl(h):c&&(d.setPosition(c.x,c.y),h.addElement(d),xG(d,
h));Ag(d);U&&U.track("text_group_insert",{media_id:a.u()})}function e(){++k===l&&(h.Jr(g[0]),b?h.setPosition((m.l()-h.l())/2,(m.o()-h.o())/2):c&&(h.setPosition(c.x,c.y),Bg(h)))}var g,h,k=0,l=0,m=K.Ea();a.ql(function(c){if(c&&c.elements&&0<c.elements.length){var e=c.elements.filter(function(a){return"group"===a.type});h=new GC(e[0]);NN(c).then(function(){d(c,h,m,b);Wl("text_group",a.u(),zL(a))})}})}
function NN(a){function b(a){a&&a.media&&a.media.forEach(function(a){a&&Qg(yb,a.u(),a.Ja().getVersion(),a.Ja().ic())})}a=function(a){function b(a){a.mediaId&&e.push(new Xm({id:a.mediaId,version:a.mediaVersion}));a.fontMedia&&e.push(Ym(a.fontMedia));Array.isArray(a.htmlFontMedia)&&(e=e.concat(a.htmlFontMedia.map(Ym)))}var e=[];a.elements&&a.elements.length&&a.elements.forEach(function(a){b(a);a.contents&&a.contents.length&&a.contents.forEach(b)});return e}(a);return a.length?(a=HF((new GF).To(),a),
dF(Db,a).then(b)):P.resolve()}function RN(a,b){"CANVA"!==a.Ef()&&Cg(Hb,a,b)}function SN(a){var b=a.parents(".photoGallery").first();a.find(".info").remove();a.find("a").addClass("removed");a.find("img").addClass("removed");a.addClass("removed");window.setTimeout(function(){a.remove();oA(b)},500)}function nA(){$(".infoPanel .close").click()}
function aN(a){function b(a){a=a.u();var b=c();return b.hasOwnProperty(a)?b[a]:null}function c(){return(new jh(window.viewConfig)).xg.get("magicTemplates",[]).map(MM).reduce(function(a,b){a[b.template]=TN(b);return a},{})}function d(){m.removeClass("transitioning")}var e=$(this).parents("a"),g=$("img",e),h=e.parents("li"),k=e.parents(".gallery"),l=e.parents(".layer"),m=e.parents(".searchGroup"),n=$(this).parents(".results"),p=UN(m),q=parseInt(m.css("margin-top"),10),u=1===$(this).parents("#resultsUpload").length,
v=1===$(this).parents("#resultsLayout").length,z=VN(m),t=0,x=m.prevAll(".searchGroup");x.each(function(){t=Math.max(t,VN($(this)));z+=t});v&&z>l.height()&&(l.find(".infoPanel").css("height","0"),x.find(".infoPanel").css("height","0"),l.scrollTop(l.scrollTop()-z));l.find(".infoPanel .close").click();e.addClass("infoOpen");var x=h.data("result"),H=h.data("designItem"),E=h.data("originalTop"),L=h.height(),J=E+L,p=p+J+LN(m),q=p-t+q;if(null!=x||null!=H){var Q=(new WN({yb:ky(hy()).ka().hn(),Ra:Ab,aN:!!H,
mN:!!x,ak:!(!x||!BL(x)),oN:!1===g.data("mediaApproved"),pN:u,Hs:H&&b(H),model:x||H,DO:SN.bind(null,h),i:a,W:Jb,hI:g.height()/g.width()})).render().$el;Q.data("item",e);Q.css("top",q).appendTo(m);e.data("infoPanel",Q);var S=$('\x3cdiv class\x3d"infoPanelPointer"\x3e\x3c/div\x3e');S.css("left",parseInt(h.css("left"),10)+parseInt(Q.css("left"),10)+h.width()/2).css("top",q).appendTo(m);Q.data("infoPanelPointer",S);var N=Q.height(),ha=Q.outerHeight(!0);Q.one("transitionend",d).css("height",0);P.delay(O.Gc).then(function(){Q.addClass("on").css("height",
N);S.addClass("on")});var fa=XN(k,J),fa=fa.filter(function(a){return a!=h.get(0)}),ta=k.data("columnData");ta.ta.forEach(function(a){var b=null;a.items.filter(function(a){return-1<fa.indexOf(a.get(0))}).forEach(function(c){var d=c.data("originalTop");null===b&&(b=J+ha-d,a.Gf=b);c.css("top",d+b).data("modifiedTop",d+b).data("columnIndex",ta.ta.indexOf(a))})});a=l.find("\x3e .inner \x3e .searchGroup").last().get(0)==m.get(0);m.addClass("transitioning");pA(m,!a);v?setTimeout(function(){var a=h.parents(".scrollPane").get(0).getBoundingClientRect(),
b=h.get(0).getBoundingClientRect(),c=a.top>b.top,d=a.height>ha+b.height,e=0;a.height-b.bottom>ha?c&&(e=b.top-a.top-15):e=d?ha-(a.bottom-b.bottom):b.top-a.top-15;30>=e&&-30<=e&&(e=0);l.animate({scrollTop:l.scrollTop()+e},O.Da.Tq)},300):(v=p+ha,n=KN(n),a=v-q<l.height(),v>n&&a?l.animate({scrollTop:l.scrollTop()+(v-n)},O.Da.Tq):q<l.scrollTop()&&l.animate({scrollTop:l.scrollTop()-(l.scrollTop()-q)},O.Da.Tq),m.hasClass("inlineFolderGroup")&&T.trigger("infoPanelToggle",m,VN(m)))}}
function bN(){var a=$(this),b=a.parents("a").parents("li"),c=!0===b.data("superKeywordAdd"),d=b.data("query"),e=b.data("result");if(d&&e){var g=(e.KF()||[]).slice();c?g.push(d):g=g.filter(function(a){return a!==d});g=g.map(function(a){return new wF("en",a.trim())});g=new tF({data:new qF({superKeywords:g}),superKeywordsUpdatePolicy:"REPLACE"});e=JF((new gF).Uo(e.u()).Ik(e.getVersion()),g);eF(Db,e,function(e){200==e&&(c?(a.removeClass("superMiss"),a.addClass("superHit"),a.attr("title","Remove superKeyword '"+
d+"'"),b.data("superKeywordAdd",!1)):(a.removeClass("superHit"),a.addClass("superMiss"),a.attr("title","Add superKeyword '"+d+"'"),b.data("superKeywordAdd",!0)))})}}
function YN(){var a=$(this).parents(".infoPanel"),b=a.data("xhr"),c=a.data("item");c.removeClass("infoOpen");c.parents("li").siblings().each(function(){var a=$(this).data("originalTop");$(this).css("top",a).removeData("modifiedTop")});var d=a.parents(".searchGroup").first();d.addClass("transitioning").height(d.data("contentHeight"));$(".gallery",d).data("columnData").ta.forEach(function(a){a.Gf=0});a.one("transitionend",function(){e&&(e.remove(),a.remove(),d.removeClass("transitioning"))}).removeClass("on").css("height",
0);var e=a.data("infoPanelPointer");e.removeClass("on");b&&b.cancel();b=null;a.removeData("xhr");d.hasClass("inlineFolderGroup")&&T.trigger("infoPanelToggle",d,0);return!1}
function cN(a){function b(a){function b(){t=$('\x3cdiv class\x3d"clone"\x3e\x3c/div\x3e');var a=FN(m);x=yg(a);x.ma(q);x.ea(u);var c=$('\x3cdiv class\x3d"cloneInner"\x3e').append(x.C()),e;m.is(".svg")?e="svg":m.is(".graphic")&&(e="graphic");qa&&(c.addClass("elementGroupSearchResult"),MN(m,function(a){a=eG(a);var b=new V(0,0,a.l(),a.o()),d=O.Nh*L.l(),e=O.Nh*L.o(),d=new V(0,0,d,e),d=fh(b.clone(),d),e=b.l(),g=b.o();if(d.l()<b.l()||d.o()<b.o())e=d.l(),g=d.o();v=e*W;z=g*W;l=k/(v/z);a.setPosition(0,0);a.setSize(e,
g);a.JP=!1;a.ht=!1;c.empty().append(a.C());x=a}));e&&(t.addClass(e),c.addClass(e),a=Hb.Kc(a.mediaId,a.mediaVersion),x instanceof GC?x.ia().filter(function(a){return a instanceof ap})[0].Zq(a[wD].oa()):x.Zq(a[wD].oa()));t.append(c).css("left",h.left).css("top",h.top).css("transform-origin","top left").css("transform","scale("+k/v+", "+l/z+")").toggleClass("cutout",x.ae()).data("li",g.parents("li")).data("canvaElement",x).data("isOrganicSearchResult",d);$("#content").append(t);g.css("visibility","hidden");
qa||!x.PD()&&!x.ae()||ih(t,null,xN(Za));$("#search").blur()}var c=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;a=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;if(null==t)if(xN(Za)){var e=Jn(S,N,c,a);if(300<e||60>e)b();else return!0}else(Math.abs(c-S)>O.Hc||Math.abs(a-N)>O.Hc)&&b();if(null!=t){var n=Math.min(1,Math.sqrt(Math.pow(c-S,2)+Math.pow(a-N,2))/ta),e=Math.min(1,k/(v*(1-n))),p=Math.min(1,l/(z*(1-n)));if(c>S){t.css("transform","scale("+e+", "+p+")");if(x.nb()){var xc=
sG(x);pb||xc&&0!==xc.length&&(1!==xc.length||"#000000"!==xc[0])||(pb=mh(O.kD));pb&&(xc=K.Ea().If()?pb:mh(O.jD))&&x.wQ(un(pb,xc,n))}x.Py()&&(null===x.zm&&cD(x),eD(x,n),x.PB());n=Math.round(h.top+a-N-(p*z-l)*fa);t.css("left",Math.round(h.left+c-S-(e*v-k)*ha)).css("top",n)}else t.css("transform-origin","top left").css("transform","scale("+k/v+", "+l/z+")").css("left",h.left+c-S).css("top",h.top+a-N);(c<E.left||c>E.left+H.outerWidth()||a<E.top||a>E.top+H.outerHeight())&&t&&!t.hasClass("disappeared")&&
!t.hasClass("placing")&&ZN(J,t)?(null==ca&&(ca=new bh(t,Q)),dh(ca,xb,Aa)):$("#overlays .align").removeClass("on")}return!1}function c(a){function e(){$(this).remove();g.css("visibility","visible")}function m(){g.css("opacity",0);window.setTimeout(function(){g.one("transitionend",function(){$(this).removeClass("reappearing")}).css("visibility","").addClass("reappearing").css("opacity","")},O.Gc)}function n(){var a;if(a=qa.Kv())a=Jb.G.get(rg);a&&!Jb.G.get(og)&&(Jb.G.get(ug)?(a=Mb,a.j.wa(mm()),Fo(a,
Ho)):(a=Mb,a.j.wa(mm()),Fo(a,Go)))}Za.off("mousemove|touchmove",b).off("mouseup|touchend",c);if(!0!==$N){$("#overlays .align").removeClass("on");$("#content").trigger("mousedown");hh();var p=void 0!==a.clientX?a.clientX:a.originalEvent.changedTouches[0].clientX;a=void 0!==a.clientY?a.clientY:a.originalEvent.changedTouches[0].clientY;var q=Math.abs(a-N)>O.Hc,q=Math.abs(p-S)>O.Hc||q;$("#hotspots").remove();P.delay(O.Da.u8).then(function(){g.removeClass("pickedUp")});var u=g.parents("li");if(u.data("result")){var qa=
u.data("result");if(null==t&&!q)return $("#search").blur(),ON(u),tL(qa,d),n(),!1;null!=t&&null!=x&&((p<E.left||p>E.left+H.outerWidth()||a<E.top||a>E.top+H.outerHeight())&&t&&!t.hasClass("disappeared")&&ZN(J,t)?(p=K.Ea(),"ELEMENT_GROUP"===zL(qa)?PN(qa,!1,{x:ca.F(),y:ca.w()}):(x.setPosition(ca.F(),ca.w()),x.ma(ca.l()),x.ea(ca.o()),p&&x.appendTo(p),x.$j()&&RN(qa,x),Ag(x),Bg(x)),m(),tL(qa,d),QN(x,qa),n(),t.remove()):null==t||t.hasClass("disappeared")?null!=t&&t.hasClass("disappeared")&&(m(),aO(t.data("placedInElement"))):
(h=g.offset(),t.addClass("returning"),t.one("transitionend",e).css("left",h.left).css("top",h.top).css("transform","scale("+k/v+", "+l/z+")")))}}}if(a.which==O.Mh||a.ctrlKey)return!0;if($(a.target).is(".removed")||$(a.target).is(".moreInfo")||$(a.target).is(".superKeyword"))return!1;var d=1===$(this).parents("#resultsSearch").length,e=Rg(K.lb().tb),g=$(this);g.addClass("pickedUp");var h=g.offset(),k=g.width(),l=g.height(),m=$("img",g).first(),n=FN(m),p=n.width,n=n.height,q=Math.min(p,e.l()*O.Nh),
u=q/p*n;u>e.o()*O.Nh&&(u=e.o()*O.Nh,q=u/n*p);var v=q*W,z=u*W,t=null,x=null,H=$("#objectPanel"),E=H.offset(),L=K.Ea(),e=gh(vb),J=e.$el,Q=e.$el.find(".page__content").offset(),S=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,N=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,ha=(S-h.left)/k,fa=(N-h.top)/l,ta=Math.abs(S-(E.left+H.outerWidth())),Za=new fp($(document)),qa=1===$(a.target).parents(".elementGroupSearchResult").length;Za.on("mousemove|touchmove",b).on("mouseup|touchend",
c);var ca=null,Aa=ch(),xb={},pb=null;return bO}
function eN(a){function b(a){function b(a){var c=$('\x3cdiv class\x3d"clone" style\x3d"pointer-events: none"\x3e\x3c/div\x3e'),d=a.offset(),e=a.width(),g=a.height();c.append(LH(m)).css("left",d.left).css("top",d.top).css("width",e).css("height",g).css("transform-origin","top left");$("#content").append(c);a.css("visibility","hidden");$("#search").blur();return c}var c=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;a=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;
var d=c-J.x,g=a-J.y,n=Math.abs(d)>O.Hc||Math.abs(g)>O.Hc;if(!x)if(n)x=b(e);else if(xN(ha))if(g=180*Math.atan2(g,d)/Math.PI,300<g||60>g)x=b(e);else return!0;if(x){d=cn(cn(d,0,d)/N);g=dn(1,z/k,d);n=dn(1,t/l,d);x.css("width",g*k+"px").css("height",n*l+"px").css("left",h.left+c-J.x-dn(0,(z-k)*Q.x,d)).css("top",h.top+a-J.y-dn(0,(t-l)*Q.y,d));g=x.find('[data-recolorable-lines\x3d"true"] \x3e line');if(g.length){var n=e.find('[data-recolorable-lines\x3d"true"] \x3e line').first().attr("stroke"),p=K.Ea().If()?
O.kD:O.jD,d=un(yn(n),yn(p),d);g.attr("stroke",d.toString())}c>S&&ZN(E,x)?(fa=fa||new bh(x,L),dh(fa,Za,ta)):cO();d=$(".selectionBox");d.css("pointer-events","none");c=$(document.elementFromPoint(c,a));d.css("pointer-events","");c=c.is(".element.chart")?c:c.parents(".element.chart");$(".element.chart").not(c).removeClass("chartElement--droppable");c.length&&c.addClass("chartElement--droppable")}return!1}function c(a){function g(){$(this).remove();e.css("visibility","visible")}function p(){e.css("opacity",
0);P.delay(O.Gc).then(function(){e.one("transitionend",function(){$(this).removeClass("reappearing")}).css("visibility","").addClass("reappearing").css("opacity","")})}ha.off("mousemove|touchmove",b).off("mouseup|touchend",c);if(!0!==$N){cO();hh();var q=d(a);a=Math.abs(q.x-J.x)>O.Hc||Math.abs(q.y-J.y)>O.Hc;var t=yg(m);t.ma(u);t.ea(v);if(!a&&!x)return $("#search").blur(),1===n.length&&n[0]instanceof HH?(a=n[0],q=a.serialize(),lI(a,t.serialize()),M.register(new Y(dO,{elementIndex:a.K(),pageIndex:a.R().K(),
"new":a.serialize(),old:q})),Bg(a),t=null):t&&(t.dl(H),QN(t),jI(t,function(){t&&(Ag(t),QN(t),U&&Vl(m.chart.chartType))})),!1;x&&(a=q.x>S&&ZN(E,x),q=$(document.elementFromPoint(q.x,q.y)),q=q.is(".element.chart")?q:q.parents(".element.chart"),a&&t&&q.length?(a=q.data("canvaElement"),q.removeClass("chartElement--droppable"),a&&(q=a.serialize(),lI(a,t.serialize()),M.register(new Y(dO,{elementIndex:a.K(),pageIndex:a.R().K(),"new":a.serialize(),old:q})),Bg(a)),p(),x.remove(),t=null):a&&t?(t.setPosition(fa.F(),
fa.w()),t.appendTo(H),aI(t,function(){t&&(Ag(t),U&&Vl(m.chart.chartType))}),Bg(t),p(),x.remove()):(x.addClass("returning"),x.one("transitionend",g).css("left",h.left).css("top",h.top).css("width",k).css("height",l)))}}function d(a){return{x:void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,y:void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY}}if(a.which==O.Mh||a.ctrlKey)return!0;var e=$(this),g=e.parents("li").data("chart-name"),h=e.offset(),k=e.width(),l=e.height(),m=JSON.parse(JSON.stringify(Om[g])),
n=K.Wa(),g=m.width,p=m.height,q=Rg(K.lb().tb),u=.75*q.l(),v=u/g*p;v>.75*q.o()&&(v=.75*q.o(),u=v/p*g);var z=u*W,t=v*W,x=null,H=K.Ea(),g=gh(vb),E=g.$el,L=g.$el.find(".page__content").offset(),J=d(a),Q={x:(J.x-h.left)/k,y:(J.y-h.top)/l},S=document.getElementById("objectPanel").getBoundingClientRect().right,N=Math.abs(J.x-S),ha=new fp($(document));ha.on("mousemove|touchmove",b).on("mouseup|touchend",c);var fa=null,ta=ch(),Za={};return bO}
function dN(a){function b(a){function b(){h=e.clone(!1);h.appendTo("#content").css("top",u).css("left",q).addClass("clone draggableGridItem dragging");e.css("visibility","hidden")}var c=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;a=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;if(null==h)if(xN(ha)){var d=Jn(J,Q,c,a);if(300<d||60>d)S=!0,b();else return!0}else c-J>O.Hc&&(S=!0,b());null!=h&&(a=Math.min(1,Math.sqrt(Math.pow(c-J,2)+Math.pow(a-Q,2))/N),a=c<=J?0:a,c=
2+(m-2)*a,d=z+(L-z)*a,h.css("width",v+(E-v)*a).css("height",d),d=u+(H-u)*a,h.css("left",q+(x-q)*a).css("top",d),h.find("\x3e .rows, \x3e .columns, .item \x3e .content").css("left",c/2).css("right",c/2).css("top",c/2).css("bottom",c/2));return!1}function c(){p.ia().forEach(function(a){if(a instanceof CC){for(var b=a.ig(),c,d=!0,e=0>=a.w()&&0>=a.F()&&0===a.Ta()&&a.l()>=p.l()&&a.o()>=p.o(),g=0;g!==b;g++)if(c=a.rl(g).mediaId){d=!1;break}d&&e&&(BN(a),a.remove())}})}function d(a){function g(a){function b(a){this==
a.target&&$(this).off("animationend",b).remove()}this==a.target&&($(this).off("transitionend",g).on("animationend",b).addClass("disappearing"),e.css("visibility",""))}function k(){e.css("opacity",0);setTimeout(function(){e.one("transitionend",function(){$(this).removeClass("reappearing")}).css("visibility","").addClass("reappearing").css("opacity","")},O.Gc)}a=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;S?a>=x?(LK(),n.sd(t),c(),n.appendTo(p),Bg(n),Ag(n),MK(),k(),h.remove()):(h.addClass("returning").on("transitionend",
g),parseInt(h.css("left"),10)==Math.floor(q)&&parseInt(h.css("top"),10)==Math.floor(u)?h.trigger("transitionend"):h.css("left",q).css("top",u).css("width",v).css("height",z)):(LK(),n.sd(t),c(),n.dl(p),QN(n),Ag(n),MK());ha.off("mousemove|touchmove",b).off("mouseup|touchend",d)}if(a.which==O.Mh||a.ctrlKey)return!0;$("#search").blur();hh();var e=$(a.currentTarget),g=e.offset(),h=null,k=e.parents("li").data("grid-name"),l=$.extend(!0,[],Nm[k].items),m=(Nm[k].spacing||O.iD)*W,n=new CC({items:l}),p=K.Ea(),
k=vb.Ea(),l=$("#canvaDocument \x3e .inner").offset(),k=Xg(k).translate(l.left,l.top),q=g.left,u=g.top,v=e.width(),z=e.height(),g=0<Tp(p).filter(function(a){return!a.Hg()}).length,t=Um(p.l(),p.o(),n.pe(),g),g=t.clone().scale(W).translate(k.F(),k.w()).round(),x=g.F(),H=g.w(),E=g.l(),L=g.o(),J=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,Q=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,S=!1,N=x-J,ha=new fp($(document));ha.on("mousemove|touchmove",b).on("mouseup|touchend",
d);return!1}function VN(a){var b=0,c=$(".gallery",a).data("columnData");if(c)b=vl(c.ta.map(function(a){return a.Gf}));else return b;b=vl(c.ta.map(function(a){return a.height}));c=vl(c.ta.map(function(a){return 0==a.height?0:a.height+a.Gf}));return b=b!=c?c-b:JN(a)}function JN(a){var b=0,c=$(".infoPanel",a).clone();0<c.length&&(c.appendTo(a).addClass("doNotTransition").css("height","").css("display","none"),b=c.outerHeight(!0),c.remove());return b}
function pA(a,b){if(0!=a.parents(".results.infinite").length){var c=a.parents(".results").first(),d=a.is(".inlineFolderGroup")||c.is("#resultsLayout"),e=d?a.find("p button")?a.find("p").height():0:UN(a),g=0;$(".gallery li",a).each(function(a,b){a=$(b);g=Math.max(g,a.data("originalTop")+a.height())});g+=e;a.data("contentHeight",g);e=VN(a);b||d?a.height(g+e):a.height(Math.max(g+e,c.height()))}}
function fN(){var a=$(this).parents(".results");clearTimeout(a.data("scrollTimer"));var b=setTimeout(function(){eO(a)},100);a.data("scrollTimer",b)}
function XN(a,b){var c=[];a=a.data("columnData");if(void 0===a)return c;a=a.ta;for(var d=0;d<a.length;d++){for(var e=a[d].items,g=0,h=!1,k=0;k<e.length;k++){var l=e[k],m=l.data("originalTop")||0,m=(l.data("modifiedTop")||m)-m;0==m||h||(g+=m,h=!0);g+=l.height();if(g>b)break}c=c.concat(e.slice(k))}return c.map(function(a){return a.get(0)}).filter(function(a){return null!=a.parentNode})}
function sN(a,b){var c;c=a.find(".layer \x3e .inner \x3e .searchGroup").find(".gallery li").first();var d=a.hasClass("twoCol")?120:70;c=c.width()||d;a=Math.floor(Math.abs(a.find(".layer").width())/c)||1;return Math.max(18,a*Math.max(Math.ceil(b/c),3))}
function eO(a){if(null!=qN&&!a.is(".modifying")){var b=a.find(".layer").last(),c=b.find("\x3e .inner \x3e .searchGroup").last();0<$(".searchLoaderHolder \x3e .searchLoader",a).length||0<$(".searchLoader",c).length||Zg().read(function(d){var e=c.outerHeight()+c.offset().top-(a.offset().top+a.outerHeight());null!=qN&&qN.Os>=qN.limit&&e<=a.outerHeight()*O.uS&&d.write(function(){var c=b.find("\x3e .inner \x3e .searchGroup .gallery li").length;c>O.mD&&fO(b,c-O.mD);c=a.find(".searchLoaderHolder");pN(c);
c.addClass("on");qN.from+=qN.limit;qN.iZ()})})}}
function fO(a,b){for(var c=a.parents(".results"),d=$(),e=$(),g=a.find("\x3e .inner \x3e .searchGroup").toArray(),h=0;h<g.length&&!(0>=b);h++){var k=$(g[h]),l=$(".gallery li",k);if(l.length<b)d=d.add(k),b-=l.length;else for(var k=b,m=0;m<k;m++)e=e.add(l[m]),b--}b=e.parents(".searchGroup").add(d);g=$(".infoPanel",b);0<g.length&&(b.addClass("doNotTransition"),g.addClass("doNotTransition"),$(".close",g).click(),g.data("infoPanelPointer").remove(),g.remove(),b.removeClass("doNotTransition"));c.addClass("modifying");
a.find("\x3e .inner \x3e .searchGroup").addClass("doNotTransition");b=a.scrollTop();var g=e.parents(".searchGroup"),n=0;0<g.length&&(h=g.outerHeight(!0),l=$(".gallery",g),l.removeData("columnData"),e.remove(),oA(l),n+=h-g.outerHeight(!0));d.each(function(){n+=$(this).outerHeight(!0)});d.remove();g=a.find("\x3e .inner \x3e .searchGroup .infoPanel");0<g.length&&g.addClass("doNotTransition").css("top",parseInt(g.css("top"),10)-n).removeClass("doNotTransition");a.scrollTop(Math.max(0,b-n));a.find("\x3e .inner \x3e .searchGroup").removeClass("doNotTransition");
c.removeClass("modifying")}function UN(a){return 0==a.length?0:$(".gallery, .noResults",a).offset().top-a.offset().top}function gO(a){a=a.find("\x3e .inner \x3e .searchGroup").last();return LN(a)+a.outerHeight(!0)}function LN(a){return 0==a.length?0:a.parents(".layer").scrollTop()+a.position().top}
function hO(a,b){if(null!=a&&0!=b.length){var c=b.toArray();a.ta.forEach(function(a){c.forEach(function(b){var c=a.items.map(function(a){return a.get(0)}).indexOf(b);-1>=c||(a.items.splice(c,1),a.height-=$(b).height(),void 0!==$(b).data("modifiedTop")&&1<=c&&void 0===a.items[c-1].data("modifiedTop")&&(a.Gf=0))})})}}function KN(a){var b=a.find(".layer").last().scrollTop();a=a.height();return b+a}
function oN(){var a=$("#objectPanel \x3e menu \x3e li.on").index();return $("#objectPanel \x3e .content \x3e .results").eq(a)}function iO(){window.location.reload();return!1}function jO(a,b){$("#savingErrorCode").text("");$(".warningPanel"+b).one("animationend",function(){$(this).removeClass("on off")}).addClass("off");kO();return!1}function hN(){return jO.call(this,0,"#someoneElseEditing")}function iN(){return jO.call(this,0,"#inReview")}function jN(){return jO.call(this,0,"#touchDevice")}
function lO(){$("#inReview").addClass("on");mO()}function nO(){$("#outOfSync").is(".on")||(oO(),mO(),$("#outOfSync").removeClass("off").addClass("on"),$("#outOfSync button").on("click",iO))}function pO(){$("#savingError").is(".on")||$("#outOfSync").is(".on")||($("#savingError").removeClass("off").addClass("on"),$("#savingError button").on("click",iO),Tb&&qO())}function oO(){$("#savingError").is(".on")&&($("#savingError").removeClass("on").addClass("off"),kO())}
function QN(a,b){var c="other";a instanceof CC?c="grid":a instanceof yC?c="image":a instanceof ap&&(c="image:svg");U&&Wl(c,b?b.u():null,b?zL(b):null)};function rO(){this.nd=[];this.Iw=[];this.xn=[];this.HP=this.xR=!1}f=rO.prototype;f.trigger=Backbone.Events.trigger;f.listenTo=Backbone.Events.listenTo;f.stopListening=Backbone.Events.stopListening;f.on=Backbone.Events.on;f.once=Backbone.Events.once;f.off=Backbone.Events.off;_.extend(rO.prototype,Backbone.Events);
rO.prototype.register=function(a){if(a.data["new"]&&a.data.old&&JSON.stringify(a.data["new"])==JSON.stringify(a.data.old)||this.xR||this.HP)return!1;var b=a instanceof vO;0<this.xn.length?this.xn[this.xn.length-1].push(a):(this.nd.push(a),this.Iw=[],!b&&K.trigger("change"));return!0};function wO(){var a=M;return a.nd.length?a.nd[a.nd.length-1]:null}function LK(){var a=M,b=new vO;a.register(b);a.xn.push(b)}
function MK(){var a=M;if(0==a.xn.length)throw Error("mismatched number of .endGrouping calls");var b=a.xn.pop();-1!==a.nd.indexOf(b)&&0===b.getLength()&&a.nd.splice(a.nd.indexOf(b),1);0==a.xn.length&&K.trigger("change")}
function hM(a,b){var c=M;function d(a){var b=[];a instanceof Y?b.push(a):a instanceof vO&&a.nd.forEach(function(a){b=b.concat(d(a))});return b}function e(a,b,c){a.mediaId===b.mediaId&&a.mediaVersion===b.mediaVersion&&(a.mediaId=c.mediaId,a.mediaVersion=c.mediaVersion)}c=c.nd.map(d).concat(c.Iw.map(d));[].concat.apply([],c).forEach(function(c){switch(c.Pb){case xO:e(c.data["new"],a,b);e(c.data.old,a,b);break;case yO:case zO:e(c.data,a,b)}})}
function AO(a){var b=[];if(a instanceof vO)a=a.nd,a.forEach(function(a){a=AO(a);b=b.concat(a)}),2===b.length&&2==a.length&&a[0]instanceof Y&&a[1]instanceof Y&&a[0].Pb==yO&&a[1].Pb==xO&&(b=AO(a[0]));else if(a.Pb!=zO&&(a instanceof Y||a instanceof BO)){var c=a.data.elementIndex;K.O[a.data.pageIndex].ia().forEach(function(a){a.K()==c&&b.push(a)})}return _.uniq(b)}function CO(){this.Pb=null;this.data={}}
CO.prototype.ho=function(){throw Error("classes that inherit from Operation must implement .perform");};CO.prototype.invert=function(){throw Error("classes that inherit from Operation must implement .invert");};function DO(a){return $.extend(!0,{},a)}function vO(){this.nd=[]}vO.prototype=new CO;vO.prototype.ho=function(){this.nd.forEach(function(a){a.ho()})};vO.prototype.invert=function(){var a=new vO;this.nd.reverse();this.nd.forEach(function(b){a.push(b.invert())});this.nd.reverse();return a};
vO.prototype.push=function(a){this.nd.push(a)};vO.prototype.getLength=function(){return this.nd.length};var dp=1,zO=2,yO=3,xO=5,HN=7,GN=8,CN=9,dO=16;function Y(a,b){this.Pb=a;this.data=b}Y.prototype=new CO;
Y.prototype.ho=function(){ep();var a=K.O[this.data.pageIndex],b=a.ia().length,c,d;switch(this.Pb){case yO:d=$.extend(!0,{},this.data);delete d.groupIndex;delete d.groupElementIndex;delete d.pageIndex;c=yg(d);break;case 4:case HN:case GN:c=a.elements[this.data.oldElementIndex]||null;break;default:c=a.elements[this.data.elementIndex]||null}if(!c)throw Error("error performing operation on non-existent element");var e;switch(this.Pb){case dp:a=this.data["new"];null!=a.left&&c.kb(a.left);null!=a.top&&
c.eb(a.top);null!=a.rotation&&c.dm(a.rotation);null!=a.flipOrientation&&c.ut(a.flipOrientation);null!=a.transparency&&c.em(a.transparency);null!=a.borderWidth&&CE(c,a.borderWidth);null!=a.spacing&&c.ar(a.spacing);null!=a.padding&&c.hC(a.padding);null!=a.verticalAlignment&&(c.ke=a.verticalAligment);c.setSize(null==a.width?c.l():a.width,null==a.height?c.o():a.height,this.data.proportionalSetSize);null!=a.transformDependentData&&c.vZ(a.transformDependentData);break;case 11:a=this.data["new"];e=c.Mp(this.data.placeholderIndex);
a.filter?nJ(CD(e),a.filter)||wJ(e,a.filter):xJ(e);break;case 10:a=this.data["new"];null!=a.link&&JC(c,a.link);break;case zO:c.remove();break;case 4:e=this.data.elementIndex;this.data.oldElementIndex<e&&e++;b=a.ia().length;e=Math.max(Math.min(b,e),0);d=a.elements[e]||null;e==b?c.appendTo(a):d&&c.insertBefore(d);break;case yO:e=this.data.elementIndex;var g=this.data.groupElementIndex,h=this.data.groupIndex;d=$.extend(!0,{},this.data);delete d.groupIndex;delete d.groupElementIndex;delete d.pageIndex;
c=yg(d);if(!c)throw Error("bad element template while performing operation of type"+this.Pb.toString());e=Math.max(Math.min(b,e),0);d=a.elements[e]||null;if(void 0!==g){var k=a.elements[g]||null;if(!k)throw Error("group could not be found for operation type "+this.Pb.toString());k.Mx();fG(k,c,h);c.Iv()?(a=function m(a){a===c&&(k.Jr(c),T.off("elementLoaded",m),T.off("elementLoadingError",m))},T.on("elementLoaded",a),T.on("elementLoadingError",a)):k.Jr(c)}else e==b?c.appendTo(a):d&&c.insertBefore(d);
break;case xO:c.$q(this.data.placeholderIndex,this.data["new"]);break;case 6:a=c.Yz(this.data.placeholderIndex);c.st(a);a=this.data["new"];e=vm(a.imageBox);d=vm(a.placeholderBox);c instanceof yC?a.cropped?(sl(c,d),c.bm(e),c.Nr(),c.kb(a.left),c.eb(a.top)):(c.kb(a.left),c.eb(a.top),c.ma(e.l()),c.ea(e.o()),sl(c,d),c.bm(e),c.AI=!1,c.Tk=!1,c.C().find("img").css("transform","").css("width","").css("height","")):(c.bm(e),c.Nr());break;case HN:Up(c);XC(a,c,this.data.elementIndex);this.data.backgroundColor&&
c.ge(0,this.data.backgroundColor);break;case GN:ED(c);XC(a,c,this.data.elementIndex);break;case CN:e=this.data["new"];a=e.index;e.placementData?c.$q(a,e.placementData):(e=mh(e.color),c.ge(a,e));break;case 12:c.Xa[this.data.placeholderIndex].ut(this.data["new"].flipOrientation);break;case 13:b=this.data.childRange;g=this.data.elements;d=$.extend(!0,{},this.data);d.elements=[];e=this.data.elementIndex;c=new GC(d);XC(a,c,e);if(2===b.length)for(e=b[0],d=0;e<=b[1];e++,d++)if(h=a.elements[e]||null)h.setPosition(g[d].left,
g[d].top),h.setSize(g[d].width,g[d].height),h.em(g[d].transparency),h.dm(g[d].rotation),c.addElement(h),c.C().find(".elements").append(h.C());break;case 14:EO(c);break;case 15:c.Ls(this.data["new"].data);c.render({kP:!0});break;case dO:lI(c,$.extend(!0,{},this.data["new"]));break;default:throw Error("cannot perform unknown operation type "+this.Pb.toString());}};
Y.prototype.invert=function(){function a(a){var b=a.elementIndex;a.elementIndex=a.oldElementIndex;a.oldElementIndex=b}var b=DO(this.data);switch(this.Pb){case dp:case 11:case 6:case xO:case CN:case 10:case 12:case 15:case dO:return b["new"]=this.data.old,b.old=this.data["new"],new Y(this.Pb,b);case yO:case zO:return new Y(this.Pb==yO?zO:yO,b);case 4:return a(b),new Y(this.Pb,b);case HN:return a(b),new Y(GN,b);case GN:return a(b),new Y(HN,b);case 13:return new Y(14,b);case 14:return new Y(13,b);default:throw Error("cannot invert unknown operation type "+
this.Pb.toString());}};function FO(a,b){this.Pb=a;this.data=b}FO.prototype=new CO;FO.prototype.ho=function(){ep();var a=null;1==this.Pb?(a=$.extend(!0,{},this.data),a=new Hp(K,a)):a=K.O[this.data.pageIndex];switch(this.Pb){case 5:a=K.O[this.data.oldPageIndex];case 1:Vp(K,a,this.data.pageIndex);break;case 2:a.ia().forEach(function(a){GO(a)});Xp(K,a);break;case 4:HO(a,this.data["new"]);break;default:throw Error("cannot perform unknown operation type "+this.Pb.toString());}};
FO.prototype.invert=function(){var a=DO(this.data);switch(this.Pb){case 1:case 2:return new FO(1==this.Pb?2:1,a);case 4:return a["new"]=this.data.old,a.old=this.data["new"],new FO(this.Pb,a);case 5:var b=a.pageIndex;a.pageIndex=a.oldPageIndex;a.oldPageIndex=b;return new FO(this.Pb,a);default:throw Error("cannot invert unknown operation type "+this.Pb.toString());}};function IO(a,b){return-1<[4,1].indexOf(a.Pb||-1)&&a.data.pageIndex===b}function BO(a,b){this.Pb=a;this.data=b}BO.prototype=new CO;
BO.prototype.ho=function(){function a(){var a=b instanceof GC?b.ia()[c]:b;a&&(void 0!==d.height&&a.ea(),void 0!==d.width&&a.ma(d.width))}var b=K.O[this.data.pageIndex].elements[this.data.elementIndex]||null;if(!b)throw Error("operation element index out of bounds "+this.data.elementIndex);switch(this.Pb){case 1:var c=this.data.textIndex,d=this.data["new"];b.uj(c,d,a);break;default:throw Error("cannot perform unknown operation type "+this.Pb.toString());}};
BO.prototype.invert=function(){var a=DO(this.data);switch(this.Pb){case 1:return a["new"]=this.data.old,a.old=this.data["new"],new BO(this.Pb,a);default:throw Error("cannot invert unknown operation type "+this.Pb.toString());}};function JO(a,b){this.Pb=a;this.data=b}JO.prototype=new CO;
JO.prototype.ho=function(){var a=this.data["new"],b,c;switch(this.Pb){case 1:b=a.doctypeSpec?Ep(a.doctypeSpec):null;c=dv(a.docType);K.resize(c,b);break;case 2:b=a.doctypeSpec?Ep(a.doctypeSpec):null;c=dv(a.docType);K.wR(a.model,c,b);break;default:throw Error("cannot perform unknown document operation type "+this.Pb.toString());}};
JO.prototype.invert=function(){var a=DO(this.data);a["new"]=this.data.old;a.old=this.data["new"];switch(this.Pb){case 1:return new JO(2,a);case 2:return new JO(1,a);default:throw Error("cannot invert unknown operation type "+this.Pb.toString());}};(function(a){a.path={};var b={rotate:function(a,b){var e=b*Math.PI/180;b=Math.cos(e);e=Math.sin(e);return[b*a[0]-e*a[1],e*a[0]+b*a[1]]},scale:function(a,b){return[b*a[0],b*a[1]]},add:function(a,b){return[a[0]+b[0],a[1]+b[1]]},M4:function(a,b){return[a[0]-b[0],a[1]-b[1]]}};a.path.l1=function(c){c.start=a.extend({angle:0,length:.3333},c.start);c.end=a.extend({angle:0,length:.3333},c.end);this.hH=[c.start.x,c.start.y];this.iH=[c.end.x,c.end.y];var d=b.M4(this.iH,this.hH),e=b.scale(d,c.start.length),
d=b.scale(d,-1),d=b.scale(d,c.end.length),e=b.rotate(e,c.start.angle);this.LX=b.add(this.hH,e);d=b.rotate(d,c.end.angle);this.MX=b.add(this.iH,d);this.w3=function(a){return a*a*a};this.x3=function(a){return 3*a*a*(1-a)};this.y3=function(a){return 3*a*(1-a)*(1-a)};this.z3=function(a){return(1-a)*(1-a)*(1-a)};this.css=function(a){var b=this.w3(a),c=this.x3(a),d=this.y3(a);a=this.z3(a);var e={};e.x=this.x=this.hH[0]*b+this.LX[0]*c+this.MX[0]*d+this.iH[0]*a+.5|0;e.y=this.y=this.hH[1]*b+this.LX[1]*c+this.MX[1]*
d+this.iH[1]*a+.5|0;e.left=e.x+"px";e.top=e.y+"px";return e}};a.fx.step.path=function(b){var d=b.end.css(1-b.pos);null!=d.I8&&a.cssHooks.transform.set(b.elem,"rotate("+Math.atan2(d.mca-d.y,d.I8-d.x)+")");b.elem.style.top=d.top;b.elem.style.left=d.left}})(jQuery);function wp(a,b,c,d){this.Z=a;this.gP=0;this.lR=23;this.HJ="";a=this.i=c;a.Dd||(a.Dd=new Ze(a.config));this.Dd=a.Dd;this.fj=b;this.W=d}function KO(a){a.preventDefault();a.stopPropagation();return!1}var LO=[];
[[642,800,"https://static.canva.com/static/images/onboarding/lion-0.png"],[200,106,"https://static.canva.com/static/images/onboarding/lion-1.png"],[192,200,"https://static.canva.com/static/images/onboarding/lion-2.png"],[200,77,"https://static.canva.com/static/images/onboarding/lion-3.png"],[165,200,"https://static.canva.com/static/images/onboarding/lion-4.png"],[141,200,"https://static.canva.com/static/images/onboarding/lion-5.png"],[200,124,"https://static.canva.com/static/images/onboarding/lion-6.png"],[149,200,"https://static.canva.com/static/images/onboarding/lion-7.png"],[191,200,"https://static.canva.com/static/images/onboarding/lion-8.png"],[150,200,"https://static.canva.com/static/images/onboarding/lion-9.png"],[200,129,"https://static.canva.com/static/images/onboarding/lion-10.png"],
[129,200,"https://static.canva.com/static/images/onboarding/lion-11.png"],[200,154,"https://static.canva.com/static/images/onboarding/lion-12.png"],[200,174,"https://static.canva.com/static/images/onboarding/lion-13.png"],[200,70,"https://static.canva.com/static/images/onboarding/lion-14.png"],[124,200,"https://static.canva.com/static/images/onboarding/lion-15.png"],[200,176,"https://static.canva.com/static/images/onboarding/lion-16.png"],[200,132,"https://static.canva.com/static/images/onboarding/lion-17.png"],[200,149,"https://static.canva.com/static/images/onboarding/lion-18.png"]].forEach(function(a,b){var c="Monboarding"+b;0===b&&(c="M-YUM-LION");a=_.extend({},new yL,{qb:function(){return""},
id:c,u:function(){return c},files:{jJ:{width:a[0],height:a[1],url:a[2]},oy:{width:a[0],height:a[1],url:a[2]}}});LO.push(a)});function MO(){return{SCREEN:{oa:function(){return"https://static.canva.com/static/images/onboarding/lion-0.png"}},THUMBNAIL:{oa:function(){return"https://static.canva.com/static/images/onboarding/lion-0.png"}}}}function NO(a,b,c){c(200,{Ja:function(){return{getVersion:function(){return 0},ic:function(){return MO()}}}});return new Bk}f=wp.prototype;f.go=function(){OO(this)};
function PO(a,b,c,d){function e(){var c=g.shift();c===a.HJ&&(c="\x3cbr\x3e");h+=c;b(h);0<g.length?window.setTimeout(e,250+Math.floor(100*Math.random())):window.setTimeout(d,250);return!1}var g=c.split(""),h="";b("");e()}
function QO(){for(var a=[],b=0;5!==b;b++)a[b]=new Image,a[b].crossOrigin="anonymous";a[0].src="https://static.canva.com/static/images/onboarding/lion-0.png";a[1].src="https://static.canva.com/static/images/onboarding/lion-1.png";a[2].src="https://static.canva.com/static/images/onboarding/lion-2.png";a[3].src="https://static.canva.com/static/images/onboarding/lion-3.png";a[4].src="https://static.canva.com/static/images/onboarding/lion-4.png"}f.NW=function(){var a=this;QO();WebFont.load({google:{families:["Abril+Fatface","Carter+One"]},active:function(){a.next()},inactive:function(){a.next()}})};
function RO(a){a.XT=!1;$("body").addClass("modalContentVisible modalContentBlurAndDarkenVisible");$("body \x3e .mask").addClass("on fullscreenMessageMask");$("body \x3e .mask").on("click",function(){SO(a).then(function(){a.XT||TO(a)}.bind(a))})}
function SO(a){$("body").removeClass("modalContentVisible modalContentBlurAndDarkenVisible");var b=$("body \x3e .mask");b.addClass("off");$("video.for-onboarding").remove();a.Ab.addClass("disappearing");return P.delay(500).then(function(){b.removeClass("fullscreenMessageMask off on white");a.Ab.remove()})}
f.yZ=function(){RO(this);var a=$e(this.Dd);Ap()&&!this.r4&&UO()&&(a=this.Dd.format("twentyThreeSecondOnboardingChooseText"));this.Ab=$('\x3cdiv id\x3d"onboarding-23second-dialog" class\x3d"for-onboarding onboarding-dialog"\x3e\x3cdiv class\x3d"onboarding-dialog-text"\x3e\x3cspan class\x3d"onboarding-time"\x3e'+this.lR+'\x3c/span\x3e\x3cspan class\x3d"onboarding-description"\x3e'+this.Dd.format("twentyThreeSecondOnboardingDescription")+'\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"onboarding-dialog-icons"\x3e\x3cspan class\x3d"onboarding-search"\x3e\x3cspan class\x3d"icon"\x3e\x3cimg src\x3d"https://static.canva.com/static/images/onboarding_search.png"/\x3e\x3c/span\x3e'+
a+'\x3c/span\x3e\x3cspan class\x3d"onboarding-drag"\x3e\x3cspan class\x3d"icon"\x3e\x3cimg src\x3d"https://static.canva.com/static/images/onboarding_hand.png"/\x3e\x3c/span\x3e'+af(this.Dd)+'\x3c/span\x3e\x3cspan class\x3d"onboarding-publish"\x3e\x3cspan class\x3d"icon"\x3e\x3cimg src\x3d"https://static.canva.com/static/images/onboarding_publish.png" /\x3e\x3c/span\x3e'+bf(this.Dd)+'\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"onboarding-dialog-actions"\x3e\x3cspan class\x3d"onboarding-show-me-how"\x3e\x3cbutton class\x3d"button onboarding-show-me-how-button"\x3e'+
this.Dd.format("twentyThreeSecondOnboardingShowMeHowButtonText")+'\x3c/button\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3cimg src\x3d"https://static.canva.com/static/images/onboarding_hand_clicking.png" width\x3d"0" height\x3d"0" style\x3d"display:none"/\x3e\x3cimg src\x3d"https://static.canva.com/static/images/onboarding_hand_grabbing.png" width\x3d"0" height\x3d"0" style\x3d"display:none"/\x3e');this.Ab.appendTo("body");this.next()};
f.T_=function(){var a=this,b=$(".onboarding-dialog");$(".onboarding-show-me-how-button").click(function(){a.XT=!0;var c=$(".onboarding-drag .icon"),d=c.clone(),e=$(".onboarding-show-me-how-button"),g=e.clone(),h=e.clone(),e=e.offset(),c=c.find("img").offset();d.attr("id","onboarding-active-hand").addClass("for-onboarding").appendTo("body").offset(c);g.attr("id","onboarding-active-button").addClass("for-onboarding").appendTo("body").offset(e);h.attr("id","onboarding-active-button-width").addClass("for-onboarding").appendTo("body");
d=a.lR-1;$("#onboarding-23second-dialog .onboarding-time").text(d.toString());b.fadeOut(2E3);a.next()})};f.TY=function(){$("body").append(this.EJ);this.EJ.on("click",KO);var a=this.lR-2;window.setTimeout(function(){$("#onboarding-23second-dialog .onboarding-time").text(a.toString())},1E3);this.next(1500)};f.LU=function(){var a=K.Gb().length;hh();1===a&&K.Gb()[0].isEmpty()?(this.xZ=!1,this.page=K.Gb()[0]):(this.xZ=!0,a=new Hp(K,K.Jg()),Vp(K,a,0),this.page=a);this.next()};
f.fX=function(){function a(){c++;2===c&&b.next(300)}var b=this,c=0,d=$("#onboarding-active-hand"),e=$("#onboarding-active-button");$(".onboarding-drag .icon").remove();$("body \x3e .mask").click();(function(){e.css({width:e.width(),height:"46px"});e.text("");P.delay(O.Da.K2).then(function(){e.animate({width:VO($e(b.Dd)),"border-radius":"25px",padding:"0 15px 0 35px"},{duration:600,queue:!1,complete:a});d.animate({left:1*e.offset().left-15,top:1*e.offset().top-4},{duration:600,queue:!1,complete:a})})})()};
f.rW=function(){var a=$("#onboarding-active-hand"),b=$("#onboarding-active-button"),c=$('\x3cdiv class\x3d"for-onboarding" id\x3d"onboarding-active-hand-morphed"\x3e\x3c/div\x3e'),d=a.offset();c.offset(d);c.appendTo(a.parent());a.appendTo(c);a.css({top:0,left:0});b.appendTo(c);b.css({top:"4px",left:"15px"});this.next()};f.V9=function(){$("#onboarding-active-button").text($e(this.Dd));this.next()};f.S9=function(){WO(af(this.Dd));this.next()};
f.T9=function(){this.sC||WO(this.Dd.format("twentyThreeSecondOnboardingEditText"));this.next()};f.U9=function(){$("#onboarding-active-button").text("Choose");this.next()};function XO(){$("#onboarding-active-hand img").attr("src","https://static.canva.com/static/images/onboarding_hand_grabbing.png")}function YO(){$("#onboarding-active-hand img").attr("src","https://static.canva.com/static/images/onboarding_hand.png")}
function ZO(){var a=$("#onboarding-active-hand img");a.attr("src","https://static.canva.com/static/images/onboarding_hand_clicking.png");window.setTimeout(function(){a.attr("src","https://static.canva.com/static/images/onboarding_hand.png")},300)}f.NEXT="next";function $O(a,b){return 500+Math.floor(.8*Math.sqrt(Math.pow(a.left-b.left,2)+Math.pow(a.top-b.top,2)))}function WO(a,b){var c=$("#onboarding-active-button");b=_.extend({width:VO(a)},b);c.text(a);c.animate(b,{duration:500,queue:!1})}
function VO(a){return $("#onboarding-active-button-width").text(a).width()}
function aP(a,b,c){var d=2/3,e=c.du||{x:0,y:0},g=c.callback||function(){},h=$("#onboarding-active-hand-morphed"),k=h.offset(),l={top:1*$(b).offset().top+1*$(b).height()/3+e.y,left:1*$(b).offset().left+1*$(b).width()/3+e.x};c&&c.GU&&"BR"===c.GU&&(l={top:1*$(b).offset().top+1*$(b).height()+e.y,left:1*$(b).offset().left+1*$(b).width()+e.x});b=$O(k,l);l=new $.path.l1({start:{x:1*h.offset().left,y:1*h.offset().top,angle:10,length:.1},end:{x:l.left,y:l.top,angle:-30,length:.1}});c.callback===a.NEXT&&(g=
function(){a.next(300)});c.RM&&window.setTimeout(function(){c.RM()},d*b);h.animate({path:l},b,g)}f.U4=function(){aP(this,"#search",{callback:this.NEXT})};f.W1=function(){ZO();$("#search").focus();this.next(600)};
f.I9=function(){function a(){var a=$("#resultsSearch"),a=$(".layer \x3e .inner \x3e .searchGroup",a).last(),c=$(".photoGallery",a),g=0,h=!1;uN(a);LO.forEach(function(a){var d=$('\x3cli class\x3d"newSearch loading"\x3e\x3ca href\x3d"#"\x3e\x3cimg data-screen-url\x3d"'+a.files.jJ.url+'"data-screen-width\x3d"'+a.files.jJ.width+'"data-screen-height\x3d"'+a.files.jJ.height+'"src\x3d"'+a.files.oy.url+'"width\x3d"'+a.files.oy.width+'"height\x3d"'+a.files.oy.height+'"/\x3e\x3c/a\x3e\x3c/li\x3e');d.appendTo(c);
$("img",d).on("load",function(){g++;!h&&5<=g&&(b.next(),h=!0);d.removeClass("loading")});d.data("result",a)});c.addClass("photoGallery");oA(c);Sb.qt=b.qt}var b=this,c=$("#search");this.qt=Sb.qt;Sb.qt=function(){return new P(function(){})};PO(this,function(a){c.val(a)},this.Dd.format("twentyThreeSecondOnboardingSearchTerm"),function(){uN($("#resultsSearch .layer \x3e .inner \x3e .searchGroup"));BM(b.i,a)})};
f.T4=function(){WO(af(this.Dd));aP(this,"#resultsSearch .searchGroup .photoGallery li:first-child",{callback:this.NEXT})};f.ze=function(){this.next(600)};
f.Y2=function(){var a=this,b=$("#onboarding-active-hand-morphed"),c=$("section .page.selected"),c={top:c.offset().top-40,left:c.offset().left-42},d=$O(b.offset(),c),e=Math.floor(.8*K.Ea().o())*W,g=Math.floor(.8025*e);XO();a.cs=$("#resultsSearch .searchGroup .photoGallery li:first-child img").clone();a.cs.removeAttr("width");a.cs.removeAttr("height");a.cs.css({position:"absolute",top:"-34px",left:"-27px","z-index":"9000",height:"95px"});b.append(a.cs);a.cs.animate({height:e+"px",width:g+"px",left:(-180*
W-42)/2+"px",top:(-180*W-40)/2+"px"},{duration:d,queue:!1});b.animate(c,{duration:d,queue:!1,complete:function(){a.next(300)}})};f.b3=function(){var a=this,b=$("#resultsSearch .photoGallery li:first-child img"),b=yg(FN(b)),c=Math.floor(.8*K.Ea().o());b.setSize(Math.floor(.8025*c),c);b.setPosition(-180,-180);b.appendTo(K.Ea());Ag(b);YO();a.cs.fadeOut(200,function(){a.cs.remove()});a.next(300)};f.M9=function(){var a;a=K.Ea().ia().filter(function(a){return a instanceof yC})[0];Bg(a);this.next(200)};
f.r9=function(){function a(){YO();g.removeClass("on");b.next(300)}var b=this,c=$("#onboarding-active-hand-morphed"),d=K.Ea(),e=800/642,g=$(".handle.br"),h=d.Wa()[0],k=vb.$el.offset(),l=DD(vb,this.page).qa(),d=.78*d.l(),m=d*e,n={left:Math.floor(k.left+l.F()+d*W*.78),top:Math.floor(k.top+l.w()+m*W*.78)},p=h.l();h.o();aP(this,".selectionBox .handle.br",{du:{x:-20,y:-12},callback:function(){var b=c.offset();XO();g.addClass("on");P.delay(300).then(function(){c.animate(n,{duration:1E3,queue:!1,complete:a,
progress:function(){var a=(c.offset().left-b.left)/W+p,d=a*e;$(".selectionBox").css({height:d*W+"px",width:a*W+"px"});h.setSize(a,d)}})})}})};f.W4=function(){var a=this;WO(this.Dd.format("twentyThreeSecondOnboardingAddText"));aP(this,"#objectPanel \x3e menu li.text a",{callback:function(){$("#objectPanel \x3e menu li.text a").css("color","#00f7ff");a.next(300)}})};f.a2=function(){ZO();$("#objectPanel \x3e menu li.text a").click().css("color","");this.next(200)};
f.R4=function(){var a=this;aP(this,"#objectPanel .textControls [data-style\x3dtitle]",{du:{x:0,y:16},callback:function(){a.next(300)}})};
f.C1=function(){function a(){var a=h.Bb();h.yk(a,"Carter One")}function b(){T.off("elementLoaded:text",b);c()}function c(){hh();ZO();a();h.appendTo(e);Ag(h);Bg(h);window.setTimeout(function(){a()},100);window.setTimeout(function(){},200);d.next(200)}var d=this,e=K.Ea(),g={width:e.l()/2,html:"\x26nbsp;",fontFamily:"Carter One",fontSize:function(a,b,c,d){var e=document.createElement("canvas").getContext("2d");if(null==e)return c;e.font=c*O.Oi*14/100+"px "+d;a=e.measureText(a).width;isFinite(b)&&0<b&&
(10<b-a||a>b)&&(c*=b/a);return Math.floor(c)}(cf(this.Dd),380,120,"Carter One"),color:"#222",left:e.l()-400,top:Math.floor(.5*e.o()-112.5)};T.on("elementLoaded:text",b);var h=new Kp(g)};f.V$=function(){var a=this,b=K.Ea().Wa()[0];b.C().trigger("click");PO(this,function(a){sC(b).html(a+'\x3cspan class\x3d"onboarding-fake-caret"\x3e\x3c/span\x3e')},cf(this.Dd),function(){sC(b).css({border:"none"});$(".onboarding-fake-caret").remove();a.next()})};
f.kX=function(){var a=bf(this.Dd),b={left:-VO(a)-25,padding:"0 39px 0 17px"};$("#designToolsText a").css({color:"#fff"});WO(a,b);aP(this,".editorActionExport",{callback:this.NEXT,RM:function(){$(".editorActionExport").addClass("fakeHoverState")}})};f.MT=function(){ZO();$(".editorActionExport").trigger("click");this.next(600)};
f.jX=function(){var a=this;WO(bf(this.Dd),{left:"22px",padding:"0 20px 0 31px"});aP(this,".exportPopOver__downloadButton",{callback:function(){a.next(600)},RM:function(){$(".editorActionExport").removeClass("fakeHoverState");$(".exportPopOver__downloadButton").addClass("fakeHoverState")}})};f.JT=function(){ZO();var a=this;$(".exportPopOver__downloadButton").addClass("fakeActiveState");window.setTimeout(function(){$(".modalContentMask").click();a.next(200)},300);$(document.body).addClass("modalContentVisible modalContentBlurAndDarkenVisible")};
f.eI=function(){var a=gh(vb).$el.clone(),b=a.find(".page__content");a.find(".fixed").remove();a.css({top:0,left:0});a.removeClass("selected");$("body \x3e .mask").addClass("on fullscreenMessageMask");this.Ab=$('\x3cdiv id\x3d"onboarding-outro-dialog" class\x3d"for-onboarding onboarding-dialog"\x3e\x3c/div\x3e');this.Ab.css({width:b.width()-4+"px",height:b.height()-4+"px"});this.Ab.append(a);this.Ab.appendTo("body");this.next()};
f.YU=function(){var a=this;$("#onboarding-active-hand-morphed").fadeOut(1600,function(){a.next()})};
f.CZ=function(){var a=this,b=$(window).height()-a.Ab.offset().top,c=!1;$('\x3cdiv id\x3d"onboarding-go-dialog" class\x3d"for-onboarding onboarding-dialog"\x3e\x3cdiv class\x3d"onboarding-dialog-text"\x3e\x3cspan class\x3d"onboarding-go"\x3e'+this.Dd.format("twentyThreeSecondOnboardingNowText")+'\x3c/span\x3e\x3cspan class\x3d"onboarding-go-description"\x3e'+this.Dd.format("twentyThreeSecondOnboardingYourTurnText")+"\x3c/span\x3e\x3c/div\x3e").appendTo("body");var d=$('\x3cdiv id\x3d"onboarding-exit-hand" class\x3d"for-onboarding"\x3e\x3cdiv class\x3d"exit-hand open"\x3e\x3cdiv class\x3d"exit-hand-fingers"\x3e\x3c/div\x3e\x3cdiv class\x3d"exit-hand-thumb"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e');
d.css({bottom:"-280px"});d.appendTo("body");d.animate({bottom:"0"},900,function(){var e=1*a.Ab.css("margin-top").replace(/px/,"")-b;d.animate({bottom:e+"px"},{duration:1800,fl:"easeOutQuint",queue:!1});a.Ab.animate({"margin-top":b+"px"},{duration:1800,fl:"easeOutQuint",queue:!1,complete:function(){c||(a.next(1E3),c=!0)}})})};
function bP(){qN=null;$("#search").val("");$("#resultsSearch .searchGroup").removeData("search").css("height","").find("ul").empty();$("#resultsSearch .searchGroup").find("h2").remove();$("#objectPanel .results").addClass("doNotTransition");window.setTimeout(function(){$("#search").blur();$("#objectPanel .results").removeClass("doNotTransition")},O.Gc)}f.SY=function(){function a(){b.next()}var b=this;hh();!0===this.xZ?(Xp(K,this.page),a()):cP(b.page).then(a)};f.$P=function(){bP();this.next()};
f.IT=function(){this.EJ.remove();$("body \x3e .mask").removeClass("on white fullscreenMessageMask").addClass("off");$(".for-onboarding").remove();$("body").removeClass("onboarding-in-progress").removeClass("modalContentVisible modalContentBlurAndDarkenVisible");hh();this.next()};
f.sY=function(){this.j1=Ub;this.u3=Cb.eE;this.EJ=$("\x3cdiv id\x3d'block-everything'\x3e\x3c/div\x3e");this.aw=wb.aw;Cb.eE=function(){return P.resolve(new lw({id:1,rB:null,status:"COMPLETE"}))};Ub=function(){};wb.close();wb.aw=function(){};K.off("change");this.next()};f.b4=function(){this.g0=Db.Nb;Db.Nb=NO;Qg(yb,"M-YUM-LION",0,MO());this.next()};f.v9=function(){Db.Nb=this.g0;this.next()};function TO(a){Ub=a.j1;Cb.eE=a.u3;wb.aw=a.aw;dP(window.csession,window.cdoc);K.on("change",Wb)}
f.bZ=function(){$(".page.selected").removeClass("invisible-text");TO(this);this.next()};f.B8=function(){$("#resultsLayout").data("view").aZ();this.next()};f.onComplete=function(){T.trigger("onboarding:complete")};function eP(a){a.order=[a.RY,a.NW,a.sY,a.yZ,a.T_,a.$P,a.LU,a.TY,a.fX,a.rW,a.V9,a.ze,a.U4,a.b4,a.W1,a.I9,a.ze,a.T4,a.Y2,a.b3,a.M9,a.r9,a.ze,a.W4,a.a2,a.ze,a.R4,a.C1,a.ze,a.V$,a.ze,a.kX,a.MT,a.ze,a.jX,a.JT,a.ze,a.eI,a.YU,a.ze,a.CZ,a.ze,a.SY,a.IT,a.v9,a.$P,a.bZ,a.b$,a.B8,a.onComplete]}
f.w1=function(){var a=$(".templateGallery li:not(.grid)").has(".price.free").first(),b="canva-onboarding-layout-item-"+Math.floor(1E5*Math.random());$(a).addClass(b);this.JA="."+b;this.next()};f.f1=function(){var a=new Dp({},nv(0,0,"PIXELS"),this.i),a=new Hp(a,{}),b=$(this.JA).data("layoutItem");b&&HO(a,Qm(b.content),null,null,!0);this.next()};f.S4=function(){this.KO=$(this.JA);this.LO=$(this.JA+" img");this.jF=$(this.JA+" img").clone();aP(this,this.JA,{callback:this.NEXT})};
f.X2=function(){var a=this,b=$("#onboarding-active-hand-morphed"),c=$("section .page.selected"),d=c.height()/2-Math.floor(Math.random()*c.height()/6),e=c.height()/2+Math.floor(Math.random()*c.height()/6),c={top:c.offset().top+d,left:c.offset().left+e},d=$O(b.offset(),c),e=d/4;XO();window.setTimeout(function(){a.jF.css("opacity","0.5");$(".page.selected").addClass("hotspotHover")},e);a.LO.parent().addClass("pickedUp");a.jF.css({position:"absolute",top:"-34px",left:"-27px","z-index":"9000",width:$(".templateGallery li img").width()+
"px",height:$(".templateGallery li img").height()+"px"});b.append(a.jF);b.animate(c,{duration:d,queue:!1,complete:function(){$(".page.selected").removeClass("hotspotHover");a.LO.parent().removeClass("pickedUp");a.next(300)}})};
f.a3=function(){function a(){T.off("pageLayoutLoaded",a);b.next()}var b=this;YO();this.jF.remove();T.on("pageLayoutLoaded",a);$(".page.selected").addClass("invisible-text");if(this.KO.find(".multiPageLayoutItem").length){var c=this.KO.data("searchResult"),d=this.KO.parents(".results").data("view");c&&fP(d,c,!0)}else this.LO.click()};function gP(){return"substantial-text-element"}
f.X1=function(){if(!this.sC){var a=$("."+gP()),b=$("."+gP());a.hasClass("element")||(b=a.parents(".element"));b=b.data("canvaElement");ZO();Bg(b);a.hasClass("element")||(UK(a,!0),hP(a,zc(this.i)),b.$a())}this.next()};
f.l$=function(){var a,b;if(!this.sC){var c=$("."+gP());b=c.clone();b.find("br").replaceWith(this.HJ);a=b.text().trim();var d;d=/\S\S/.test(a)?a.split(/\s+/g):a.split(/\s{2,}/g);2>d.length?(a="",b=d[0]||""):(b=d[d.length-1],3>b.length&&(b=a.slice(a.lastIndexOf(d[d.length-2]))),3>b.length&&(b="!",a+=b),a=a.slice(0,a.lastIndexOf(b)),a=a.replace(new RegExp(this.HJ,"g"),"\x3cbr\x3e"));this.BW=b;this.gV=a;c.children(".inner").html(this.gV)}$(".page.selected").removeClass("invisible-text");this.next()};
f.U$=function(){function a(a){PO(b,function(a){$(".onboarding-fake-caret").remove();c.children(".inner").html(b.gV+a+'\x3cspan class\x3d"onboarding-fake-caret"\x3e\x3c/span\x3e')},b.BW,function(){$("#overlays .element.text.selected").css({border:"none"});$(".onboarding-fake-caret").remove();a()})}if(this.sC)this.next();else{var b=this,c=$("."+gP());c.trigger("click");a(function(){hh();b.next()})}};
f.v8=function(){if(1>$(".page.selected .element.text,.page.selected .element.svg .text").length)this.sC=!0;else{var a=$(".page.selected .element.text,.page.selected .element.svg .text").first(),b=0;$(".page.selected .element.text,.page.selected .element.svg .text").each(function(){var c=$(this).data("canvaElement");c.Lc()>b&&0<c.C().text().split("").length&&(b=c.Lc(),a=$(this))});a.addClass(gP())}this.next()};
f.V4=function(){if(this.sC)this.next();else{var a=parseFloat($("."+gP()).css("font-size").replace("px",""))*W,b=Math.floor(a/2),a=Math.floor(a*this.BW.split("").length/2);aP(this,"."+gP(),{GU:"BR",du:{x:-a,y:-b},callback:this.NEXT})}};f.d$=function(){$("#objectPanel li.layout a").click();this.next()};f.b$=function(){$("#objectPanel li.elements a").click();this.next()};function Ap(){return/[?&]layouts/g.test(window.location.search)}
function UO(){return 1<=$(".templateGallery li:not(.grid)").has(".price.free").length}function iP(a,b,c){var d=c||1;10<d&&(a.r4=!0,b(!1));Ap()?1<=$(".templateGallery li").length?b(UO()):window.setTimeout(function(){iP(a,b,d+1)},200*d):b(!1)}f.RY=function(){jP.qU();this.next()};f.next=function(a){function b(){d.call(c)}var c=this,d=this.order[this.gP];d&&d.call?(this.gP++,a&&!isNaN(parseInt(a,10))?window.setTimeout(b,a):b()):c.next=function(){}};
function OO(a){a.gP=0;Ap()?iP(a,function(b){b?a.order=[a.RY,a.NW,a.sY,a.yZ,a.w1,a.f1,a.T_,a.LU,a.TY,a.fX,a.rW,a.U9,a.ze,a.S4,a.S9,a.ze,a.X2,a.a3,a.ze,a.v8,a.l$,a.V4,a.ze,a.T9,a.X1,a.ze,a.U$,a.ze,a.kX,a.MT,a.ze,a.jX,a.JT,a.ze,a.eI,a.YU,a.ze,a.CZ,a.ze,a.SY,a.IT,a.$P,a.bZ,a.d$,a.onComplete]:eP(a);a.next()}):(eP(a),a.next())};function vp(a,b,c){this.document=a;this.config=b;this.aV="//www.facebook.com/plugins/like.php?href\x3dhttps%3A%2F%2Fwww.facebook.com%2Fcanva\x26amp;width\x3d450\x26amp;height\x3d65\x26amp;colorscheme\x3dlight\x26amp;layout\x3dbox_count\x26amp;action\x3dlike\x26amp;show_faces\x3dfalse\x26amp;send\x3dfalse\x26amp;appId\x3d"+encodeURIComponent(window.facebookConfig.appId);this.ng=c}vp.prototype.listenTo=Backbone.Events.listenTo;
function kP(){WebFont.load({google:{families:["Yellowtail"]},active:function(){},inactive:function(){}})}
function lP(a){var b=a.config.wh();switch(b){case "FREE_NEW_USER":return b=mP(K.qb()),a={fbUrl:a.aV,twitterText:a.ng.format("magicButtonFreeNewTwitterText",b),congratulations:a.ng.format("magicButtonFreeNewCongratulations"),youHaveCompleted:a.ng.format("magicButtonFreeNewYouHaveCompleted",b),startYourOwnDesign:a.ng.format("magicButtonFreeNewStartYourOwnDesign")},b=_.template('\x3cdiv id\x3d"magic-button-dialog"\x3e\x3cdiv id\x3d"magic-button-dialog-congratulations"\x3e\x3c%- congratulations %\x3e\x3c/div\x3e\x3cdiv id\x3d"magic-button-dialog-now-ready"\x3e\x3c%- youHaveCompleted %\x3e\x3c/div\x3e\x3cbutton class\x3d"button" id\x3d"magic-button-dialog-done"\x3e\x3c%- startYourOwnDesign %\x3e\x3c/button\x3e\x3cdiv id\x3d"magic-button-dialog-share"\x3e\x3ciframe src\x3d"\x3c%\x3d fbUrl %\x3e" scrolling\x3d"no" frameborder\x3d"0" style\x3d"border:none; overflow:hidden; width:50px; height:61px;" allowTransparency\x3d"true"\x3e\x3c/iframe\x3e\x3ciframe allowtransparency\x3d"true" frameborder\x3d"0" scrolling\x3d"no" src\x3d"https://platform.twitter.com/widgets/tweet_button.html?url\x3d%20\x26text\x3d\x3c%\x3d encodeURIComponent(twitterText) %\x3e\x26counturl\x3dhttps://www.canva.com\x26count\x3dvertical" style\x3d"width:56px; height:62px;"\x3e\x3c/iframe\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e'),$(b(a));
case "DESIGN_TUTORIAL":return b=mP(K.qb()),a={fbUrl:a.aV,twitterText:a.ng.format("magicButtonTutorialTwitterText",b),congratulations:a.ng.format("magicButtonTutorialCongratulations"),youHaveCompleted:a.ng.format("magicButtonTutorialYouHaveCompleted",b),startYourOwnDesign:a.ng.format("magicButtonTutorialStartYourOwnDesign")},b=_.template('\x3cdiv id\x3d"magic-button-dialog"\x3e\x3cdiv id\x3d"magic-button-dialog-congratulations"\x3e\x3c%- congratulations %\x3e\x3c/div\x3e\x3cdiv id\x3d"magic-button-dialog-now-ready"\x3e\x3c%- youHaveCompleted %\x3e\x3c/div\x3e\x3cbutton class\x3d"button" id\x3d"magic-button-start-design"\x3e\x3c%- startYourOwnDesign %\x3e\x3c/button\x3e\x3cdiv id\x3d"magic-button-dialog-share"\x3e\x3ciframe src\x3d"\x3c%\x3d fbUrl %\x3e" scrolling\x3d"no" frameborder\x3d"0" style\x3d"border:none; overflow:hidden; width:50px; height:61px;" allowTransparency\x3d"true"\x3e\x3c/iframe\x3e\x3ciframe allowtransparency\x3d"true" frameborder\x3d"0" scrolling\x3d"no" src\x3d"https://platform.twitter.com/widgets/tweet_button.html?url\x3d%20\x26text\x3d\x3c%\x3d encodeURIComponent(twitterText) %\x3e\x26counturl\x3dhttps://www.canva.com\x26count\x3dvertical" style\x3d"width:56px; height:62px;"\x3e\x3c/iframe\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e'),
$(b(a));case "C4W_INVITED_NEW_USER":return a={congratulations:a.ng.format("magicButtonInvitedUserCongratulations"),gettingTheHangHtml:a.ng.format("magicButtonInvitedUserGettingTheHang"),visitTeamSpace:a.ng.format("magicButtonInvitedUserVisitTeamSpace")},b=_.template('\x3cdiv id\x3d"magic-button-dialog"\x3e\x3cdiv id\x3d"magic-button-dialog-congratulations"\x3e\x3c%- congratulations %\x3e\x3c/div\x3e\x3cdiv id\x3d"magic-button-dialog-now-ready"\x3e\x3c%\x3d gettingTheHangHtml %\x3e\x3c/div\x3e\x3ca class\x3d"button" id\x3d"magic-button-dialog-done" href\x3d"/brand"\x3e\x3c%- visitTeamSpace %\x3e\x3c/a\x3e\x3c/div\x3e'),
$(b(a));default:throw Error("onboarding mode "+b+" not handled");}}
function nP(a){function b(){P.all([qA(1E3),qj(c.N,c.url+"/"+encodeURIComponent(wb.hc())+"/complete",null).get(0).then(wo)]).finally(function(){window.location="/"})}var c=new uo;$("body").addClass("modalContentVisible modalContentBlurAndDarkenVisible");$("body \x3e .mask").removeClass("off").addClass("on fullscreenMessageMask");lP(a).on("animationend",function(){$("body").on("click",b);$("body \x3e .mask").on("click",b)}).appendTo("body")}
function oP(a){return 0<a.document.ia().filter(function(a){return"magic-button"==a.C().attr("id")}).length}
vp.prototype.gT=function(){function a(a){a.stopPropagation();a.preventDefault();nP(b);return!1}var b=this,c=b.document;b.gT=function(){};if(!oP(b)){b.page=new Hp(c,c.Jg());b.page.SW();Vp(c,this.page,c.jc(),!1);$("#canvaDocument").addClass("deletePageDisabled");this.config.wh()&&$("#canvaDocument").addClass("pageControlsDisabled");DD(vb,b.page).$el.css("background-color","#20c4cb");var c={html:pP(this),width:460,justification:"center"},c=new Kp(c),d=c.C();d.attr("id","magic-button");d.on("mousedown",
a);d.on("touchstart",a);b.page.addElement(c,!1,!1);var d=(b.page.l()-c.l())/2,e=(b.page.o()-c.o())/2;c.setPosition(d,e)}};function pP(a){a={tutorialComplete:a.ng.format("magicButtonTutorialCompleteButton")};var b=_.template("\x3cstrong id\x3d'magic-button-text'\x3e\x3c%- tutorialComplete %\x3e \x26nbsp;\x3cspan id\x3d'magic-button-text-triangle'\x3e\x26#9656;\x3c/span\x3e\x3c/strong\x3e");return $(b(a))}vp.prototype.go=function(){kP();this.gT()};function Hp(a,b){this.Fb=a;this.Vc=null;this.elements=[];this.height=0;this.ja=b.layout&&new Pm(b.layout);this.lt=this.ti=this.Kq=null;this.uG=this.Hh=this.selected=!1;this.Fy=null;this.JH=this.AD=!1;this.width=0;this.Qh(b,!0);BD(this)}_.extend(Hp.prototype,Backbone.Events);f=Hp.prototype;f.trigger=Backbone.Events.trigger;f.on=Backbone.Events.on;f.off=Backbone.Events.off;f.SW=function(){this.Hh=!0};function qP(a,b){a.Kq=b;a.trigger("change:preview")}
function rP(a){a.Kq=null;a.trigger("change:preview")}function sP(a){var b=a.elements.filter(function(a){return a.Hh||a.Hb()&&a.Ob&&!a.Ob()?!1:!0}),c=!1,d=wO();d instanceof FO&&(c=IO(d,a.K()));return 0<b.length&&!c}
function HO(a,b,c,d,e){function g(a){a.forEach(function(a){var b=a.u(),c=a.getVersion();Qg(yb,b,c,a.pM())})}function h(){if(-1!==k.K()||e){var a=k.ja;if(a===m||a&&m&&a.id===m.id&&a.version===m.version)rP(k),k.Qh(m.Jg(),!1,e),BD(k)}else k.JH=!1,k.AD=!1}var k=a,l=eM(Hb,Wm(b)),m=b.clone();e||(m.ma(a.l()),m.ea(a.o()));a.Fy=a.Fy||a.serialize();a.clear();a.ja=m;a.AD=!0;0===l.length?(a.Qh(m.Jg(),!1,e),BD(a)):(a.JH=!0,c&&qP(a,c),d&&d.lc()===IB?Eq(d.u()).then(g).catch($.noop).finally(h):IL(yb,l,!1,h))}
f.Qh=function(a,b,c){function d(a){0<=q.indexOf(a)||(q.push(a),0<u.length&&e())}function e(){var b=0===u.filter(l).length,d=0===u.filter(h).filter(l).length,e=0<u.filter(k).length;d&&e&&!p?(p=!0,tP(u,a)):b?g():(window.clearTimeout(v),v=window.setTimeout(function(){c||T.trigger("pageTimeoutWaitingForElements");g()},n))}function g(){m.AD=!1;m.uG=!1;T.off("elementLoaded",d);T.off("elementLoadingError",d);window.clearTimeout(v);m.elements.forEach(function(a){a.Cy=!1});m.trigger("unpacked");T.trigger("pageLayoutLoaded",
m);b||(m.trigger("change"),c||m.Fb&&m.Fb.trigger("change"))}function h(a){return!a.nb()}function k(a){return a.nb()}function l(a){return-1===q.indexOf(a)}var m=this,n=3E4;this.Fb&&!this.Fb.XM&&(n+=5E3*this.Fb.jc());this.uG=!0;this.Fy=null;this.JH=!1;b||this.trigger("willchange");void 0!==a.dpi&&(this.Vc=a.dpi);void 0!==a.width&&this.ma(a.width);void 0!==a.height&&this.ea(a.height);var p=!1,q=[],u=[];T.on("elementLoaded",d);T.on("elementLoadingError",d);u=u.concat(function(a){return a?a.map(yg).filter(Boolean):
[]}(a.elements));u.forEach(function(a){a.appendTo(this)},this);var v=window.setTimeout(g,n);0<u.length?window.setTimeout(function(){e()},1):g();a.resizeContentBox?(this.ti=vm(a.resizeContentBox),this.lt=uP(this,this.ti)):this.lt=this.ti=null};f.ss=function(){if(this.ti&&this.lt){var a=uP(this,this.ti);if(xm(a,this.lt))return this.ti;this.lt=this.ti=null}return null};
function uP(a,b){var c=a.qa(),d=b.clone();a.ia().forEach(function(a){if(!(a.Hh||a.Hb()||a.Hg())){var b=a.qa();if(!(a instanceof CC&&Fm(b,c))){a=Math.min(d.F(),b.F());var h=Math.min(d.w(),b.w()),k=Math.max(d.Za(),b.Za())-a,b=Math.max(d.xa(),b.xa())-h;d.left=a;d.top=h;d.width=k;d.height=b}}});return d}f.resize=function(a){var b=vP({qp:this.ss(),me:a,page:this});this.Qh(a.Jg(),!0);BD(this);this.trigger("resize");this.lt=(this.ti=b)&&uP(this,b)};f.wR=function(a){this.clear();this.Qh(a,!0);BD(this);this.trigger("resize")};
function tP(a,b){function c(a){T.trigger("elementLoaded",a);T.trigger("elementLoaded:group",a)}a.forEach(function(d,e){if(d.nb()){var g=b.elements[e].childRange;if(dq(g)){for(var h=g[0];h<=g[1];h++)if(!b.elements[h]||b.elements[h].groupIndex!==e){c(d);d.remove();return}for(h=g[0];h<=g[1];h++)e=cG(PC(d),PC(a[h])),d.addElement(a[h]),a[h].em(e.Ha),a[h].setPosition(e.left,e.top),a[h].dm(e.rotation),d.C().find(".elements").append(a[h].C()),d.ab();c(d)}else c(d),d.remove()}})}
f.gi=function(){var a=new To;this.elements.forEach(function(b){b.gi().gg().forEach(function(b){Wo(a,b)})});return a};f.clone=function(){return new Hp(null,this.serialize())};f.serialize=function(){return this.JH&&this.Fy?this.Fy:this.AD&&this.ja?this.ja.Jg():wP(this)};
function wP(a){function b(a){return a.elementIndex}var c=a.elements.filter(function(a){return!a.Hh}).map(function(a){return a.serialize()}).filter(Boolean);c.forEach(function(a,b){var c=a.elementIndex-b;a.elementIndex=b;c&&a.elements&&a.elements.forEach(function(a){a.elementIndex-=c})});c.filter(function(a){return-1<Object.keys(a).indexOf("elements")}).forEach(function(a){var d=a.elementIndex,e={Ha:a.transparency,rotation:a.rotation,top:a.top,left:a.left,width:a.width,height:a.height},l=a.elements.map(b),
m=[];c.forEach(function(a){var b=l.indexOf(a.elementIndex);0<=b&&(l.splice(b,1),m.push(a.elementIndex),b=dG(e,{Ha:a.transparency,rotation:a.rotation,top:a.top,left:a.left,width:a.width,height:a.height}),a.transparency=b.Ha,a.rotation=b.rotation,a.top=b.top,a.left=b.left,a.groupIndex=d)});if(0!==m.length&&0===l.length){var n=Math.min.apply(null,m),p=Math.max.apply(null,m);a.childRange=[n,p]}else a.childRange=[-1,-1];delete a.elements});var d={elements:c,width:a.width,height:a.height};a.Vc&&(d.dpi=
a.Vc);var e=a.ja&&a.ja.serialize();e&&(d.layout=e);(a=a.ss())&&(d.resizeContentBox=a.serialize());return d}f.clear=function(){var a;for(rP(this);this.ia().length;)(a=this.elements[0]||null)&&this.rj(a);this.elements=[];this.lt=this.ti=null};f.ia=function(){return this.elements};f.Wa=function(){return this.ia().filter(function(a){return a.Jf()})};function Tp(a){return a.ia().filter(function(a){return a.Hb()})}function xP(a){return a.ia().filter(function(a){return a.Hg()})}
function yP(a,b){function c(a){return!a.Hb()}function d(a){return!(a instanceof DC)}var e=b instanceof Array?b:[b],e=e.filter(c).filter(d);return 0===e.length?e:a.ia().filter(function(a){return!UC(a)}).filter(c).filter(function(a){return!a.Hg()}).filter(d).filter(function(a){return-1===e.indexOf(a)}).filter(function(a){return e.some(function(b){return Yg(b.qa(),a.qa())})})}
f.rj=function(a,b){b=b||{};for(var c=this.elements.indexOf(a),d=0;d<this.elements.length;d++)if(this.elements[d].nb()&&-1!==this.elements[d].elements.indexOf(a)){this.elements[d].rj(a);break}-1<c&&(this.elements.splice(c,1),a.remove(),b.h9&&0===this.elements.length&&(this.ja=void 0),b.HZ||this.trigger("element:remove",this,a,c,!!b.Hba),(a.Hb()||a.Hg())&&this.trigger("change:background",this))};
function zP(a,b,c){var d=a.elements.indexOf(b);-1!==d&&b.elements&&0!==b.elements.length&&b.ia().forEach(function(e){d+=1;XC(a,e,d,!0);e.te=b.te;e.Yq(a);!c&&a.trigger("element:add",a,e,!1,!1);b.C().find(".elements").append(e.C())})}f.addElement=function(a,b,c){this.elements.push(a);a.Yq(this);zP(this,a);this.trigger("element:add",this,a,b,c);(a.Hb()||a.Hg())&&this.trigger("change:background",this,a)};
function AP(a){return a.elements.filter(function(a){return a.nb()}).map(function(b){var c=b.ia().map(function(b){return a.elements.indexOf(b)}).filter(function(a){return-1!==a});c.push(a.elements.indexOf(b));return[Math.min.apply(null,c),Math.max.apply(null,c)]})}function BP(a,b){for(var c=0;c!==a.elements.length;c++)if(a.elements[c].nb()&&-1!==a.elements[c].elements.indexOf(b))return a.elements[c]}
function XC(a,b,c,d){c=function(c){var d=c;0>d&&(d=a.elements.length);(c=BP(a,b))?(d=Math.max(d,a.elements.indexOf(c)),d=Math.min(d,a.elements.indexOf(c)+c.ia().length)):(d=Math.min(d,a.elements.length),AP(a).forEach(function(a){d>a[0]&&d<=a[1]&&(d=a[1]+1)}));return d}(c);var e=a.elements.indexOf(b);-1==e?(a.elements.splice(c,0,b),b.Yq(a),zP(a,b,d),!d&&a.trigger("element:add",a,b,!1,!1),(b.Hb()||b.Hg())&&a.trigger("change:background",a,b)):(a.elements.splice(c,0,a.elements.splice(e,1)[0]),a.trigger("element:move",
a,b))}f.F=function(){return 0};f.$b=Hp.prototype.F;f.w=function(){return 0};f.kc=Hp.prototype.w;f.l=function(){return this.width};f.rh=Hp.prototype.l;f.o=function(){return this.height};f.nh=Hp.prototype.o;f.Za=function(){return this.F()+this.l()};f.Nd=Hp.prototype.Za;f.xa=function(){return this.w()+this.o()};f.kd=Hp.prototype.xa;f.qa=function(){return new V(this.F(),this.w(),this.l(),this.o())};f.Ta=function(){return 0};f.setSize=function(){};f.ma=function(a){this.ja&&this.ja.ma(a);this.width=a};
f.ea=function(a){this.ja&&this.ja.ea(a);this.height=a};f.kb=function(){};f.eb=function(){};f.setPosition=function(){};function Wp(a,b){a.Fb=b;BD(a)}f.If=function(){var a=Tp(this);return 0<a.length?(a=a[a.length-1],a.oc()&&a.qM()):!1};function dD(a){a=Tp(a);return 0<a.length?a[a.length-1].oc():!0}
f.zk=function(a){var b;this.Fb&&this.selected!==a&&!this.Hh&&(a||(this.selected=!1),b=this.Fb.Ea(),a=a||this===b,b!==this&&(b.selected=!a,b.trigger("change:selected",b,!a)),this.selected=a,this.trigger("change:selected",this,a))};f.Jf=function(){return this.selected};f.remove=function(){this.elements.slice().forEach(function(a){GO(a);a.remove()});this.Fb&&Xp(this.Fb,this);this.Fb=null};
function cP(a){a.elements.forEach(function(a){a.C().fadeOut()});return P.delay(400).then(function(){for(;0<a.elements.length;){var b=a.elements[0];GO(b);b.C().remove();a.rj(b)}a.elements=[]})}f.K=function(){return this.Fb?cp(this.Fb,this):-1};f.ju=function(){return Qm(this.serialize())};function BD(a){(function(){a.ia().slice(0).forEach(function(b){b instanceof DC&&a.rj(b)})})();(function(){var b=a.lb();b&&rv(b).forEach(function(b){(b=yg(b))&&XC(a,b,0)})})()}f.isEmpty=function(){return 1>this.ia().filter(function(a){return!a.Hh}).length};
f.lb=function(){var a=this.Fb;return a?a.lb():null};f.Iv=function(){return this.uG};function Vn(a,b){this.EU=this.DU=this.CU=this.BU=this.Zx=this.wv=this.iQ=this.jQ=this.scrollHeight=this.scrollWidth=this.scrollTop=this.scrollLeft=0;this.GI=this.RF=null;this.q_=!!b;this.ER=Zg(this);this.IR=Zg(this);this.nI=new CP({attributes:!0,attributeFilter:["class","style"],childList:!0,characterData:!1,subtree:!0});this.Rc=a;this.Wj=$("\x3cdiv\x3e").addClass("scrollThumb");this.Gk=$("\x3cdiv\x3e").addClass("scrollThumb");this.Eq=this.Eq.bind(this);this.XG=this.XG.bind(this);this.SG=this.SG.bind(this);
this.UG=this.UG.bind(this);this.QG=this.QG.bind(this);this.RG=this.RG.bind(this);this.cB=this.cB.bind(this);this.dB=this.dB.bind(this);this.OG=this.OG.bind(this);this.PG=this.PG.bind(this)}f=Vn.prototype;f.trigger=Backbone.Events.trigger;f.on=Backbone.Events.on;f.off=Backbone.Events.off;
f.render=function(){this.Rc.addClass("scrollElement");$("\x3cdiv\x3e").addClass("scrollTrack hScrollTrack").append(this.Wj).insertAfter(this.Rc);$("\x3cdiv\x3e").addClass("scrollTrack vScrollTrack").append(this.Gk).insertAfter(this.Rc);DP(this);this.Rc.on("scroll",this.XG);this.Rc.on("transitionend",this.Eq);this.Rc.on("mouseenter",this.SG);this.Rc.on("mouseleave",this.UG);this.Wj.on("mousedown",this.QG);this.Gk.on("mousedown",this.RG);this.nI.on("attrModified",this.Eq);this.nI.on("subtreeModified",
this.Eq);this.nI.observe(this.Rc);$("\x3cspan\x3e").appendTo(this.Rc).remove();$(window).on("resize",this.Eq);return this};f.remove=function(){EP(this.nI);this.Rc.off("scroll",this.XG);this.Rc.off("transitionend",this.Eq);this.Rc.off("mouseenter",this.SG);this.Rc.off("mouseleave",this.UG);this.Wj.off("mousedown",this.QG);this.Gk.off("mousedown",this.RG);$(window).off("resize",this.Eq);return this};
function DP(a){Zg(a).read(function(a){var c=this.Rc.prop("clientWidth"),d=this.Rc.prop("offsetWidth"),e=this.Rc.prop("clientHeight"),g=this.Rc.prop("offsetHeight");a.write(function(){d>c&&this.Rc.css("margin-right",c-d);g>e&&this.Rc.css("margin-bottom",e-g);this.ab()})})}f.ab=function(){this.ER.read(this.A_)};
f.A_=function(){var a=this.scrollWidth,b=this.scrollHeight,c=this.wv,d=this.Zx;this.scrollWidth=this.Rc.prop("scrollWidth");this.scrollHeight=this.Rc.prop("scrollHeight");this.jQ=this.Rc.prop("clientWidth");this.iQ=this.Rc.prop("clientHeight");this.wv=this.Wj.parent().outerWidth();this.Zx=this.Gk.parent().outerHeight();if(a!==this.scrollWidth||b!==this.scrollHeight||c!==this.wv||d!==this.Zx)this.scrollTop=this.scrollLeft=-1,this.ER.write(this.m9),this.IR.read(this.D_)};
f.m9=function(){var a=Math.round(this.Zx*this.iQ/this.scrollHeight);this.Wj.css("width",Math.round(this.wv*this.jQ/this.scrollWidth)+"px");this.Gk.css("height",a+"px");var a=this.jQ<this.scrollWidth,b=this.iQ<this.scrollHeight,c=a!==this.RF,d=b!==this.GI;c&&(this.RF=a,this.Wj.toggleClass("disabled",!a));d&&(this.GI=b,this.Gk.toggleClass("disabled",!b));this.q_&&(c||d)&&this.trigger("change:scrollability",this.RF,this.GI)};
f.D_=function(){var a=this.scrollLeft,b=this.scrollTop;this.scrollLeft=this.Rc.scrollLeft();this.scrollTop=this.Rc.scrollTop();if(a!==this.scrollLeft||b!==this.scrollTop)this.IR.write(this.o9),this.q_&&(this.RF||this.GI)&&this.trigger("scroll",this.scrollLeft,this.scrollTop)};f.o9=function(){var a=Math.round(this.Zx*this.scrollTop/this.scrollHeight);this.Wj.css("transform","translateX("+Math.round(this.wv*this.scrollLeft/this.scrollWidth)+"px)");this.Gk.css("transform","translateY("+a+"px)")};
f.Eq=function(){this.ER.read(this.A_)};f.XG=function(){this.IR.read(this.D_)};f.SG=function(){this.Wj.addClass("ready");this.Gk.addClass("ready")};f.UG=function(){this.Wj.removeClass("ready");this.Gk.removeClass("ready")};f.QG=function(a){0===a.button&&(this.BU=a.screenX,this.DU=this.scrollLeft,this.Wj.addClass("active"),$(document).on("mousemove",this.cB).on("mouseup",this.OG),a.preventDefault(),a.stopPropagation())};
f.cB=function(a){this.Rc.scrollLeft(this.DU+Math.round((a.screenX-this.BU)*this.scrollWidth/this.wv))};f.OG=function(a){this.cB(a);this.Wj.removeClass("active");$(document).off("mousemove",this.cB).off("mouseup",this.OG)};f.RG=function(a){0===a.button&&(this.CU=a.screenY,this.EU=this.scrollTop,this.Gk.addClass("active"),$(document).on("mousemove",this.dB).on("mouseup",this.PG),a.preventDefault(),a.stopPropagation())};
f.dB=function(a){this.Rc.scrollTop(this.EU+Math.round((a.screenY-this.CU)*this.scrollHeight/this.Zx))};f.PG=function(a){this.dB(a);this.Gk.removeClass("active");$(document).off("mousemove",this.dB).off("mouseup",this.PG)};function FP(){this.query="";this.D3=[]}function GP(a,b){a.query=b;return a}FP.prototype.toString=function(){return(this.query?[this.query]:[]).concat(this.D3).map(function(a){return a.toString()}).join(" AND ")};var vN=null,QM=null,AM=!1,qN=null;function WM(a){Xb=!1;Sb=new oL(Ib,[new mL]);$("#search").on("keypress",function(b){return HP.call(this,b,a)});$("#search").on("keydown",IP);$("#search").on("keyup",IP)}
function HP(a,b){function c(){$("#objectPanel menu .elements a").click()}function d(a){$("#resultsElements li.folderExpanded \x3e a:not([data-query\x3d"+a+"])").mousedown();setTimeout(function(){$("#resultsElements li:not(.folderExpanded) \x3e a[data-query\x3d"+a+"]").mousedown()},500);setTimeout(function(){$("#resultsElements \x3e .layer").animate({scrollTop:$("#resultsElements a[data-query\x3d"+a+"]").parent().position().top},O.Da.Tq)},900)}a.stopPropagation();if(13==a.which){a=$("#search");if(!a.val().match(/^\s*$/)){var e=
$("#objectPanel").find("menu");switch(a.val().toLowerCase()){case "grid":case "grids":c();d("grids");break;case "chart":case "charts":case "graph":case "graphs":case "bar chart":case "bar graph":case "barchart":case "bargraph":case "pie chart":case "piechart":case "line chart":case "linechart":case "donut chart":case "donutchart":case "pie graph":case "piegraph":case "line graph":case "linegraph":case "donut graph":case "donutgraph":c();d("charts");break;case "layout":case "layouts":e.find(".layout a").click();
a.select();break;case "text":case "font":case "fonts":e.find(".text a").click();a.select();break;case "bkground":case "background":case "backgrounds":e.find(".backgrounds a").click();a.select();break;case "upload":case "uploads":e.find(".uploads a").click();a.select();break;default:BM(b)}}return!1}}
function BM(a,b){function c(){p.animate({scrollTop:H-O.nD},O.Da.Tq,function(){x.remove();if(vN&&vN.isPending()){var a=oN(),a=$(".inner \x3e .searchGroup",a.find(".layer")).last();a.data("search")===qN&&pN(a)}b&&b()})}function d(){var a=$(".infoPanel",z);0<a.length&&(z.addClass("doNotTransition"),a.addClass("doNotTransition"),$(".close",a).click(),a.data("infoPanelPointer").remove(),a.remove(),z.removeClass("doNotTransition"));var b=KN(n),c=-1;$("\x3e .gallery \x3e li",z).each(function(){var a=$(this);
t+a.data("originalTop")<b&&(a.addClass("oldSearch"),setTimeout(function(){a.addClass("doNotTransition newSearch");setTimeout(function(){a.removeClass("doNotTransition newSearch oldSearch")},O.Gc)},++c*O.Da.jw+O.Da.ZA))});setTimeout(function(){Xb=!1},c*O.Da.jw+O.Da.ZA)}var e=$("#search"),g=e.val().trim();if(""!==g){var h=qN?qN.query:"",k=qN?qN.ps():[],l=qN?qN.ci:null,m=vN&&!vN.isRejected()&&qN&&!qN.Wb,n=$("#resultsSearch"),p=n.find(".layer").first(),q=$("\x3e .inner \x3e .searchGroup",p),u=QM||qL,
v=AM,h=g===h,k=0===_.difference(k,u).length+_.difference(u,k).length,l=v===l;p.data("userPreparedSearch",!0);if(h&&k&&l&&m){var z=q.last();uN(z);if(!Xb){Xb=!0;var t=LN(z);a=t-O.nD;1<Math.abs(a-p.scrollTop())?p.animate({scrollTop:a},O.Da.Tq,d):d()}}else{qN=new rN(g,u,null,null,null,null,null,sN(n,n.height()),null,!0,!0,tN.bind(null,a),v,null);bO?e.blur():e.select();z=$('\x3cdiv class\x3d"searchGroup hasContent" data-search-text\x3d"'+_.escape(g)+'"\x3e\x3ch2\x3e\x3c/h2\x3e\x3cul class\x3d"gallery photoGallery infoPanelGallery"\x3e\x3c/ul\x3e\x3c/div\x3e');
$("h2",z).text(""+g+"");z.height(n.height());var x=$();0<$(".searchLoaderHolder.on",n).length&&(x=$('\x3cdiv class\x3d"placeholder"\x3e\x3cdiv/\x3e'),x.height($(".searchLoaderHolder",n).height()),p.addClass("doNotTransition"),x.insertAfter(q.last()),p.removeClass("doNotTransition"));uN(q.last());var H=gO(p),u=KN(n),e=H>u+O.nD,g=$(),m=$();if(e){var E=u+O.nD,L=$();q.each(function(){var a=$(this);0==L.length&&LN(a)+a.outerHeight()>E&&(L=a)});0==L.length&&(L=q.last());u=$(".gallery",L);m=E-LN(L);v=
0;0<u.length&&(v=m-(u.offset().top-L.offset().top));v=XN(u,v);g=g.add(v);m=L.nextAll(".searchGroup");0>=$("li",u).length-v.length&&(g=$(),m=m.add(L));m=m.filter(function(){return!$(this).hasClass("inlineFolderGroup")});0==g.length&&0==m.length?e=!1:(n.addClass("modifying"),v=m,0<g.find("a.infoOpen").length&&(v=v.add(L)),l=$(".infoPanel",v),0<l.length&&(v.addClass("doNotTransition"),l.addClass("doNotTransition"),$(".close",l).click(),l.data("infoPanelPointer").remove(),l.remove(),v.removeClass("doNotTransition")),
u=u.data("columnData")||null,hO(u,g),g.detach(),pA(L,!0),L.hasClass("inlineFolderGroup")&&JP(p.data("view"),!1),n.removeClass("modifying"))}q=$("\x3e .inner \x3e .searchGroup",p);g=m.map(function(){return $(this).outerHeight(!0)}).toArray().reduce(function(a,b){return a+b},0);g=gO(p)+z.height()-g;e&&g<KN(n)&&z.height(z.height()+(KN(n)-g));z.insertAfter(q.last());m.detach();var J=m.toArray(),q=q.filter(function(){return-1==J.indexOf(this)});e||0!=$(".gallery li",q.last()).length||(q.last().remove(),
q=q.filter(function(a){return a!=q.length-1}));z.data("search",qN);var H=0,Q=parseInt(z.css("padding-top"),10)+parseInt(z.css("padding-bottom"),10);q.last().addClass("doNotTransition");q.each(function(){var a=$(this);if(void 0!==a.data("contentHeight")){var b=a.data("contentHeight"),b=b+VN(a);a.height(b);H+=b+Q}});q.last().removeClass("doNotTransition");e=$("#objectPanel").find("menu .search");e.hasClass("on")||e.find("a").click();tN(a);c()}}}
function tN(a){var b=oN(),c=qN;vN&&vN.cancel();vN=null;vN=Sb.qt({Yh:wb?wb.hc():null,query:qN.query,Pn:qN.ps(),Dn:qN.Dn,Ym:qN.Ym,filters:qN.filters,sort:qN.sort,elevation:qN.elevation,rz:!1,Kg:qN.Kg,from:qN.kn(),limit:qN.$d(),mm:qN.mm,Rf:qN.Rf,ci:qN.ci,aspectRatio:qN.di()}).then(function(b){KP(a,b)}).catch(function(d){var e=b.find(".layer \x3e .inner \x3e .searchGroup").last();if(!(d instanceof P.CancellationError&&oN().attr("id")===b.attr("id"))){if("resultsSearch"!==b.attr("id"))return uN(e),P.reject();
c.cancel();d=$('\x3cp class\x3d"noResults"\x3e').text(lc(a).format("objectPanelSearchFailed"));uN(e);e.find(".gallery").remove();e.append(d)}})}
function KP(a,b){var c=oN(),d=$(".layer \x3e .inner \x3e .searchGroup",c).last(),e=b.Zz(),g=$(".photoGallery, .backgroundGallery",d);qN.Os=e.length;uN(c.find(".layer"));if(0==e.length&&qN.Os>=qN.limit)qN.iZ();else{var h=qN,k=qN.query;0===h.kn()&&(h.Rf=b.u());0<e.length||h.QH?(e=e.slice(0,h.$d()),e.forEach(function(a){Qg(yb,a.u(),a.getVersion(),a.Kc())}),e.forEach(function(b){(new LP({model:b,query:k,J:lc(a),W:Jb})).$el.appendTo(g)}),oA(g),setTimeout(function(){h.Os>=h.limit||!h.QH?eO(c):(qN=h.QH,
tN(a))},e.length*O.Da.jw+O.Da.ZA)):0==h.kn()&&(b=h.tY,!b||0===b.kn()&&0===b.Vz())&&(g.remove(),$(".noResults",d).remove(),b=$('\x3cp class\x3d"noResults"\x3e').text(lc(a).format("objectPanelSearchNoResults")),d.append(b))}}
function pN(a){if(0>=$(".searchLoader",a).length){var b=$('\x3cdiv class\x3d"searchLoader tileListBusyIndicator"\x3e\x3cspan\x3e\x3c/span\x3e\x3cspan\x3e\x3c/span\x3e\x3cspan\x3e\x3c/span\x3e\x3cspan\x3e\x3c/span\x3e\x3cspan\x3e\x3c/span\x3e\x3cspan\x3e\x3c/span\x3e\x3cspan\x3e\x3c/span\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e');a.append(b);b.addClass("tileListBusyIndicatorOn")}}function uN(a){$(".searchLoader",a).each(function(){$(this).remove();$(".searchLoaderHolder",a).removeClass("on")})};function MP(){this.vo=[]}MP.prototype.trigger=Backbone.Events.trigger;MP.prototype.listenTo=Backbone.Events.listenTo;MP.prototype.stopListening=Backbone.Events.stopListening;_.extend(MP.prototype,Backbone.Events);MP.prototype.Kk=function(a){NP(this,a,this.vo.length)};function NP(a,b,c){-1===a.vo.indexOf(b)&&(c=Math.max(0,Math.min(c,a.vo.length)),a.vo.splice(c,0,b),a.listenTo(b,"all",function(){a.trigger.apply(this,arguments)}),a.trigger("searchGroup:add",a,b,c))}
MP.prototype.OB=function(a){var b=this.vo.indexOf(a);-1<b&&(a.remove(),this.vo.splice(b,1),this.stopListening(a),this.trigger("searchGroup:remove",this,a,b))};function OP(a){return a.vo[a.vo.length-1]}MP.prototype.getLength=function(){return this.vo.length};function JM(a,b,c){this.lQ=a;this.title=b||"";this.Y8=c||"";this.NH=[];this.WA=!0}JM.prototype.trigger=Backbone.Events.trigger;_.extend(JM.prototype,Backbone.Events);f=JM.prototype;f.qb=function(){return this.title};f.remove=function(){this.lQ.cancel()};
f.clear=function(){this.NH=[];this.WA=!0;this.lQ.reset();this.trigger("results:clear",this)};f.$h=function(a){var b=this;this.trigger("results:willFetch",b);this.lQ.rv(a,function(c,d){b.WA=c.length>=a;0<c.length&&(b.NH=b.NH.concat(c));b.trigger("results:didFetch",b,c,d)})};f.Vz=function(){return this.NH.length};
function PP(a){var b=Ib,c=Db,d=Jb;if(-1<["grid","grids"].indexOf(a.toLowerCase()))return new QP(a);if("uploads"===a)return new RP(c,!0);if("marketplace"===a)return new RP(c,!1);b=new oL(b,[new mL]);c=new rN(a,qL,null,null,null,null,[],0,null,!1,!1,function(){},!1,null);return d.G.get(hg)&&-1<["chart","charts"].indexOf(a.toLowerCase())?new SP(b,c,Om):new TP(b,c)}function UP(){}_.extend(UP.prototype,Backbone.Events);UP.prototype.rv=function(a,b){b&&b([],!0)};UP.prototype.cancel=function(){};
UP.prototype.reset=function(){};function TP(a,b,c){this.search=a;this.rd=b;this.GM=c||Nm;this.Wb=!1;this.MH=this.Sc=null}_.extend(TP.prototype,Backbone.Events);f=TP.prototype;
f.rv=function(a,b){function c(a){return!(a instanceof P.CancellationError)}this.Sc?b&&b([],!0):this.XW(a,b,this.Wb)||(this.rd.limit=a,this.MH=b,this.Sc=sL(this.search,{Yh:wb?wb.hc():null,query:this.rd.query,Pn:this.rd.ps(),Dn:this.rd.Dn,Ym:this.rd.Ym,filters:this.rd.filters,elevation:this.rd.elevation,sort:this.rd.sort,rz:!1,Kg:this.rd.Kg,from:this.rd.kn(),limit:this.rd.$d(),mm:this.rd.mm,Rf:this.rd.Rf,aspectRatio:this.rd.di()}).catch(c,function(){}).then(this.H9.bind(this)).catch(P.CancellationError,
function(){}))};f.XW=function(){return!1};f.cancel=function(){this.Wb=!0;this.Sc&&this.Sc.cancel();this.Sc=null};f.reset=function(){this.cancel();this.Wb=!1;this.rd.reset()};f.H9=function(a){var b=[];!this.Wb&&a&&a.Zz()&&(b=a.Zz());this.LN(b,this.rd.$d());this.MH&&this.MH(b,this.Wb);this.Sc=this.MH=null;this.Wb||(0===this.rd.kn()&&(this.rd.Rf=a.u()),this.rd.Os=b.length,a=this.rd,a.from+=a.limit)};f.LN=function(){};
function QP(a){this.Hx=0;this.Le=[];this.query=a;this.Wb=!1;if("grid"===a||"grids"===a)this.query="grid",this.Le=_.keys(Nm)}QP.prototype.cancel=function(){this.Wb=!0};QP.prototype.rv=function(a,b){if(this.Hx>=this.Le.length||this.Wb)b&&b([],this.Wb);else{var c=this.Le.slice(this.Hx,this.Hx+a);this.Hx+=a;b&&b(c,!1)}};QP.prototype.reset=function(){this.Wb=!1;this.Hx=0;this.Le=[]};function RP(a,b){this.ac=a;this.Xl=b;this.Y=null;this.Wb=!1;this.Sc=null;this.iA=!1}
RP.prototype.rv=function(a,b){function c(a,c){function e(a){return(a=a.Ja().ic())&&0<Object.keys(a).length}function l(a){var b=a.Ja(),c=b.ic(),d;zF(a.Ja())&&(d=100*zF(a.Ja()).ONE_USE||0);return Jg({id:a.u(),version:b.getVersion(),files_:_.values(c),oneTimeUsePriceCents:d,status:b.ph(),type:a.lc()})}function m(a,b){a=a.u();b=b.u();return-(a<b?-1:a>b?1:0)}200===a&&c.media&&0!==c.media.length?(a=c.media.filter(e).sort(m).map(l),b&&b(a,d.Wb),d.Y=c.continuation,d.Sc=null,d.iA=!0):b&&b([],d.Wb)}var d=this,
e=[Eg,Gg];this.Sc?b&&b([],!0):null==this.Y&&this.iA?b&&b([],!1):(a=CF((new BF).Tt(this.Xl).Rt(!1).To(),e).Vg(a),null!=d.Y&&a.Aj(d.Y),this.Xl||(a=a.ey(!0)),this.Sc=YE(Db,a,c))};RP.prototype.cancel=function(){this.Wb=!0;this.Sc&&(this.Sc.cancel(),this.Sc=null)};RP.prototype.reset=function(){this.cancel();this.Wb=!1;this.Y=null;this.iA=!1};
function KM(a){w(!((a.vc||a.query)&&a.rd));var b=a.GM||Nm;if(null!=a.rd)TP.call(this,a.mQ,a.rd,b);else if(null!=a.vc){var c=new FP,c=GP(c,a.query?a.query+" *":"*");TP.call(this,a.mQ,new rN(c.toString(),pL,{designType:a.vc.u()},null,null,null,[new FL({Zu:"score",direction:"DESC"}),new FL({Zu:"lastModified",direction:"DESC"}),new FL({Zu:"id",direction:"ASC"})],0,null,!1,!1,function(){},!1,null),b)}this.cF=!1;this.cA=0}_.extend(KM.prototype,TP.prototype);
KM.prototype.reset=function(){TP.prototype.reset.call(this);this.cF=!1;this.cA=0};KM.prototype.XW=function(a,b,c){var d=[];return this.cF?(VP(this,d,this.cA,a),b&&b(d,c),!0):!1};KM.prototype.LN=function(a,b){(this.cF=0===a.length||a.length<b)&&VP(this,a,this.cA,b-a.length)};function VP(a,b,c,d){c=_.rest(_.keys(a.GM),c);d=_.first(c,d);a.cA+=d.length;d.forEach(function(c){b.push(WP(a,c))})}
function WP(a,b){b=a.GM[b];a=new $I;var c=Rg(K.lb().tb);b={width:c.l(),height:c.o(),elements:[{type:"grid",left:0,top:0,width:c.l(),height:c.o(),items:b.items}]};a.name="Photo Grid";a.content=b;return a}function SP(a,b,c){TP.call(this,a,b,c);this.RJ=c;this.FL=!1;this.Ky=0}_.extend(SP.prototype,TP.prototype);SP.prototype.reset=function(){TP.prototype.reset.call(this);this.FL=!1;this.Ky=0};SP.prototype.LN=function(a){this.FL||(this.FL=XP(this,a,this.Ky,_.size(this.RJ)))};
function XP(a,b,c,d){c=_.rest(_.keys(a.RJ),c);d=_.first(c,d);a.Ky+=d.length;d.forEach(function(a,c){b.splice(c,0,a)});return a.Ky===_.size(a.RJ)}function HM(a){this.Wb=!1;this.Ra=a.Ra;this.gc=a.gc;this.na=a.na;this.va=a.va;this.cv=a.cv;this.Zr=a.Zr;this.HE=a.HE||null;this.bF=!1;this.rG=this.Y=this.Sc=null}_.extend(HM.prototype,TP.prototype);
HM.prototype.rv=function(a,b){function c(){function b(a){h.rG=a.Mb();h.bF=null==h.rG;a=a.Cf().map(function(a){return a.u()});if(!a.length)return null;k.wl=a;return new Ut(k)}if(h.cv){var c=(new mk).Hk(new Rj({id:h.cv})).Vg(a).Aj(h.rG);return h.gc.PA(c).then(b).catch(g)}return new P(function(a){a(new Ut(k))})}function d(a){h.Sc=null!=a?rq(h.Ra,a):P.resolve(null);return h.Sc}function e(a){a?(h.Y=a.continuation,this.cv||(h.bF=null==h.Y),b&&b(a.documents,h.Wb),h.Sc=null):b&&b([],h.Wb)}function g(a){b&&
b([],h.Wb);throw a;}var h=this,k={Zr:h.Zr,EL:!0,Y:h.Y,limit:a};this.HE&&(k.ja=this.HE);this.cv||(k.qd=new jr({user:h.na,D:h.va}),k.tH=[$q]);this.Sc?b&&b([],!0):this.bF?b&&b([],this.Wb):this.Sc=c().then(d).then(e).catch(g)};HM.prototype.cancel=function(){this.Wb=!0;this.Sc&&(this.Sc.cancel(),this.Sc=null)};HM.prototype.reset=function(){this.cancel();this.Wb=!1;this.rG=this.Y=null;this.bF=!1};
function YP(a){this.va=a.va||null;this.Wb=!1;this.PK=a.PK;this.Ra=a.Ra;this.OU=!1;this.Y=this.Sc=null;this.Li=a.Li}_.extend(YP.prototype,TP.prototype);
YP.prototype.rv=function(a,b){function c(a){var b=a.Cf().map(h);k.OU=null==a.Mb();k.Y=a.Mb();return 0!==b.length?(a=new Ut({wl:b}),rq(k.Ra,a)):P.resolve({documents:[]})}function d(a){b(a.documents,k.Wb)}function e(){b([],k.Wb)}function g(){k.Sc=null}function h(a){return a.u()}var k=this;this.Sc?b&&b([],!0):this.OU?b&&b([],this.Wb):(a=cJ((new bJ).zj(this.va).Hk("/designs/layouts"),this.PK).Vg(a).Aj(this.Y),this.Sc=YI(this.Li,a).then(c).then(d).catch(e).finally(g))};
YP.prototype.cancel=function(){this.Wb=!0;this.Sc=null};YP.prototype.reset=function(){this.cancel();this.Wb=!1;this.Y=null};function rN(a,b,c,d,e,g,h,k,l,m,n,p,q,u){this.query="";this.Pn=b;this.Dn=c;this.Ym=d;this.filters=e;this.elevation=g;this.sort=h;"string"===typeof a?this.query=a.trim():a instanceof yL&&(this.query="group:"+a.ka());this.from=0;this.limit=k;this.Os=0;this.Wb=!1;this.iZ=p;this.Rf=l;this.Kg=m;this.mm=n;this.ci=q;this.aspectRatio=u;this.QH=this.tY=null}
function DM(a){var b={};a.Dn.forEach(function(a,c){return b[c]=a});var c={};a.Ym.forEach(function(a,b){return c[b]=a});return new rN(a.query,a.Pn,b,c,a.filters,null!=a.elevation?a.elevation:null,a.sort,a.limit,null!=a.Rf?a.Rf:null,null!=a.Kg?a.Kg:!1,null!=a.mm?a.mm:!1,function(){},null!=a.ci?a.ci:!1,void 0!==a.aspectRatio?a.aspectRatio:null)}f=rN.prototype;f.ps=function(){return this.Pn};f.kn=function(){return this.from};f.$d=function(){return this.limit};f.cancel=function(){this.Wb=!0};f.di=function(){return this.aspectRatio};
f.Vz=function(){return this.Os};f.reset=function(){this.Os=this.from=0};function ZP(a){if(void 0!==a&&!$P(a))throw Error("StateMachine constructed with invalid options: "+JSON.stringify(a));this.Lm=a?a.cW||"none":"none";this.Hi=a?a.Hi.slice(0):[]}ZP.prototype.trigger=Backbone.Events.trigger;_.extend(ZP.prototype,Backbone.Events);ZP.prototype.$z=function(){return this.Lm};function aQ(a){return a.Hi.map(function(a){return _.extend({},a)})}
function bQ(a,b){var c=a.Hi.concat(b);if(!$P({cW:a.Lm,Hi:c}))throw Error("Invalid transitions being added: "+JSON.stringify(c));a.Hi=a.Hi.concat(b)}ZP.prototype.transition=function(a){var b=this.Lm,c=cQ(this,a);if(null!==c)this.Lm=c,this.trigger("state:enter",this,c,b);else throw Error("Invalid transition "+a+" from "+this.Lm);};
function dQ(a,b){var c=a.Lm;if(-1===a.Hi.filter(function(a){return a.from===c&&a.to===b}).map(function(a){return a.to}).indexOf(b))throw Error('Cannot transition from "'+c+'" to "'+b+'"');a.Lm=b;a.trigger("state:enter",a,b,c)}ZP.prototype.start=function(){this.transition("start")};ZP.prototype.fail=function(){this.transition("fail")};
function cQ(a,b){var c=a.Hi.filter(function(c){return c.name===b&&c.from===a.Lm});if(1<c.length)throw Error('More than 1 transition "'+b+'" exists from state "'+a.Lm+'"');return 1===c.length?c[0].to:null}function $P(a){var b=a.cW||"none",c;c=-1===eQ(a.Hi).indexOf(b)?!1:!0;var d=fQ(a.Hi);a=gQ(a.Hi);b=0===a.length||1===a.length&&a[0]===b;return c&&b&&0===d.length}function eQ(a){a=a.map(function(a){return[a.from,a.to]});return _.uniq(_.flatten(a))}
function gQ(a){return eQ(a).filter(function(b){return 0===a.filter(function(a){return a.to===b}).length})}function fQ(a){return eQ(a).filter(function(b){var c=a.filter(function(a){return a.from===b}).map(function(a){return a.name});return c.length>_.uniq(c).length})};function Jn(a,b,c,d){var e;a==c?e=b>d?1.5*Math.PI:.5*Math.PI:(e=Math.atan((d-b)/(c-a)),a<c?d<b&&(e=2*Math.PI+e):e=Math.PI+e,isNaN(e)&&(e=0));return Mm(180*e/Math.PI)}function Mm(a){a%=360;0>a&&(a+=360);return a}function Hn(a){return Math.PI/180*a}function rC(a,b){a-=b;return 0>a?360+a:a}function hQ(a,b){a=Math.floor(180*Math.atan2(a.y-b.y,a.x-b.x)/Math.PI+90);return 0>a?360+a:a}
function iQ(a){switch(a){case "TL":return 270;case "TR":return 0;case "BR":return 90;case "BL":return 180;default:throw Error("Quadrant does not exist");}}function Kn(a,b,c,d){return Math.sqrt(Math.pow(c-a,2)+Math.pow(d-b,2))};function jQ(a,b){this.listener=void 0;this.ag=a;this.Gd=b;this.tJ=this.visible=!1;this.CV=[]}f=jQ.prototype;f.sh=function(){return!!this.visible};
function kQ(a){a.ag.Gb().forEach(function(b){if(!(!b||0>b.K()||a.Gd.Ma.length<=b.K())){b=DD(a.Gd,b);if(0>=b.$el.find(".guides").length){var c=$('\x3cdiv class\x3d"guides"\x3e\x3cdiv class\x3d"vertical gutter"\x3e\x3c/div\x3e\x3cdiv class\x3d"horizontal gutter"\x3e\x3c/div\x3e\x3c/div\x3e');b.$el.prepend(c)}b.$el.find(".guides").css("display","block")}})}f.toggle=function(){this.sh()?(this.hide(),lQ(this)):this.tJ?lQ(this):this.show()};
function mQ(a){return a.CV.filter(function(a){return a&&a.te&&a.R()})}f.add=function(a){this.CV.push(a)};f.hide=function(){var a=this;this.visible=!1;this.ag.Gb().forEach(function(b){DD(a.Gd,b).$el.find(".guides").css("display","none")});mQ(this).forEach(function(a){a.rE()});this.stopListening()};f.stopListening=function(){this.listener&&(this.listener.off("mousedown",".guides",this.ID),this.listener.off("touchstart",".guides",this.ID))};
f.show=function(){this.visible=!0;kQ(this);mQ(this).forEach(function(a){a.activate()});this.listener=new fp("#canvaDocument");this.ID=this.eL.bind(this);this.listener.on("mousedown",".guides",this.ID);this.listener.on("touchstart",".guides",this.ID)};
f.eL=function(a){function b(a){var p=a.clientX-l;a=a.clientY-m;p={align:"vertical",type:"guide",width:0,height:k.o(),left:p/W,top:0};e||(p.align="horizontal",p.width=k.l(),p.left=0,p.top=a/W,p.height=0);a=k;0<=p.left&&p.left<=a.l()&&0<=p.top&&p.top<=a.o()&&(a=new mI(p),a.appendTo(k),a.kb(p.left),a.eb(p.top),a.activate(),d.add(a));g.off("mouseup|touchend",b);g.off("mousemove|touchmove",c);h.remove()}function c(a){var b=a.clientX-l;a=a.clientY-m;e?h.css("top",0).css("left",b):h.css("top",a).css("left",
0)}var d=this,e=$(a.target).hasClass("vertical"),g=new fp($(document)),h=$('\x3cdiv class\x3d"element guide"\x3e\x3c/div\x3e'),k=this.ag.Ea();a=DD(this.Gd,k);var l=a.$el.find(".page__content").get(0).getBoundingClientRect().left,m=a.$el.find(".page__content").get(0).getBoundingClientRect().top;e?h.addClass("vertical"):h.addClass("horizontal");EN(a,h);g.on("mousemove|touchmove",c);g.on("mouseup|touchend",b)};function nQ(){var a=Rb();return a.sh()?mQ(a):[]}
function lQ(a){function b(){return'\x3cdiv class\x3d"gutter"\x3e\x3c/div\x3e'}function c(){return'\x3cdiv class\x3d"column lsnap"\x3e\x3c/div\x3e\x3cdiv class\x3d"line"\x3e\x3c/div\x3e\x3cdiv class\x3d"column"\x3e\x3c/div\x3e\x3cdiv class\x3d"line"\x3e\x3c/div\x3e\x3cdiv class\x3d"column rsnap"\x3e\x3c/div\x3e'}$(".page").hasClass("showGuidelines")?(a.tJ=!1,$(".page").removeClass("showGuidelines"),$(".page .guidelines").remove()):(a.tJ=!0,$(".page").addClass("showGuidelines"),$(".page__content").prepend('\x3cdiv class\x3d"guidelines"\x3e'+
b()+c()+b()+c()+b()+c()+b()+c()+b()+c()+b()+c()+b()+"\x3c/div\x3e"),oQ())}function oQ(){if(K&&K.Gb&&K.Gb()[0]){var a=(K.Gb()[0].l()-140)/18*W-2/3+"px";$(".page .guidelines .column").css("width",a);$(".page .guidelines .gutter").css("width",20*W)}}
function pQ(a){var b=DD(vb,a);if(!b.$el.hasClass("showGuidelines"))return delete ub.dA,[];if(ub.dA)return ub.dA;ub.dA=[];b.$el.find(".guidelines .gutter").each(function(a,d){function e(){return 0}function g(){return(d.getBoundingClientRect().right-k().left)/W}function h(){return(d.getBoundingClientRect().left-k().left)/W}function k(){return b.$el.find(".page__content").get(0).getBoundingClientRect()}ub.dA.push({F:h,$b:h,Nd:g,w:e,kc:e,rh:function(){return g()-h()},nh:function(){return(k().bottom-k().top)/
W},kd:function(){return(k().bottom-k().top)/W},Ta:function(){return 0}})});return ub.dA};var gC=yn("#ffffff"),hC=yn("#272c33"),iC=yn("#7d8693");function qQ(a){var b=goog.asserts.assertArray(a.data,"expected parameter 'data' of type list\x3cstring\x3e.");soy.asserts.assertType(goog.isNumber(a.index),"index",a.index,"number");var c=a.index;soy.asserts.assertType(goog.isNumber(a.maxLength),"maxLength",a.maxLength,"number");var d=a.maxLength;soy.asserts.assertType(null==a.isEmpty||goog.isBoolean(a.isEmpty)||1===a.isEmpty||0===a.isEmpty,"isEmpty",a.isEmpty,"boolean|null|undefined");a=a.isEmpty;c='\x3ctr data-row\x3d"'+soy.$$escapeHtmlAttribute(c)+
'" class\x3d"tableView__row tableView__row--data '+(a?"tableView__row--empty":"")+'"\x3e';a=b.length;for(var e=0;e<a;e++)var g=b[e],c=c+('\x3ctd class\x3d"tableView__cell"\x3e\x3cinput maxlength\x3d"'+soy.$$escapeHtmlAttribute(d)+'" data-column\x3d"'+soy.$$escapeHtmlAttribute(e)+'" class\x3d"tableView__input tableView__input--data" type\x3d"text" value\x3d"'+soy.$$escapeHtmlAttribute(g)+'" /\x3e\x3c/td\x3e');return soydata.VERY_UNSAFE.ordainSanitizedHtml(c+"\x3c/tr\x3e")}
function rQ(a){var b='\x3ctr class\x3d"tableView__row tableView__row--header"\x3e';a=goog.asserts.assertArray(a.jg,"expected parameter 'header' of type list\x3cstring\x3e.");for(var c=a.length,d=0;d<c;d++)b+='\x3cth class\x3d"tableView__cell tableView__cell--header"\x3e'+soy.$$escapeHtml(a[d])+"\x3c/th\x3e";return soydata.VERY_UNSAFE.ordainSanitizedHtml(b+"\x3c/tr\x3e")}
function sQ(a){soy.asserts.assertType(goog.isNumber(a.count),"count",a.count,"number");var b=a.count;soy.asserts.assertType(goog.isString(a.lG)||a.lG instanceof goog.soy.data.SanitizedContent,"itemMessage",a.lG,"string|goog.soy.data.SanitizedContent");var c=a.lG;soy.asserts.assertType(goog.isString(a.II)||a.II instanceof goog.soy.data.SanitizedContent,"valueMessage",a.II,"string|goog.soy.data.SanitizedContent");a=a.II;for(var d='\x3ctr class\x3d"tableView__row tableView__row--placeholder"\x3e',e=
0;e<b;e++)d+='\x3ctd class\x3d"tableView__cell tableView__cell--placeholder"\x3e\x3cinput tabindex\x3d"-1" data-column\x3d"'+soy.$$escapeHtmlAttribute(e)+'" class\x3d"tableView__input tableView__input--placeholder" type\x3d"text" placeholder\x3d"'+(0==e?soy.$$escapeHtmlAttribute(c):soy.$$escapeHtmlAttribute(a))+'" /\x3e\x3c/td\x3e';return soydata.VERY_UNSAFE.ordainSanitizedHtml(d+"\x3c/tr\x3e")}
function tQ(a){soy.asserts.assertType(goog.isString(a.oH)||a.oH instanceof goog.soy.data.SanitizedContent,"pasteMessage",a.oH,"string|goog.soy.data.SanitizedContent");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"tableView__spacer"\x3e\x3c/div\x3e\x3ctextarea placeholder\x3d"'+soy.$$escapeHtmlAttribute(a.oH)+'" class\x3d"tableView__pasteArea" cols\x3d"30" rows\x3d"10"\x3e\x3c/textarea\x3e')};function uQ(a){Backbone.View.call(this,{className:"tableView",tagName:"div"});this.i=a}r(uQ,Backbone.View);f=uQ.prototype;f.events=function(){return{"input .tableView__input":this.Vn,"keyup .tableView__input":this.I6,"keydown .tableView__input":this.wO,"focus .tableView__input--data":this.Z5,"focus .tableView__input--placeholder":this.d7,"blur .tableView__input--data":this.aB,"paste .tableView__input":this.BX,"paste .tableView__pasteArea":this.BX}};
f.K=function(a){if(!a.length)return{Eb:-1,Ua:-1};var b=a.parents(".tableView__row").attr("data-row");a=$(a).attr("data-column");b=parseInt(void 0===b?-1:b,10);a=parseInt(void 0===a?-1:a,10);return{Eb:b,Ua:a}};function vQ(a,b){return a.$el.find('[data-row\x3d"'+b.Eb+'"] [data-column\x3d"'+b.Ua+'"]')}f.tc=function(a){return""+a.val()};f.xi=function(a){vQ(this,a).focus();return this};f.blur=function(a){vQ(this,a).blur();return this};
function wQ(a,b,c){vQ(a,b).toggleClass("tableView__input--empty",!!c)}f.Ak=function(a,b,c){var d=vQ(this,a);d.length&&d.val(b)&&!c&&this.trigger("input",a,b)};f.CQ=function(a){var b=this.$el.find(".tableView__row--header");a=rQ({jg:a}).toString();b.length?b.replaceWith(a):this.$el.find(".tableView__row").first().before(a)};f.Vn=function(a){var b=$(a.currentTarget);a=this.K(b);b=this.tc(b);this.trigger("input",a,b)};
f.I6=function(a){a.stopPropagation();xQ(a)?this.CL&&this.trigger("keyup",this.CL,function(){return a.preventDefault()}):a.preventDefault()};f.wO=function(a){a.stopPropagation();var b=$(a.currentTarget),c=this.K(b),b=this.tc(b);this.CL={index:c,value:b,keyCode:a.keyCode,shiftKey:a.shiftKey,altKey:a.altKey,selectionStart:a.currentTarget.selectionStart,selectionEnd:a.currentTarget.selectionEnd};xQ(a)?this.trigger("keydown",this.CL,function(){return a.preventDefault()}):a.preventDefault()};
function xQ(a){if(a.shiftKey)switch(a.which){case 188:case 190:return!1}return!0}f.BX=function(a){var b=!1,c=$(a.currentTarget),c=this.K(c),d=(a.originalEvent.clipboardData||window.clipboardData).getData("text"),e=-1!==d.indexOf("\x3c")||-1!==d.indexOf("\x3e"),g=-1!==d.indexOf("\t"),h=-1!==d.indexOf("\n")||-1!==d.indexOf("\r");if(g||h||e){if(-1===c.Ua||-1===c.Eb)b=!0,c.Eb=0,c.Ua=0;a.preventDefault();this.trigger("paste",c,d,b)}};
f.d7=function(a){a.preventDefault();a=parseInt($(a.target).attr("data-column"),10);this.trigger("append",a)};f.Z5=function(a){a=$(a.currentTarget);this.trigger("focus",this.K(a));a.select()};f.aB=function(a){var b=$(a.currentTarget);a=this.K(b);b=this.tc(b);this.trigger("blur",a,b)};
f.render=function(a,b,c,d){var e=this.el,g=goog.asserts.assertArray(a,"expected parameter 'data' of type list\x3clist\x3cstring\x3e\x3e.");soy.asserts.assertType(goog.isNumber(b),"maxLength",b,"number");for(var h='\x3ctable class\x3d"tableView__table"\x3e',k=g.length,l=0;l<k;l++)h+=qQ({data:g[l],index:l,maxLength:b});b=soydata.VERY_UNSAFE.ordainSanitizedHtml(h+"\x3c/table\x3e");e.innerHTML=b;c&&this.$el.find(".tableView__row").first().before(rQ({jg:c}).toString());d&&a[0]&&a[0].length&&this.$el.find(".tableView__row").last().after(sQ({count:a[0].length,
lG:ye(this.i,a.length+1),II:this.i.format("editorToolbarTableValue")}).toString());this.$el.append(tQ({oH:this.i.format("editorToolbarPasteSpreadsheet")}).toString())};f.insertRow=function(a,b,c,d){this.$el.find('.tableView__row--data[data-row\x3d"'+a+'"]').after(qQ({data:d,index:a+1,maxLength:c,isEmpty:b}).toString());yQ(this)};function zQ(a,b){a.$el.find('.tableView__row--data[data-row\x3d"'+b+'"]').remove();yQ(a)}
function yQ(a){var b=0;a.$el.find(".tableView__row--data").each(function(a,d){$(d).attr("data-row",a);a>b&&(b=a)});a.$('.tableView__input--placeholder[data-column\x3d"0"]').attr("placeholder",ye(a.i,b+2))}function AQ(a,b){a.$el.find(".tableView__input--placeholder").toggle(b)};function BQ(a,b,c,d,e,g){var h=this;this.view=a;this.i=b;this.gk=c;this.lj=d;this.maxLength=e||16;this.Pd=g||0;this.data=[];this.headers=[];this.Gu={Ua:0,Eb:0};this.view.on("focus",function(a){h.Gu=a});this.view.on("input",function(a,b){return h.Ak(a,b)});this.view.on("keyup",function(a,b){return CQ(h,a,b)});this.view.on("keydown",function(a,b){return h.Ll(a,b)});this.view.on("blur",function(a,b){h.validate(a,b);h.trigger("commit",h.getData())});this.view.on("paste",function(a,b,c){return DQ(h,a,
b,c)});this.view.on("append",function(a){return EQ(h,a)})}function FQ(a,b,c){var d=new uQ(c);c=new BQ(d,c,b.gk,b.lj,b.maxLength,b.Pd);c.setData(a);d.render(a,c.maxLength,b.$J,!0);return{Db:c,view:d}}f=BQ.prototype;f.setData=function(a){this.data=a};f.CQ=function(a){this.headers=a;this.view.CQ(this.headers)};
f.Ak=function(a,b){-1!==a.Eb&&-1!==a.Ua&&(b=this.sanitize(b),this.data[a.Eb]||(this.data[a.Eb]=GQ(this,a.Eb+1)),this.data[a.Eb][a.Ua]=b,this.validate(a,b),a=a.Ua!==this.Pd,this.trigger("change",this.getData(),a))};f.sanitize=function(a){return a.replace(/[<>]/g,"").substr(0,this.maxLength)};
f.validate=function(a,b){if(-1===a.Eb||-1===a.Ua)return!1;var c=a.Ua!==this.Pd,d=pH(b),d=!isNaN(d)||""===b;c&&vQ(this.view,a).toggleClass("tableView__input--numerical",!!d).toggleClass("tableView__input--nonNumerical",!d);wQ(this.view,a,!b.length);b=this.data[a.Eb].reduce(function(a,b){return!a.length&&!b.length});this.view.$('.tableView__row[data-row\x3d"'+a.Eb+'"]').toggleClass("tableView__row--empty",!!b);return d};
function CQ(a,b,c){var d=b.index,e=b.value;switch(b.keyCode){case 13:c&&c();b.shiftKey?a.insertRow(d.Eb):b.altKey?HQ(a,d):IQ(a,d);break;case 38:c&&c();HQ(a,d);break;case 40:c&&c();IQ(a,d);break;case 37:0==b.selectionStart&&0==b.selectionEnd&&(c&&c(),JQ(a,d));break;case 39:b.selectionStart==e.length&&b.selectionEnd==e.length&&(c&&c(),KQ(a,d));break;case 8:0===e.length&&(b=0===a.data[d.Eb].reduce(function(a,b){return a.length+b.length}),0===d.Ua&&b?(c&&c(),a.deleteRow(d.Eb),LQ(a,d)):(c&&c(),JQ(a,d)))}}
f.Ll=function(a,b){var c=a.index;switch(a.keyCode){case 9:b&&b();a.shiftKey?LQ(this,c):(a=c.Ua===this.lj-1,c.Eb===this.data.length-1&&a&&EQ(this),c.Eb<=this.data.length-1&&(a&&(c.Eb=Math.min(c.Eb+1,this.gk)),c.Ua=(c.Ua+1)%this.lj,this.xi(c)));break;case 27:b&&b(),this.view.blur(this.Gu)}};
function DQ(a,b,c,d){d&&MQ(a);d=-1!==c.indexOf("\n")?"\n":"\r";var e=[];c.split(d).forEach(function(a){return e.push(a.split("\t"))});c=function(a,b){return _.findIndex(a,function(a){a=a.slice(b+1);return _.any(a,function(a){return!isNaN(parseFloat(a))})})}(e,a.Pd);0<c&&a.CQ(e[c-1]);var g;for(c=Math.max(0,c);c<e.length&&c!==a.gk;c++,b.Eb++)for(b.Eb>=a.data.length&&a.insertRow(b.Eb-1,GQ(a,b.Eb+1),!0),d=0;d<Math.min(e[c].length,a.lj-b.Ua)&&d!==a.lj;d++){g=d+b.Ua;var h=a.sanitize(e[c][d]);g={Eb:b.Eb,
Ua:g};a.Ak(g,h,!0);a.view.Ak(g,h,!0);a.validate(g,h)}g&&(a.xi(g),a.trigger("change",a.getData(),!0))}f.xi=function(a,b){this.trigger("focus",a);!b&&this.view.xi(a)};function IQ(a,b){b.Eb+1<a.gk&&(b.Eb===a.data.length-1?EQ(a):(b.Eb++,a.xi(b)))}function HQ(a,b){0<=--b.Eb&&a.xi(b)}function KQ(a,b){b.Ua+1<a.lj&&(b.Ua++,a.xi(b))}function JQ(a,b){0<=--b.Ua&&a.xi(b)}function LQ(a,b){var c=0!==b.Eb;0!==b.Ua?(b.Ua--,a.xi(b)):c&&(b.Eb=Math.max(0,b.Eb-1),b.Ua=a.lj-1,a.xi(b))}f.getData=function(){return JSON.parse(JSON.stringify(this.data))};
function GQ(a,b){for(var c=[],d=0;d<a.lj;d++)d===a.Pd?c.push(ye(a.i,b)):c.push(a.i.format("editorToolbarTableValue"));return c}
f.insertRow=function(a,b,c){var d=a+1;b=b||GQ(this,d+1);var e=!0,g=0;this.data.forEach(function(a){a.reduce(function(a,b){return""===a&&""===b})&&g++});b.forEach(function(a){return e=e&&0==a.length});this.data.length<this.gk&&0===g?(this.data.splice(d,0,b),this.view.insertRow(a,e,this.maxLength,b)):this.data.length===this.gk&&AQ(this.view,!1);this.xi({Eb:d,Ua:this.Gu.Ua},c);a=this.Gu.Ua!==this.Pd;!c&&this.trigger("change",this.getData(),a)};
function EQ(a,b){a.insertRow(a.data.length-1);void 0!==b&&a.xi({Ua:b,Eb:a.data.length-1})}f.deleteRow=function(a){if(1===this.data.length)return{Ua:0,Eb:a};zQ(this.view,a);this.data.splice(a,1);this.data.length<this.gk&&AQ(this.view,!0);a=this.Gu.Ua!==this.Pd;this.trigger("change",this.getData(),a)};
function MQ(a){a.data.length||(a.data=[GQ(a,1)]);for(var b=a.data.length-1;0<=b;b--)if(0===b)for(var c=0;c<a.lj;c++)a.Ak({Ua:c,Eb:b},"",!0),a.view.Ak({Ua:c,Eb:b},"",!0);else a.data.splice(b,1),zQ(a.view,b);b={Ua:0,Eb:0};a.Gu=b;a.xi(b,!0);a.data.length<a.gk&&AQ(a.view,!0)}f.off=Backbone.Events.off;f.on=Backbone.Events.on;f.trigger=Backbone.Events.trigger;f.listenTo=Backbone.Events.listenTo;f.stopListening=Backbone.Events.stopListening;function NQ(a){var b=this;Backbone.View.call(this,{el:a.el,events:{"mouseover li":function(a){return $(a.currentTarget).addClass("hovering")},"mouseout li":function(a){return $(a.currentTarget).removeClass("hovering")},"hover li.selectable":function(a){b.fN||b.trigger("hover",$(a.currentTarget).index()-$(a.currentTarget).prevAll("li").not(".selectable").length)},"mouseup li.selectable":function(a){b.trigger("trigger",$(a.currentTarget).index()-$(a.currentTarget).prevAll("li").not(".selectable").length,
a)},"click li:not(.selectable)":function(){b.trigger("clickNonSelectable")}}});this.fN=!1;this.dR=_.debounce(this.dR,500);this.Ll=this.Ll.bind(this);$(document).on("keydown",this.Ll)}r(NQ,Backbone.View);function OQ(a){var b=$(PQ({className:a.className?" "+a.className:""}));a=a.elements.map(function(a){return $("\x3cli\x3e").toggleClass("selectable",a.jZ).toggleClass("toolbar__menuHeader",a.q4).append(a.element)});var c;(c=b.find("ul")).append.apply(c,[].concat(ma(a)));return new NQ({el:b[0]})}f=NQ.prototype;
f.select=function(a){this.$("li.active").removeClass("active");this.$("li.selectable").eq(a).addClass("active")};f.YB=function(a){var b=this.$("li.active").position().top,c=this.$(".menuList__inner"),d=this.$el.outerHeight(),b=c.scrollTop()+b-d/2;a?c.scrollTop(b):c.stop().animate({scrollTop:b},100)};f.remove=function(){$(document).off("keydown",this.Ll);Backbone.View.prototype.remove.call(this)};f.dR=function(){this.fN=!1};
f.Ll=function(a){if("visible"===this.$el.css("visibility")){this.fN=!0;this.dR();if(38===a.which)this.trigger("keyUp",a);else if(40===a.which)this.trigger("keyDown",a);else if(9===a.which&&a.shiftKey)this.trigger("keyShiftTab",a);else if(9===a.which)this.trigger("keyTab",a);else if(13===a.which)this.trigger("keyEnter",a);else if(27===a.which)this.trigger("keyEsc",a);else return;a.preventDefault();return!1}};function QQ(a,b,c){this.element=a instanceof jQuery?a:$(a);this.jZ=b;this.q4=c}var PQ=_.template('\n  \x3cdiv class\x3d"menuList\x3c%- className %\x3e"\x3e\n    \x3cul class\x3d"menuList__inner"\x3e\x3c/ul\x3e\n  \x3c/div\x3e\n');function RQ(a){var b=this;this.index=a.index;this.wo=a.wo;this.view=a.view;this.listenTo(this.view,{keyUp:function(){return SQ(b,!1)},keyDown:function(){return TQ(b,!1)},keyTab:function(){return TQ(b,!0)},keyShiftTab:function(){return SQ(b,!0)},keyEnter:function(a){null!==b.index&&b.trigger("select",b.index,b.wo[b.index||0],a)},keyEsc:function(){return b.trigger("cancel")},hover:function(a){b.index=a;b.view.select(a)},trigger:function(a,d){b.trigger("select",a,b.wo[a],d)},clickNonSelectable:function(){return b.trigger("cancel")}})}
function UQ(a){var b=OQ({elements:a.elements,className:a.className});"undefined"!==typeof a.Iu&&b.select(a.Iu);return new RQ({index:"undefined"===typeof a.Iu?null:a.Iu,wo:a.elements.filter(function(a){return a.jZ}),view:b})}function SQ(a,b){a.index||(a.index=0);a.index--;0>a.index&&(a.index=b?a.wo.length-1:0);a.view.select(a.index);a.view.YB();a.trigger("activeChange",a.wo[a.index])}f=RQ.prototype;f.YB=function(a){this.view.YB(a)};
function TQ(a,b){a.index||(a.index=0);a.index++;a.index>=a.wo.length&&(a.index=b?0:a.wo.length-1);a.view.select(a.index);a.view.YB();a.trigger("activeChange",a.wo[a.index])}f.remove=function(){this.stopListening();this.view.remove()};f.listenTo=Backbone.Events.listenTo;f.stopListening=Backbone.Events.stopListening;f.trigger=Backbone.Events.trigger;f.off=Backbone.Events.off;f.on=Backbone.Events.on;function VQ(){Backbone.View.call(this,{className:"sideDrawer",tagName:"section"});this.visible=!1;this.$n=[];this.$el.hide().append('\x3cdiv class\x3d"sideDrawer__frame"\x3e\x3c/div\x3e')}r(VQ,Backbone.View);VQ.prototype.events=function(){return{click:this.preventDefault}};VQ.prototype.preventDefault=function(a){a.stopPropagation();a.preventDefault()};VQ.prototype.cu=function(a){this.$n.push(a);this.$el.find(".sideDrawer__frame").append(a.$el);return this};
function bD(a,b){b&&!a.visible?(a.visible=!0,a.$el.show(),a.$el.addClass("sideDrawer--showing"),a.$el.removeClass("sideDrawer--hiding")):!b&&a.visible&&WQ(a)}function WQ(a){a.visible=!1;a.$el.addClass("sideDrawer--hiding");a.$el.removeClass("sideDrawer--showing");P.delay(200*1.1).then(function(){return a.$el.hide()})}VQ.prototype.remove=function(){this.trigger("remove");this.$n.forEach(function(a){a.stopListening();a.remove()});Backbone.View.prototype.remove.call(this)};function XQ(){}function YQ(){this.type="separator"}r(YQ,XQ);function ZQ(a,b){YQ.call(this);this.id=a;this.label=b}r(ZQ,YQ);
function $Q(a,b,c){c=void 0===c?{}:c;this.id=a;this.label="number"==typeof b?b.toFixed(1).toString().replace(".0",""):b;this.Lt=(c.Lt||b).toString();this.zf=!!c.zf;this.Cn=c.Cn;this.enabled=void 0===c.enabled?!0:c.enabled;this.hidden=!!c.hidden;this.icon=!!c.icon;this.Tf=c.Tf;this.xj=!!c.xj;this.Xe=c.Xe||"no";"string"==typeof c.Qe?(a=c.Qe,b=-1<navigator.platform.indexOf("Mac")?"":"Ctrl ",a=a.replace("^",b)):a=void 0;this.Qe=a}r($Q,XQ);
function aR(a,b,c){this.id=a;this.label=b;this.placeholder=c;this.type="input"}r(aR,XQ);function bR(a,b,c){c=void 0===c?{}:c;this.id=a;this.label=b;this.type="slider";this.min=c.min||0;this.max=c.max||100;this.step=c.step||1}r(bR,XQ);function cR(a,b,c){this.color=a;this.label=b;this.index=c||0;this.type="color";this.target="any"}r(cR,XQ);function dR(a,b,c){cR.call(this,a,b,c);this.target="fill"}r(dR,cR);function eR(a,b,c){cR.call(this,a,b,c);this.target="text"}r(eR,cR);function fR(a,b){var c=!1,d=new YQ,e=[];a instanceof CC?(e.push(new dR("",ve(b))),c=!0):a.bb&&a.bb().length&&(e=e.concat(a.bb().map(function(a,c){if(a instanceof fn)return new dR(a.ra(),ve(b),c);if("string"===typeof a)return new dR(a,ve(b),c);if(null===a)return new dR("",ve(b),c)})),c=!0);if(a instanceof ap||a.ig&&a.ig()&&(a.MV()||a.Zp()))c&&e.push(d),e.push(new $Q("filter",b.format("editorToolbarImageFilter"),{enabled:a.lq(),hidden:a instanceof ap&&!a.ig()}));if(a.Jm||a instanceof ap)c&&-1===e.indexOf(d)&&
e.push(d),e.push(new $Q("crop",b.format("editorToolbarImageCrop"),{enabled:!(a.gq&&a.gq()),hidden:a instanceof ap&&!a.Jm}));if(a.hq()){c&&-1===e.indexOf(d)&&e.push(d);var g=[];g.push(new $Q("flipHorizontal",b.format("editorToolbarElementFlipHorizontally"),{icon:!0}));g.push(new $Q("flipVertical",b.format("editorToolbarElementFlipVertically"),{icon:!0}));e.push(new $Q("flip",b.format("editorToolbarElementFlip"),{Tf:g,xj:!0}))}c&&a.jA()&&(-1===e.indexOf(d)&&e.push(d),e.push(new $Q("gridSpacing",b.format("editorToolbarGridSpacing"),
{Tf:[new bR("gridSpacing",b.format("editorToolbarGridSpacing"))]})));return e}
function gR(a,b){var c=[],d={HorizontalAlignLeft:new $Q("HorizontalAlignLeft",me(b),{icon:!0,zf:!0}),HorizontalAlignCenter:new $Q("HorizontalAlignCenter",oe(b),{icon:!0,zf:!0}),HorizontalAlignRight:new $Q("HorizontalAlignRight",ne(b),{icon:!0,zf:!0}),VerticalAlignTop:new $Q("VerticalAlignTop",pe(b),{icon:!0,zf:!0}),VerticalAlignCenter:new $Q("VerticalAlignCenter",re(b),{icon:!0,zf:!0}),VerticalAlignBottom:new $Q("VerticalAlignBottom",qe(b),{icon:!0,zf:!0})},e={HorizontalDistribute:new $Q("HorizontalDistribute",
se(b),{icon:!0,zf:!0}),VerticalDistribute:new $Q("VerticalDistribute",te(b),{icon:!0,zf:!0})};c.push(new ZQ("AlignTo",b.format("editorToolbarElementAlignTo")));a.forEach(function(a){d[a.id]&&c.push(d[a.id])});c.push(new ZQ("SpaceEvenly",b.format("editorToolbarElementSpaceEvenly")));a.forEach(function(a){e[a.id]&&c.push(e[a.id])});return c}
function hR(a,b,c){var d=[],e={group:new $Q("group",c.format("editorToolbarElementGroup"),{enabled:!1}),ungroup:new $Q("ungroup",c.format("editorToolbarElementUngroup"),{enabled:!0}),copy:new $Q("copy",c.format("editorToolbarElementCopy")),arrange:new $Q("arrange",c.format("editorToolbarElementArrange"),{xj:!0,Tf:[new $Q("forward",c.format("editorToolbarElementForward"),{icon:!0,Qe:"^]",zf:!0}),new $Q("back",c.format("editorToolbarElementBack"),{icon:!0,Qe:"^[",zf:!0})]}),transparency:new $Q("transparency",
le(c),{icon:!0,Tf:[new bR("transparency",le(c))]}),link:new $Q("link",c.format("editorToolbarElementLink"),{icon:!0,Tf:[new aR("link",c.format("editorToolbarElementLinkApply"),c.format("editorToolbarElementLinkPlaceholder"))]}),"delete":new $Q("delete",ke(c),{icon:!0}),deletePlaceholderMenu:new $Q("deleteMenu",ke(c),{icon:!0,xj:!0,Tf:[new $Q("imageDelete",c.format("editorToolbarDeleteMenuDeleteImage"),{icon:!1}),new $Q("delete",we(c),{icon:!1})]}),deleteElementMenu:new $Q("deleteMenu",ke(c),{icon:!0,
xj:!0,Tf:[new $Q("elementDelete",we(c),{icon:!1}),new $Q("delete",c.format("editorToolbarDeleteMenuDeleteGroup"),{icon:!1})]})};0!==b.length&&gR(b,c).forEach(function(a){e.arrange.Tf.push(a)});d.push(new YQ);var g=["deletePlaceholder","deleteElement"];a.forEach(function(b){-1<g.indexOf(b)||("delete"===b?(d.push(new $Q("more",c.format("editorToolbarElementMore"),{Tf:[],xj:!0,enabled:!1})),-1!==a.indexOf("deletePlaceholder")?d.push(e.deletePlaceholderMenu):-1!==a.indexOf("deleteElement")?d.push(e.deleteElementMenu):
d.push(e["delete"])):d.push(e[b]))});return d};function iR(a,b){a=goog.asserts.assertArray(a.items,"expected parameter 'items' of type list\x3c[color: string, disableTooltip: bool, editable: string, enabled: bool, icon: bool, id: string, index: float|int, label: string, placeholder: string, shortcut: string, submenu: list\x3c[color: string, disableTooltip: bool, editable: string, enabled: bool, icon: bool, id: string, label: string, placeholder: string, shortcut: string, target: string, tooltip: string, type: string, vertical: bool]\x3e, target: string, tooltip: string, type: string, vertical: bool]\x3e.");
var c='\x3cul class\x3d"toolbar__list"\x3e';if(a)for(var d=a.length,e=0;e<d;e++){var g=a[e];if("color"==g.type)g=jR({color:g.color,label:g.label,index:g.index,target:g.target},b);else if("slider"==g.type){var h=g;soy.asserts.assertType(goog.isString(h.id)||h.id instanceof goog.soy.data.SanitizedContent,"id",h.id,"string|goog.soy.data.SanitizedContent");g=h.id;soy.asserts.assertType(goog.isString(h.label)||h.label instanceof goog.soy.data.SanitizedContent,"label",h.label,"string|goog.soy.data.SanitizedContent");
var k=h.label;soy.asserts.assertType(goog.isNumber(h.min),"min",h.min,"number");var l=h.min;soy.asserts.assertType(goog.isNumber(h.max),"max",h.max,"number");var m=h.max;soy.asserts.assertType(goog.isNumber(h.step),"step",h.step,"number");h=h.step;g=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cli class\x3d"toolbar__item toolbar__item--slider"\x3e\x3clabel class\x3d"toolbar__label toolbar__label--'+soy.$$escapeHtmlAttribute(g)+'"\x3e'+soy.$$escapeHtml(k)+'\x3c/label\x3e\x3cdiv class\x3d"toolbar__sliderWrapper"\x3e\x3cdiv class\x3d"toolbar__sliderBackground"\x3e\x3c/div\x3e\x3cinput class\x3d"toolbar__slider toolbar__slider--'+
soy.$$escapeHtmlAttribute(g)+'" type\x3d"range" min\x3d"'+soy.$$escapeHtmlAttribute(l)+'" max\x3d"'+soy.$$escapeHtmlAttribute(m)+'" step\x3d"'+soy.$$escapeHtmlAttribute(h)+'" /\x3e\x3c/div\x3e\x3cinput class\x3d"toolbar__sliderValue toolbar__sliderValue--'+soy.$$escapeHtmlAttribute(g)+'" type\x3d"number" min\x3d"'+soy.$$escapeHtmlAttribute(l)+'" max\x3d"'+soy.$$escapeHtmlAttribute(m)+'" step\x3d"'+soy.$$escapeHtmlAttribute(h)+'" disabled\x3d"disabled" /\x3e\x3c/li\x3e')}else if("input"==g.type)l=
g,soy.asserts.assertType(goog.isString(l.id)||l.id instanceof goog.soy.data.SanitizedContent,"id",l.id,"string|goog.soy.data.SanitizedContent"),g=l.id,soy.asserts.assertType(goog.isString(l.label)||l.label instanceof goog.soy.data.SanitizedContent,"label",l.label,"string|goog.soy.data.SanitizedContent"),k=l.label,soy.asserts.assertType(goog.isString(l.placeholder)||l.placeholder instanceof goog.soy.data.SanitizedContent,"placeholder",l.placeholder,"string|goog.soy.data.SanitizedContent"),l=l.placeholder,
g=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cli class\x3d"toolbar__item toolbar__item--input"\x3e\x3cinput class\x3d"toolbar__input toolbar__input--'+soy.$$escapeHtmlAttribute(g)+'" type\x3d"text" placeholder\x3d"'+soy.$$escapeHtmlAttribute(l)+'" /\x3e\x3cbutton class\x3d"button buttonSmall toolbar__submit toolbar__submit--'+soy.$$escapeHtmlAttribute(g)+'"\x3e'+soy.$$escapeHtml(k)+'\x3c/button\x3e\x3cdiv class\x3d"toolbar__inputLabel toolbar__inputLabel--'+soy.$$escapeHtmlAttribute(g)+'"\x3e\x3c/div\x3e\x3c/li\x3e');
else if("separator"==g.type)g='\x3cli class\x3d"toolbar__item toolbar__separator toolbar__subheading"\x3e'+(g.label?'\x3cspan class\x3d"toolbar__label"\x3e'+soy.$$escapeHtml(g.label)+"\x3c/span\x3e":"")+"\x3c/li\x3e";else{var n=g,g=b;soy.asserts.assertType(goog.isString(n.id)||n.id instanceof goog.soy.data.SanitizedContent,"id",n.id,"string|goog.soy.data.SanitizedContent");k=n.id;soy.asserts.assertType(goog.isString(n.label)||n.label instanceof goog.soy.data.SanitizedContent,"label",n.label,"string|goog.soy.data.SanitizedContent");
l=n.label;soy.asserts.assertType(goog.isString(n.Lt)||n.Lt instanceof goog.soy.data.SanitizedContent,"tooltip",n.Lt,"string|goog.soy.data.SanitizedContent");m=n.Lt;soy.asserts.assertType(null==n.zf||goog.isBoolean(n.zf)||1===n.zf||0===n.zf,"disableTooltip",n.zf,"boolean|null|undefined");h=n.zf;soy.asserts.assertType(null==n.icon||goog.isBoolean(n.icon)||1===n.icon||0===n.icon,"icon",n.icon,"boolean|null|undefined");var p=n.icon;soy.asserts.assertType(null==n.enabled||goog.isBoolean(n.enabled)||1===
n.enabled||0===n.enabled,"enabled",n.enabled,"boolean|null|undefined");var q=n.enabled;soy.asserts.assertType(null==n.hidden||goog.isBoolean(n.hidden)||1===n.hidden||0===n.hidden,"hidden",n.hidden,"boolean|null|undefined");var u=n.hidden;soy.asserts.assertType(null==n.xj||goog.isBoolean(n.xj)||1===n.xj||0===n.xj,"vertical",n.xj,"boolean|null|undefined");var v=n.xj;soy.asserts.assertType(null==n.Xe||n.Xe instanceof goog.soy.data.SanitizedContent||goog.isString(n.Xe),"editable",n.Xe,"null|string|undefined");
var z=n.Xe;soy.asserts.assertType(null==n.Qe||n.Qe instanceof goog.soy.data.SanitizedContent||goog.isString(n.Qe),"shortcut",n.Qe,"null|string|undefined");var t=n.Qe;soy.asserts.assertType(null==n.Tf||goog.isArray(n.Tf),"submenu",n.Tf,"?Array\x3c{color: string, disableTooltip: boolean, editable: string, enabled: boolean, hidden: boolean, icon: boolean, id: string, index: number, label: string, placeholder: string, shortcut: string, submenu: !Array\x3c{color: string, disableTooltip: boolean, editable: string, enabled: boolean, hidden: boolean, icon: boolean, id: string, label: string, placeholder: string, shortcut: string, target: string, tooltip: string, type: string, vertical: boolean}\x3e, target: string, tooltip: string, type: string, vertical: boolean}\x3e|undefined");
n=n.Tf;g=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cli class\x3d"toolbar__item toolbar__item--'+soy.$$escapeHtmlAttribute(k)+" "+(q?"enabled":"disabled")+" "+(u?"hidden":"")+" "+(n?"toolbar__item--submenu":"")+'"\x3e\x3cbutton data-item\x3d"'+soy.$$escapeHtmlAttribute(k)+'" class\x3d"toolbar__button toolbar__button--'+soy.$$escapeHtmlAttribute(k)+" "+(p?"toolbar__button--icon":"")+'"\x3e'+("number"==z?'\x3cinput class\x3d"toolbar__inputButton toolbar__inputButton--'+soy.$$escapeHtmlAttribute(k)+
'" type\x3d"text" value\x3d"'+soy.$$escapeHtmlAttribute(l)+'" /\x3e':'\x3cspan class\x3d"toolbar__label toolbar__label--'+soy.$$escapeHtmlAttribute(k)+'"\x3e'+soy.$$escapeHtml(l)+'\x3c/span\x3e\x3cspan class\x3d"toolbar__spinner"\x3e\x3c/span\x3e'+(t&&h?'\x3cspan class\x3d"toolbar__shortcut toolbar__shortcut--'+soy.$$escapeHtmlAttribute(k)+'"\x3e'+soy.$$escapeHtml(t)+"\x3c/span\x3e":""))+"\x3c/button\x3e"+(h?"":'\x3cdiv class\x3d"toolbar__tooltip toolbar__tooltip--'+soy.$$escapeHtmlAttribute(k)+'"\x3e'+
soy.$$escapeHtml(m)+(t?'\x3cspan class\x3d"toolbar__shortcut toolbar__shortcut--'+soy.$$escapeHtmlAttribute(k)+'"\x3e'+soy.$$escapeHtml(t)+"\x3c/span\x3e":"")+"\x3c/div\x3e")+(n?'\x3cmenu class\x3d"toolbar toolbar--'+soy.$$escapeHtmlAttribute(k)+" "+(v?"toolbar--vertical":"")+'"\x3e'+iR({items:n},g)+"\x3c/menu\x3e":"")+"\x3c/li\x3e")}c+=g}return soydata.VERY_UNSAFE.ordainSanitizedHtml(c+"\x3c/ul\x3e")}
function jR(a,b){b=b||{};soy.asserts.assertType(goog.isString(a.color)||a.color instanceof goog.soy.data.SanitizedContent,"color",a.color,"string|goog.soy.data.SanitizedContent");var c=a.color;soy.asserts.assertType(goog.isNumber(a.index),"index",a.index,"number");var d=a.index;soy.asserts.assertType(goog.isString(a.label)||a.label instanceof goog.soy.data.SanitizedContent,"label",a.label,"string|goog.soy.data.SanitizedContent");var e=a.label;soy.asserts.assertType(goog.isString(a.target)||a.target instanceof
goog.soy.data.SanitizedContent,"target",a.target,"string|goog.soy.data.SanitizedContent");a=a.target;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cli class\x3d"toolbar__item toolbar__item--color toolbar__item--color--'+soy.$$escapeHtmlAttribute(a)+'"\x3e\x3cbutton data-colorindex\x3d"'+soy.$$escapeHtmlAttribute(d)+'" class\x3d"toolbar__button toolbar__button--color toolbar__button--icon toolbar__target--'+soy.$$escapeHtmlAttribute(a)+" "+(""==c?"noColor":"")+'" '+(""!=c?'style\x3d"'+(b.Yb?"/*"+
b.Yb+"*/":"")+"background-color: "+soy.$$escapeHtmlAttribute(soy.$$filterCssValue(c))+'"':"")+'\x3e\x3c/button\x3e\x3cdiv class\x3d"toolbar__tooltip"\x3e'+soy.$$escapeHtml(e)+"\x3c/div\x3e\x3c/li\x3e")}
function kR(a){soy.asserts.assertType(goog.isString(a.url)||a.url instanceof goog.soy.data.SanitizedContent,"url",a.url,"string|goog.soy.data.SanitizedContent");var b=a.url;soy.asserts.assertType(goog.isNumber(a.width),"width",a.width,"number");var c=a.width;soy.asserts.assertType(goog.isNumber(a.height),"height",a.height,"number");a=a.height;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg width\x3d"'+soy.$$escapeHtmlAttribute(c)+'" height\x3d"'+soy.$$escapeHtmlAttribute(a)+'" viewBox\x3d"0 0 '+
soy.$$escapeHtmlAttribute(c)+" "+soy.$$escapeHtmlAttribute(a)+'"\x3e\x3cdefs\x3e\x3cfilter id\x3d"invert"\x3e\x3cfeColorMatrix in\x3d"SourceGraphic" type\x3d"matrix" values\x3d"-1 0 0 0 1 0 -1 0 0 1 0 0 -1 0 1 0 0 0 1 0"/\x3e\x3c/filter\x3e\x3c/defs\x3e\x3cimage x\x3d"0" y\x3d"0" width\x3d"'+soy.$$escapeHtmlAttribute(c)+'" height\x3d"'+soy.$$escapeHtmlAttribute(a)+'" xlink:href\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeMediaUri(b))+'" filter\x3d"url(#invert)"/\x3e\x3c/svg\x3e')};function lR(a){var b="toolbar ",b=a.name?b+" toolbar--"+a.name:b,b=a.UD?b+" "+a.UD:b,b=a.Pi?b+" toolbar--"+a.Pi:b;Backbone.View.call(this,{className:b,tagName:"menu"});this.H=a.H;this.name=a.name;this.Pi=a.Pi;this.element=a.element;this.aH=a.aH;this.ME=!1}r(lR,Backbone.View);f=lR.prototype;
f.events=function(){return{"mousedown \x3e .toolbar__list \x3e .toolbar__item--submenu.enabled \x3e .toolbar__button":this.l_,"mouseup .toolbar__item--submenu:not(.toolbar__item--more).enabled .toolbar .toolbar__item \x3e .toolbar__button":this.P$,"click \x3e .toolbar__list \x3e .toolbar__item--submenu.enabled \x3e .toolbar__button":this.O$,"click .toolbar__item--more.enabled .toolbar .toolbar__button":this.l_}};f.l_=function(a){a=$(a.target);this.ME=!0;mR(this,a.closest(".toolbar__item"),a)};
f.P$=function(a){a=$(a.target).closest(".toolbar__item");var b=a.find(".toolbar__button \x3e .toolbar__inputButton");!b.length&&this.ME&&a.parents(".toolbar__item--submenuExpanded").length?(nR(this),this.ME=!1):b.length&&b.addClass("toolbar__inputButton--active").focus().select()};f.O$=function(){this.ME=!1};
function mR(a,b,c){if(b.hasClass("toolbar__item--submenu")||b.hasClass("toolbar__item--color")){a.trigger("openSubmenu",b,c);var d=b.hasClass("toolbar__item--more"),e=b.parents(".toolbar__item--more").length,g=a.$el.find(".toolbar--more");if(e)g.after(b.find(".toolbar").clone()),g.addClass("hidden");else{c=c.hasClass("toolbar__inputButton--fontSize")&&b.hasClass("toolbar__item--submenuExpanded");d&&g.hasClass("hidden")||c||!a.aH||a.aH();b.hasClass("toolbar__item--submenuExpanded")||b.addClass("toolbar__item--submenuExpanded");
var h=b.find(".toolbar__button \x3e .toolbar__inputButton");a=b.find(".toolbar:first \x3e .toolbar__list \x3e .toolbar__item--input");d=b.find(".menuList").length;h.length?il(function(){h.addClass("toolbar__inputButton--active").focus().select()}):d?b.find(".menuList__inner .active").focus():a.length&&a.focus();g.removeClass("hidden");g.next(".toolbar").remove()}}}
function nR(a,b){b=void 0===b?0:b;var c=a.$el.find(".toolbar__item--submenuExpanded");if(c){var d=c.parents(".toolbar").data("element");a.trigger("closeSubmenu",d)}a.$el.find(".toolbar__inputButton--active").removeClass("toolbar__inputButton--active");return P.delay(b).then(function(){return c.addClass("toolbar__item--submenuCollapsing")}).delay(200).then(function(){return c.removeClass("toolbar__item--submenuExpanded toolbar__item--submenuCollapsing")})}f.C=function(){return this.element};
f.getName=function(){return this.name};f.Su=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];var d=this;b.forEach(function(a){return d.$el.find(".toolbar__item--"+a).removeClass("disabled").addClass("enabled")})};f.JK=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];var d=this;b.forEach(function(a){return d.$el.find(".toolbar__item--"+a).removeClass("enabled").addClass("disabled")})};
f.YF=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];var d=this;b.forEach(function(a){return d.$el.find(".toolbar__item--"+a).addClass("hidden")})};f.DZ=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];var d=this;b.forEach(function(a){return d.$el.find(".toolbar__item--"+a).removeClass("hidden")})};f.Uf=function(a,b){b?this.Su(a):this.JK(a)};
function oR(a,b){a.$el.find(".toolbar__item--fontFamily .toolbar__spinner").toggleClass("toolbar__spinner--visible",b)}function pR(a,b,c,d){c="number"==typeof c?c.toFixed(1).toString().replace(".0",""):c;a.$el.find(".toolbar__label--"+b).text(c);a.$el.find(".toolbar__inputButton--"+b).val(c);d&&a.$el.find(".toolbar__label--"+b).css("font-family",d)}function qR(a,b,c){a.$el.find(".toolbar__item--"+b).toggleClass("toolbar__item--active",c)}
f.NS=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];var d=this;b.forEach(function(a){var b=d.$el.find(".toolbar__item--"+a);b.addClass("toolbar__item--active");b.closest(".toolbar").closest(".toolbar__item--submenu:not(.toolbar__item--more)").children(".toolbar__button:first").addClass("toolbar__activeItem--"+a)});return this};
f.iU=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];var d=this;b.forEach(function(a){var b=d.$el.find(".toolbar__item--"+a);b.removeClass("toolbar__item--active");b.closest(".toolbar").closest(".toolbar__item--submenu:not(.toolbar__item--more)").children(".toolbar__button:first").removeClass("toolbar__activeItem--"+a)});return this};f.sD=function(a,b){this.$el.find(".toolbar__item--"+a).append(b.$el).addClass("toolbar__item--submenu")};
f.Ay=function(a){"right"===this.Pi?this.$el.appendTo(a):this.$el.prependTo(a)};f.setFillColor=function(a,b,c){this.setColor(a,b,c,"fill")};function rR(a,b,c,d){a.setColor(b,c,d,"text")}
f.setColor=function(a,b,c,d){function e(a){var b="",c=100/a.length;a.forEach(function(d,e){var g=e*c+"%",q=(e+1)*c+"%";0==e?b+=d+" "+q+",":e==a.length-1?b+=d+" "+g:(b+=d+" "+g+",",b+=d+" "+q+",")});return{oaa:"-webkit-linear-gradient(left, "+b+")",t$:"linear-gradient(to right, "+b+")"}}c=c||0;var g=this.$el.find(".toolbar__button--color");d&&(g=g.filter(".toolbar__target--"+d));g=g.filter('[data-colorindex\x3d"'+c+'"]');g.length||(g=this.$el.not(".toolbar--element").find(".toolbar__list"),"fill"===
d?g.append(jR(new dR("",b,c)).toString()):"text"===d?g.append(jR(new eR("",b,c)).toString()):g.append(jR(new cR("",b,c)).toString()),g=this.$el.find(".toolbar__button--color").filter('[data-colorindex\x3d"'+c+'"]'));0<a.length?(g.removeClass("noColor"),1==a.length?-1<a[0].indexOf("url")||a[0]===LB?g.css("background-color","").css("background-image","").addClass("noColor"):g.css("background-color",a[0]).css("background-image",""):(a=a.map(function(a){return a||"black"}),a=e(a),g.css("background-color",
"").css("background-image",a.oaa).css("background-image",a.t$))):this.element.data("fill")?(a=mh(this.element.data("fill")),g.css("background-color",a.ra()).css("background-image","").removeClass("noColor")):g.css("background-color","").css("background-image","").addClass("noColor")};function sR(a){a.$el.find(".toolbar__separator").removeClass("hidden");a=a.$el.find(".toolbar__item:not(.hidden)").last();a.hasClass("toolbar__separator")&&a.addClass("hidden")}f.addClass=function(a){this.$el.addClass(a)};
f.removeClass=function(a){this.$el.addClass(a)};f.render=function(a){this.el.innerHTML=iR({items:a});return this};function tR(a){this.view=a.view;this.items=a.items;this.element=a.element;this.gd=a.element.data("canvaElement");this.Mo=[];this.xW=0}function uR(a){var b=new lR({H:a.H,name:a.name,UD:a.UD,Pi:a.Pi,element:a.element,aH:function(){return a.Oe.trigger("hideContextualControlsRequested")}});return(new tR({element:a.element,view:b,items:a.items})).render()}
function vR(a){a.view.$el.css("visibility","hidden");a.view.$el.find(".toolbar__item").each(function(a,c){c=$(c);var d=c.outerWidth(!0);0===a&&(d+=c.position().left);c.attr("data-width",d)});a.view.$el.find(".toolbar__item--more").addClass("disabled").removeClass("enabled");a.view.$el.css("visibility","visible")}f=tR.prototype;
f.oF=function(){var a=this,b=this.Ve&&this.Ve.width();if(b!==this.xW){this.xW=b;var c=function(){return a.view.$(".toolbar__item--collapsed").length},d=this.view.$el.filter(".toolbar--element").find("\x3e .toolbar__list \x3e .toolbar__item").not(".toolbar__item--delete, .toolbar__item--more, .toolbar__item--deleteMenu"),e=this.view.$el.not(".toolbar--element").find("\x3e .toolbar__list \x3e .toolbar__item"),g=this.view.$(".toolbar__item--more"),h=g.data("width"),k=20;this.view.$("\x3e .toolbar__list \x3e .toolbar__item").not(".toolbar__item--collapsed").not(".toolbar__item--more.disabled").each(function(a,
b){k+=$(b).data("width")});if(k>b)for(c=e.get().concat(d.get()).reverse(),d=0;d<c.length&&(e=$(c[d]),e.hasClass("toolbar__item--collapsed")||(e.addClass("toolbar__item--collapsed"),k-=parseInt(e.data("width"),10),g.hasClass("disabled")&&(k+=h,g.removeClass("disabled").addClass("enabled")),!(k<b)));d++);else if(c()&&k<b){h=e.filter(".toolbar__item--collapsed").get().concat(d.filter(".toolbar__item--collapsed").get());for(d=0;d<h.length;d++)if(e=$(h[d]),k+e.data("width")<b)k+=e.data("width"),e.removeClass("toolbar__item--collapsed");
else break;1>=c()&&(this.view.$(".toolbar__item--collapsed").removeClass("toolbar__item--collapsed"),g.removeClass("enabled").addClass("disabled"))}var b=this.view.$el.not(".toolbar--element").find(".toolbar__item--collapsed").get(),g=this.view.$el.filter(".toolbar--element").find(".toolbar__item--collapsed").get(),l=this.view.$(".toolbar--more ul");l.empty();b.forEach(function(a){return l.append($(a).clone().removeClass("toolbar__item--collapsed"))});g.forEach(function(a){return l.append($(a).clone().removeClass("toolbar__item--collapsed"))});
this.view.$(".toolbar").each(function(a,b){b.getBoundingClientRect().right>window.innerWidth&&$(b).addClass("toolbar--alignRight")});b=this.view.$el.filter(".toolbar--element").find("\x3e .toolbar__list \x3e .toolbar__item:last-child").find("\x3e .toolbar__button .toolbar__tooltip");b.length&&b.get(0).getBoundingClientRect().right>window.innerWidth&&b.addClass("toolbar__tooltip--alignRight")}};f.C=function(){return this.element};f.sD=function(a,b){this.view.sD(a,b.view);this.Mo.push(b)};
function wR(a,b){a.view.$el=a.view.$el.add(b.view.$el);a.Mo.push(b)}f.save=function(a){this.view.$el.data("element",this.element);this.view.$el.data("toolbar",this);this.element.data(a||"toolbar",this)};f.hide=function(){this.view.$el.hide()};f.show=function(){this.view.$el.show()};
f.Ay=function(a,b){this.Ve=a;this.activate();this.Ve.empty().append('\x3cdiv class\x3d"toolbar__wrapper"\x3e\x3c/div\x3e');this.view.Ay(this.Ve.find(".toolbar__wrapper"));vR(this);this.oF();this.aQ=_.debounce(this.oF.bind(this),300);this.viewport=b;this.viewport.on("resize",this.aQ)};f.activate=function(){this.Ve&&this.Ve.addClass("toolbarContainer--active")};f.rE=function(){this.Ve&&this.Ve.removeClass("toolbarContainer--active")};
function xR(a,b){a.Ve&&a.Ve.toggleClass("toolbarContainer--noAnimation",!b)}function yR(a,b,c){b.forEach(function(b,e){b instanceof fn?a.view.setFillColor([b.ra()],c,e):"string"==typeof b&&a.view.setFillColor([b],c,e)});sR(a.view)}function zR(a){function b(a){a.forEach(function(a){a instanceof RQ&&a.YB(!0);a.Mo&&b(a.Mo)})}a.Mo&&b(a.Mo)}f.addClass=function(a){this.view.$el.addClass(a)};f.removeClass=function(a){this.view.$el.addClass(a)};f.data=function(a){return"canvaElement"===a?this.gd:this.element};
f.oo=function(a){this.Mo.forEach(function(b){b.view.getName()===a&&b.remove(!0)})};f.remove=function(a){var b=this;this.aQ&&this.viewport.off("resize",this.aQ);a?(xR(this,!1),this.rE(),this.Mo.forEach(function(a){a.remove(!0)}),this.view.remove()):(this.rE(),P.delay(400).then(function(){xR(b,!0);b.Mo.forEach(function(a){a.remove(!0)});b.view.remove()}))};f.render=function(){this.view.render(this.items);return this};f.listenTo=Backbone.Events.listenTo;f.stopListening=Backbone.Events.stopListening;
f.trigger=Backbone.Events.trigger;f.off=Backbone.Events.off;f.on=Backbone.Events.on;function AR(a,b,c){a=a||"Glegoo";b=b===DE?c.Jd():b;return[new $Q("fontFamily",a,{Lt:c.format("editorToolbarFontFamilyTooltip")}),new $Q("fontSize",b,{Lt:c.format("editorToolbarFontSizeTooltip"),Xe:"number"}),new YQ,new eR("",ve(c)),new YQ,new $Q("bold",c.format("editorToolbarTextBold"),{icon:!0,Qe:"^B"}),new $Q("italic",c.format("editorToolbarTextItalic"),{icon:!0,Qe:"^I"}),new $Q("textAlign",c.textAlign(),{icon:!0,Tf:[new $Q("left",c.format("editorToolbarTextLeft"),{icon:!0,Qe:"^ Shift L"}),new $Q("center",
c.format("editorToolbarTextCenter"),{icon:!0,Qe:"^ Shift C"}),new $Q("right",c.format("editorToolbarTextRight"),{icon:!0,Qe:"^ Shift R"})]}),new $Q("uppercase",c.format("editorToolbarTextUppercase"),{icon:!0,Qe:"^ Shift K"}),new $Q("list",c.format("editorToolbarTextList"),{icon:!0}),new YQ,new $Q("textSpacing",c.format("editorToolbarTextSpacing"),{Tf:[new bR("letterSpacing",c.letterSpacing(),{min:-200,max:800,step:10}),new bR("lineHeight",c.lineHeight(),{min:.5,max:2.5,step:.01}),new YQ,new $Q("textVerticalAlign",
c.format("editorToolbarResizeTextBox")),new $Q("textVerticalAlignTop",c.format("editorToolbarResizeTextBoxFromTop"),{icon:!0,Qe:"^ Alt T"}),new $Q("textVerticalAlignMiddle",c.format("editorToolbarResizeTextBoxFromMiddle"),{icon:!0,Qe:"^ Alt M"}),new $Q("textVerticalAlignBottom",c.format("editorToolbarResizeTextBoxFromBottom"),{icon:!0,Qe:"^ Alt B"})]})]}
function BR(a){function b(b){var d=b.name||b.family,e=b.displayName||d,g=c(b.displayNameThumbnail),k=g.url,l=0<=k.indexOf("media-private"),d=$('\x3cbutton href\x3d"#"\n          data-name\x3d"'+d+'"\n          data-display-name\x3d"'+e+'"\n          data-family\x3d"'+b.family+'"\n          data-image-src\x3d"'+k+'"\n          title\x3d"'+e+'"\n          class\x3d"toolbar__button toolbar__button--font"\x3e\x3c/button\x3e');E||e!==H&&b.family!==H||(d.addClass("toolbar__button--selected"),E=!0);a.K_&&
l?e=$('\x3cdiv class\x3d"toolbar__thumbnailSVG"\x3e\x3c/div\x3e').append(kR(g).toString()):(e=$('\x3cimg class\x3d"toolbar__thumbnail" src\x3d"'+g.url+'" width\x3d"'+g.width+'" height\x3d"'+g.height+'" alt\x3d"'+e+'" /\x3e'),l&&e.addClass("toolbar__thumbnail--inverted"));d.append(e);if(e=b.sampleTextThumbnail)e=!!b.sampleTextThumbnail&&!(VJ.has(h.locale)&&(!h.locale||!b.locales||-1!==b.locales.indexOf(h.locale)));e&&(b=c(b.sampleTextThumbnail),a.K_&&l?(l=$('\x3cdiv class\x3d"toolbar__fontSampleTextSVG"\x3e\x3c/div\x3e').append(kR(b).toString()),
d.append(l)):d.append($('\x3cimg class\x3d"toolbar__fontSampleText" src\x3d"'+b.url+'" width\x3d"'+b.width+'" height\x3d"'+b.height+'" /\x3e')));return new QQ(d,!0,!1)}function c(a){return{url:a.url,width:a.width/a.height*30,height:30}}function d(a){a=$('\x3cdiv class\x3d"toolbar__menuHeaderLine"\x3e\x3c/div\x3e\x3cdiv class\x3d"toolbar__menuListSeparator"\x3e'+a+'\x3c/div\x3e\x3cdiv class\x3d"toolbar__menuHeaderLine"\x3e\x3c/div\x3e');return new QQ(a,!1,!0)}function e(a){var b=a.find(".menuList__inner");
a=a.find(".toolbar__fontCta");if(0===a.length){a=$;var c;c=k.format("editorToolbarFontUploadUpgradePrompt");var d=k.AN();soy.asserts.assertType(goog.isString(c)||c instanceof goog.soy.data.SanitizedContent,"prompt",c,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(d)||d instanceof goog.soy.data.SanitizedContent,"buttonLabel",d,"string|goog.soy.data.SanitizedContent");c=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"toolbar__fontCta"\x3e\x3cdiv class\x3d"toolbar__fontCtaLabel"\x3e'+
soy.$$escapeHtml(c)+'\x3c/div\x3e\x3cbutton class\x3d"button buttonSmall toolbar__fontCtaButton"\x3e'+soy.$$escapeHtml(d)+"\x3c/button\x3e\x3c/div\x3e");a=a(c.toString());a.insertAfter(b)}}function g(a){var b=a.find(".menuList__inner");a=a.find(".toolbar__fontCta");if(0===a.length){a=$;var c;c=k.format("editorToolbarFontUploadCtaTitle");var d=k.format("editorToolbarFontUploadCtaLabel"),e=!(0<h.WC.length);soy.asserts.assertType(goog.isString("/brand"),"url","/brand","null|string|undefined");soy.asserts.assertType(null==
c||c instanceof goog.soy.data.SanitizedContent||goog.isString(c),"title",c,"null|string|undefined");soy.asserts.assertType(goog.isString(d)||d instanceof goog.soy.data.SanitizedContent,"label",d,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(e)||1===e||0===e,"buttonEnabled",e,"boolean");c=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"toolbar__fontUploadFeatureCta"\x3e'+(e?'\x3ca class\x3d"toolbar__fontUploadFeatureCtaTarget" href\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri("/brand"))+
'" '+(c?'title\x3d"'+soy.$$escapeHtmlAttribute(c)+'"':"")+' target\x3d"_blank"\x3e\x3cbutton class\x3d"button toolbar__fontUploadFeatureCtaButton"\x3e'+rp({za:"toolbar__fontUploadFeatureCtaButtonIcon"})+soy.$$escapeHtml(d)+"\x3c/button\x3e\x3c/a\x3e":'\x3cdiv class\x3d"toolbar__fontUploadFeatureCtaLink"\x3e\x3ca class\x3d"toolbar__fontUploadFeatureCtaTarget" href\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri("/brand"))+'" '+(c?'title\x3d"'+soy.$$escapeHtmlAttribute(c)+'"':"")+' target\x3d"_blank"\x3e+ '+
soy.$$escapeHtml(d)+"\x3c/a\x3e\x3c/div\x3e")+"\x3c/div\x3e");a=a(c.toString());a.insertAfter(b)}}var h=a.I3,k=a.Af,l=ZJ(h),m=_.uniq(h.vP,!1,function(a){return a.family+a.displayName}),n=WJ(h),p=a.T2.map(function(a){return YA(h,a)}).filter(function(a){return!!a}).sort(h.aK),q=new Set(l.filter(function(a){return!h.locale||!a.locales||-1!==a.locales.indexOf(h.locale)})),l=l.filter(function(a){return!q.has(a)}),u=n.length||m.length,v=0<q.size,z=2<=p.length||0<p.length&&u,t=0<l.length,x=v?k.format("editorToolbarOtherFontFamily"):
k.format("editorToolbarAllFontFamily"),H=a.Lz;H||(H=p[0]?p[0].displayName||p[0].name||p[0].family:m[0]?m[0].displayName||m[0].name||m[0].family:"Glegoo");var E=!1,u=[],u=z?u.concat(d(k.format("editorToolbarDocumentFontFamily"))).concat(p.map(b)):u,u=m.length?u.concat(d(k.format("editorToolbarBrandFontFamily"))).concat(m.map(b)):u,u=n.length?u.concat(d(k.format("editorToolbarUploadedFontFamily"))).concat(n.map(b)):u,u=v?u.concat(d(k.format("editorToolbarLocaleFontFamily"))).concat([].concat(ma(q)).map(b)):
u,u=t?u.concat(d(x)).concat(l.map(b)):u,m=_.findIndex(u.filter(function(a){return a.element&&a.element.data("name")}),function(a){return a.element.data("name")===H}),m=UQ({elements:u,Iu:m});a.J3?e(m.view.$el):a.K3&&g(m.view.$el);m.view.$el.find(".toolbar__button--selected").parent().addClass("active");return m}
function CR(a,b){var c=Lb,d=b.map(function(b){var d=b===a?"toolbar__button--selected":"",e=b===DE?zc(c).Jd():b;b=$('\x3cbutton class\x3d"toolbar__button '+d+'"\x3e').attr("data-text",b).text(e)[0];return new QQ(b,!0,!1)}),e=b.indexOf(a);if(-1===e)for(var g=Math.ceil(a),h=0;h!==b.length;h++)g>b[h]&&(e=h);b=UQ({elements:d,Iu:e});b.view.$el.find(".toolbar__button--selected").parent().addClass("active");return b}var DE=Number.POSITIVE_INFINITY;function dA(a){Backbone.View.call(this,{className:"toolbarContainer",tagName:"menu"});this.i=a.i}var DR,ER,FR,GR;r(dA,Backbone.View);
dA.prototype.init=function(a){var b=this.i;HR(b);$("#content").on("click",".toolbar__button",!1);IR.forEach(function(b){var c=this;(JR[b]||[]).forEach(function(g){c.$el.on("click",g,{cancel:!0},KR(b,a))})}.bind(this));$("#content").on("click",function(a){$(a.target).closest(".toolbar--fx,.toolbar--flip,.toolbar__item--submenu,.colorPalette,.colorPicker").length||T.trigger("hideContextualControlsRequested")});this.$el.on("mouseup",".enabled \x3e .toolbar__button--back",{cancel:!0},function(){LR(this)});
this.$el.on("mouseup",".enabled \x3e .toolbar__button--forward",{cancel:!0},function(){MR(this)});this.$el.on("click",".enabled \x3e .toolbar__button--copy",{cancel:!0},NR);this.$el.on("click",".enabled \x3e .toolbar__button--delete",{cancel:!0},function(){OR(this)});this.$el.on("click",".enabled \x3e .toolbar__button--imageDelete",{cancel:!0},function(){T.trigger("hideContextualControlsRequested");var a=$(this).parents(".toolbar").last().data("element").data("canvaElement");if(a){var b=a.Jc(),c=
a.rl(b),b={elementIndex:a.K(),pageIndex:a.R().K(),placeholderIndex:b,"new":{},old:c};a.UY();M.register(new Y(xO,b));a.ab()}});this.$el.on("click",".enabled \x3e .toolbar__button--elementDelete",{cancel:!0},function(){var a=$(this).parents(".toolbar").last().data("toolbar");a&&(a=a.gd)&&a instanceof GC&&PR(a)});this.$el.on("click",".enabled \x3e .toolbar__button--group",{cancel:!0},QR);this.$el.on("click",".enabled \x3e .toolbar__button--ungroup",{cancel:!0},RR);this.$el.on("click",".enabled \x3e .toolbar__button--crop",
{cancel:!0},SR);this.$el.on("mouseup",".enabled \x3e .toolbar__button--flipHorizontal",{cancel:!0},function(){var a=TR(this);if(a instanceof CC){var b=a.Jc(),c=a.Sp(b),h=c.ya,k=h^1;c.ut(k);a={pageIndex:cp(K,a.R()),elementIndex:a.K(),placeholderIndex:b,old:{flipOrientation:h},"new":{flipOrientation:k}};M.register(new Y(12,a))}else UR.call(this)});this.$el.on("mouseup",".enabled \x3e .toolbar__button--flipVertical",{cancel:!0},function(){var a=TR(this);if(a instanceof CC){var b=a.Jc(),c=a.Sp(b),h=c.ya,
k=h^2;c.ut(k);a={pageIndex:cp(K,a.R()),elementIndex:a.K(),placeholderIndex:b,old:{flipOrientation:h},"new":{flipOrientation:k}};M.register(new Y(12,a))}else VR.call(this)});this.$el.on("click",".toolbar__fontCtaButton",{cancel:!0},function(){var a=Mb;a.j.wa(lm("toolbar_fonts_menu","bottom","fonts"));Fo(a,WR)});this.$el.on("click",".toolbar__fontUploadFeatureCtaTarget",{cancel:!0},function(){Ml(XR(),"upload_your_own_fonts","editor","toolbar","font_dropdown")});this.$el.on("mouseleave",".enabled.toolbar__item--submenu .menuList",
{cancel:!0},YR);this.$el.on("keyup",".enabled \x3e .toolbar__button \x3e .toolbar__inputButton--fontSize",{cancel:!0},ZR);this.$el.on("click",".enabled \x3e .toolbar__button--bold",{cancel:!0},function(){$R(this)});this.$el.on("click",".enabled \x3e .toolbar__button--uppercase",{cancel:!0},function(){aS(this)});this.$el.on("click",".enabled \x3e .toolbar__button--italic",{cancel:!0},function(){bS(this)});this.$el.on("mouseup",".enabled \x3e .toolbar__button--left",{cancel:!0},function(){var a=$(this).parents(".toolbar").last().data("element");
cS(a,"left")});this.$el.on("mouseup",".enabled \x3e .toolbar__button--center",{cancel:!0},function(){var a=$(this).parents(".toolbar").last().data("element");cS(a,"center")});this.$el.on("mouseup",".enabled \x3e .toolbar__button--right",{cancel:!0},function(){var a=$(this).parents(".toolbar").last().data("element");cS(a,"right")});this.$el.on("click",".enabled \x3e .toolbar__button--list",{cancel:!0},function(){dS(this)});this.$el.on("click",".enabled \x3e .toolbar__button--transparency",{cancel:!0},
DR);this.$el.on("click",".enabled \x3e .toolbar__button--gridSpacing",{cancel:!0},ER);this.$el.on("click",".enabled \x3e .toolbar__button--textSpacing",{cancel:!0},FR);this.$el.on("mouseup",".enabled \x3e .toolbar__button--HorizontalAlignLeft",{cancel:!0},function(){var a=eS(this);a&&fS(a)});this.$el.on("mouseup",".enabled \x3e .toolbar__button--HorizontalAlignRight",{cancel:!0},function(){var a=eS(this);a&&gS(a)});this.$el.on("mouseup",".enabled \x3e .toolbar__button--HorizontalAlignCenter",{cancel:!0},
function(){var a=eS(this);a&&hS(a)});this.$el.on("mouseup",".enabled \x3e .toolbar__button--VerticalAlignTop",{cancel:!0},function(){var a=eS(this);a&&iS(a)});this.$el.on("mouseup",".enabled \x3e .toolbar__button--VerticalAlignBottom",{cancel:!0},function(){var a=eS(this);a&&jS(a)});this.$el.on("mouseup",".enabled \x3e .toolbar__button--VerticalAlignCenter",{cancel:!0},function(){var a=eS(this);a&&kS(a)});this.$el.on("mouseup",".enabled \x3e .toolbar__button--VerticalDistribute",{cancel:!0},function(){var a=
eS(this);a&&lS(a)});this.$el.on("mouseup",".enabled \x3e .toolbar__button--HorizontalDistribute",{cancel:!0},function(){var a=eS(this);a&&mS(a)});this.$el.on("mouseup",".enabled \x3e .toolbar__button--textVerticalAlignTop",{cancel:!0},function(){nS("top",this)});this.$el.on("mouseup",".enabled \x3e .toolbar__button--textVerticalAlignMiddle",{cancel:!0},function(){nS("middle",this)});this.$el.on("mouseup",".enabled \x3e .toolbar__button--textVerticalAlignBottom",{cancel:!0},function(){nS("bottom",
this)});this.$el.on("click",".enabled \x3e .toolbar__button--link",{cancel:!0},function(){oS(this)});this.$el.on("click",".enabled \x3e .toolbar__button--filter",{cancel:!0},function(){pS(this,b)});Jb.G.get(hg)&&(this.$el.on("click",".enabled \x3e .toolbar__button--chartData",{cancel:!0},function(){var a=$(this).parents(".toolbar").last().data("toolbar");if(a){a=a.gd;a.Ru=!a.Ru;var c=qS(a,b);c&&bD(c,a.bN())}}),this.$el.on("click",".enabled \x3e .toolbar__button--chartStyle",{cancel:!0},function(){var a;
$("#objectPanel menu .elements a").click();(function(b){$("#resultsElements li.folderExpanded \x3e a:not([data-query\x3d"+b+"])").mousedown();setTimeout(function(){$("#resultsElements li:not(.folderExpanded) \x3e a[data-query\x3d"+b+"]").mousedown()},500);a||(a=setTimeout(function(){$("#resultsElements \x3e .layer").animate({scrollTop:$("#resultsElements a[data-query\x3d"+b+"]").parent().position().top},O.Da.Tq);a=void 0},900))})("charts")}));$(window).resize(rS);$(document).on("keyup",function(a){return 27===
a.which&&rS()});var c=this.$el;T.on("hideContextualControlsRequested",function(){if(c.find(".toolbar").length){var a=$(".toolbar").data("element");(a=a&&a.data("toolbar"))&&nR(a.view)}else c.removeClass("toolbarContainer--active toolbarContainer--noAnimation")})};dA.prototype.render=function(){this.$el.html('\x3cdiv class\x3d"toolbarContainer__inner"\x3e\x3c/div\x3e');return this.$el};
function HR(a){function b(a){return 100-a}function c(){return this.Ff()?this.ns(this.Bb()):0}function d(){return this.Ff()?this.pl(this.Bb()):0}DR=sS([{name:"transparency",displayName:a.Ha(),method:Z.prototype.NF,Jy:tS(Z.prototype.em,"transparency",b),Oy:uS(Z.prototype.NF,"transparency","transparency",!1),KN:b}]);ER=sS([{name:"gridSpacing",displayName:"Spacing",method:CC.prototype.pe,Jy:tS(CC.prototype.ar,"gridSpacing"),Oy:uS(CC.prototype.pe,"gridSpacing","spacing",!1)}]);FR=sS([{name:"letterSpacing",
displayName:a.letterSpacing(),method:c,Jy:tS(function(a){return this.Ff()&&this.ix(this.Bb(),a)},"letterSpacing"),Oy:uS(c,"letterSpacing","letterSpacing",!0)},{name:"lineHeight",displayName:a.lineHeight(),method:d,Jy:tS(function(a){return this.Ff()&&this.jx(this.Bb(),a)},"lineHeight",function(a){return 100*a}),Oy:uS(d,"lineHeight","lineHeight",!0),KN:function(a){return.01*a}}])}function rS(){T.trigger("hideContextualControlsRequested")}function XR(){GR||(GR=U||im());return GR}
function vS(a,b,c,d,e){var g=(new UAParser).getResult().browser.name,g="IE"===g||"Edge"===g,h=c/vb.Ap;c=YA(Kb,b);K.IB();e=BR({Lz:b,J3:Jb.G.get(Xf),K3:!!Jb.G.get(mg),I3:Kb,K_:g,Af:e,T2:K.fonts.slice()});d=CR(h,d);a.sD("fontFamily",e);a.sD("fontSize",d);c?pR(a.view,"fontFamily",b,c.family):pR(a.view,"fontFamily","");e.on("select",function(b,c,d){c&&-1!==b&&(wS(c),b=function(){var b=a.gd;a.remove();xS(b,zc(Lb))},d.shiftKey||nR(a.view,100).then(b))});d.on("select",function(b,c,d){c&&-1!==b&&("keydown"===
d.type?ZR(d):yS(c),d.shiftKey||nR(a.view,100))});d.on("activeChange",function(b){pR(a.view,"fontSize",b.element.data("text"))});a.view.on("openSubmenu",function(a,b){a&&a.hasClass("toolbar__item--fontSize")&&(a=b.parents(".toolbar").data("element"),(a&&a.data("canvaElement"))instanceof Kp&&zS.SZ(a))});a.view.on("closeSubmenu",function(a){(a&&a.data("canvaElement"))instanceof Kp&&zS.PZ(a)})}
function MR(a){ep();var b=$(a).closest(".toolbar__item"),c=K.Ea();a=c.Wa();var c=yP(c,a),d=$("#layerGraph");if(0>=d.length)for(var d=$('\x3col id\x3d"layerGraph" class\x3d"toolbar--layerGraph"\x3e\x3c/ol\x3e'),e=0;e<c.length+1;e++)d.append("\x3cli\x3eLayer "+e+"\x3c/li\x3e");else d.css("opacity","");$("#overlays").append(d);b=b.closest(".toolbar").offset();d.css("top",b.top+25);d.css("left",b.left-15);if(!d.data("locked")&&(d.stop(),window.clearTimeout(d.data("fadeTimer")),0!==a.length)){var b=a[0],
g=b.K(),c=c.filter(function(a){return a.K()>g});if(a=c[0])a.nb()&&(a=vG(a)),b.insertAfter(a),b.$a(),b={oldElementIndex:g,elementIndex:b.K(),pageIndex:cp(K,b.R())},M.register(new Y(4,b));var b=$("li",d),h=b.eq(c.length),k=h.prev(),c=b.first().outerHeight(!0);h.addClass("selected");a&&(d.data("locked",!0),h.animate({left:-c/2},{duration:O.Da.oq/2,fl:"linear",queue:!1,complete:function(){$(this).animate({left:0},{duration:O.Da.oq/2,fl:"linear",queue:!1,complete:function(){k.before(h);h.css("left","").css("top",
"");k.css("top","");d.removeData("locked")}})}}).animate({top:-c},{duration:O.Da.oq,queue:!1}),k.animate({top:c},O.Da.oq));a=window.setTimeout(function(){d.animate({opacity:0},O.Da.DW,function(){$(this).remove()})},O.Da.EW);d.data("fadeTimer",a)}}
function LR(a){ep();var b=$(a).closest(".toolbar__item");a=K.Ea();var c=a.Wa();a=yP(a,c);var d=$("#layerGraph");if(0>=d.length)for(var d=$('\x3col id\x3d"layerGraph" class\x3d"toolbar--layerGraph"\x3e\x3c/ol\x3e'),e=0;e<a.length+1;e++)d.append("\x3cli\x3eLayer "+e+"\x3c/li\x3e");else d.css("opacity","");$("#overlays").append(d);b=b.closest(".toolbar").offset();d.css("top",b.top+25);d.css("left",b.left-15);if(!d.data("locked")&&(d.stop(),window.clearTimeout(d.data("fadeTimer")),0!==c.length)){var e=
c[0],g=e.K(),b=a.filter(function(a){return a.K()<g}).reverse();if(c=b[0])e.insertBefore(c),e.$a(),e={oldElementIndex:g,elementIndex:e.K(),pageIndex:cp(K,e.R())},M.register(new Y(4,e));var e=$("li",d),h=e.eq(a.length-b.length),k=h.next();a=e.first().outerHeight(!0);h.addClass("selected");c&&(d.data("locked",!0),h.animate({left:-a/2},{duration:O.Da.oq/2,fl:"linear",queue:!1,complete:function(){$(this).animate({left:0},{duration:O.Da.oq/2,fl:"linear",queue:!1,complete:function(){k.after(h);h.css("left",
"").css("top","");k.css("top","");d.removeData("locked")}})}}).animate({top:a},{duration:O.Da.oq,queue:!1}),k.animate({top:-a},O.Da.oq));a=setTimeout(function(){d.animate({opacity:0},O.Da.DW,function(){$(this).remove()})},O.Da.EW);d.data("fadeTimer",a)}}
function NR(){T.trigger("hideContextualControlsRequested");ep();T.trigger("hideContextualControlsRequested");var a=[];K.Wa().forEach(function(b){var c=b.clone(),d=b.R()||K.Ea();b.DA&&!1===b.DA()&&c.yR&&c.yR();NC(c,O.gD);OC(c,O.gD);c.appendTo(d);c.rc();a.push(c)});LK();a.forEach(Ag);hh();MK();setTimeout(function(){jL(a)},O.Gc)}
function OR(a){(a=$(a).parents(".toolbar").last().data("toolbar"))&&a.remove(!0);T.trigger("hideContextualControlsRequested");LK();K.Wa().forEach(function(a){a.Ff()&&a.Mx();BN(a);a instanceof HH&&Yl(XR(),"delete_chart");a.remove()});MK();$(".multipleSelectionBox").remove()}function QR(){iL()}function RR(){hL()}function SR(){T.trigger("hideContextualControlsRequested");K.Wa().forEach(function(a){AS(a)})}function TR(a){return $(a).parents(".toolbar").last().data("element").data("canvaElement")}
function wS(a){function b(a){e.gd&&(a?g.is(".focused")||(LK(),k.forEach(c),MK()):alert("Sorry, there was a problem trying to apply the font "+h+". Please let us know about it."))}function c(a){var b=a.index,c=l.Tb(b);a={elementIndex:l.K(),pageIndex:cp(K,l.R()),textIndex:b,"new":c,old:a};M.register(new BO(1,a))}var d=a.element.parents(".toolbar"),e=d.data("toolbar");if(e){var g=e.C();d.find(".toolbar__button--fontFamily");var h=a.element.data("name");a.element.data("family");a.element.parents(".menuList").find(".toolbar__button--selected").removeClass("toolbar__button--selected");
a.element.addClass("toolbar__button--selected");var k=[];if(g){var l=e.gd;a=l.Bb();if(-1!==a)k=[l.Tb(a)],l.yk(a,h,b);else if(l.nb()&&l.se())k=lG(l),l.WH(h,b);else return;jE(e);BS(e,l)}}}
function yS(a){var b=a.element.parents(".toolbar").last().data("element"),c=b.data("toolbar");if(c){var d=parseFloat(a.element.data("text"));pR(c.view,"fontSize",parseFloat(d));a.element.parents(".menuList").find(".toolbar__button--selected").removeClass("toolbar__button--selected");a.element.addClass("toolbar__button--selected");if(b){var e=b.data("canvaElement"),d=parseFloat(d*vb.Ap);!e.nb()||e.Ff()||e.HV()||d===DE?CS(e,function(){d===DE?e.uL():(e.BE(),e.eC(d))}):(a=d/oG(e),DS(e,a))}}}
function YR(a){a=$(a.currentTarget);a.find(".active").removeClass("active");a.find(".toolbar__button--selected").parents(".selectable").addClass("active")}
function ZR(a){a.preventDefault();a.stopPropagation();var b=$(a.target),c=b.parents(".toolbar").last();if(c&&(c=c.data("element"))){var d=c.data("canvaElement");if(13===a.which){if(a=c.data("toolbar")){var c=b.closest(".toolbar__item").find(".menuList"),e=Math.min(Math.max(1,parseFloat(b.val())),400);""===b.val()||isNaN(e)?b.val(d.Lc(0)):(b.val()!==e.toString()&&b.val(e.toString()),pR(a.view,"fontSize",e.toString()),c.find(".toolbar__button--selected").removeClass("toolbar__button--selected"),c.find('[data-text\x3d"'+
e+'"]').addClass("toolbar__button--selected"),nR(a.view),e=parseFloat(e*vb.Ap),d.nb()&&!d.Ff()?(b=e/oG(d),DS(d,b)):CS(d,function(){d.eC(e)}))}}else 27===a.which&&b.val(d.Lc(0))}}
function pS(a,b){var c=$(a).parents(".toolbar").last(),d=c.data("element").data("canvaElement");d.eG();var e=!!c.data("isFxPanelVisible");T.trigger("hideContextualControlsRequested");if(!e){T.once("hideContextualControlsRequested",function(){c.removeData("isFxPanelVisible")});c.data("isFxPanelVisible",!0);var g=new ES({model:d.Ld(),iP:lJ,Af:b});FS(g,a.getBoundingClientRect());a.parentElement.classList.add("toolbar__item--submenuExpanded");g.$el.removeClass("appeared").addClass("appearing");g.$el.appendTo("#content");
$(".fxPanel").show();window.setTimeout(function(){g.$el.removeClass("appearing").addClass("appeared")},O.Da.J2)}}
function oS(a){function b(a){k.removeClass("valid invalid");a?(u.text(zc(Lb).format("editorToolbarElementLinkDescription")),k.addClass("valid")):(u.text(zc(Lb).format("editorToolbarElementLinkInvalid")),k.addClass("invalid"))}function c(){var a=k.find(".toolbar__list");a.addClass("toolbar__list--linkShakeInvalid");P.delay(300).then(function(){a.removeClass("toolbar__list--linkShakeInvalid")})}function d(a){""===a||IC.Wt.test(a)||null!==a.match(/^(http)/)||(a="http://"+a);q.val(a);JC(n,a);a=q.get(0);
var b=$(a).data("element"),c=$(a).data("lastLinkState");c!=b.mn()&&(c={elementIndex:b.K(),pageIndex:cp(K,b.R()),"new":{link:b.mn()},old:{link:c||""}},M.register(new Y(10,c)),$(a).data("lastLinkState",b.mn()));h.toggleClass("hasLink",!!n.mn());nR(m.view)}function e(){var a=q.val().trim(),e=IC.URL.test(a)||IC.Wt.test(a),e=""===a||e;b(e);e?d(a):c()}function g(a){var e=$(a.target).val().trim(),g=IC.URL.test(e)||IC.Wt.test(e),g=""===e||g;b(g);13===a.which&&(g?d(e):c())}a=$(a);var h=a.parents(".toolbar").last(),
k=h.find(".toolbar--link"),l=h.data("element"),m=l.data("toolbar"),n=l.data("canvaElement"),p=n.mn();a.parents(".toolbar--more").length&&(h=a.parents(".toolbar--more").next(".toolbar"));var q=h.find(".toolbar__input--link"),u=h.find(".toolbar__inputLabel--link"),v=h.find(".toolbar__submit--link");(function(a){a.val(p).data("element",n).data("lastLinkState",p).focus().select();var c=IC.URL.test(p)||IC.Wt.test(p);b(""===p||c);a.data("linkKeyup")||(a.data("linkKeyup",g).on("keyup",g),v.on("click",e))})(q)}
function UR(){LK();K.Wa().forEach(function(a){if(a.hq()){var b=a.ya,c=b^1;a.ut(c);a={pageIndex:cp(K,a.R()),elementIndex:a.K(),"new":{flipOrientation:c},old:{flipOrientation:b}};M.register(new Y(dp,a))}});MK()}function VR(){LK();K.Wa().forEach(function(a){if(a.hq()){var b=a.ya,c=b^2;a.ut(c);a={pageIndex:cp(K,a.R()),elementIndex:a.K(),"new":{flipOrientation:c},old:{flipOrientation:b}};M.register(new Y(dp,a))}});MK()}
function sS(a){return function(){function b(a,b){var c=a.get(0),d;a.on("input",function(){d!==a.val()&&(b.call(c),d=a.val())});b.call(c)}function c(a,b){var c=a.get(0);a.off("change input");b.call(c)}if(!$(this).hasClass("disabled")){var d=$(this).parents(".toolbar").first();d.hasClass("toolbar--more")&&(d=d.next(".toolbar"));var e=$(this).parents(".toolbar").last().data("element").data("canvaElement"),g=d;a.forEach(function(a){function k(){m.off("blur",k);c(l,a.Oy)}var l=$(".toolbar__slider--"+a.name,
d),m=$(".toolbar__sliderValue--"+a.name,d),n=a.method.call(e)||0,n=("function"==typeof a.KN?a.KN(n):n).toFixed(1).toString().replace(".0","");g.addClass(a.name+"SliderPresent");l.val(n);m.val(n);l.addClass(a.name+"SliderInput");l.data("element",e);l.data(GS(a.name),a.method.call(e));var p=!1;l.on("mousedown",function(){if(!p){p=!0;b(l,a.Jy);var d=function(){$(document).off("mouseup",d);c(l,a.Oy);p=!1};$(document).on("mouseup",d)}});m.on("change",function(){var c=m.val();l.val()!==c&&""!==c&&(l.val(m.val().toString()),
b(l,a.Jy))});m.on("blur",k)})}}}function tS(a,b,c){return function(){var d=parseFloat($(this).val()),e="function"==typeof c?c(d):d,g=$(this).data("element");$(".toolbar__sliderValue--"+b).val(d.toString());g&&void 0!==e&&a.call(g,e)}}function GS(a){return"last"+a.charAt(0).toUpperCase()+a.slice(1)+"State"}
function uS(a,b,c,d){return function(){var e=GS(b),g=$(this).data("element");if(g){var h=$(this).data(e),k=a.call(g);if(h!=k){var l={elementIndex:g.K(),pageIndex:cp(K,g.R()),"new":{},old:{}};d&&g instanceof Kp?(l.textIndex=0,l["new"]=g.Tb(0),l.old=g.Tb(0),l["new"][c]=k,l.old[c]=h,M.register(new BO(1,l))):(l["new"][c]=k,l.old[c]=h,M.register(new Y(dp,l)));$(this).data(e,k)}}}}
function cS(a,b){var c=a.data("toolbar"),d=a.data("canvaElement"),e=d.Bb(),g=["left","right","center"];g.splice(g.indexOf(b),1);CS(d,function(){d.yi(e,b);c.view.NS(b).iU.apply(c.view,g)})}function $R(a){var b=$(a).parents("li"),c=$(a).parents(".toolbar").last().data("element").data("canvaElement"),d=c.Bb(),e=c.Ge();0===e.length&&c.nb()&&c.se()&&(e=tG(c));var g=!!e.data("bold");HS(c,function(){c.yo(d,!g);TA(e,!0);g=!!e.data("bold");b.toggleClass("toolbar__item--active",g)})}
function aS(a){a=$(a).parents("li");var b=K.Wa()[0],c=b.Bb(),d=b.BF(c);CS(b,function(){b.br(c,d?void 0:"uppercase");TA(b.cb(c),!0)});a.toggleClass("toolbar__item--active",d)}function bS(a){var b=$(a).parents("li"),c=$(a).parents(".toolbar").last().data("element"),d=c.data("canvaElement"),e=d.Bb(),g=d.Ge();0===g.length&&d.nb()&&d.se()&&(g=tG(d));var h=!!g.data("italic");HS(d,function(){d.Ao(e,!h);TA(c,!0);h=!!g.data("italic");b.toggleClass("toolbar__item--active",h)})}
function dS(a){var b=$(a).parents("li"),c=$(a).parents(".toolbar").last().data("element").data("canvaElement"),d=c.Bb(),e=c.Ge(),g=!!e.data("list");HS(c,function(){c.kx(d,!g);g=!!e.data("list");b.toggleClass("toolbar__item--active",g)})}function HS(a,b){var c=a.Ge(),d=c.is(".focused"),c="true"===c.find(".inner").attr("contenteditable");d&&c?b():IS(a,b)}function CS(a,b){IS(a,b)}
function ZC(a,b){if(a&&b){a.view.Uf("crop",!(b.gq&&b.gq()));a.view.Uf("filter",!(!b.lq||!b.lq()));var c=xe();if(!(!b.bb||!b.bb().length||a.element&&a.element.hasClass("multiSelected")||b instanceof CC||b instanceof GC||b instanceof ap&&b.Ge().length))yR(a,b.bb(),c);else if(b instanceof GC){var d=b.ad;d instanceof Kp?rR(a.view,AE(d),c,0):d?d&&d.Md()&&yR(a,d.bb(),c):rR(a.view,sG(b),c,0)}b.EA&&!b.hb?(a.view.$el.find(".toolbar__item").removeClass("enabled").addClass("disabled"),a.view.Su("delete")):JS(a,
b);b.sy()&&(c=b.C().data("sideDrawer"))&&bD(c,b.bN());b instanceof GC&&!(b instanceof HH)&&(c=b.ad,a.view.Uf("elementDelete",!!c),!b.nb()||!c||c instanceof Kp||a.view.YF("color--text","fontFamily","fontSize","bold","italic","textAlign","uppercase","list","textSpacing"))}}
function JS(a,b){var c=yP(b.R(),b),d=b.K(),e=c.filter(function(a){return a.K()>d}),c=c.filter(function(a){return a.K()<d});b=b.iG()||0!==e.length||0!==c.length;a.view.Uf("forward",0!==e.length);a.view.Uf("back",0!==c.length);a.view.Uf("arrange",b)}
function jE(a){if(!a.element||!a.element.hasClass("multiSelected")){var b=a.gd;if(b.se()){var c=b.Ge();if(b instanceof ap){if(0===c.length){a.oo("font");return}a.view.Uf("textSpacing",!1)}if(b.nb()&&!b.se())a.oo("font");else{if(1===c.length){var d=VA(c);0===d.$e.length&&(d=JA(c))}else b.nb()&&b.se()&&(d=qG(b),c=tG(b));var e=function(a){return d.$e.reduce(function(b,c){return b&&a(c)},!0)},g=e(function(a){return(a=YA(Kb,a))&&!0===a.variants.bold}),h=e(function(a){return(a=YA(Kb,a))&&!0===a.variants.italic}),
e=e(function(a){return(a=YA(Kb,a))&&!0===a.variants.boldItalic}),k=function(a){var b;if(!(b=!!c.data(a)))try{b=document.queryCommandState(a)}catch(d){b=!1}return b};a.oF();a.view.Uf("bold",!!c.data("italic")&&h&&e||!(c.data("italic")&&h)&&g);qR(a.view,"bold",k("bold"));a.view.Uf("italic",!!c.data("bold")&&g&&e||!(c.data("bold")&&g)&&h);qR(a.view,"italic",k("italic"));a.view.Uf("uppercase",!0);qR(a.view,"uppercase","uppercase"===c.data("textTransform"));g=c.data("justification")||"left";a.view.iU("left",
"center","right");a.view.NS(g);qR(a.view,"list",!!c.data("list"));g=b.Bb();g=b.Lc(g);b.nb()&&!b.Ff()&&(uG(b)?g=0:0!==mG(b)||(g=oG(b)));g/=vb.Ap;b.CA()?pR(a.view,"fontSize",zc(Lb).Jd()):0!==g?pR(a.view,"fontSize",g):pR(a.view,"fontSize","");KS(a,b);rR(a.view,d.Bf,zc(Lb).format("editorToolbarTextPickAColor"));c.data("fontFamily")?(g=c.data("fontName")||d.$e[0],h=d.$e.filter(function(a){return null!==YA(Kb,a)}),g=(1<h.length?"":h[0])||g,(h=YA(Kb,g))&&h.displayName&&(g=h.displayName),h?pR(a.view,"fontFamily",
g,h.family):pR(a.view,"fontFamily","")):1===d.$e.length?(g=d.$e[0],(h=YA(Kb,g))&&h.displayName&&(g=h.displayName),h?pR(a.view,"fontFamily",g,h.family):pR(a.view,"fontFamily","")):1<d.$e.length&&pR(a.view,"fontFamily",zc(Lb).format("editorToolbarTextMultipleFonts"),"Open Sans");b.se()&&!b.Ff()&&a.view.YF("textAlign","uppercase","list","textSpacing");b=c.children(".inner");1===b.length&&(b=!0===b.get(0).isContentEditable,a.view.Uf("list",b))}}}}
function BS(a,b){var c=b.kv(),d=c.map(function(a){a=YA(Kb,a);return a.name||a.family}).filter(function(a){return!bI(Kb,a)});0<d.length?(oR(a.view,!0),cK(Kb,d,function(){var d=new Set(b.kv()),g;a:if(g=new Set(c),d.size!==g.size)g=!1;else{for(var d=la(d),h=d.next();!h.done;h=d.next())if(!g.has(h.value)){g=!1;break a}g=!0}g&&oR(a.view,!1)})):oR(a.view,!1)}function eS(a){if((a=$(a).parents(".toolbar").last().data("element"))&&a.data("canvaElement")instanceof GC)return a.data("canvaElement")}
function nS(a,b){$(b);var c=$(b).parents(".toolbar").last().data("element");b=c.data("toolbar");if(c=c.data("canvaElement")){switch(a){case "top":aL(c);break;case "middle":bL(c);break;case "bottom":cL(c)}b&&KS(b,c)}}function YC(a){var b=a.view.$el,c=b.data("element");c&&c.data("canvaElement")&&(a.oF(),clearTimeout(LS),LS=setTimeout(function(){var a=b.data("fxPanelView");a&&FS(a,b.get(0).getBoundingClientRect())},O.Gc+100))}
function MS(a,b){var c=$(".toolbarContainer");b=[new $Q("group",b.format("editorToolbarElementGroup"),{enabled:!0}),new $Q("copy",b.format("editorToolbarElementCopy")),new $Q("arrange",b.format("editorToolbarElementArrange"),{enabled:!1}),new $Q("transparency",le(b),{icon:!0,Tf:[new bR("transparency",le(b))],enabled:!1}),new $Q("link",b.format("editorToolbarElementLink"),{icon:!0,enabled:!1}),new $Q("delete",ke(b),{icon:!0})];b=uR({H:hl,Pi:"right",name:"element",items:b,element:a,Oe:T});a.is(".background, .group")&&
b.view.Uf("group",!1);b.Ay(c,$(window));b.save()}
function hP(a,b){var c=a.data("canvaElement"),d=$(".toolbarContainer");if(1===a.length&&c&&c.lp()){var e=a.data("toolbar");e&&e.remove();a=uR({H:hl,Pi:"right",name:"element",items:hR(c.js(),c.iG()?c.mV():[],b),element:a,Oe:T});if(c.qD())wR(a,uR({H:hl,name:"image",element:c.C(),items:fR(c,b),Oe:T}));else if(c.QS()){var g="group",h=[],e=c.lv();c instanceof HH&&(g="chart",h=[new $Q("chartData",b.format("editorToolbarElementData"),{enabled:!0}),new YQ,new dR(c.bb()[0].ra(),ve(b))],h.push(new $Q("chartStyle",
b.format("editorToolbarElementStyle"),{enabled:!0})));var k=!1;if(c.Ff()){var k=c.Ge(),l=k.data("fontName"),m=k.data("fontFamily"),l=l||m,m=c.Lc(c.Bb());c.CA()&&(m=DE);(k=k.data("canvaElement"))&&(e=k.lv());h=h.concat(AR(l,m,b));k=!0}else!c.yv()&&c.se()&&(m=c.Rz(),l=m.fontName,m=m.fontFamily,l=l||m,pG(c)?m=DE:uG(c)?m=0:(m=mG(c),0===m&&(m=oG(c))),h=h.concat(AR(l,m,b)),k=!0);g=uR({H:hl,name:g,element:c.C(),items:h,Oe:T});k&&(vS(g,l,m,e,b),jE(g),BS(g,c));wR(a,g)}else c.vr()?wR(a,uR({H:hl,name:"image",
element:c.C(),items:fR(c,b),Oe:T})):c.bu()?(e=c.Ge(),g=e.data("fontName"),l=e.data("fontFamily"),g=g||l||"Glegoo",l=c.Lc(c.Bb()),m=c.lv(),h=AR(g,l,b),e=uR({H:hl,name:"font",element:e,items:h,Oe:T}),c.CA()&&(l=DE),vS(e,g,l,m,b),jE(e),BS(e,c),wR(a,e)):c.RS()&&wR(a,uR({H:hl,name:"shape",element:c.C(),items:[new dR("",ve(b))],Oe:T}));c.sy()&&qS(c,b);a.Ay(d,$(window));a.save();zR(a);c.$a()}}
function nD(a){var b=$(".toolbarContainer"),c=a.data("confirmationToolbar");c||(c=uR({H:hl,name:"crop",UD:"elementToolbar",element:a,items:[new $Q("ok","Ok",{icon:!0,Qe:" Enter"}),new $Q("cancel","Cancel",{icon:!0})]}),c.Ay(b,$(window)),c.save("confirmationToolbar"))}
function qS(a,b){if(a.sy()){var c=a.C(),d=c.data("sideDrawer");if(!d){var e=[b.format("editorToolbarElementDataLabelColumnHeader"),b.format("editorToolbarElementDataValueColumnHeader")];b=FQ(a.getData(),a.zV(e),b);b.Db.on("change",function(b,c){a.Ls(b);a.D2({qN:c})});var g=a.getData();b.Db.on("commit",function(b){var c={pageIndex:cp(K,a.R()),elementIndex:a.K(),"new":{data:b},old:{data:g}};M.register(new Y(15,c));g=b});d=new VQ;d.cu(b.view);bD(d,!1);$("#objectPanel section.content").after(d.$el);c.data("sideDrawer",
d);var h=function(){a.Ru=!1;bD(d,!1)};T.on("objectPanel:tabClicked",h);d.on("remove",function(){return T.off("objectPanel:tabClicked",h)})}return d}}function KS(a,b){if(b=b.Ge().data("canvaElement"))switch(qR(a.view,"textVerticalAlignTop",!1),qR(a.view,"textVerticalAlignMiddle",!1),qR(a.view,"textVerticalAlignBottom",!1),b.ws()){case "top":qR(a.view,"textVerticalAlignTop",!0);break;case "middle":qR(a.view,"textVerticalAlignMiddle",!0);break;case "bottom":qR(a.view,"textVerticalAlignBottom",!0)}}
function DS(a,b){var c=a.qa(),d=lG(a);a.BE();a.setSize(a.l()*b,a.o()*b,!0);a.Jr();b=a.qa();xm(c,b)||(LK(),d.forEach(function(b){var c=b.index,d=a.Tb(c);d.fontSize=b.fontSize;b={elementIndex:a.K(),pageIndex:cp(K,a.R()),textIndex:c,"new":d,old:b};M.register(new BO(1,b))}),c=c.serialize(),d=b.serialize(),c={elementIndex:a.K(),pageIndex:cp(K,a.R()),old:c,"new":d,proportionalSetSize:!0},M.register(new Y(dp,c)),MK())}var LS=0;function KR(a,b){var c=NS[a];return function(a){return c&&c.call(this,a,b)}}var IR=Object.keys({kS:"CLICK_FILL_COLOR",lS:"CLICK_TEXT_COLOR"}),JR={kS:[".toolbar__button--color.toolbar__target--fill"],lS:[".toolbar__button--color.toolbar__target--text"]};
function OS(a,b){function c(a){var c=a.index===b.index,d=a.type===b.type;return!(a.element===b.element&&c&&d)}if(!a)return[];var d=[];a instanceof fn&&(d=Jp(a).filter(c));d.forEach(function(a){"FILL"===a.type&&(a.initial=PS(a.element,a.index));"TEXT"===a.type&&(a.initial=a.element.Tb(a.index))});return d}
function QS(a){a.forEach(function(a){if("FILL"===a.type){var c=PS(a.element,a.index);M.register(new Y(CN,{elementIndex:a.element.K(),pageIndex:a.element.R().K(),old:a.initial,"new":c}));a.initial=c}"TEXT"===a.type&&(c=a.element.Tb(a.index),M.register(new BO(1,{elementIndex:a.element.K(),pageIndex:a.element.R().K(),textIndex:a.index,old:a.initial,"new":c})),a.initial=c)})}
function RS(a,b){a.forEach(function(a){"TEXT"===a.type&&a.element.setColor(a.index,b);"FILL"===a.type&&a.element.ge(a.index,b)})}function SS(a,b){return a instanceof CC?a.Sp(b).lh():a.Md()>b?(a=a.bb()[b],a===LB?null:a):null}function PS(a,b){if(a instanceof CC)return{index:b,placementData:a.rl(b)};var c=a instanceof ap?LB:"";a=SS(a,b);return{index:b,color:a?a.ra():c}}
var NS={kS:function(a,b){function c(a){var b=a?SS(l,m):n;(u=a)&&q.forEach(function(a){a.element.Oq()});b&&(RS(q,b),LK(),QS(q),MK());a||q.forEach(function(a){a.element.tk()})}function d(a,b){k.removeClass("noColor");k.css("background-color",a.ra());b&&RS(q,a);l.ge(m,a)}function e(a){var b=PS(l,m),c=l.R();c&&b!==p&&(LK(),a&&QS(q),M.register(new Y(CN,{elementIndex:l.K(),pageIndex:c.K(),old:p,"new":b})),MK(),p=b)}function g(){h.removeData("colorPalette");h.removeData("activeColorPaletteToolbarButton");
v.remove();e(u);l.tk();q.forEach(function(a){a.element.tk()})}var h=$(this).closest(".toolbar"),k=$(this),l=h.data("element").data("canvaElement");if(l){l.nb()&&l.ad&&(l=l.ad);var m=1===l.Md()?0:l instanceof ap||l instanceof AC||l instanceof BC||l instanceof GC&&l.ad?k.data("colorindex"):l instanceof CC?l.Jc():-1;if(-1!==m){var n=SS(l,m),p=PS(l,m);a=h.data("activeColorPaletteToolbarButton");var q=OS(n,{element:l,index:m,type:"FILL"});T.trigger("hideContextualControlsRequested");if(a!==this){l.Oq();
a=1<=q.length;var u=!1,v=new Pn({Ny:TS,ru:b.Ti&&b.Ti.My||[],Dl:tc(b.i),Zi:rc(b.i),Pl:l.R().Fb,ZB:!0,wD:!0,Qb:SS(l,m),Qg:a,xy:n,j:b.j,W:Jb});v.on("preview",d);v.on("confirm",e);v.on("changeApplyAll",c);v.listenTo(M,"beforeOperationStackPop",g);v.listenTo(T,"hideContextualControlsRequested",g);v.render();v.$el.addClass("toolbar--overlay");US.nm(v.$el,$(this));v.tC();h.data("colorPalette",v);h.data("activeColorPaletteToolbarButton",this)}}}},lS:function(a,b){function c(a){var b=a?mh(p.Tb(u).color):v;
(Q=a)&&z.forEach(function(a){a.element.Oq()});b&&(RS(z,b),LK(),QS(z),MK());a||z.forEach(function(a){a.element.tk()})}function d(a,b){L=a;n.removeClass("noColor");n.css("background-color",a.ra());b&&RS(z,a);p.setColor(u,a)}function e(a){!(q=p.R())||E===L||E&&E.equals(L)||(E=L,LK(),a&&QS(z),QS(t),x=[],H.forEach(g),MK(),H=x)}function g(a){var b=a.index,c=p.Tb(b);a={elementIndex:p.K(),pageIndex:cp(K,q),textIndex:b,old:a,"new":c};x.push(c);M.register(new BO(1,a))}function h(){m.removeData("colorPalette");
m.removeData("activeColorPaletteToolbarButton");S.remove();e(Q);z.forEach(function(a){a.element.tk()})}function k(a){return 0<a.Md()}function l(a,b){return a.concat(b.bb().map(function(a,c){return{element:b,index:c,type:"FILL",initial:PS(b,c)}}))}var m=$(this).parents(".toolbar"),n=$(this);a=m.data("element");var p=a.data("canvaElement");p.nb()&&p.ad&&(p=p.ad);var q=p.R(),u=p.nb()?p.ad?p.elements.indexOf(p.ad):-1:p.Bb(),v=mh(a.data("fill")),z=OS(v,{element:p,index:u,type:"TEXT"}),t=[],x=[];if(-1!==
u)var H=[p.Tb(u)];else if(p.nb())H=lG(p),t=p.ia().filter(k).reduce(l,[]);else return;a=m.data("activeColorPaletteToolbarButton");T.trigger("hideContextualControlsRequested");if(a!==this){var E=null,L=null;a=b.Ti&&b.Ti.My||[];var J=1<=z.length,Q=!1,S=new Pn({Ny:TS,Dl:tc(b.i),Zi:rc(b.i),Pl:p.R().Fb,ru:a,ZB:!0,wD:!0,Qb:v,Qg:J,xy:v,j:b.j,W:Jb});S.on("preview",d);S.on("confirm",e);S.on("changeApplyAll",c);S.listenTo(M,"beforeOperationStackPop",h);S.listenTo(T,"hideContextualControlsRequested",h);S.render();
S.$el.addClass("toolbar--overlay");US.nm(S.$el,n);S.tC();m.data("colorPalette",S);m.data("activeColorPaletteToolbarButton",this)}}};function VS(a){a.appendTo("#overlays")}function WS(){return $("#canvaDocument")}var US=new xz({ty:VS,bA:WS,margin:O.FS,zC:wz}),TS=new xz({ty:VS,bA:WS,margin:O.mS,zC:wz});function XS(a){soy.asserts.assertType(goog.isString(a.v)||a.v instanceof goog.soy.data.SanitizedContent,"classes",a.v,"string|goog.soy.data.SanitizedContent");var b=a.v;soy.asserts.assertType(null==a.disabled||goog.isBoolean(a.disabled)||1===a.disabled||0===a.disabled,"disabled",a.disabled,"boolean|null|undefined");var c=a.disabled;soy.asserts.assertType(a.Vq instanceof soydata.SanitizedHtml||a.Vq instanceof soydata.UnsanitizedText||goog.isString(a.Vq),"selectContent",a.Vq,"soydata.SanitizedHtml");
var d=a.Vq;goog.asserts.assertArray(a.options,"expected parameter 'options' of type list\x3chtml\x3e.");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"listbox'+(c?" listbox--disabled":"")+" "+soy.$$escapeHtmlAttribute(b)+'" tabindex\x3d"-1"\x3e\x3cdiv class\x3d"listbox__select"\x3e'+soy.$$escapeHtml(d)+'\x3c/div\x3e\x3cdiv class\x3d"listbox__options"\x3e'+YS(a)+"\x3c/div\x3e\x3c/div\x3e")}
function YS(a){var b="";a=goog.asserts.assertArray(a.options,"expected parameter 'options' of type list\x3chtml\x3e.");for(var c=a.length,d=0;d<c;d++)b+=soy.$$escapeHtml(a[d]);return soydata.VERY_UNSAFE.ordainSanitizedHtml(b)};function ZS(a,b,c){var d=this;hc.call(this,a);this.Oh=c.Oh;this.eD=b;this.rX=this.t5.bind(this);a.on("keydown",function(a){return d.Ll(a)});b.on("click",this.rX);a.on("click",function(a){$(a.target).closest("a")[0]||(d.$el.toggleClass("listbox--open"),d.trigger($S,d.$el.hasClass("listbox--open")))});a.on("click",".listbox__option",function(a){$(a.target).closest("a")[0]||(a=d.Oh($(a.target).closest(".listbox__option")),d.trigger(aT,a))});a.on("mousemove",".listbox__option",function(a){return d.AO(a)});
a.on("mouseout",".listbox__option",function(a){d.trigger(bT,d.Oh($(a.target).closest(".listbox__option")))})}r(ZS,hc);function cT(a,b){return new ZS(a,$(document),b)}f=ZS.prototype;f.remove=function(){hc.prototype.remove.call(this);this.eD.off("click",this.rX)};f.vu=function(){this.$el.removeClass("listbox--open");this.$el.blur()};f.t5=function(a){this.$el[0]!==$(a.target).closest(".listbox")[0]&&this.trigger(dT)};function eT(a,b){a.$el.find(".listbox__select").empty().append(b.toString())}
f.Dh=function(a){this.$el.toggleClass("listbox--disabled",!a)};f.lx=function(a){a=$(YS({options:a.map(function(a){return fT(a)})}).toString());this.$el.find(".listbox__options").empty().append(a)};f.Tj=function(){var a=this;return this.$el.find(".listbox__option").toArray().map(function(b){return a.Oh($(b))})};f.length=function(){return this.Tj().length};function gT(a){return a.Tj().findIndex(function(a){return a.$el.hasClass("listbox__option--hover")})}
function hT(a){return a.Oh(a.$el.find(".listbox__option--hover"))}f.Ll=function(a){27===a.keyCode?(a.preventDefault(),this.trigger(iT)):38===a.keyCode?(a.preventDefault(),this.trigger(jT)):40===a.keyCode?(a.preventDefault(),this.trigger(kT)):13===a.keyCode&&(a.preventDefault(),this.trigger(lT))};f.AO=function(a){this.trigger(mT,this.Oh($(a.target).closest(".listbox__option")))};var $S="CLICK",aT="OPTION_SELECT",dT="BLUR",mT="HOVER",bT="UNHOVER",jT="PRESS_UP",kT="PRESS_DOWN",lT="PRESS_ENTER",iT="PRESS_ESC";
function nT(a){gc.apply(this,arguments)}r(nT,gc);nT.prototype.tc=function(){var a=this.$el.attr("data-value");return y(a&&a.toString(),"value must be present on the option")};nT.prototype.zk=function(a){this.$el.toggleClass("listbox__option--selected",a)};function oT(a,b){a.$el.toggleClass("listbox__option--hover",b)}nT.prototype.Jf=function(){return this.$el.hasClass("listbox__option--selected")};function fT(a){return soydata.VERY_UNSAFE.ordainSanitizedHtml(a.$el.prop("outerHTML"))};function pT(a){var b=this;this.view=a;this.WG=null;this.view.on($S,function(a){return b.Lf(a)});this.view.on(aT,function(a){return qT(b,a)});this.view.on(dT,function(){return b.vu()});this.view.on(mT,function(a){return b.AO(a)});this.view.on(bT,function(a){return oT(a,!1)});this.view.on(jT,function(){var a=gT(b.view);oT(hT(b.view),!1);0>=a?(a=b.view.length()-1,a=b.view.Tj()[a],oT(a,!0)):oT(b.view.Tj()[a-1],!0)});this.view.on(kT,function(){var a=gT(b.view);oT(hT(b.view),!1);a===b.view.length()-1?oT(b.view.Tj()[0],
!0):oT(b.view.Tj()[a+1],!0)});this.view.on(iT,function(){return b.vu()});this.view.on(lT,function(){qT(b,hT(b.view));b.vu()})}function rT(a){Fa(0<a.length,"Need at least one option to render the listbox");a=a.filter(function(a){return a.Jf()});Fa(1===a.length,'Expected one option to be selected but found "{}"',a.length);return a[0].oh()}f=pT.prototype;f.lx=function(a){eT(this.view,rT(a));this.view.lx(a)};function sT(a,b){Fa(!a.WG,"onOptionChanged listener already registered");a.WG=b}
f.Lf=function(a){a||this.vu()};f.vu=function(){this.view.vu();oT(hT(this.view),!1)};f.AO=function(a){oT(hT(this.view),!1);oT(a,!0)};function qT(a,b){a.Tj().filter(function(a){return a.Jf()}).forEach(function(a){return a.zk(!1)});b.zk(!0);eT(a.view,b.oh());null!=a.WG&&a.WG(b)}function tT(a){return a.Tj().find(function(a){return a.Jf()})}f.Tj=function(){return this.view.Tj()};f.tc=function(){return y(tT(this),"At least one option must have been selected").tc()};f.Dh=function(a){this.view.Dh(a)};
f.destroy=function(){this.view.remove()};function uT(a){this.s2=a}function vT(){return new uT(function(){return new FormData})}
function zM(a){var b=vT();return new P(function(c,d){var e=b.s2();Object.keys(a.$L).forEach(function(b){e.append(b,a.$L[b])});e.append("file",a.file);var g=new XMLHttpRequest;g.onerror=d;g.onreadystatechange=function(){if(4===g.readyState){var b=Ek(g.status),e=b&&(a.SV||g.getResponseHeader("x-amz-version-id"));b&&e?c(e):d()}};g.upload.addEventListener("progress",a.progress||function(){});g.open("POST",a.url,!0);g.send(e)})};function vl(a){return Math.max.apply(Math,a)}function ul(a){return Math.min.apply(Math,a)}function wT(a,b,c){!c&&(c=function(a,b){return a-b});for(var d=0,e,g=a.length,h;0<g;)e=d+(h=g/2|0),0>c(a[e],b)?(d=++e,g-=h+1):g=h;return d}function xT(a,b,c){!c&&(c=function(a,b){return a-b});for(var d=0,e,g=a.length,h;0<g;)e=d+(h=g/2|0),0<=c(b,a[e])?(d=++e,g-=h+1):g=h;return d};function eh(a){var b,c,d,e,g,h;if(!a.src)return 0;if("data:image/svg+xml"===a.src.substring(0,18))return 1;c=a.naturalHeight;b=a.naturalWidth;d=b*c;if(isNaN(d)||0>=d)return 0;e=document.createElement("canvas");e.width=b;e.height=c;e=e.getContext("2d");e.drawImage(a,0,0);a=e.getImageData(0,0,b,c).data;for(h=e=0;h<c;h++)for(g=0;g<b;g++)0>=a[4*(g+h*b)+3]&&e++;return e/d}function ZN(a,b){a=a.get(0).getBoundingClientRect();b=b.get(0).getBoundingClientRect();return ah(a,b)}
function ah(a,b){return!a||!b||a.left+a.width<=b.left||a.top+a.height<=b.top||a.left>=b.left+b.width||a.top>=b.top+b.height?!1:!0}function iD(a,b){a=a instanceof V?a:vm(a);return{transform:$o({Ii:a.F(),Ji:a.w(),Sw:b||0}),left:"",top:"",width:a.l(),height:a.o()}}
function mD(a,b,c){var d={nt:0,Rw:0,Sw:0};null!=b&&(d.Ii=b.F(),d.Ji=b.w(),a.css("width",b.l()+"px"),a.css("height",b.o()+"px"));a.each(function(){var a=$(this);d.nt=a.data("FlipTransformation_rotateX")||0;d.Rw=a.data("FlipTransformation_rotateY")||0;!!(c&2)!=(0!=d.nt%360)&&(d.nt+=180,a.data("FlipTransformation_rotateX",d.nt));!!(c&1)!=(0!=d.Rw%360)&&(d.Rw+=0==d.nt%360?180:-180,a.data("FlipTransformation_rotateY",d.Rw));a.css("transform",$o(d))})}
function lD(a){var b=a.attr("style"),c,d;(c=b.match(/translate(3d)?\((-?[.\d]+)[^-.\d]+(-?[.\d]+)/))?(d=parseFloat(c[2]),c=parseFloat(c[3])):(d=parseFloat(a.css("left")),c=parseFloat(a.css("top")));var e=b.match(/width: ([.\d]+)/),g=b.match(/height: ([.\d]+)/),b=e?parseFloat(e[1]):a.width();a=g?parseFloat(g[1]):a.height();return new V(d,c,b,a)}function jC(a){a=a.get(0).getAttribute("viewBox").split(" ");return new V(parseFloat(a[0]),parseFloat(a[1]),parseFloat(a[2]),parseFloat(a[3]))}
function $o(a){var b=void 0===a.uo?1:a.uo,c=void 0===a.Sq?1:a.Sq,d=a.nt||0,e=a.Rw||0,g=a.Sw||0;a=""+("translate("+(a.Ii||0)+"px,"+(a.Ji||0)+"px)");if(1!=b||1!=c)a+=" scale("+b+","+c+") ";0!=d&&(a+=" rotateX("+d+"deg)");0!=e&&(a+=" rotateY("+e+"deg)");0!=g&&(a+=" rotateZ("+g+"deg)");return a}function yT(a){a=window.getComputedStyle(a);return a.getPropertyValue("transform")||a.getPropertyValue("-webkit-transform")}
function wl(a){if(a=/^matrix(?:3d)?\(([^)]*)\)$/.exec(yT(a))){a=a[1].split(",");if(6==a.length)return{uo:parseFloat(a[0]),skewX:parseFloat(a[1]),skewY:parseFloat(a[2]),Sq:parseFloat(a[3]),Ii:parseFloat(a[4]),Ji:parseFloat(a[5])};if(16==a.length)return{uo:parseFloat(a[0]),skewX:parseFloat(a[1]),skewY:parseFloat(a[4]),Sq:parseFloat(a[5]),Ii:parseFloat(a[12]),Ji:parseFloat(a[13])}}return{uo:0,skewX:0,skewY:0,Sq:0,Ii:0,Ji:0}}
function $g(a,b,c){var d=wl(a),e;for(e in b)b.hasOwnProperty(e)&&d.hasOwnProperty(e)&&(d[e]=c?d[e]+b[e]:b[e]);b=[d.uo,d.skewX,d.skewY,d.Sq,d.Ii,d.Ji];$(a).css("transform","matrix("+b.join(",")+")")}function gE(a,b){return Math.round(1E5*a)/1E5==Math.round(1E5*b)/1E5}
function zT(a){switch(/(\s|^)(tl|t|tr|r|br|b|bl|l)(\s|$)/gi.exec(a.className)[2]){case "tl":return 0;case "t":return 1;case "tr":return 2;case "r":return 4;case "br":return 7;case "b":return 6;case "bl":return 5;case "l":return 3;default:return null}}function aD(a,b){b=Math.round(Mm(b)/45);8>b||(b=0);if(a){for(var c=0;8!==c;c++)a.removeClass("octant"+c);a.addClass("octant"+b)}}
function KJ(a,b,c,d){function e(a,b){var c=a*a,d=1-a,e=d*d;return b[0]*e*d+3*b[1]*e*a+3*b[2]*d*c+b[3]*c*a}for(var g,h,k=0,l=[];1>k;)g=e(k,[a.x,b.x,c.x,d.x]),h=e(k,[a.y,b.y,c.y,d.y]),l.push({x:g,y:h}),k+=5E-5;var m=[{x:a.x,y:a.y}],n=.05,p=null;l.forEach(function(a){null!==p&&a.x>n&&(m.push(p),n+=.05);p=a});m.push({x:d.x,y:d.y});return m}
function AT(){var a=$("#canvaDocument"),b,c,d,e;lA||$("body").hasClass("fullscreenMode")?(e=c=0,d=$(window).width(),a=$(window).height()):(e=O.p0,d=O.o0,b=O.m0,c=O.n0,d=a.width()-c-d,a=a.height()-e-b);return new V(c,e,d,a)}function BT(){var a=O.oD;return Cm(AT().translate(a,a),-2*a,-2*a)}function CT(){var a=O.FS;return Cm(AT().translate(a,a),-2*a,-2*a)};var mA=!1,lA=!1;function DT(a,b){function c(){var c=a.slice(0);b.forEach(function(a){a=aQ(a.Kh.qg).filter(d).map(e(a.name));c=c.concat(a)});return new ZP({Hi:c})}function d(a){return"start"!==a.name}function e(a){return function(b){return{name:b.name,from:a+":"+b.from,to:a+":"+b.to}}}this.up=null;this.oI=(b||[]).slice(0);this.qg=new ZP;this.Gp=null;var g=this,h;0<this.oI.length?(h=c(),bQ(this.qg,h.Hi),this.oI.forEach(function(a){g.listenTo(a.Kh,"change:state",g.y7)})):a&&bQ(this.qg,a);this.listenTo(this.qg,"state:enter",
this.x7)}DT.prototype.trigger=Backbone.Events.trigger;DT.prototype.listenTo=Backbone.Events.listenTo;DT.prototype.on=Backbone.Events.on;DT.prototype.off=Backbone.Events.off;_.extend(DT.prototype,Backbone.Events);DT.prototype.start=function(){this.qg.start()};DT.prototype.cancel=function(){this.up&&this.up.cancel?(this.up.cancel(),this.up=null):this.up&&this.up.abort&&(this.up.abort(),this.up=null);this.oI.forEach(function(a){a.Kh.cancel()})};
DT.prototype.y7=function(a,b,c,d){var e=this.oI.filter(function(b){return b.Kh===a})[0].name+":"+b;this.qg.$z()!==e&&dQ(this.qg,e);var g=Array.prototype.slice.call(arguments,2),e=["change:state",this,e].concat(g);this.trigger.apply(this,e)};DT.prototype.x7=function(a,b){this.trigger("change:state",this,b)};function IP(a){a.stopPropagation()}function ET(a){a.preventDefault()}function FT(){return!1}var bO="createTouch"in document,$N=!1;function fp(a){this.el=$(a);this.SI={};this.fU=""}function xN(a){return 0<=a.fU.indexOf("touch")}fp.prototype.selected=function(a){var b=this,c=null;return function(d){var e=d.type;b.fU=e;null===c&&(c=e);return e!==c?!0:a.call(this,d)}};function GT(a){return a.split("|").filter(function(a){return""!==a})}
function HT(a){return a.split(/[|+]/).filter(function(a){return""!==a})}function IT(a,b,c,d){if(a.SI[b+"_"+c])throw a='An event handler already exists for "'+b+'"',c&&(a+=' and selector "'+c+'"'),Error(a);a.SI[b+"_"+c]=d}fp.prototype.on=function(a,b,c){var d=this,e;"function"===typeof c?(e=b,b=c):e="";if(0<=a.indexOf("|")){var g=this.selected(b);b.c0=g;IT(this,a,e,g);GT(a).forEach(function(a){if(e)d.el.on(a,e,g);else d.el.on(a,g)})}else if(IT(this,a,e,b),e)this.el.on(a,e,b);else this.el.on(a,b);return this};
fp.prototype.off=function(a,b,c){var d=this,e;"function"===typeof c?(e=b,b=c):e="";var g=this.SI[a+"_"+e];if(g){if(g!==(b.c0||b))throw Error('The given handler is not listening to event "'+a+'"');b.c0=null;HT(a).forEach(function(a){e?d.el.off(a,e,g):d.el.off(a,g)});delete this.SI[a+"_"+e]}return this};function oj(a){Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);this.message=a}oj.prototype=Object.create(Error.prototype);oj.prototype.constructor=oj;
function nj(a){switch(a){case "card_declined":return new JT;case "expired_card":return new KT;case "incorrect_cvc":return new LT;case "incorrect_number":return new MT;case "invalid_cvc":return new NT;case "invalid_expiry_month":return new OT;case "invalid_expiry_year":return new PT;case "invalid_number":return new QT;case "missing":return new RT;case "processing_error":return new ST;default:return new TT(a)}}function JT(){oj.call(this,"credit card declined")}JT.prototype=Object.create(oj.prototype);
JT.prototype.constructor=JT;function KT(){oj.call(this,"credit card expired")}KT.prototype=Object.create(oj.prototype);KT.prototype.constructor=KT;function LT(){oj.call(this,"credit card cvc incorrect")}LT.prototype=Object.create(oj.prototype);LT.prototype.constructor=LT;function MT(){oj.call(this,"credit card number incorrect")}MT.prototype=Object.create(oj.prototype);MT.prototype.constructor=MT;function NT(){oj.call(this,"credit card cvc invalid")}NT.prototype=Object.create(oj.prototype);
NT.prototype.constructor=NT;function OT(){oj.call(this,"credit card expiry month invalid")}OT.prototype=Object.create(oj.prototype);OT.prototype.constructor=OT;function PT(){oj.call(this,"credit card expiry year invalid")}PT.prototype=Object.create(oj.prototype);PT.prototype.constructor=PT;function QT(){oj.call(this,"credit card number invalid")}QT.prototype=Object.create(oj.prototype);QT.prototype.constructor=QT;function UT(){oj.call(this,"credit card country invalid")}UT.prototype=Object.create(oj.prototype);
UT.prototype.constructor=UT;function VT(){oj.call(this,"credit card region invalid")}VT.prototype=Object.create(oj.prototype);VT.prototype.constructor=VT;function WT(){oj.call(this,"credit card zipcode invalid")}WT.prototype=Object.create(oj.prototype);WT.prototype.constructor=WT;function RT(){oj.call(this,"credit card missing but required")}RT.prototype=Object.create(oj.prototype);RT.prototype.constructor=RT;function ST(){oj.call(this,"credit card processing error")}ST.prototype=Object.create(oj.prototype);
ST.prototype.constructor=ST;function TT(a){oj.call(this,"unknown credit card processing error "+a);this.errorCode=a}TT.prototype=Object.create(oj.prototype);TT.prototype.constructor=TT;function XT(){oj.call(this,"no credit card entered")}XT.prototype=Object.create(oj.prototype);XT.prototype.constructor=XT;function ZT(a,b){if(b instanceof JT)return a.format("creditCardDeclined");if(b instanceof KT)return a.format("creditCardExpired");if(b instanceof LT)return a.format("creditCardCvcIncorrect");if(b instanceof MT)return a.format("creditCardNumberIncorrect");if(b instanceof NT)return a.format("creditCardCvcIncorrect");if(b instanceof OT)return a.format("creditCardExpiryMonthIncorrect");if(b instanceof PT)return a.format("creditCardExpiryYearIncorrect");if(b instanceof QT)return a.format("creditCardNumberIncorrect");
if(b instanceof RT)return a.format("creditCardMissingButRequired");if(b instanceof ST)return a.format("creditCardProcessingError");if(b instanceof TT)return a.format("creditCardUnknownProcessingError",b.errorCode);if(b instanceof XT)return a.format("creditCardNoCardEntered");if(b instanceof UT)return a.format("creditCardNoCountryEntered");if(b instanceof VT)return a.format("creditCardNoRegionEntered");if(b instanceof WT)return a.format("creditCardNoZipcodeEntered");if(b instanceof oj&&b.message)return b.message;
throw Error("unrecognized CreditCardError");};function $T(){var a=window.stripeConfig;switch(a.impl){case "local":return new aU;case "stripe":return new bU(a.publishableKey,window.Stripe||null);default:throw Error('unexpected stripe impl "'+a.impl+'"');}}function aU(){}aU.prototype.createToken=P.method(function(a){return JSON.stringify({stripeId:"card_ "+Math.random(),brand:"Visa",expMonth:a.GL,expYear:a.HL,last4:a.vh.slice(-4)})});function bU(a,b){(this.nf=b)&&this.nf.setPublishableKey(a)}
bU.prototype.createToken=function(a){return new P(function(b,c){if(!this.nf)throw Error("Stripe API is unavailable");a={cvc:a.Om,exp_month:a.GL,exp_year:a.HL,number:a.vh};this.nf.createToken(a,function(a,e){if(e.error){var g;try{g=e.error.code||""}catch(h){g=""}c(nj(g))}else b(e.id)})}.bind(this))};function CP(a){var b=this,c=window.MutationObserver||window.WebKitMutationObserver;this.lw=null;this.gA={nodeinserted:[],noderemoved:[],characterdatamodified:[],attrmodified:[]};this.config=a?a:{attributes:!1,childList:!0,characterData:!0,subtree:!0};this.cl=new c(function(a){a.forEach(function(a){b.handle(a)})})}CP.prototype.normalize=function(a){return a.toLowerCase()};CP.prototype.on=function(a,b){a=this.normalize(a);this.gA.hasOwnProperty(a)||(this.gA[a]=[]);this.gA[a].push(b);return this};
CP.prototype.handle=function(a){function b(b){var e=c.normalize(b),g=new jQuery.Event(b);c.lw&&(g.target=a.target,g.currentTarget=c.lw.get(0),c.gA.hasOwnProperty(e)&&c.gA[e].forEach(function(a){a.call(c.lw,g)}))}var c=this;"childList"===a.type?(a.addedNodes&&0<a.addedNodes.length?b("nodeInserted"):a.removedNodes&&0<a.removedNodes.length&&b("nodeRemoved"),b("subtreeModified")):"attributes"===a.type?b("attrModified"):"characterData"===a.type&&b("characterDataModified")};
CP.prototype.observe=function(a){var b=$(a).get(0);if(this.lw)throw Error("Already observing an element");b&&(this.cl.observe(b,this.config),this.lw=$(a))};function EP(a){a.cl.disconnect();a.lw=null};function Fp(a,b,c){this.text=b||null;b=nc(a);this.text&&this.text.toLocaleLowerCase()===be(b).toLocaleLowerCase()&&(this.text=null);this.Lu=c||null;this.i=a}Fp.prototype.on=Backbone.Events.on;Fp.prototype.off=Backbone.Events.off;Fp.prototype.trigger=Backbone.Events.trigger;function cU(a){return a.text?(a.text.match(/#[a-z0-9_-]+/gi)||[]).map(function(a){return a.slice(1).trim()}):[]}function dU(a){return null===a.text||""===a.text}Fp.prototype.ul=function(){return this.text};
function eU(a,b){var c;if(c=b){b=b.trim().replace(/\s+/g," ");c=O.Xo;var d="";b=b.trim();if(b.length<=c)c=b;else{void 0===d&&(d="");var e=b.substr(0,c-d.length),g=b.substr(c-d.length).match(/^\S+/),h=e.match(/\S+$/);h&&g&&(e=e.substr(0,e.length-h[0].length));e=e.trim();""===e&&(e=b.substr(0,c-d.length));c=e=e.trim()+d}}b=c;a.text!==b&&(a.text=b,a.trigger("change"))}
function fU(a,b){var c=lc(a.i);a=nc(a.i);return-1!=[a.Ng(),a.format("documentSvgPlaceholderText"),Vd(c),Wd(c),c.format("objectPanelTextPanelAddBody")].indexOf(b)}function mP(a,b){var c=a.text||be(nc(a.i));b=b&&!!b.g4;a.Lu&&(dU(a)||b)&&(c=a.Lu+"  "+c);return c};function gU(a){this.media=a.media;this.bh=a.bh;this.Bc=a.Bc;this.Uv=a.Uv;this.df=a.df;this.cC=null;this.kV=a.om&&this.media.Kv()}f=gU.prototype;f.init=function(){var a=hU(this);0<a.length&&!this.Hv()&&!this.yn()&&(this.cC=a[0].dk);return this};f.yn=function(){var a=this;return this.Bc.some(function(b){return 0<=a.df.indexOf(b.type)})};function iU(a){return a.yn()?a.Bc[0].type:null}f.jG=function(){return"DESIGN"==this.media.lc()};
f.Hv=function(){var a=zF(this.media.Ja());return!a||jU(this)?!0:Object.keys(a).every(function(b){return 0==a[b]})};function jU(a){return a.kV&&a.df.some(function(a){return"ONE_USE"===a})}f.tn=function(){var a=this.media.Ja().ic()[wD];return a?a.oa():null};function kU(a){if(a.kV)return Infinity;var b=a.Bc.map(function(b){return(b.JL||b.yz||Infinity)-a.Uv});return Math.min.apply(Math,[].concat(ma(b)))}f.nN=function(){return!/\.png$/.test(this.tn())};f.In=function(a){return 0<=this.df.indexOf(a)};
function hU(a){var b=zF(a.media.Ja());if(!b||a.Hv())return[];var c=Object.keys(b).filter(function(b){return 0<=a.df.indexOf(b)&&0>lU(a).indexOf(b)}).map(function(c){return{dk:c,da:b[c],Jf:a.cC==c}});return _.sortBy(c,function(a){return a.da})}function lU(a){return a.Bc.map(function(a){return a.type})}f.qb=function(){return this.media.Ja().qb()};f.Qp=function(){return this.media.u()};f.qs=function(){return this.media.Ja().getVersion()};
function mU(a){if(a.yn())return 0;a=hU(a).filter(function(a){return a.Jf}).map(function(a){return a.da});return 0<a.length?a[0]:0}function nU(a,b){function c(a){return a.jG()?0:a.Hv()?a.yn()?2:1:a.yn()?(a=lU(a),0<=a.indexOf("ONE_USE")?5:0<=a.indexOf("ROYALTY_FREE")?4:3):6}return c(b)-c(a)}function oU(){this.ri=[]}function pU(a,b){qU(a,b.items.map(function(a){return new gU({media:a.media,bh:a.bh,Bc:a.Bc,df:b.df,Uv:b.Uv,om:b.om})}))}
function qU(a,b){a.ri=b;a.ri.forEach(function(a){return a.init()});a.ri.sort(nU)}oU.prototype.In=function(a){return this.ri.some(function(b){return b.In(a)})};oU.prototype.EF=function(){return this.ri};function rU(a){return a.ri.filter(function(a){return!a.yn()})}function sU(a){return a.ri.reduce(function(a,c){return a+mU(c)},0)}function tU(a){return Math.min.apply(Math,[].concat(ma(a.ri.map(function(a){return kU(a)}))))}
function uU(a,b,c,d){var e=[];d&&e.push(new Qh({D:b,items:[new fi({wK:xh(d)})],currency:"USD"}));e.push(new Qh({D:b,items:vU(a,c),currency:"USD"}));return e}function vU(a,b){return rU(a).map(function(a){return new fi({qq:new Yh({media:a.Qp(),version:a.qs(),document:b,dk:a.cC||"ONE_USE"})})})};function wU(a){this.$el=a}r(wU,gc);function xU(a,b,c,d,e){this.va=a.va;this.ub=a.ub;this.ac=a.ac;this.Z=a.Z;this.Rb=e;this.view=b;this.Ab=c;this.bY=d;this.open=!1}function yU(a,b){return new P(function(c){a.bY.once("paymentComplete",c);zU(a,b).then(function(){return a.show()})})}xU.prototype.close=function(){this.Ab.remove();this.open=!1};xU.prototype.show=function(){Fa(!this.open,"the watermark remove dialog is already open");this.open=!0;this.bY.refresh();this.Ab.show()};
function zU(a,b){var c=["ROYALTY_FREE","EXTENDED"],d,e,g,h=new TE({types:c,status:["ACTIVATED"],D:a.va,media:b,limit:100});b=(new GF).dS(b).To();return P.all([dF(a.ac,b),a.ub.lF(h)]).then(function(b){var c=la(b);b=c.next().value;c=c.next().value;d=b;e=c.Bc;g=c.Wl;return P.all(d.media.map(function(b){return a.Z.ka(b.ka())}))}).then(function(b){var h=d.media.map(function(a){return new gU({media:a,bh:b.find(function(b){return b.id===a.ka()}).displayName,Bc:e.filter(function(b){return b.media===a.u()}),
Rca:g,df:c,om:!1})});qU(a.Rb,h)})};function AU(a,b,c,d,e,g,h,k){var l=cO;void 0===k&&(k=!0);var m=Math.max(O.CS,O.CS/d());k=BU(a,c,m,b,h);if(void 0!==h&&null!=k.At&&null!=k.Bt){var n=Math.abs(a.$b()-k.At),p=Math.abs(a.kc()-k.Bt);n>p?k.Bt=null:k.At=null}null!=k.At&&(!a.Ta()&&1===k.No.length&&!k.No[0].Ta()&&Math.abs(k.No[0].F()-a.F())<m?!h&&a.kb(k.No[0].F()):!h&&a.kb(k.At));null!=k.Bt&&(!a.Ta()&&1===k.No.length&&!k.No[0].Ta()&&Math.abs(k.No[0].w()-a.w())<m?!h&&a.eb(k.No[0].w()):!h&&a.eb(k.Bt));!h||null==k.At&&null==k.Bt||(k=BU(a,c,1,
b,h));l();b=[].concat([a],ma(k.No));if(null!=k.At){c=Math.max.apply(Math,[].concat(ma(b.map(function(a){return a.kd()}))));h=Math.min.apply(Math,[].concat(ma(b.map(function(a){return a.kc()}))));var q=Math.abs(c-h)*d(),u=Math.min.apply(Math,[].concat(ma(b.map(function(a){return g(a)})))),v=[];k.eu.zl&&v.push(e(a)-1);k.eu.r&&v.push(e(a)+a.rh()*d());k.eu.cy&&v.push(e(a)+a.rh()/2*d());Zg().write(function(){v.forEach(function(a,b){$("#overlays .vertical.align").eq(b).addClass("on").css("top",Math.round(u)).css("left",
Math.round(a)).css("height",Math.round(q))})})}if(null!=k.Bt){c=Math.max.apply(Math,[].concat(ma(b.map(function(a){return a.Nd()}))));h=Math.min.apply(Math,[].concat(ma(b.map(function(a){return a.$b()}))));var z=Math.abs(c-h)*d(),t=Math.min.apply(Math,[].concat(ma(b.map(function(a){return e(a)})))),x=[];k.eu.t&&x.push(g(a)-1);k.eu.b&&x.push(g(a)+a.nh()*d());k.eu.cx&&x.push(g(a)+a.nh()/2*d());Zg().write(function(){x.forEach(function(a,b){$("#overlays .horizontal.align").eq(b).addClass("on").css("top",
Math.round(a)).css("left",Math.round(t)).css("width",Math.round(z))})})}}
function BU(a,b,c,d,e){function g(a){function b(c,d){return a(c)-a(d)}var c,d=[];S.slice(0).sort(b).forEach(function(e){c&&0==b(c.Le[0],e)?(c.Le.push(e),c.El=Math.min(c.El,e.El),c.Fl=Math.min(c.Fl,e.Fl),c.Nn=Math.max(c.Nn,e.Nn),c.On=Math.max(c.On,e.On)):d.push(c={Le:[e],pos:a(e),El:e.El,Fl:e.Fl,Nn:e.Nn,On:e.On,OK:NaN})});return d}function h(a,b){return a.pos-b.pos}function k(a,b){return a.OK<b.OK?a:b}function l(a,b,d){var e=wT(b,{pos:d-c},h),g=xT(b,{pos:d+c},h);b=b.slice(e,g);b.forEach(function(a){a.OK=
Math.abs(d-a.pos)});b.length&&a.push(b.reduce(k))}var m=null,n=null,p=[],q={zl:!1,r:!1,cy:!1,t:!1,b:!1,cx:!1},u=a.rh(),v=a.nh(),z,t,x,H,E,L,J,Q;z=a.$b();t=a.kc();x=a.Nd();H=a.kd();E=a.rh();L=a.nh();J=z+E/2;Q=t+L/2;var S=b.map(function(a){var b=a.$b(),c=a.Nd(),d=(b+c)/2,e=a.kc(),g=a.kd();return{object:a,El:b,Fl:e,DG:d,EG:(e+g)/2,Nn:c,On:g}});d.fq||(d.fq=!0,d.im={El:g(function(a){return a.El}),DG:g(function(a){return a.DG}),Nn:g(function(a){return a.Nn}),Fl:g(function(a){return a.Fl}),EG:g(function(a){return a.EG}),
On:g(function(a){return a.On})});b=0;var N=null;b=[];if(void 0===e||e.zl)if(N=null,b=[],l(b,d.im.El,z),l(b,d.im.Nn,z),N=b.length&&b.reduce(k))for(m=N.pos,q.zl=!0,b=0;b<N.Le.length;++b)p.push(N.Le[b].object);if(void 0===e||e.r)if(N=null,b=[],l(b,d.im.El,x),l(b,d.im.Nn,x),N=b.length&&b.reduce(k))for(m=N.pos-E,q.r=!0,b=0;b<N.Le.length;++b)p.push(N.Le[b].object);if(void 0===e||e.d)if(N=null,b=[],l(b,d.im.Fl,t),l(b,d.im.On,t),N=b.length&&b.reduce(k))for(n=N.pos,q.t=!0,b=0;b<N.Le.length;++b)p.push(N.Le[b].object);
if(void 0===e||e.W$)if(N=null,b=[],l(b,d.im.Fl,H),l(b,d.im.On,H),N=b.length&&b.reduce(k))for(n=N.pos-L,q.b=!0,b=0;b<N.Le.length;++b)p.push(N.Le[b].object);(function(){var b;b=[];l(b,d.im.DG,J);if(b=b.length&&b.reduce(k)){m=b.pos-E/2;q.cy=!0;for(var c=0;c<b.Le.length;++c)p.push(b.Le[c].object);var g=(c=e&&e.El)?a.Nd():a.$b();u=2*Math.abs(b.DG-g);c&&(m-=(u-E)/2)}})();(function(){var a;a=[];l(a,d.im.EG,Q);if(a=a.length&&a.reduce(k)){n=a.pos-L/2;q.cx=!0;for(var b=0;b<a.Le.length;++b)p.push(a.Le[b].object);
b=e&&e.Fl;v=2*Math.abs(a.EG-(b?H:t));b&&(n-=(v-L)/2)}})();z=a.F()-a.$b();x=a.w()-a.kc();null!==m&&m>a.F()?m+=z:null!==m&&m<a.F()&&(m+=z);null!==n&&n>a.w()?n+=x:null!==n&&n<a.w()&&(n+=x);null!==m&&0===Math.round(10*m)/10&&(m=0);null!==n&&0===Math.round(10*n)/10&&(n=0);return{At:m,Bt:n,rba:u,qba:v,No:p,eu:q}};var zC="screen";function dP(a,b,c){var d=Ab,e=Ib;a=new ru(b.id,2,0,a,b.version,b.session,b.timestamp,b.content||{},Hq(b.extensions),null!=b.conversionLoss?Ts("conversionLoss",b.conversionLoss):null);c=new ku(d,e,a,new ql,c);c.jq=!0;wb=c;Jb.G.get(Kf)&&wb.start();wb.GQ(CU);Yb=0;return wb}
function cA(a){$("#canvaDocument").on("mousedown",".page img, .cropControls img, a",ET);$("#canvaDocument").on("mouseup",cO);$("#canvaDocument").on("click",".hasWatermark .removeWatermark",DU(a));$("#content").on("keydown",".element.text.focused",EU);$("#content").on("keydown",".element.text.focused",FU);$("#content").on("input",".element.text.focused",GU);$("#canvaDocument").on("DOMNodeInserted",".element.text.focused",HU);if(!bO)$("#canvaDocument").on("click",".page .element:not(.focused)",!1);
$("#content").on("dblclick",".selectionBox:not(.multipleSelectionBox)",IU);(new fp("#canvaDocument")).on("mousedown",".selectionBox, .element",Zb).on("touchstart",".selectionBox, .element",Zb);(new fp("#canvaDocument")).on("click",".element.focused",IP).on("mousedown",".element.focused",IP).on("touchstart",".element.focused",IP).on("mousedown",".element:not(.focused, .multiSelected)",JU).on("touchstart",".element:not(.focused, .multiSelected)",JU);(new fp("#content")).on("click",".selectionBox.multipleSelectionBox",
FT).on("click",".element.multiSelected",FT).on("mousedown",".selectionBox.multipleSelectionBox",KU).on("touchstart",".selectionBox.multipleSelectionBox",KU).on("mousedown",".element.multiSelected",KU).on("touchstart",".element.multiSelected",KU);(new fp("#content")).on("click",".selectionBox",FT).on("mousedown",".selectionBox",LU).on("touchstart",".selectionBox",LU);(new fp("#content")).on("click",".selectionBox .handle",FT).on("mousedown",".selectionBox:not(.multipleSelectionBox, .text.freeResize) .handle",
MU).on("touchstart",".selectionBox:not(.multipleSelectionBox, .text.freeResize) .handle",MU);(new fp("#content")).on("click",".selectionBox .handle",FT).on("mousedown",".selectionBox.text.freeResize .handle.br",NU).on("touchstart",".selectionBox.text.freeResize .handle.br",NU);(new fp("#content")).on("mousedown",".multipleSelectionBox .handle",OU).on("touchstart",".multipleSelectionBox .handle",OU);(new fp("#content")).on("click",".cropControls",FT).on("mousedown",".cropControls",PU).on("touchstart",
".cropControls",PU);(new fp("#content")).on("click",".cropControls .handle",FT).on("mousedown",".cropControls .handle",QU).on("touchstart",".cropControls .handle",QU);(new fp("#content")).on("click",".viewPort .frameHandle",FT).on("mousedown",".viewPort .frameHandle",RU).on("touchstart",".viewPort .frameHandle",RU);(new fp("#content")).on("click",".selectionBox .rotate",FT).on("mousedown",".selectionBox .rotate",Zo).on("touchstart",".selectionBox .rotate",Zo);(new fp("#objectPanel")).on("mousedown",
SU).on("touchstart",SU).on("mousedown",".gallery a",SU).on("touchstart",".gallery a",SU);$("#canvaDocument").on("mouseenter",".unapproved, .failed",TU);if(bO)$("#content").on("click",UU);$("#null").keydown(function(){$(this).blur()})}function VU(){var a=K;function b(a){a.YC(yb)}lA||Zp(a).forEach(b)}
function WU(a,b,c,d,e,g){function h(){return new XU({Bm:(new UAParser).getBrowser().name,document:a,W:b,pa:wb,Fs:Date.now(),ej:new Gu(Ib),TK:new zu,Uk:d,i:g})}function k(a){document.title=a}if(lA)vb=new YU({i:g,model:a,H:hl});else{Tb=new jP({model:a,W:b,pa:wb,mc:ac,fj:c,BI:k,nJ:e,nK:h,Eg:d.Eg,i:g,Uk:d,j:y(U)});c=c.wh()?ZU:void 0;vb=new YU({i:g,model:a,H:hl,XI:c});$b=new $U({model:a,Zk:vb,i:g});var l=new jQ(a,vb);Rb=function(){return l}}}
function bA(a,b,c,d,e,g){function h(a){-1===l.indexOf(a)&&(l.push(a),m())}K&&(hh(),K.off(),vb.remove(),lA||(Tb.remove(),$b.remove()));var k=_.flatten(_.pluck(a.pages,"elements")).length,l=[],m=_.after(k+1,function(){if(K&&K.ia){var a=10*K.ia().length;T.off("elementLoaded",h);T.off("elementLoadingError",h);window.setTimeout(function(){K.XM=!0;T.trigger("documentRendered");window.setTimeout(function(){$("#canvaDocument").addClass("rendered")},2E3);g&&(g.wa("rendered"),g.done());K.on("change",K.CH);
K.listenTo(T,"elementLoaded:graphic",K.CH);K.listenTo(T,"elementLoaded:svg",K.CH);K.CH();K.on("change",K.IB);K.listenTo(T,"elementLoaded:text",K.IB);K.listenTo(T,"elementLoaded:svg",K.IB);K.IB()},100+a)}});T.on("elementLoaded",h);T.on("elementLoadingError",h);T.on("pageTimeoutWaitingForElements",function(){pO()});K=new Dp(a,b,d);K.on("change",Wb);WU(K,Jb,c,Mb,e?e():[],d);K.Gb().forEach(function(a){a.ia().forEach(function(b){a.trigger("element:add",a,b)})});m();M=new rO;VU()}
function Ag(a){var b=a.R();if(null==b)throw Error("cannot register element add operation - element must first be added to a page");a=DO(a.serialize());a.pageIndex=cp(K,b);M.register(new Y(yO,a))}function aV(a){var b=[];a.elements.forEach(function(a){a=a.elementIndex;-1!==a&&b.push(a)});return[Math.min.apply(null,b),Math.max.apply(null,b)]}
function bV(a){var b=a.R();if(null==b)throw Error("cannot register element group operation - group has no page");a=a.serialize();var c=DO(a);c.pageIndex=cp(K,b);c.childRange=aV(a);M.register(new Y(13,c))}function cV(a){var b=a.R();if(null==b)throw Error("cannot register element ungroup operation - group has no page");a=a.serialize();var c=DO(a);c.pageIndex=cp(K,b);c.childRange=aV(a);M.register(new Y(14,c))}
function BN(a){var b=a.R();if(null!=b){var c=DO(a.serialize());c.pageIndex=cp(K,b);UC(a)&&(b=a.oM())&&(c.groupElementIndex=b.K(),c.groupIndex=b.ia().indexOf(a));M.register(new Y(zO,c))}}
function dV(a){if(a.NJ()){var b=a.R(),c=cp(K,b),d=b.qa();Fm(a.qa(),d)?(LK(),b.ia().forEach(function(b){b!==a&&b.Hb()&&(BN(b),b.remove())}),a.Hb()||(b=a.K(),Up(a),M.register(new Y(HN,{backgroundColor:a.lh(),elementIndex:a.K(),oldElementIndex:b,pageIndex:c})),hh(),Bg(a)),MK()):a.Hb()&&(b=a.K(),d=a.lh(),ED(a),M.register(new Y(GN,{backgroundColor:d,elementIndex:a.K(),oldElementIndex:b,pageIndex:c})))}}
(function(){var a=0,b=!1;Wb=function(){if(wb&&wb.jq){var c=K.serialize();pM(c);if(cq(c).result)Yb=wb.post(Yb,c),null==Yb&&nO(),a=0;else if(K.XM)if(eq())T.once("pageLayoutLoaded",Wb);else 3<=a&&(pO(),wb.close()),a+=1;else b||(b=!0,T.once("documentRendered",Wb))}else pO()}})();var eV=0;
function CU(a){window.clearTimeout(eV);wb&&wb.jq?(1==a?eV=window.setTimeout(function(){pO()},O.ny):2==a?(1===Yb&&2===wb.fe()&&window.opener&&"/"===window.opener.location.pathname&&window.opener.location.reload(),oO()):3==a&&(nO(),wb.close()),T.trigger("session:sync",a)):pO()}
(function(){function a(){b=[];$(document).off("keyup",a)}var b=[];Zb=function(c){var d=void 0!==c.clientX?c.clientX:c.originalEvent.touches[0].clientX,e=void 0!==c.clientY?c.clientY:c.originalEvent.touches[0].clientY;if(c.metaKey){$(document).on("keyup",a);var g=[],h=null;$("#canvaDocument .page.selected .element").each(function(){var a=this.getBoundingClientRect();a.left<d&&a.right>d&&a.top<e&&a.bottom>e?(a=$(this).data("canvaElement"),g.push(a),-1===b.indexOf(a)&&(a.Jf()?(GO(a),b.unshift(a)):b.push(a))):
h=$(this).data("canvaElement")});b.forEach(function(a,c){-1===g.indexOf(a)&&b.splice(c,1)});h&&-1!==b.indexOf(h)&&b.unshift(h);var k=b.pop();if(k)return hh(),Bg(k),b.unshift(k),c.stopPropagation(),c.preventDefault(),!1}return!0}})();function fV(){return K.Gb().map(function(a){return{rect:Xg(DD(vb,a)),page:a}})}
function DU(a){return function(b){var c=ky(a.Ka).ka(),c={j:U,na:ly(a.Ka).u(),va:c.u(),aa:Bb,ac:Db,Z:Eb,ub:a.ub,fb:a.fb,i:Lb,cf:c.hi(),fa:a.fa},d=c.i;d.aS||(d.aS=new Ye(d.config));var e=d.aS,d=new oU,g={j:c.j,aa:c.aa,Z:c.Z,fb:c.fb,ub:c.ub,i:c.i,na:c.na,va:c.va,kf:!1,Qf:e.Qf(),Rb:d,cf:c.cf,fa:c.fa},h=gV({D:g.va,Dj:g.aa,Xe:!1,nf:g.fb,Ya:cd(g.i),j:g.j}),h=new hV({wd:h.Db,bj:h.view}),g=(new iV({view:h,j:g.j,na:g.na,va:g.va,aa:g.aa,Z:g.Z,ub:g.ub,Xb:g.Xb,i:g.i,kf:g.kf,Qf:g.Qf,Rb:g.Rb,pb:g.pb,cf:g.cf,fa:g.fa})).init(),
k=e.title(),e=$;soy.asserts.assertType(goog.isString(k)||k instanceof goog.soy.data.SanitizedContent,"title",k,"string|goog.soy.data.SanitizedContent");k=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csection class\x3d"watermarkRemovalDialog__content"\x3e\x3cheader class\x3d"watermarkRemovalDialog__header"\x3e\x3ch2\x3e'+soy.$$escapeHtml(k)+'\x3c/h2\x3e\x3c/header\x3e\x3cdiv class\x3d"watermarkRemovalDialog__body"\x3e\x3cdiv class\x3d"watermarkRemovalDialog__paymentPage"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/section\x3e');
e=e(k.toString());e.find(".watermarkRemovalDialog__paymentPage").append(h.$el);h=new wU(e);e=new kp({content:h.$el,H:hl,jf:!0,className:"watermarkRemovalDialog"});c=new xU(c,h,e,g,d);b=$(b.target).parent(".selectionBox");d=b.data("element");if(d.data("canvaElement"))return d=d.data("canvaElement"),jV(c,d,b)}}
function jV(a,b,c){var d=K;function e(a,b){if(b.Jv()){var c=b.Uz();if(0<c.length&&c.map(function(a){return a.Ob()}).some(h.bind(null,a)))return!0}return b.$j()?h(a,b.Ob()):!1}function g(a){return a.Kw?a.Kw():P.resolve()}function h(a,b){return a.some(function(a){return null!=a&&null!=b&&a.id===b.id&&a.version===b.version})}var k=[];if(b.Jv()){var l=b.Uz();0<l.length&&(k=l.map(function(a){return a.Ob()}).filter(kV))}b.$j()&&kV(b.Ob())&&k.push(b.Ob());b=k.filter(function(a){return null!=a}).map(function(a){return a.id});
yU(a,b).then(function(a){a=d.ia().filter(e.bind(null,a)).map(g);return P.all(a)}.bind(null,k)).then(function(){a.close();c.removeClass("hasWatermark")})}function lV(a){if(a.Jv()){var b=a.Uz();if(0<b.length&&b.some(function(a){return kV(a.Ob())}))return!0}return a.$j()?kV(a.Ob()):!1}function kV(a){var b;a&&(b=(a=Hb.Kc(a.id,a.version))&&a[Lg]);return b&&b.watermarked||!1}function ep(){$("#overlays .element.text.focused").each(function(){CB($(this))})}
function JU(a){function b(a){fm=!!a.shiftKey;xb=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;pb=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;wc=t.C().get(0).getBoundingClientRect();ue.read(c);return!1}function c(){var a=!1;if(t.$j()){var b=t.Ob();b&&!aq(yb,b)&&(a=!0)}if(!t.EA||t.hb||a){a=xb-E;b=pb-L;ta&&t.nb()&&t.Xi();if(ta){var c=Vg(vb,Wg(wc));(c=mV(c,h))&&c.page?(Ig&&(Ig=!1,t.C().removeClass("outsidePage")),t.Gy()&&!t.Ov(t.R())?(Vb&&c.page!=Vb&&Vb.$el.removeClass("hotspotHover"),
Vb=DD(vb,c.page),Vb.$el.addClass("hotspotHover")):Vb&&Vb.$el.removeClass("hotspotHover")):(t.C().addClass("outsidePage"),Ig=!0)}if(ta||Math.abs(a)>O.Hc||Math.abs(b)>O.Hc){ta=!0;t.setPosition(ha+a/W,fa+b/W);fm||Aa.hasClass("placing")?cO():dh(t,Za,qa);b=$(".page.selected.on");c=$("#overlays");if(1===b.length&&1===c.length&&1===J.length){var a=J.get(0).getBoundingClientRect(),b=b.get(0).getBoundingClientRect(),d=c.get(0).getBoundingClientRect(),c=a.left-d.left,d=a.top-d.top,g=Math.round((a.left-b.left)/
W),a=Math.round((a.top-b.top)/W);e.addClass("positionIndicatorShowing").addClass("positionIndicatorMoving").css("transform","translate("+c+"px,"+d+"px)").text(g+", "+a)}t.$a()}ta&&!ca&&(a=Aa.find("img"),a.attr("data-screen-width",t.l()).attr("data-screen-height",t.o()),t.EA&&a.attr("data-media-approved",t.hb),Aa.addClass("clone"),!t.PD()&&t instanceof yC&&Aa.addClass("cutout"),b=Jg({id:t.ba,version:t.ca,origin:t.origin?t.origin.lc():"CANVA",files_:[{quality:"THUMBNAIL",page:0,url:a.attr("src")},{quality:"SCREEN",
page:0,url:a.attr("src")}]}),c=$("\x3cli\x3e\x3c/li\x3e"),c.data("result",b).append(a.clone()),Aa.data("li",c),t.PD()||t.ae())&&(ih(Aa,null,xN(xc)),ca=!0)}}function d(a){xc.off("mousemove|touchmove",b).off("mouseup|touchend",d);Md.read(function(){var b=t.C().get(0).getBoundingClientRect();Md.write(function(){var c;e.remove();J.remove();t.vg=!1;$("#hotspots").remove();Vb&&Vb.$el.removeClass("hotspotHover");$("#overlays .align").removeClass("on");if(ta){if(t.R())if(t.Ov(t.R()))LK(),dV(t),c={elementIndex:t.K(),
pageIndex:cp(K,t.R()),"new":{left:t.F(),top:t.w()},old:{left:ha,top:fa}},c=new Y(dp,c),M.register(c),MK();else{t.Ff()&&CB(t.Ge());c=Vg(vb,Wg(b));var d=mV(c,h);d&&t.Gy()?(LK(),c=nV(t,c,d,ha,fa),dV(c),MK(),H&&oV([c])):(c=DO(t.serialize()),c.pageIndex=cp(K,t.R()),c.left=ha,c.top=fa,c=new Y(zO,c),LK(),M.register(c),t.remove(),MK())}}else if(!p||q&&!m||n)c=!1,u&&(d=k.closest(".text"),x?CB(d):a.shiftKey||(t instanceof ap?(UK(d,!0),hP(v,zc(g)),c=!0):t instanceof HH||(t instanceof GC?(t.Xi(),d.is(".element")&&
UK(d,!1),t.oo(),hP(v,zc(g)),c=!0):UK(d)))),!(t instanceof HH)&&t instanceof GC&&z&&(jG(t,z),(d=t.C().data("toolbar"))&&ZC(d,t)),Bg(t,c);Aa.removeClass("clone cutout").removeData("startLeft").removeData("startTop").removeData("li");Aa.find("img").removeAttr("data-screen-width").removeAttr("data-screen-height")})})}if(a.which==O.Mh||a.ctrlKey)return!0;$("#overlays .positionIndicator").remove();var e=$('\x3cdiv class\x3d"positionIndicator"\x3e\x3c/div\x3e');$("#overlays").append(e);var g=Lb,h=fV(),k=
$(a.target),l=0!==k.parents(".group").length,m=k.is(".group"),n=k.is(".chart"),p=k.is(".group .elements"),q=k.is(".chart .elements"),u=k.is(".text")||0<k.parents(".text").length,v=u?k.closest(".element"):$(this),z;l&&(z=v.data("canvaElement"),v=k.parents(".group").first());if(v.data("canvaElement")){var t=v.data("canvaElement");if(l=t.R()){if(!t.OD())return a.preventDefault(),a.stopImmediatePropagation(),!1;T.trigger("hideContextualControlsRequested");a.altKey&&(ep(),t=t.clone(),t.appendTo(l),t.rc(),
v=t.C());var x=v.hasClass("focused"),H=t.Jf(),E=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,L=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;if($(document.elementFromPoint(E,L)).is(".handle.on"))return!0;if(a.shiftKey&&0===K.Wa().length||t.Hb()&&!H||t.Hg()&&!H)return $b.XA(a,!0);var J=$("\x3cdiv\x3e\x3c/div\x3e"),l=Mm(t.Ta());45<l&&135>=l?J.css({position:"absolute",bottom:0,left:0}):135<l&&225>=l?J.css({position:"absolute",bottom:0,right:0}):225<l&&315>=l?J.css({position:"absolute",
top:0,right:0}):J.css({position:"absolute",top:0,left:0});t.C().append(J);l=!(1===K.Wa().length&&K.Wa()[0]===t);a.shiftKey||H||!l||hh();if(t instanceof ap)l=$("#overlays .svg.text.focused"),0<l.length&&(CB(l),t.MP(),hP(v,zc(g))),l=k.siblings("image").filter(function(){return this.classList.contains("placeholder")&&this.getAttribute("xlink:href")!=O.Yo}),k.is("image.placeholder")&&k.attr("xlink:href")!=O.Yo?t.st(k):k.is(".outline")&&1===l.length&&t.st(l);else if(t instanceof CC)k.is(".placeholder")&&
t.Fg()!==k&&t.st(k);else if(t instanceof GC){a=z===t;var Q=z instanceof Kp,S=!Q&&t.ad instanceof Kp,N=Q&&z!==t.ad;if(S||N||Q&&l||a)(N||S||a)&&t.ad instanceof Kp&&CB(t.ad.C()),t.Xi(),t.MP(),a||!m&&!p||hP(v,zc(g))}var ha=t.F(),fa=t.w(),ta=!1,Za={},qa=ch(t),ca=!1,Aa=t.C();Aa.data("startLeft",ha).data("startTop",fa);var xb=0,pb=0,wc=v.get(0).getBoundingClientRect(),ue=Zg(),Md=Zg(),Ig=!1,Vb,fm=!1;t.vg=!0;var xc=new fp($(document));xc.on("mousemove|touchmove",b).on("mouseup|touchend",d);return!1}}}
function nV(a,b,c,d,e){var g=(b.F()-c.rect.F())/W;b=(b.w()-c.rect.w())/W;var h=DO(a.serialize());h.pageIndex=cp(K,a.R());h.left=d;h.top=e;d=new Y(zO,h);LK();M.register(d);d=a.clone();a.remove();d.Hb()&&ED(d);d.appendTo(c.page);d.setPosition(g,b);Ag(d);MK();return d}function mV(a,b){for(var c=0;c!=b.length;c++)if(Yg(a,b[c].rect))return b[c];return null}
function pV(a,b){return K.Wa().filter(function(c){c=c.C().get(0).getBoundingClientRect();return c.left<a&&c.right>a&&c.top<b&&c.bottom>b}).sort(function(a,b){return a.K()-b.K()})}function qV(a){var b=Lb;2>K.Wa().length||(GO(a),a=K.Wa(),1<a.length?(a.forEach(function(a){a.C().removeData("toolbar")}),NK(zc(b),Bc(b))):1===a.length&&($(".multipleSelectionBox").remove(),hh(),a[0].C().removeClass("multiSelected"),aO(a[0]),a[0].$a()))}
function rV(a){function b(a,b){return a.K()-b.K()}if(2>a.length)return null;for(var c=a[0].R(),d=c.K(),e=1;e!==a.length;e++)if(!c||!a[e].R()||a[e].R()!==c)return null;var g=gG(new GC,a);LK();(function(a){a.sort(b);for(var c=a[0],e=1;e!==a.length;e++){var g=a[e].K();a[e].insertAfter(c);var c=a[e],n=a[e].K();g!==n&&M.register(new Y(4,{oldElementIndex:g,elementIndex:n,pageIndex:d}))}return a})(a);g.insertBefore(a[0]);a.forEach(function(a){g.addElement(a);var b=(new Zm).translate(-1*g.F(),-1*g.w());a.transform(b);
g.C().find(".elements").append(a.C())});bV(g);MK();return g}function iL(){function a(a){return a.elements&&0!==a.elements.length}function b(a){return a.Hb()}function c(a){return UC(a)}var d=K.Wa();if(!(1>=d.length||0<d.filter(a).length||0<d.filter(b).length||0<d.filter(c).length)){for(var e=d[0].R(),g=1;g!==d.length;g++)if(!e||!d[g].R()||d[g].R()!==e)return;hh();(d=rV(d))&&Bg(d)}}
function IS(a,b){var c=a.C().data("toolbar"),d=a.Bb();if(-1!==d)d=[a.Tb(d)];else if(a.nb()&&a.se())d=lG(a),c&&jE(c);else return;b();LK();d.forEach(function(b){var c=b.index,d=a.Tb(c);b={elementIndex:a.K(),pageIndex:cp(K,a.R()),textIndex:c,"new":d,old:b};M.register(new BO(1,b))});MK();c&&jE(c)}
function WK(a){function b(a){if(0===a.Ta()){var b=a.qa();a.kb(0);a.ma(c);var h=a.qa();xm(b,h)||M.register(new Y(dp,{elementIndex:a.K(),pageIndex:d,old:b.serialize(),"new":h.serialize(),proportionalSetSize:!1}))}}if(a.nb()){var c=a.l(),d=cp(K,a.R());LK();iG(a).forEach(b);MK()}}function XK(a){a.nb()&&(LK(),iG(a).forEach(function(b){IS(b,function(){a.br(0,"uppercase");TA(a.cb(0),!1)})}),MK())}
function YK(a){a.nb()&&(LK(),iG(a).forEach(function(a){IS(a,function(){a.yi(0,"left");TA(a.cb(0),!1)})}),MK())}function ZK(a){a.nb()&&(LK(),iG(a).forEach(function(a){IS(a,function(){a.yi(0,"right");TA(a.cb(0),!1)})}),MK())}function $K(a){a.nb()&&(LK(),iG(a).forEach(function(a){IS(a,function(){a.yi(0,"center");TA(a.cb(0),!1)})}),MK())}
function sV(a,b,c){var d=a.ia().slice(),e=b(a),g=a.ad;g&&(e=b(g));LK();b=a.Ge();1===b.length&&CB(b);cV(a);EO(a);d.forEach(function(a){var b=a.F(),d=a.w();c(a,e);M.register(new Y(dp,{elementIndex:a.K(),pageIndex:cp(K,a.R()),"new":{left:a.F(),top:a.w()},old:{left:b,top:d}}))});(a=rV(d))&&aO(a);MK()}function fS(a){sV(a,function(a){return a.$b()},function(a,c){LC(a,a.$b()-c)})}function gS(a){sV(a,function(a){return a.Nd()},function(a,c){NC(a,c-a.Nd())})}
function hS(a){sV(a,function(a){return a.$b()+a.rh()/2},function(a,c){var d=a.$b()+a.rh()/2;LC(a,d-c)})}function iS(a){sV(a,function(a){return a.kc()},function(a,c){MC(a,a.kc()-c)})}function jS(a){sV(a,function(a){return a.kd()},function(a,c){OC(a,c-a.kd())})}function kS(a){sV(a,function(a){return a.kc()+a.nh()/2},function(a,c){var d=a.kc()+a.nh()/2;MC(a,d-c)})}
function mS(a){var b=a.ia().slice();LK();cV(a);EO(a);a=b.slice().sort(function(a,b){return a.$b()>b.$b()});var c=a.shift().Nd(),d=a.pop().$b(),e=a.reduce(function(a,b){return b.rh()+a},0),g=(d-c-e)/(a.length+1),h=c;a.forEach(function(a){var b=a.F(),c=a.w();LC(a,a.$b()-h-g);h=a.Nd();M.register(new Y(dp,{elementIndex:a.K(),pageIndex:cp(K,a.R()),"new":{left:a.F(),top:a.w()},old:{left:b,top:c}}))});(b=rV(b))&&aO(b);MK()}
function lS(a){var b=a.ia().slice();LK();cV(a);EO(a);a=b.slice().sort(function(a,b){return a.kc()>b.kc()});var c=a.shift().kd(),d=a.pop().kc(),e=a.reduce(function(a,b){return b.nh()+a},0),g=(d-c-e)/(a.length+1),h=c;a.forEach(function(a){var b=a.F(),c=a.w();MC(a,a.kc()-h-g);h=a.kd();M.register(new Y(dp,{elementIndex:a.K(),pageIndex:cp(K,a.R()),"new":{left:a.F(),top:a.w()},old:{left:b,top:c}}))});(b=rV(b))&&aO(b);MK()}
function EO(a){var b=[].concat(a.ia()).reverse(),c=PC(a);a.Xi();b.forEach(function(b){a.rj(b);var e=dG(c,PC(b),!0);b.insertAfter(a);b.C().insertAfter(a.C());b.em(e.Ha);b.setPosition(e.left,e.top);b.dm(e.rotation)});a.remove();hh();jL(b)}function hL(){var a=K.Wa(),b;if(b=1===a.length)b=-1!==a[0].js().indexOf("ungroup");b&&(hh(),LK(),a=a[0],cV(a),EO(a),MK())}
function KU(a){function b(a){t=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;x=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;E.read(c);return!1}function c(){var a=t-k,b=x-l,c=$(".multipleSelectionBox").get(0).getBoundingClientRect(),c=Vg(vb,Wg(c)),c=mV(c,H);if(z||Math.abs(a)>O.Hc||Math.abs(b)>O.Hc)z=!0,h.setPosition(n+a/W,p+b/W),dh(h,u,v),c&&c.page&&c.page!==h.R()&&!h.Ov(h.R())?DD(vb,c.page).$el.addClass("hotspotHover"):$(".page").removeClass("hotspotHover"),NK(zc(e),
Bc(e))}function d(){J.off("mousemove|touchmove",b).off("mouseup|touchend",d);L.read(function(){var a=$(".multipleSelectionBox").get(0).getBoundingClientRect(),b=Vg(vb,Wg(a));L.write(function(){var a=mV(b,H);$(".page").removeClass("hotspotHover");$("#overlays .align").removeClass("on");tV(g,!1);if(z){LK();if(h.Ov(h.R()))g.forEach(function(a,b){a={elementIndex:a.K(),pageIndex:cp(K,a.R()),"new":{left:a.F(),top:a.w()},old:{left:q[b].left,top:q[b].top}};M.register(new Y(dp,a))});else if(a){for(var c=[],
d=g.length-1;0<=d;d--){var e=g[d];if(e.Gy()){var k=e.C().get(0).getBoundingClientRect(),k=Vg(vb,Wg(k)),e=nV(e,k,a,q[d].left,q[d].top);c.push(e)}}hh();jL(c)}else g.forEach(function(a,b){var c=DO(a.serialize());c.left=q[b].left;c.top=q[b].top;c.pageIndex=cp(K,a.R());M.register(new Y(zO,c));a.remove()}),$(".multipleSelectionBox").remove();MK()}})})}var e=Lb;if(a.which==O.Mh||a.ctrlKey)return!0;var g=K.Wa().sort(function(a,b){return b.K()-a.K()}),h=new tl(g),k=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,
l=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,m=pV(k,l)[0];if(a.shiftKey&&m)return qV(m),!1;tV(g,!0);var n=h.F(),p=h.w(),q=g.map(function(a){return{left:a.F(),top:a.w()}}),u={},v=ch(g),z=!1,t=0,x=0,H=fV(),E=Zg(),L=Zg(),J=new fp($(document));J.on("mousemove|touchmove",b).on("mouseup|touchend",d);return!1}$(function(){bc=new CP;bc.on("nodeInserted",uV).on("nodeInserted",vV).on("nodeRemoved",vV).on("characterDataModified",vV)});
function PK(){if(1===K.Wa().length){var a=K.Wa()[0];if(a.nb()){var b=a.Bb(),c;a:{for(c=a.Bb()+1;c!=a.elements.length;c++)if(kG(a,c))break a;b:{for(c=0;c!=a.elements.length;c++)if(kG(a,c))break b;c=-1}}-1!==c&&c!==b&&(b=a.cb(c),c=b.data("canvaElement"))&&(CB(a.Ge()),a.Xi(),UK(b),jG(a,c),a.$a())}}}
function UK(a,b){if(!a.hasClass("focused")){var c=a.data("canvaElement");if(c&&c.lp()){var d=a.parents(".page").hasClass("dark");d&&a.addClass("dark");Tb&&(wV(Tb),xV(Tb));var e=!!a.parents(".page").length;if(a.is(".svg .text"))d=a.parents(".element").first(),e&&a.data("precedingElement",d.prevAll(".element").first()),a.addClass("focused svg element"),d.appendTo("#overlays"),c.setPosition(),bp(c);else if(a.is(".group .text")){var g=a.parents(".group").first();e&&(e=g.prevAll(".element").first(),a.data("precedingElement",
e),g.data("precedingElement",e));a.addClass("focused");d&&g.find(".text").addClass("dark");g.appendTo("#overlays");g.data("canvaElement").setPosition()}else e&&a.data("precedingElement",a.prevAll(".element").first()),a.appendTo("#overlays").addClass("focused"),c.setPosition();d=c.Bb();a.removeClass("focused");c=c.Tb(d);a.data("oldTextData",c);a.addClass("focused");UA(a);c=a.children(".inner");c.attr("contentEditable","true");c.focus();c.off("paste").on("paste",yV);EP(bc);bc.observe(a);zS.PZ(a);d=
nc(Lb);a=a.data("placeholderText")||d.Ng();a=c.text()==a;(b||a)&&mB(c)}}}function mB(a,b){window.setTimeout(function(){var c,d;window.getSelection&&document.createRange?(d=document.createRange(),d.selectNodeContents(a.get(0)),c=window.getSelection(),c.removeAllRanges(),c.addRange(d)):document.body.createTextRange&&(d=document.body.createTextRange(),d.moveToElementText(a.get(0)),d.select());b&&b()},1)}
function yV(a){if(document.queryCommandSupported("ms-pasteContentOnly"))document.execCommand("ms-pasteContentOnly");else if(document.queryCommandSupported("insertHTML")&&a.originalEvent.clipboardData){var b=a.originalEvent.clipboardData.getData("text/plain"),b=_.escape(b).replace(/\r?\n/g,"\x3cbr\x3e").replace(/ {2}/g," \x26nbsp;");document.execCommand("insertHTML",!1,b)}else throw Error("Beware! Unsupported browser. Sneaking around.");a.preventDefault()}
function uV(a){function b(a){var b=a.attr("style");b&&-1<b.indexOf("Glegoo, Helvetica, Arial, sans-serif")&&a.attr("style","")}a=$(a.target);b(a);a.children().each(function(){b($(this))})}var zV=!1;
function vV(a){var b=$(this),c=b.data("textChangeCount")||0;b.data("textChangeCount",++c);if(zV)zV=!1;else{var c=b.data("designObject")||null,d=b.data("Canva.textElementUpdated:lastCalledAt")||0;5<a.timeStamp-d&&(b.data("Canva.textElementUpdated:lastCalledAt",a.timeStamp),c&&b.is(".svg")&&VD(c));a=/[\uE000-\uF8FF]/g;c=b.html();a.test(c)&&(zV=!0,b.html(c.replace(a,"")))}}
var zS=function(){function a(a){a.get(0)===e&&(0!==d&&(window.cancelAnimationFrame(d),d=0),$(e).off("keydown mousemove",b),e=null,h=0)}function b(){g=Date.now();0===d&&(d=window.requestAnimationFrame(c))}function c(){var a=Date.now();if(5E3<a-g)d=0;else if(e){if(100<a-h){var b=jQuery.data(e,"toolbar");b&&jE(b);h=a}d=window.requestAnimationFrame(c)}}var d=0,e=null,g=0,h=0;return{PZ:function(c){c=c.get(0);c!==e&&(null!==e&&a($(e)),e=c,b(),$(e).on("keydown mousemove",b))},SZ:a}}();
function CB(a){var b=a.data("canvaElement");if(b&&a.is(".focused")){a.data("textChangeCount",0);var c=a.data("precedingElement"),d=a.children(".inner"),e=b.R()||K.Ea(),g=DD(vb,e),h=b.Bb(),k=!1,l=!a.parents(".page").length;zS.SZ(a);Tb&&AV(Tb);a.removeClass("dark");if(a.is(".svg.text"))k=a.parents(".element").first(),l&&(c&&0<c.length?k.insertAfter(c):BV(g,k)),a.removeData("precedingElement").removeClass("focused svg element"),d.attr("contentEditable","false"),bp(b),DA(b,h),k=!0,(c=b.C().data("toolbar"))&&
c.oo("font");else if(a.is(".group .text")){var m=a.parents(".group").first();m.find(".text").removeClass("dark");var n=m.data("canvaElement"),c=m.data("precedingElement");l&&(c&&1===c.length&&0>=m.has(c[0]).length?m.insertAfter(c):BV(g,m));m.removeData("precedingElement");a.removeData("precedingElement");a.text().match(/^\s*$/)&&n?((c=a.data("oldTextData"))&&b.uj(h,c),PR(n)):(DA(b,h),k=!0);n.Xi();d.attr("contentEditable","false");n.rc();(c=n.C().data("toolbar"))&&c.oo("font")}else 0<a.length&&(l&&
(c&&0<c.length?a.insertAfter(c):BV(g,a)),a.removeClass("focused"),d.attr("contentEditable","false"),a.text().match(/^\s*$/)?((c=a.data("oldTextData"))&&b.uj(h,c),LK(),BN(b),b.remove(),MK()):(DA(b,h),k=!0));d.off("paste",yV);EP(bc);b.rc();$("#null").focus();window.setTimeout(function(){$("#null").blur()},0);if(k){if(d=a.data("oldTextData"))k=b.Tb(h),e={elementIndex:b.K(),pageIndex:cp(K,e),textIndex:h,"new":k,old:d},e=new BO(1,e),LK(),M.register(e),b.Uc=!0,MK();b=K.qb();e=a.text();dU(b)&&eU(b,fU(b,
e)?"":e)}a.removeData("oldTextData")}}
function LU(a){var b;if(/touch/gi.test(a.type)||!$(this).hasClass("multipleSelectionBox")){var c=$(this).data("element");if(!c)return;b=c.get(0);if(b&&(c=c.data("canvaElement")))if(c instanceof Kp)a.target=b;else{$(this).css("visibility","hidden");var c=document.elementFromPoint(void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY),d=$(c).closest(".element").get(0);d?(a.target=c,b=d):a.target=b;$(this).css("visibility","")}else return;
JU.call(b,a)}return!1}function IU(a){var b=$(this).data("element"),c=$(b).data("canvaElement");if(!c||a.metaKey)return!1;b.hasClass("text")?UK(b):c.Jm?AS(c):c.sy()&&(c.Ru=!c.Ru,c.$a());return!1}var CV=!1;
function Bg(a,b){function c(a){var b=a.C();a.Ah();b.is(".text.focused")&&CB(b);b.addClass("multiSelected")}CV=!1;var d=Lb,e=a.C(),g=K.Wa();if(a.lp()){var h=!1;g.forEach(function(b){b.R()===a.R()&&(h=!0)});if(!(0<g.length)||h){if(UC(a))if(e=e.parents(".group"),1===e.length&&e.data("canvaElement"))a=e.data("canvaElement"),hG(a),a.Xi(),a.oo();else return;a.Jf()?a.nb()&&!b&&xS(a,zc(d)):(a.zk(!0),0===g.length?(DV(e),!b&&xS(a,zc(d))):UC(a)||(g.forEach(c),e.addClass("multiSelected"),NK(zc(d),Bc(d))))}}}
function xS(a,b){hP(a.C(),b)}function aO(a){var b=K.Wa();if(1!=b.length||-1==b.indexOf(a))hh(),Bg(a)}function lL(a){var b=K.Wa(),c=K.Ea(),d=c.ia().length-1;if(0!==a&&1===b.length&&(b=c.elements.indexOf(b[0]),-1!==b)){b+=a;0>b&&(b=d);b>d&&(b=0);var e=c.elements[b]||null;e&&(e.Hb()&&(0<a?(b+=1,b>d&&(b=0)):(--b,0>b&&(b=d))),(a=c.elements[b]||null)&&aO(a))}}var EV=_.template('\x3cdiv class\x3d"selectionBox cornerHandles"\x3e\x3cdiv class\x3d"inner"\x3e\x3c/div\x3e\x3ca class\x3d"handle tl" href\x3d"#" title\x3d"\x3c%- resize %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"handle t" href\x3d"#" title\x3d"\x3c%- stretch %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"handle tr" href\x3d"#" title\x3d"\x3c%- resize %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"handle l" href\x3d"#" title\x3d"\x3c%- stretch %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"handle r" href\x3d"#" title\x3d"\x3c%- stretch %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"handle br" href\x3d"#" title\x3d"\x3c%- resize %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"handle b" href\x3d"#" title\x3d"\x3c%- stretch %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"handle bl" href\x3d"#" title\x3d"\x3c%- resize %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"rotate" href\x3d"#" title\x3d"\x3c%- rotate %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"move" href\x3d"#"\x3e\x3c/a\x3e\x3ca class\x3d"removeWatermark" href\x3d"#"\x3e\x3c%- removeWatermark %\x3e\x3c/a\x3e\x3c/div\x3e');
function DV(a){function b(){e.removeClass("initialHover");e.off("mousemove",b)}var c=Lb,d=$("#overlays"),e=a.data("selectionBox"),g=a.data("canvaElement")||null;a.addClass("selected");e||(e=$(EV({resize:Bc(c).resize(),stretch:Bc(c).stretch(),rotate:Bc(c).rotate(),removeWatermark:Bc(c).j9()})),e.data("element",a).appendTo(d),a.hasClass("text")&&e.addClass("text"),a.hasClass("svg")&&e.addClass("svg"),a.hasClass("graphic")&&e.addClass("graphic"),a.hasClass("unapproved")&&e.addClass("unapproved"),a.hasClass("group")&&
e.addClass("group"),a.data("selectionBox",e));g&&(Jb.G.get(cg)&&(lV(g)?(e.addClass("hasWatermark"),e.addClass("initialHover"),e.on("mousemove",b)):e.removeClass("hasWatermark")),g.$a())}function GO(a){var b=a.C(),c=b.find(".text.focused");a.zk(!1);a.Ah();b.removeClass("selected").removeClass("multiSelected");b.is(".text.focused")?CB(b):a instanceof GC?1===c.length&&CB(c):a instanceof ap&&1===c.length&&CB(c);a.Xi();(b=a.R())&&!a.Ov(b)&&(BN(a),a.remove())}function FV(a){GO(a);Bg(a)}
function jL(a){for(var b=0;b!==a.length;b++)if(!a[b].lp())return;if(1===a.length)Bg(a[0]);else for(b=0;b!==a.length;b++)Bg(a[b],!0)}
function oV(a){function b(a){!1===CV?c():(a=d.indexOf(a),-1!==a&&d.splice(a,1),0===d.length&&(c(),jL(e)))}function c(){T.off("elementLoaded",b);T.off("elementLoadingError",b)}var d=a.filter(function(a){return a.Iv()}),e=a.filter(function(b){return 0===a.filter(function(a){return a.nb()&&-1!==a.elements.indexOf(b)}).length});0<d.length?(CV=!0,T.on("elementLoaded",b),T.on("elementLoadingError",b)):jL(e)}
function hh(){T.trigger("hideContextualControlsRequested");K&&K.Wa().forEach(GO);$(".multipleSelectionBox").remove();$(document.activeElement).is("input, textarea")||window.getSelection().removeAllRanges()}
function QK(a){var b=jo(),c=b.elements[0],d=-1;b.um&&0===b.um.elementIndex&&(d=b.um.filterableIndex);var e=-1;b.wm&&0===b.wm.elementIndex&&(e=b.wm.textIndex);var g=cp(K,a.R()),h=a.K();if(b&&c&&b.Mv){LK();M.register(new Y(dp,{elementIndex:h,pageIndex:g,"new":{transparency:c.Ha},old:{transparency:a.Ha}}));a.em(c.Ha);c.JM()&&a.JM()&&(M.register(new Y(dp,{elementIndex:h,pageIndex:g,"new":{border:c.ei()},old:{border:a.ei()}})),CE(a,c.ei()));c.MM()&&a.MM()&&(M.register(new Y(dp,{elementIndex:h,pageIndex:g,
"new":{padding:c.padding},old:{padding:a.padding}})),a.hC(c.padding));c.jA()&&a.jA()&&(M.register(new Y(dp,{elementIndex:h,pageIndex:g,"new":{spacing:c.pe()},old:{spacing:a.pe()}})),a.ar(c.pe()));if(c.Zp()&&a.Zp()){var b=a.Qz(),k=c.Mp(d),d=a.Ld();if(k&&d){var k=CD(k),l=CD(d),h=new Y(11,{elementIndex:h,pageIndex:g,placeholderIndex:b,"new":{filter:k},old:{filter:l}});wJ(d,k);M.register(h)}}h=c.Md();b=a.Md();0!==h&&h===b&&c.bb().forEach(function(b,c){if(null!==b){var d={index:c},e={index:c};a instanceof
CC?d.placementData=a.rl(c):d.color=a.bb()[c];a.ge(c,b);a instanceof CC?e.placementData=a.rl(c):e.color=a.bb()[c];b=new Y(CN,{elementIndex:a.K(),pageIndex:g,old:d,"new":e});M.register(b)}});c.se()&&a.se()&&(h=a.Bb(),-1!==e&&-1!==h&&(b=a.Tb(h),(c=c.Tb(e))&&b&&(a.yo(h,c.bold),a.yk(h,c.fontFamily),c.fontMedia&&a.Xq(h,Ym(c.fontMedia)),a.ve(h,c.fontSize),a.Ao(h,c.italic),a.yi(h,c.justification),a.ix(h,c.letterSpacing),a.jx(h,c.lineHeight),a.br(h,c.textTransform),a.setColor(h,mh(c.color))),c=a.Tb(h),c=new BO(1,
{elementIndex:a.K(),pageIndex:g,textIndex:h,"new":c,old:b}),M.register(c)));MK();a.$a()}}function fL(a){void 0===a&&(a=K.Wa());if(0<a.length){var b=a.map(function(a){return a.clone()});io(b,a[a.length-1])}}
function gL(){function a(a){if(a.$j()){var b=a.Ob();b&&!aq(yb,b)&&bF(Db,b.id,(new FD).Ik(b.version)).then(function(b){Qg(yb,b.u(),b.Ja().getVersion(),b.Ja().ic());a.Kw()}).catch($.noop)}}function b(b){b.nb()?b.ia().forEach(a):a(b);e?(NC(b,O.gD),OC(b,O.gD),b.insertAfter(e),e=b):b.appendTo(d);h++;h===g.length&&(LK(),g.forEach(Ag),hh(),MK(),oV(g),fL(g))}var c=jo();if(c&&!c.Mv){var d=K.Ea(),e=c.yw;!e||-1<d.elements.indexOf(e)||(e=null);e&&e.nb()&&(e=vG(e));var g=c.elements.filter(function(a){return!!a}),
h=0;g.forEach(b)}}
function PU(a){function b(a){p=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;q=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;n.write(c);return!1}function c(){var a=Hn(e.Ta()),b=(p-g)*Math.cos(a)-(h-q)*Math.sin(a)+g-g,a=-1*(h-q)*Math.cos(a)-(p-g)*Math.sin(a)+h-h;if(m||Math.abs(b)>O.Hc||Math.abs(a)>O.Hc)m=!0,b/=W,a/=W,e.tQ(k+b,l+a),e.$a()}function d(){u.off("mousemove|touchmove",b).off("mouseup|touchend",d);e.vg=!1}if(a.which==O.Mh||a.ctrlKey||$(a.target).is(".handle"))return!0;var e=
$(this).data("canvaElement");if(!e)return!0;var g=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,h=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;a=e.fg();var k=a.F(),l=a.w(),m=!1,n=Zg(),p=0,q=0;e.vg=!0;var u=new fp($(document));u.on("mousemove|touchmove",b).on("mouseup|touchend",d);return!1}
function QU(a){function b(a){ha=a.shiftKey?!1:!0;S=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;N=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;fa.read(c);return!1}function c(){u=zm(Wg($(".cropControls").get(0).getBoundingClientRect()));fa.write(function(){var a,b,c=0,d=0;b=a=0;var k=hQ({x:S,y:N},q),u=Kn(n,p,S,N),fa=Math.cos(Hn(k-v))*u;ha&&(k=v,u=fa);fa=rC(k,g.Ta());switch(zT(e.get(0))){case 2:c=fa-iQ("TR");b=u*Math.cos(Hn(c));a=u*Math.sin(Hn(c));ha&&(b=a/m);c=
z;d=t-b;a=x+a;b=H+b;break;case 7:c=fa-iQ("BR");b=u*Math.sin(Hn(c));a=u*Math.cos(Hn(c));ha&&(b=a/m);c=z;d=t;a=x+a;b=H+b;break;case 5:c=fa-iQ("BL");b=u*Math.cos(Hn(c));a=u*Math.sin(Hn(c));ha&&(b=a/m);c=z-a;d=t;a=x+a;b=H+b;break;case 0:c=fa-iQ("TL"),b=u*Math.sin(Hn(c)),a=u*Math.cos(Hn(c)),ha&&(b=a/m),c=z-a,d=t-b,a=x+a,b=H+b}var u=l.F()+l.l(),fa=l.w()+l.o(),k=Math.floor(d)>l.w(),ta=Math.floor(c)>l.F(),Za=Math.ceil(c+a)<u,Vb=Math.ceil(d+b)<fa;k&&(l.w(),J===l.w()?(d=J,b=Q,ha&&(c=E,a=L)):(d=l.w(),b=Q+(J-
d),ha&&(a=b*m,c=E,Math.ceil(c+a)<u&&(a=u,b=a/m))));ta&&(l.F(),E===l.F()?(c=E,a=L,ha&&(b=Q,d=J)):(c=l.F(),a=L+(E-c),ha&&(b=a/m,d=J,Math.ceil(d+b)<fa&&(b=fa,a=b*m))));Za&&(E+L===u?(a=L,c=E,ha&&(d=J,b=Q)):(a=u-c,ha&&(b=a/m,d=J)));Vb&&(J+Q===fa?(b=Q,d=J,ha&&(c=E,a=L)):(b=fa-d,ha&&(a=b*m,c=E)));isNaN(1*b)||isNaN(1*a)||isNaN(1*d)||isNaN(1*c)||(b<fa&&(d=J,c=E,b=fa,ha&&(a=b*m)),a<u&&(c=E,d=J,a=u,ha&&(b=a/m)),k=Math.floor(d)>l.w(),ta=Math.floor(c)>l.F(),Za=Math.ceil(c+a)<u,Vb=Math.ceil(d+b)<fa,k||ta||Za||
Vb||(h.kb(c/W).eb(d/W).ma(a/W).ea(b/W),g.bm(h),g.$a(),E=c,J=d,L=a,Q=b))})}function d(){Za.off("mousemove|touchmove",b).off("mouseup|touchend",d);ta.write(function(){e.removeClass("on");g.vg=!1})}var e=$(this),g=K.Wa()[0],h=g.fg(),k=g.fg().scale(W),l=g.hd().scale(W);l.kb(0).eb(0);var m=k.di(),n=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,p=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,q={x:n,y:p};a=zm(Wg(e.get(0).getBoundingClientRect()));var u=zm(Wg($(".cropControls").get(0).getBoundingClientRect())),
v=hQ(a,u),z=k.F(),t=k.w(),x=k.l(),H=k.o(),E=k.F(),L=k.l(),J=k.w(),Q=k.o(),S=0,N=0,ha=!0,fa=Zg(),ta=Zg();g.vg=!0;var Za=new fp($(document));Za.on("mousemove|touchmove",b).on("mouseup|touchend",d);return!1}
function RU(a){function b(a){H=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;E=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;L.read(c);return!1}function c(){var a,b,c,d,J=0,Q=0,qa=h.clone(),ca=Kn(l,m,H,E),J=rC(hQ({x:H,y:E},n),e.Ta()),Aa=0;switch(zT(g.get(0))){case 2:Aa=J-iQ("TR");Q=ca*Math.cos(Hn(Aa));J=ca*Math.sin(Hn(Aa));a=h.F();c=h.w()-Q;b=h.l()+J;d=h.o()+Q;break;case 7:Aa=J-iQ("BR");Q=ca*Math.sin(Hn(Aa));J=ca*Math.cos(Hn(Aa));a=h.F();c=h.w();b=h.l()+J;d=h.o()+
Q;break;case 5:Aa=J-iQ("BL");J=ca*Math.sin(Hn(Aa));Q=ca*Math.cos(Hn(Aa));a=h.F()-J;c=h.w();b=h.l()+J;d=h.o()+Q;break;case 0:Aa=J-iQ("TL"),Q=ca*Math.sin(Hn(Aa)),J=ca*Math.cos(Hn(Aa)),a=h.F()-J,c=h.w()-Q,b=h.l()+J,d=h.o()+Q}ca=k.w();c<ca&&(t===ca?(c=t,d=x):(c=ca,d=x+(t-c)));ca=k.F();a<ca&&(v===ca?(a=v,b=z):(a=ca,b=z+(v-a)));ca=k.o()+k.w();c+d>ca&&(t+x===ca?(d=x,c=t):d=ca-c);ca=k.l()+k.F();a+b>ca&&(v+z===ca?(b=z,a=v):b=ca-a);20>b?b=20:20>d?d=20:isNaN(1*d)||isNaN(1*b)||isNaN(1*c)||isNaN(1*a)||(qa.kb(a).eb(c).ma(b).ea(d),
v=a,t=c,z=b,x=d,L.write(function(){sl(e,qa.scale(1/W));u&&dh(u,p,q);e.$a()}))}function d(){Q.off("mousemove|touchmove",b).off("mouseup|touchend",d);J.write(function(){$("#overlays .align").removeClass("on");g.removeClass("on");e.vg=!1})}var e=K.Wa()[0],g=$(this);e.$a();var h=e.hd();h.scale(W);var k=e.fg();k.scale(W).translate(h.F(),h.w());var l=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,m=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,n={x:l,y:m},p={},q=ch(e),
u=e instanceof yC?new rl(e):null,v=h.F(),z=h.l(),t=h.w(),x=h.o(),H=0,E=0,L=Zg(),J=Zg();e.vg=!0;var Q=new fp($(document));Q.on("mousemove|touchmove",b).on("mouseup|touchend",d);return!1}
function OU(a){function b(a){var b=(void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX)-n;a=(void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY)-p;var d=Math.sqrt(Math.pow(q+b,2)+Math.pow(u+a,2));J=e(H);10>q+b||10>u+a||(E=d/v,c(),x.css("-webkit-transform","scale("+E+")").css("transform","scale("+E+")"))}function c(){var a=$("#overlays").offset();L.css("top",J.top-a.top+"px").css("left",J.left-a.left+"px").css("width",J.width+"px").css("height",J.height+"px")}function d(){N.off("mousemove|touchmove",
b).off("mouseup|touchend",d);tV(z,!1);k();x.remove();h();L.remove()}function e(a){var b=Infinity,c=Infinity,d=0,e=0;a.each(function(a,g){a=g.getBoundingClientRect();a.top<b&&(b=a.top);a.left<c&&(c=a.left);a.bottom>e&&(e=a.bottom);a.right>d&&(d=a.right)});return{top:b,left:c,right:d,bottom:e,width:d-c,height:e-b}}function g(){H=$($(".multiSelected").map(function(a){$(this).data("multi-id",a);return this})).clone(!0).off();H.each(function(){$(this).removeAttr("id");$(this).find("*").removeAttr("id")});
H.removeClass(".multiSelected");x=$('\x3cdiv class\x3d"ghost element"\x3e\x3c/div\x3e');$(".multipleSelectionBox").css("visibility","hidden");$(".multiSelected").css("opacity","0");H.appendTo(x);var a=K.Wa()[0].C().parent(".elements");x.appendTo(a);m.hasClass("br")?x.addClass("fixTopLeft"):m.hasClass("bl")?x.addClass("fixTopRight"):m.hasClass("tr")?x.addClass("fixBottomLeft"):m.hasClass("tl")&&x.addClass("fixBottomRight")}function h(){$(".multipleSelectionBox").css("visibility","visible");$(".multiSelected").each(function(){var a=
$(this).data("canvaElement");$(this).css("opacity",1-a.Ha/100)})}function k(){var a=x.get(0).getBoundingClientRect(),b=a.left,c=a.top;LK();H.each(function(){function a(){0==v&&h.setPosition(t/W,u/W)}function d(){var a=h.qa();if(!xm(n,a)){var b=n.serialize(),a=a.serialize();h.kA()&&(b.transformDependentData=p,a.transformDependentData=h.aA());b={elementIndex:h.K(),pageIndex:q,old:b,"new":a};M.register(new Y(dp,b))}}var e=$(this).data("multi-id"),g=$(".multiSelected").filter(function(){return $(this).data("multi-id")==
e}).first(),h=g.data("canvaElement"),k=g.get(0).getBoundingClientRect(),m=$(this).get(0).getBoundingClientRect(),n=h.qa(),p=h.kA()?h.aA():null,q=cp(K,h.R()),g=(m.right-m.left)/(k.right-k.left),k=(m.bottom-m.top)/(k.bottom-k.top),t=m.left-b+S,u=m.top-c+Q,v=h.Ta();$(this).remove();if(h instanceof Kp){var m=h.Lc(0),m=parseFloat(parseFloat(m*E)),z=h.l()*g,k=h.Tb(0),g=h.Jd;h.Jd=!1;h.ve(0,m);h.ma(z);h.ea();h.ab();a();m=h.Tb(0);m={elementIndex:h.K(),pageIndex:q,textIndex:0,"new":m,old:k};M.register(new BO(1,
m));d();g&&BE(h)}else h.setSize(h.l()*g,h.o()*k),a(),d();h.ab();NK(zc(l),Bc(l))});MK()}var l=Lb,m=$(this),n=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,p=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,q=$(".multipleSelectionBox").width(),u=$(".multipleSelectionBox").height(),v=Math.sqrt(Math.pow(q,2)+Math.pow(u,2)),z=K.Wa();if(!(0>=z.length)){a=z[0].R();for(var t=0;t!==z.length;t++)if(z[t].R()!==a)return;m.addClass("on");T.trigger("hideContextualControlsRequested");
tV(z,!0);var x,H,E=1,L=$('\x3cdiv id\x3d"ghostSelectionBox" class\x3d"cornerHandles"\x3e\x3cdiv class\x3d"inner"\x3e\x3c/div\x3e\x3ca class\x3d"handle tl"\x3e\x3c/a\x3e\x3ca class\x3d"handle tr"\x3e\x3c/a\x3e\x3ca class\x3d"handle br"\x3e\x3c/a\x3e\x3ca class\x3d"handle bl"\x3e\x3c/a\x3e\x3c/div\x3e');g();var J=e(H),t=DD(vb,y(a));a=t.$el.offset().top;var t=t.$el.offset().left,Q=J.top-a,S=J.left-t;x.css("left",S+"px").css("top",Q+"px");H.each(function(a,b){$g(b,{Ii:-S,Ji:-Q},!0)});$("#overlays").append(L);
c();var N=new fp($(document));N.on("mousemove|touchmove",b).on("mouseup|touchend",d);return!1}}
function NU(a){function b(a){var b=(g||0)+Math.sqrt(Math.pow(void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,2)+Math.pow(void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,2))-h;0<b?e.hC(b/W):e.hC();e.$a();a.preventDefault();a.stopPropagation();return!1}function c(){k.off("mousemove|touchmove",b).off("mouseup|touchend",c);e.ek&&e.ek();e.vg=!1;var a={elementIndex:e.K(),pageIndex:cp(K,e.R()),"new":{padding:e.padding},old:{padding:g}};M.register(new Y(dp,a))}var d=$(this);
d.addClass("on");var e=d.parents(".selectionBox").data("element").data("canvaElement");if(e){var g=e.padding,h=Math.sqrt(Math.pow(void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,2)+Math.pow(void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,2));e.vg=!0;var k=new fp($(document));k.on("mousemove|touchmove",b).on("mouseup|touchend",c)}}
function MU(a){function b(a){yr=k instanceof ap||k instanceof AC?E:k.nb()?E:a.shiftKey?!E:E;Hm=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;Im=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;sO.read(c);return!1}function c(){Zq=gp(k);var a=hQ({x:Hm,y:Im},H),b=Kn(t,x,Hm,Im),c=Math.cos(Hn(a-jM))*b,d=0,g=0,l=0;yr&&(a=jM,b=c);if(!(mM&&3>Math.abs(lM-Hm)||nM&&3>Math.abs(kM-Im))){mM=nM=!1;var m=zT(e.get(0)),n,E,zf=!1,a=rC(a,k.Ta());switch(m){case 4:d=c;n=wc;E=ca;break;case 3:d=
c;n=ca;E=wc;break;case 1:g=c;n=xb;E=Za;break;case 6:g=c;n=Za;E=xb;break;case 2:zf=!0;n=pb;E=qa;l=a-iQ("TR");d=b*Math.sin(Hn(l));g=b*Math.cos(Hn(l));break;case 7:zf=!0;n=ta;E=Aa;l=a-iQ("BR");g=b*Math.sin(Hn(l));d=b*Math.cos(Hn(l));break;case 5:zf=!0;n=qa;E=pb;l=a-iQ("BL");d=b*Math.sin(Hn(l));g=b*Math.cos(Hn(l));break;case 0:zf=!0,n=Aa,E=ta,l=a-iQ("TL"),g=b*Math.sin(Hn(l)),d=b*Math.cos(Hn(l))}k instanceof Kp&&(3===m?(n=qa,E=wc,pC(k)&&(n=Md),qC(k)&&(n=Aa)):4===m&&(n=ta,E=ca,pC(k)&&(n=ue),qC(k)&&(n=pb)));
var Jm=n.get(0).getBoundingClientRect(),tO=S.scrollLeft,uO=S.scrollTop;yr&&zf&&(0===d?d=g*z:g=d/z);var Mz;Mz=0===d?k.l():zf?Math.max(u+d,J)/W:Math.max(u+d,L*W,Ig)/W;var Nz;Nz=0===g?k.o():zf?Math.max(v+g,Q)/W:Math.max(v+g,L*W,Vb)/W;k.elements&&0!==k.elements.length||dh(k,h7,i7,{d:!0,zl:!0,r:!0,W$:!0},yr);c=$("#overlays").get(0).getBoundingClientRect();E=E.get(0).getBoundingClientRect();a=E.left-c.left;c=E.top-c.top;E.left<Zq.x&&fa.addClass("positionIndicatorScalingFromLeft");E.top>Zq.y&&fa.addClass("positionIndicatorScalingFromBottom");
fa.addClass("positionIndicatorShowing").addClass("positionIndicatorScaling").css("transform","translate("+a+"px,"+c+"px)").html(Mz.toFixed(0)+"  "+Nz.toFixed(0));sO.write(function(){Oz=zf;k.setSize(Mz,Nz,Oz);var a=n.get(0).getBoundingClientRect(),b=uO-ha,c=tO-N;ha=uO;N=tO;fm+=Jm.top-a.top-b;xc+=Jm.left-a.left-c;a=k;b=(q+fm)/W;KC(a,(p+xc)/W);SC(a,b);k instanceof Kp&&0!==k.Ta()?(k.ma(),k.rc()):k.ab();GV(k);(a=h.data("toolbar"))&&k.nb()&&k.se()&&jE(a)});lM=Hm;kM=Im}}function d(){Jm.off("mousemove|touchmove",
b).off("mouseup|touchend",d);F9.write(function(){fa.remove();$("#overlays .align").removeClass("on");e.removeClass("on");k instanceof Kp?window.setTimeout(function(){k.ek();TA(h,!0);k.vg=!1},0):k.vg=!1;var a=k.qa();if(!xm(l,a)){LK();dV(k);var b=l.serialize(),a=a.serialize();k.kA()&&(b.transformDependentData=m,a.transformDependentData=k.aA());b={elementIndex:k.K(),pageIndex:cp(K,k.R()),old:b,"new":a,proportionalSetSize:Oz};M.register(new Y(dp,b));n&&(b={elementIndex:k.K(),pageIndex:cp(K,k.R()),old:n,
"new":k.Tb(k.Bb()),textIndex:k.Bb()},M.register(new BO(1,b)));MK()}ta.remove();Za.remove();qa.remove();ca.remove();Aa.remove();xb.remove();pb.remove();wc.remove();ue.remove();Md.remove()})}var e=$(this),g=Lb,h=e.parents(".selectionBox").data("element"),k=h.data("canvaElement");if(k){e.addClass("on");var l=k.qa(),m=k.kA()?k.aA():null,n=k instanceof Kp&&k.Jd?k.Tb(k.Bb()):null,p=Math.round(k.left*W),q=Math.round(k.top*W),u=TC(k),v=hp(k),z=u/v,t=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,
x=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,H={x:t,y:x},E=!(k instanceof Kp||k instanceof CC),L=O.hJ;k instanceof GC&&(L=O.ly);k instanceof HH&&(L=O.A0);a=(new V(0,0,L,L)).scale(W);a=Em(new V(0,0,z,1),a);var J=a.l(),Q=a.o(),S=$("#canvaDocument").get(0),N=S.scrollLeft,ha=S.scrollTop,fa=$('\x3cdiv class\x3d"positionIndicator"\x3e\x3c/div\x3e');$("#overlays").append(fa);T.trigger("hideContextualControlsRequested");ep();k.nb()&&k.se()&&(k.oo(),hP(h,zc(g)));var ta=$("\x3cdiv\x3e\x3c/div\x3e");
ta.css({position:"absolute",top:0,left:0});k.C().append(ta);var Za=$("\x3cdiv\x3e\x3c/div\x3e");Za.css({position:"absolute",top:0,left:"50%"});k.C().append(Za);var qa=$("\x3cdiv\x3e\x3c/div\x3e");qa.css({position:"absolute",top:0,right:0});k.C().append(qa);var ca=$("\x3cdiv\x3e\x3c/div\x3e");ca.css({position:"absolute",top:"50%",right:0});k.C().append(ca);var Aa=$("\x3cdiv\x3e\x3c/div\x3e");Aa.css({position:"absolute",bottom:0,right:0});k.C().append(Aa);var xb=$("\x3cdiv\x3e\x3c/div\x3e");xb.css({position:"absolute",
bottom:0,left:"50%"});k.C().append(xb);var pb=$("\x3cdiv\x3e\x3c/div\x3e");pb.css({position:"absolute",bottom:0,left:0});k.C().append(pb);var wc=$("\x3cdiv\x3e\x3c/div\x3e");wc.css({position:"absolute",top:"50%",left:0});k.C().append(wc);var ue=$("\x3cdiv\x3e\x3c/div\x3e");ue.css({position:"absolute",top:"50%",left:0});k.C().append(ue);var Md=$("\x3cdiv\x3e\x3c/div\x3e");Md.css({position:"absolute",top:"50%",right:0});k.C().append(Md);var Ig=0,Vb=0;k instanceof ap&&(g=k.vb?$.extend(!0,{},k.vb):null)&&
(Ig=(g.left+g.right)*fE(k).scale*W,Vb=(g.top+g.bottom)*fE(k).scale*W);var fm=0,xc=0,Zq=gp(k),g=zm(Wg(e.get(0).getBoundingClientRect())),jM=hQ(g,Zq),kM=x,lM=t,mM=!1,nM=!1,h7={},i7=ch(k),Hm=0,Im=0,yr=E,Oz=!1,sO=Zg(),F9=Zg();k.vg=!0;var Jm=new fp($(document));Jm.on("mousemove|touchmove",b).on("mouseup|touchend",d);return!1}}
function GV(a){if(a instanceof Kp&&a.Jd){for(var b=a.Lc(0),c=a.C().children(".inner"),d=c.parent().outerHeight()/W,e=c.parent().outerWidth()/W;c.outerHeight()<=d&&Number(c.prop("scrollWidth"))<=e&&b<O.y0;)b++,a.ve(0,b,!0);for(;(c.outerHeight()>d||.95*Number(c.prop("scrollWidth"))>e)&&b>O.gJ;)b--,a.ve(0,b,!0);b===O.gJ&&c.outerHeight()>d&&a.ea(c.outerHeight());a.C().removeData("cachedLineLengths")}}var HV=_.template('\x3cdiv class\x3d"selectionBox multipleSelectionBox"\x3e\x3cdiv class\x3d"inner"\x3e\x3c/div\x3e\x3ca class\x3d"handle tl" href\x3d"#" title\x3d"\x3c%- resize %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"handle tr" href\x3d"#" title\x3d"\x3c%- resize %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"handle br" href\x3d"#" title\x3d"\x3c%- resize %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"handle bl" href\x3d"#" title\x3d"\x3c%- resize %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"rotate" href\x3d"#" title\x3d"\x3c%- rotate %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"move" href\x3d"#"\x3e\x3c/a\x3e\x3c/div\x3e');
function NK(a,b){if(K&&K.Wa){var c=K.Wa();if(!(2>c.length)){var d=$("#overlays"),e=$(".selectionBox.multipleSelectionBox");0==e.length&&(e=$(HV({resize:b.resize(),rotate:b.rotate()})),e.appendTo(d));0===c.filter(function(a){return 0!==a.Ta()}).length&&e.addClass("cornerHandles");b=IV(c);e.css("left",b.F()).css("top",b.w()).css("width",b.l()).css("height",b.o());var g=$();c.map(function(a){g.push(a.C().get(0))});MS(g,a)}}}
function IV(a){function b(a,b){return RC(vb.Ma[a?a.K():0])+b*W}function c(a,b){return VC(vb.Ma[a?a.K():0])+b*W}var d=a.map(function(a){return b(a.R(),a.$b())}),e=a.map(function(a){return c(a.R(),a.kc())}),d=ul(d),e=ul(e),g=vl(a.map(function(a){return b(a.R(),a.Nd())}));a=vl(a.map(function(a){return c(a.R(),a.kd())}));return new V(d,e,g-d,a-e)}
function JV(){var a=$(this),b=a.data("canvaElement");if(b&&b.lp()&&!(0<a.parents(".group").length)){var c=K.Wa(),d=K.Gb().filter(function(a){a=DD(vb,a);return ZN(a.$el,$("#marquee"))}),e=ZN(a,$("#marquee")),d=-1!==d.indexOf(b.R()),g=0===c.length;c.forEach(function(a){b.R()===a.R()&&(g=!0)});e&&d&&g?b.Hb()||b.Hg()?(c=a.get(0).getBoundingClientRect(),e=$("#marquee").get(0).getBoundingClientRect(),e.top+10<c.top&&e.left+10<c.left?(b.zk(!0),a.addClass("multiSelected")):(b.zk(!1),a.removeClass("multiSelected"))):
(b.zk(!0),a.addClass("multiSelected")):(b.zk(!1),a.removeClass("multiSelected"))}}function HU(a){a=a.target;"SPAN"==a.tagName&&(a.style.removeProperty("font-size"),a.style.removeProperty("background-color"),a.style.removeProperty("line-height"),a.style.removeProperty("letter-spacing"))}
function EU(a){(function(a){if(13!==a.keyCode||!document.queryCommandSupported("insertLineBreak")||a.ctrlKey||a.metaKey)return!1;if(a.shiftKey||a.altKey)return!0;if(document.queryCommandState("insertUnorderedList")||document.queryCommandState("insertOrderedList"))return!1;a=document.queryCommandValue("formatBlock");return""!==a&&"div"!==a&&"p"!==a?!1:!0})(a)&&(document.execCommand("insertLineBreak",!1,null),a.preventDefault())}
function FU(){if(KV)$("#content").off("keydown",".element.text.focused",FU);else{var a=$(this);LV(a)}}function GU(){KV=!0;var a=$(this);LV(a)}var KV=!1;function LV(a){function b(){a.data("handleTextElementInputTimerId",0);MV(a);TA(a,!0)}if(!NV(a)){var c=a.data("handleTextElementInputTimerId")||0;0===c&&(c=KV?requestAnimationFrame(b):window.setTimeout(b,O.Gc),a.data("handleTextElementInputTimerId",c))}}
function MV(a){var b=a.data("canvaElement");if(b){var c=b.Bb();0<Object.keys(b.ks(c)).length&&OV(function(){b.fp(c)})}}function NV(a){return a.hasClass("svg")||0<a.closest(".element.svg").length}
function OV(a){var b=window.getSelection(),c=document.createElement("span");c.classList.add("fauxCaret");c.appendChild(document.createTextNode(""));if(b.rangeCount){var d=b.getRangeAt(0);d.collapse(!1);d.insertNode(c)}a();b=window.getSelection();b.rangeCount&&(d=document.createRange(),d.setStart(c.childNodes[0],0),d.collapse(!0),b.removeAllRanges(),b.addRange(d));c.parentNode.removeChild(c)}
function TA(a,b){function c(){h.ab();k&&(m.IP(h,L),m.ab())}function d(a,b){return a.$b()+b>a.R().Nd()}function e(a){return a.$b()<=a.R().$b()}var g=!!b;if(!NV(a)){var h=a.data("canvaElement");if(h&&(h.Iv()&&(g=!1),b=a.children(".inner"),0!==b.length)){var k=0<a.parents(".element.group").length,l=0;if(k){var m=a.parents(".group").first().data("canvaElement"),l=m.Ta();h.ek()}100<b.text().length&&h.jt(h.Bb());var n=g&&!h.DA();n&&(b.css("width","0"),b.addClass("explicitLineBreaksLayoutMode"));var p=b.prop("scrollWidth"),
q=wl(b[0]).uo;q&&1<q&&(p/=q);var q=a.data("justification"),u=h.l(),v=h.F();if(n){var z=u;a.data("ephemeralStartWidth")?z=a.data("ephemeralStartWidth"):a.data("ephemeralStartWidth",h.l());a=Math.max(z,p+2);h.R()&&(q&&"left"!==q?"right"===q?(h.kb(v+u-a),e(h)&&(a=u,h.kb(0),h.ek())):"center"===q&&(h.kb(v+(u-a)/2),e(h)||d(h,a))&&(h.kb(v),a=u,h.ek()):d(h,a)&&(a=h.R().Nd()-h.$b(),h.ek()))}else a=Math.max(u,p);q=p=0;if(g=(0!==Mm(l)-Mm(h.Ta())||!(!h.ke||"top"===h.ke))&&g){var t=$('\x3cspan class\x3d"shim"\x3e\x26nbsp;\x3c/span\x3e');
h.C().find(".shim").remove();h.C().prepend(t);t.css("position","absolute").css("left",0);h.ke&&"top"!==h.ke?qC(h)?t.css("top","100%"):pC(h)&&t.css("top","50%"):t.css("top",0);var x=t.get(0).getBoundingClientRect(),H=h.w(),E=h.F()}n&&b.removeClass("explicitLineBreaksLayoutMode");h.ma(a);var L=h.qa();b=h.o();h.ab();g&&b!==h.o()?(b=t.get(0).getBoundingClientRect(),t.remove(),p=b.top-x.top,q=b.left-x.left,UC(h)&&(t=an($m([q,p]).rotate(m.Ta())),q=t[0],p=t[1]),0==p&&0==q||h.setPosition(E-q/W,H-p/W),window.setTimeout(c,
0)):(c(),t&&t.remove());GV(h)}}}
function kL(){var a=K.Wa(),b,c,d=O.vS*O.iD,e,g;(c=K.Ea())&&1===a.length&&(b=a[0],GO(b),a=b.qa(),b instanceof CC?(e=c.qa(),e.eb(e.w()-d),e.ma(e.l()+2*d),e.ea(e.o()+2*d),e.kb(e.F()-d)):e=fh(a.clone(),c.qa()),b instanceof Kp?(LK(),d=b.Tb(0),g=b.Lc(0)*(e.o()/a.o()),b.ve(0,g),window.setTimeout(function(){b.ma(e.l());b.ea();b.ab()},0),b.setPosition(e.F(),e.w()),g=b.Tb(0),d={elementIndex:b.K(),pageIndex:cp(K,c),textIndex:0,"new":g,old:d},d=new BO(1,d),M.register(d)):(b.sd(e),b.ab()),c={elementIndex:b.K(),
pageIndex:cp(K,c),"new":e.serialize(),old:a.serialize()},c=new Y(dp,c),M.register(c),b instanceof Kp&&MK(),Bg(b))}function Vz(){var a=$(".toolbarContainer .toolbar__button--cancel");0<$("#overlays \x3e .mask.on").length&&0<a.length&&a.trigger("click")}function SU(){Vz()}
function TU(a){function b(a){if($(a.target).is("#cutoutMessage")||0<$(a.target).parents("#cutoutMessage").length||$("#overlays").hasClass("shakeOverlays"))return!0;clearTimeout(v);$("#overlays").addClass("shakeOverlays");v=setTimeout(function(){$("#overlays").removeClass("shakeOverlays")},300)}function c(a){$(a.target).hasClass("buttonCutoutMessageEditText")&&(a=u,a.Dz=!1,a.C().toggleClass("failed",a.Dz),a.Xq(0),a.fC(0),a.yk(0,"Glegoo"),a.ht=!0,UA(a.C(),!0),a.ab(),Bg(u),UK(u.C(),!0),u.$a(),d())}function d(){$(n).off("mousedown",
b).off("mouseleave",d);$("#cutoutMessage").on("transitionend",e).addClass("disappear")}function e(){$(this).remove()}function g(){var a=q.get(0)===n;if(a=q.data("triggerElement")!==n&&!a){var a=$("#overlays").find(".text.focused"),b;0<a.length?(a=Wg(a.get(0).getBoundingClientRect()),b=Wg(n.getBoundingClientRect()),a=Yg(a,b)):a=!1;a=!a}return a}var h,k,l;l=200;var m=85,n=a.currentTarget;a=nc(Lb);h=n.classList.contains("unapproved");k=a.format("documentMediaLoadFailedError");var p=n.classList.contains("failed"),
q=$("#cutoutMessage"),u=$(n).data("canvaElement");if(u){0>=q.length&&(q=$('\x3cdiv id\x3d"cutoutMessage"\x3e\x3c/div\x3e'));p&&(l=240,m=100,k=a.format("documentFontLoadFailedError"));q.data("canvaElement",u).html(k).toggleClass("unapproved",h).toggleClass("failed",p).off("transitionend").removeClass("disappear");$(n).on("mousedown",b);g()&&(a=Wg(n.getBoundingClientRect()),h=Wg($("#overlays").get(0).getBoundingClientRect()),k=$("#canvaDocument").offset(),k=CT().translate(k.left,k.top).translate(-h.F(),
-h.w()),l=new V(0,0,l,m),Gm(Dm(l,a).translate(-h.F(),-h.w()),k),q.css(l.serialize()).appendTo("#overlays").data("triggerElement",n).on("click",c));$(n).on("mouseleave",d);var v}}function UU(a){$(a.target).is("#content, #canvaDocument, #canvaDocument \x3e .inner, #canvaDocument \x3e .inner \x3e .page, #canvaDocument \x3e .inner \x3e .page .page__elements")&&($(a.target).is("input")||$(document.activeElement).blur(),hh())}
function ih(a,b,c){function d(a){$N=!0;window.clearTimeout(S);S=window.setTimeout(function(){$N=!1},1E3);var b=document.elementFromPoint(a.originalEvent.touches[0].clientX,a.originalEvent.touches[0].clientY);N.forEach(function(a){a!=b&&l.call(a)});var c=$(b),d=0<=N.indexOf(b);!d&&0<c.parents("#hotspots").length&&c.is(".element.hotspot")?(Q=b,g.call(b,a),N=[b]):N=d?[b]:[]}function e(a){$(document).off("touchmove",d).off("touchend",e);var b=$(Q);0<b.parents("#hotspots").length&&b.is(".element.hotspot")&&
m.call(Q,a);window.setTimeout(function(){$N=!1},300)}function g(b){if(b&&b.shiftKey)z=!1;else if(a.hasClass("svg")||a.hasClass("cutout")){t=z=!1;var c=$("#cutoutMessage");0>=c.length&&(c=$('\x3cdiv id\x3d"cutoutMessage"\x3e').text(p.format("documentCutoutInFrameWarning")),c.appendTo("#content"));c.off("transitionend").removeClass("disappear")}else if(u&&null===u.Ob())t=z=!1;else{var d=q.clone(!0);d.css("width","").css("height","");b=$(this).data("canvaElement");var e=$(this).data("placeholderIndex");
a.data("placedInElement",b).addClass("placing").addClass("draggedMediaOverHotspot");var g=a.data("li"),h=g.data("result"),k=g.find("img").data("mediaApproved"),g=h.u(),h=h.getVersion(),l=b.rn(e),d=new V(0,0,u?TC(u):parseInt(d.data("screenWidth"),10),u?hp(u):parseInt(d.data("screenHeight"),10));Em(d,l).translate(-l.F(),-l.w());d={type:"image",index:e,mediaId:g,mediaVersion:h,origin:u?u.Ef():null,imageBox:d.serialize(),flipOrientation:u?u.ya:0,mediaApproved:void 0===k?!0:k};L=b.rl(e);J=CD(b.Mp(e));
g===L.mediaId?z=!1:(b.$q(e,d),u&&((g=u.C().data("selectionBox"))&&g.hide(),u.Zp()&&u.Ld()&&(c=CD(u.Ld()))),b=b.Mp(e),b.remove(),wJ(b,c||CD(b)))}}function h(){E.read(k)}function k(){var b=a.offset();E.write(function(){$("#cutoutMessage").css("left",b.left+a.width()/2-$("#cutoutMessage").outerWidth()/2).css("top",b.top+a.height()/2-$("#cutoutMessage").outerHeight()/2)})}function l(){var b=$(this).data("canvaElement"),c=$(this).data("placeholderIndex"),d=b.Mp(c);a.removeData("placedInElement").removeClass("placing").removeClass("draggedMediaOverHotspot");
$("#cutoutMessage").on("transitionend",n).addClass("disappear");z&&(b.$q(c,L),d.remove(),wJ(d,J),u&&(b=u.C().data("selectionBox"))&&b.show())}function m(b){if(a.data("li")&&(!b||!b.shiftKey)&&($("#cutoutMessage").on("transitionend",n).addClass("disappear"),t)){b=a.data("li").data("result");var c=$(this).data("canvaElement"),d=$(this).data("placeholderIndex"),e=c.Yz(d);aO(c);var g={elementIndex:c.K(),pageIndex:cp(K,c.R()),placeholderIndex:d,"new":c.rl(d),old:L},h={elementIndex:c.K(),pageIndex:cp(K,
c.R()),placeholderIndex:d,"new":{filter:CD(c.Mp(d))},old:{filter:J}},g=new Y(xO,g),h=new Y(11,h);LK();M.register(g);M.register(h);c.Uc=!0;c.st(e);a.one("transitionend",n).addClass("disappeared").removeClass("draggedMediaOverHotspot").removeClass("placing");x.remove();e.removeData("oldPlacement");u&&(u.kb(a.data("startLeft")),u.eb(a.data("startTop")),BN(u),u.remove(),u instanceof yC&&c instanceof ap&&0!=u.ya&&setTimeout(function(){function a(c){c.target!=l.get(0)&&(clearTimeout(v),c.target==l.find("a")[0]?
($(document).on("mouseout mouseup",b),c.preventDefault()):k())}function b(){$(document).off("mouseout mouseup",b);k()}function e(){$(document).off("mousemove",e);u=setTimeout(function(){l.on("mouseenter",g).on("mouseleave",h)},100)}function g(){clearTimeout(v)}function h(){clearTimeout(v);v=setTimeout(k,1E3)}function k(){clearTimeout(u);$(document).off("mousedown",a).off("mousemove",e);l.off("mouseenter",g).off("mouseleave",h);l.on("transitionend",n).addClass("disappear")}var l=$("#cutoutMessage");
0==l.length&&(l=$('\x3cdiv id\x3d"cutoutMessage"\x3e\x3c/div\x3e'));var m=DD(vb,y(c.R()));l.off("transitionend").addClass("closeable").removeClass("disappear").text(p.format("documentCutoutFlippedImageWarning")).append('\x3ca href\x3d"#" class\x3d"close"\x3eClose\x3c/a\x3e');PV(m,l);var q=c.qa(),t=c.rn(d),m=q.w()+t.w()+t.o()/2,m=m*W,m=m-l.outerHeight()/2,q=q.F()+t.F()+t.l()/2,q=q*W,q=q-l.outerWidth()/2;l.css("top",m).css("left",q);$(document).on("mousedown",a).on("mousemove",e);var u=0,v=setTimeout(k,
1E4)},200));MK();b&&(e=b.Ef(),e!==Kg&&"GOOGLE"!==e||Cg(Hb,b,c.Sp(d)),tL(b,v))}}function n(){$(this).remove()}b=b||K.Ea();var p=nc(Lb),q=$("img",a),u=a.data("canvaElement"),v=!!a.data("isOrganicSearchResult"),z=!0,t=!0,x=$('\x3csection id\x3d"hotspots"\x3e\x3c/section\x3e'),H=IE(vb,b);x.css(H.serialize());var E=Zg();b.ia().forEach(function(a){if((a instanceof ap||a instanceof CC)&&!UC(a)){var b=$('\x3cdiv class\x3d"container"\x3e\x3c/div\x3e'),d=a.qa();b.css(d.scale(W).round().serialize()).css("transform",
"rotate("+a.Ta().toString()+"deg)");for(var d=a.ig(),e=0;e<d;e++){var k=a.rn(e);k.scale(W).round();var n=$('\x3cdiv class\x3d"element hotspot"\x3e\x3c/div\x3e');n.css(k.serialize()).data("canvaElement",a).data("placeholderIndex",e).appendTo(b);!1===c&&n.mouseover(g).mousemove(h).mouseout(l).mouseup(m)}b.appendTo(x)}});x.appendTo("#content");b=DD(vb,b).$el;x.css("left",b.offset().left).css("top",b.offset().top);var L=null,J=null,Q=null,S=null;if(!0===c){var N=[];$(document).on("touchmove",d).on("touchend",
e)}}
function wN(a,b){function c(a){a={left:a.originalEvent.touches[0].clientX,top:a.originalEvent.touches[0].clientY,width:0,height:0};for(var b={left:q,top:u,width:0,height:0},c=0;c<p.length;c++){var d=p[c];ah(a,d)&&!ah(b,d)?e.call(d.element):ah(b,d)&&!ah(a,d)&&g.call(d.element)}q=a.left;u=a.top}function d(b){$(document).off("touchmove",c).off("touchend",d);for(var e={left:b.originalEvent.changedTouches[0].clientX,top:b.originalEvent.changedTouches[0].clientY,width:0,height:0},g=0;g<p.length;g++){var l=p[g];
if(ah(e,l)){var m=$(".page",k).index(l.element);$(l.element).data("page",$("#canvaDocument \x3e .inner \x3e .page").eq(m));h.call(l.element,b,a)}}}function e(){var b=$(this).data("page");b&&(b.addClass("hotspotHover"),$(this).addClass("hover"),a.addClass("placing"))}function g(){var b=$(this).data("page");b&&b.removeClass("hotspotHover");$(this).removeClass("hover");a.removeClass("placing")}function h(b,c){function d(a){function b(){h.off("unpacked",b);vP({qp:h.ss(),me:K.lb(),page:h});c(h.serialize())}
function c(b){n&&(e=new Vm({type:IB,id:n.id,version:n.version}),QV(a,e));var d={};a.layout&&(d.id=a.layout.id,d.version=a.layout.version);p&&(d.id=p.id,d.version=p.version);b=Rm(new Pm(d),b);var d={"new":b,old:Za,pageIndex:ta.K()},g=cq(b.Jg()),h=U,k=b.serialize();!g&&h&&k&&Tl(h,k.id);HO(ta,b,l,e);M.register(new FO(4,d))}var e;l&&(ta.clear(),qP(ta,l));if(a.width!==ta.l()||a.height!==ta.o()){var g=Rm(new Pm,a),h=new Hp(K,{});HO(h,g,null,null,!0);h.on("unpacked",b)}else c(a)}function e(a){return a.getDocument().Ie().content.pages[q.pageIndex]}
hh();2==arguments.length&&(a=c);var g=a.data("li"),h=$(this).data("page");if(g&&h){h=$("#canvaDocument \x3e .inner \x3e .page").index(h);Ip(K,h);var l,m=!!a.data("isOrganicSearchResult"),n=g.find("a").data("documentProperties"),p=g.find("a").data("layoutProperties"),q=g.find("a").data("pageTemplateRequest"),u=g.find("a").data("pageTemplateRequest"),fa=g.find("a").data("pageTemplate"),ta=K.Ea(),Za=ta.ju();n&&n.previewUrl&&(l=n.previewUrl);p&&p.previewUrl&&(l=p.previewUrl);if(q||u||fa)EM.Qy(ta,Lb).then(function(a){a&&
(q?(ta.clear(),qP(ta,n.previewUrl),Ab.getDocument(new Dt({ag:n.id,tA:!0})).then(e).then(d)):u?(ta.clear(),$.getJSON(u.url,function(a){(a=a.content.pages[0])&&d(a)})):fa&&d(fa))});else if(0<g.parents(".backgroundGallery").length)DN(a.data("li")),(h=g.data("result"))&&tL(h,m);else if(0<g.parents(".templateGallery").length){var qa=g.data("layoutItem"),m=g.data("designItem"),h=g.data("searchResult"),ca=g.parents(".results").data("view"),Aa=g.find("a");RV(ca,Aa,!0);m?(g=g.data("usablePreview"),SV(ca,m,
g)):qa?TV(ca,qa):h&&fP(ca,h)}}k.remove();a.remove();$("#canvaDocument \x3e .inner \x3e .page").removeClass("hotspotHover")}var k=$('\x3cdiv id\x3d"hotspots"\x3e\x3c/div\x3e'),l=parseInt($("#canvaDocument").offset().left,10),m=parseInt($("#canvaDocument").offset().top,10),n=$("#canvaDocument").get(0).scrollTop;k.css("left",l).css("top",m-n).css("z-index","99999").appendTo("#content");$("#canvaDocument \x3e .inner \x3e .page").each(function(){var a=$(this);a.clone().css("width",a.outerWidth()).css("height",
a.outerHeight()).data("page",a).empty().appendTo(k)});if(b){var p=[],q=0,u=0;$(".page",k).each(function(){var a=$(this).offset(),b=$(this).outerWidth(),c=$(this).outerHeight();p.push({element:this,left:a.left,top:a.top,width:b,height:c})});$(document).on("touchmove",c).on("touchend",d)}else $(".page",k).mouseover(e).mouseout(g).mouseup(h)}
function AS(a){function b(){h.data("selectionBox")?($("#overlays \x3e .mask").addClass("on"),h.addClass("cropping"),a.$a(),$(".cropControls img.uncropped").css("opacity",.5),$(".cropControls .cropBox").css("background-color","rgba(255, 255, 255, 0.5)"),aD($(".cropControls"),a.Ta())):e()}function c(a){13===a.which?d():27===a.which&&e()}function d(){var b=a.F(),c=a.w();a.Nr();b={elementIndex:a.K(),pageIndex:cp(K,a.R()),placeholderIndex:a.Jc(),"new":{placeholderBox:a.hd().serialize(),imageBox:a.fg().serialize(),
cropped:!0,left:a.F(),top:a.w()},old:{placeholderBox:l.serialize(),imageBox:k.serialize(),cropped:m||a instanceof yC,left:b,top:c}};M.register(new Y(6,b));$("#overlays \x3e .mask").removeClass("on");$(".cropControls .cropBox").css("background-color","rgba(255, 255, 255, 0)");a.ab();hP(h,zc(Lb));g();U&&Ul("crop_confirm")}function e(){a instanceof yC?(l&&sl(a,l),a.bm(k),a.AI=!1,h.removeClass("cropping")):(a.bm(k),a.Nr());var b=h.data("toolbar");a.Jf()&&b&&b.show();$("#overlays \x3e .mask").removeClass("on");
$(".cropControls .cropBox").css("background-color","rgba(255, 255, 255, 0)");a.ab();a.Jf()&&hP(h,zc(Lb));g();Ul("crop_cancel")}function g(){$("#content").off("click",".toolbar--crop .toolbar__button--ok",d).off("click",".toolbar--crop .toolbar__button--cancel",e);$(document).off("keydown",c)}if(a.Jm&&a.NM()){var h=a.C(),k=a.fg(),l=a.hd(),m=!!a.Tk;$("#content").on("click",".toolbar--crop .toolbar__button--ok",d).on("click",".toolbar--crop .toolbar__button--cancel",e);$(document).on("keydown",c);a.AH(a.Jc(),
b)}}function cO(){Zg().write(function(){$("#overlays .align").removeClass("on")})}function dh(a,b,c,d,e){function g(a){var b=null;if(a instanceof Z||a instanceof tl)b=a.R();return b?DD(vb,b):gh(vb)}AU(a,b,c,function(){return W},function(a){return RC(g(a))+Math.round(a.$b()*W)},function(a){return VC(g(a))+Math.round(a.kc()*W)},d,e)}
function ch(a){var b=[];void 0!==a&&(a instanceof Z?b.push(a):a instanceof Array&&(b=a));var c=0==b.length?K.Ea():b[0].R();if(!c)return[];a=c.ia();a=a.filter(function(a){return-1===b.indexOf(a)&&!a.Hb()&&!UC(a)});a.push(c);var d=[];Rb&&Rb()&&(d=nQ());c=pQ(c)||[];return a.concat(d).concat(c)}function mO(){Tb&&qO();$("body").addClass("blockDocument");hh();$("#search").blur()}
function kO(){if(Tb){var a=Tb;a.HD=!1;a.$el.removeClass("blockEditorControls");UV(a,a.Nu)}$("body").removeClass("blockDocument")}function SK(a,b){var c=a.ei();c&&CE(a,c+105*b/2);a={elementIndex:a.K(),pageIndex:cp(K,a.R()),"new":{borderWidth:a.ei()},old:{borderWidth:c}};M.register(new Y(dp,a))}function TK(a,b){var c=a.pe();b=c+5*b;0<=b&&50>=b&&(a.ar(b),a={elementIndex:a.K(),pageIndex:cp(K,a.R()),"new":{spacing:a.pe()},old:{spacing:c}},M.register(new Y(dp,a)))}
function RK(a){var b=a.ei();b?CE(a,0):CE(a,105);a={elementIndex:a.K(),pageIndex:cp(K,a.R()),"new":{borderWidth:a.ei()},old:{borderWidth:b}};M.register(new Y(dp,a))}function VV(a,b){M.register(new Y(dp,{elementIndex:a.K(),pageIndex:cp(K,a.R()),"new":{verticalAlignment:a.ws()},old:{verticalAlignment:b}}))}function aL(a){var b=a.ws();a.sR();VV(a,b)}function bL(a){var b=a.ws();a.UN();VV(a,b)}function cL(a){var b=a.ws();a.FJ();VV(a,b)}
function VK(a,b){function c(){a.jU&&a.jU()}function d(){a.YV&&a.YV()}function e(){a.uZ&&a.uZ(0)}var g=a.cb(a.Bb());0===yA(g)&&(1===b?OV(d):-1===b?OV(c):0===b&&OV(e),TA(g,!0))}
function PR(a){var b=a.ad,c=_.sortBy(a.ia(),function(a){return a.w()}),d=c.filter(function(a){return a!==b});if(b){a.Ff()&&a.Mx();LK();var e=[],g;if(b instanceof Kp){var h=b.qa(),k=c.indexOf(b)-1,l=c.indexOf(b)+1;g=b.ws();var m=a.w(),n=h.clone(),p;c.length>l&&c[l]instanceof Kp?(p=h.xa()-c[l].w(),n.ea(p)):1<c.length&&c[k]instanceof Kp?(p=c[k].xa()-h.w(),n.ea(p)):n.ea(0);d.forEach(function(a){var b={pageIndex:cp(K,a.R())};b.old=a.qa();e.push(b)});Object.freeze(d);Object.freeze(e);a.IP(b,h,n);if(0===
a.Ta()){c=m;switch(g){case "middle":c=m-p/2;break;case "bottom":c=m-p}g={elementIndex:a.K(),pageIndex:cp(K,a.R()),"new":{top:c},old:{top:m}};g=new Y(dp,g);M.register(g);a.eb(c)}}BN(b);a.rj(b);b.remove();g=a.Jr(d[0]);g.proportionalSetSize=!1;g=new Y(dp,g);M.register(g);d.forEach(function(a,b){e[b]&&(e[b].elementIndex=a.K(),e[b]["new"]=a.qa(),e[b].proportionalSetSize=!1)});e.forEach(function(a){M.register(new Y(dp,a))});1===a.ia().length&&(GO(a),cV(a),EO(a));MK()}}
function tV(a,b){a.forEach(function(a){a.vg=b})}function eL(){var a=$(".element [contenteditable\x3dtrue]");if(1===a.length){var b=a.data("textChangeCount")||0;if(0<b&&document.execCommand("undo",!1,null)){a.data("textChangeCount",--b);return}ep()}a=M;if(0!=a.nd.length){a.trigger("beforeOperationStackPop");a.xR=!0;if(0<a.xn.length)throw Error("cannot undo while a grouped operation is being collected");var b=a.nd.pop(),c=b.invert();c.ho();a.Iw.push(b);hh();oV(AO(c));a.xR=!1;K.trigger("change")}}
function dL(){if(1===$(".element [contenteditable\x3dtrue]").length){if(document.execCommand("redo",!1,null))return;ep()}var a=M;if(0!=a.Iw.length){a.trigger("beforeOperationStackPop");a.HP=!0;if(0<a.xn.length)throw Error("cannot undo while a grouped operation is being collected");var b=a.Iw.pop();b.ho();a.nd.push(b);hh();oV(AO(b));a.HP=!1;K.trigger("change")}}
function WV(a){var b=new JO(1,{"new":{docType:Uu(a.doctype),doctypeSpec:a.$k?Mp(a.$k):null},old:{docType:Uu(a.Fb.lb()),doctypeSpec:a.Fb.$k?Mp(a.Fb.$k):null,model:a.Fb.serialize()}}),c=y(a.doctype.getName()),d=a.Fb.qb();d.Lu=c;d.trigger("change");hh();a.nd.register(b);b.ho()};function XV(a,b,c){return location.protocol+"//"+location.host+"/design/"+encodeURIComponent(a)+(c?"/"+encodeURIComponent(c):"")+(b?"/"+encodeURIComponent(b):"")}function YV(a,b){return XV(a,"view",b)}function ZV(a,b,c,d){return YV(a,b)+"?"+$V(a,c,d)}function $V(a,b,c){return["utm_content\x3d"+encodeURIComponent(a),"utm_campaign\x3d"+encodeURIComponent("designshare"),"utm_medium\x3d"+encodeURIComponent(c),"utm_source\x3d"+encodeURIComponent(b)].join("\x26")};function aW(){}aW=Backbone.View.extend({className:"switch"});f=aW.prototype;f.events=function(){return{"blur input":this.aB,"change input":this.i5,dragstart:this.Qs,"focus input":this.Dq,mousedown:this.Rs}};f.initialize=function(a){a=_.defaults({},a,{Kl:null,on:!1,hk:null});this.Kl=a.Kl;this.mu=void 0===a.mu||!!a.mu;this.MG=this.MG.bind(this);this.NG=this.NG.bind(this);this.hk=a.hk;this.zO=a.on};function bW(a){return!!a.input.prop("checked")}f.aB=function(){this.$el.removeClass("switchFocused")};
f.i5=function(){var a=bW(this);this.$el.toggleClass("switchOn",a);this.trigger("toggle",a)};f.MG=function(a){var b=this.handle.offset().left,c=b+this.handle.outerWidth(),b=bW(this)&&a.pageX<b;a=!bW(this)&&a.pageX>c;if(b||a)this.handle.removeClass("switchHandlePressed"),cW(this),this.toggle()};f.NG=function(a){$(a.target).closest(this.el).length&&(this.trigger("click"),this.mu&&this.toggle());this.handle.removeClass("switchHandlePressed");cW(this)};f.Qs=function(a){a.preventDefault()};f.Dq=function(){this.$el.addClass("switchFocused")};
f.Rs=function(a){a.target===this.handle[0]&&($(document).on("mousemove",this.MG),this.handle.addClass("switchHandlePressed"));$(document).on("mouseup",this.NG)};f.remove=function(){Backbone.View.prototype.remove.call(this);cW(this)};function cW(a){$(document).off({mousemove:a.MG,mouseup:a.NG})}
f.render=function(){var a;this.zO?(a=this.zO,delete this.zO):a=!(!this.input||!this.input.prop("checked"));var b,c={Kl:this.Kl,hk:this.hk},d,c=c||{};soy.asserts.assertType(null==c.hk||c.hk instanceof goog.soy.data.SanitizedContent||goog.isString(c.hk),"onLabel",c.hk,"null|string|undefined");b=c.hk;soy.asserts.assertType(null==c.Kl||c.Kl instanceof goog.soy.data.SanitizedContent||goog.isString(c.Kl),"offLabel",c.Kl,"null|string|undefined");c=c.Kl;b=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cinput type\x3d"checkbox"\x3e\x3cdiv class\x3d"switchContent"\x3e\x3cdiv class\x3d"switchLabelOn"\x3e'+
soy.$$escapeHtml(null==(d=b)?"":d)+'\x3c/div\x3e\x3cdiv class\x3d"switchHandle"\x3e\x3c/div\x3e\x3cdiv class\x3d"switchLabelOff"\x3e'+soy.$$escapeHtml(null==(d=c)?"":d)+"\x3c/div\x3e"+(c?'\x3cdiv class\x3d"switchLabelOffSpacer"\x3e'+soy.$$escapeHtml(c)+"\x3c/div\x3e":"")+"\x3c/div\x3e");this.$el.html(b.toString());this.$el.toggleClass("switchOn",a);this.handle=this.$(".switchHandle");this.input=this.$("input");this.input.prop("checked",a);return this};
f.toggle=function(a){void 0===a&&(a=!this.input.prop("checked"));a!==this.input.prop("checked")&&(this.input.prop("checked",a),this.input.change())};function vP(a){function b(a){a.translate(-g.F(),-g.w());Am(a,q,u,p);a.translate(t,x)}var c=a.page,d=c.qa(),e=function(a){a=Rg(a.tb);return new V(0,0,a.l(),a.o())}(a.me),g=a.qp||d;a=g.l();var h=g.o(),k=e.l(),l=e.o(),m=k/a,n=l/h,p=Math.min(m,n),q=a/2,u=h/2,v=k/2,z=l/2,t=v-q,x=z-u;c.ia().forEach(function(a){if(!a.Hh&&!UC(a)){var c;if(a instanceof CC&&1===a.ig()){var g=a.pe();c=a.qa();g=Um(d.l(),d.o(),g,!1);c=Fm(c,g)}else c=a instanceof yC?a.mq()&&a.Hb():!1;if(c)a instanceof CC?(a.sd(Um(k,l,a.pe(),!1)),
a.ab()):a.sd(e.clone());else if(a.Hb()){c=a.qa();g=1;b(c);if(m<n)var g=c.w(),h=l-c.xa(),g=l/(l-2*Math.max(0,g,h));else m>n&&(g=c.F(),h=k-c.Za(),g=k/(k-2*Math.max(0,g,h)));1<g&&Am(c,v,z,g);a.sd(c)}else c=a.qa(),a instanceof Kp&&(g=p*a.Lc(0),a.DA()?a.ve(0,g):(a.ek(),a.ve(0,g),a.yR())),b(c),a.sd(c),a instanceof CC&&a.ab()}});c.ma(k);c.ea(l);return fh(g.clone(),e)};function dW(){}dW=Backbone.View.extend({className:"tileListBusyIndicator"});f=dW.prototype;f.initialize=function(){this.transitionDelay=-1;this.xI=0};f.hide=function(){eW(this,function(){this.$el.removeClass("tileListBusyIndicatorOn")})};f.render=function(){this.$el.html(this.template());return this};function eW(a,b){0!=a.xI&&(window.clearTimeout(a.xI),a.xI=0);0<=a.transitionDelay?a.xI=window.setTimeout(b.bind(a),a.transitionDelay):b.call(a)}f.show=function(){eW(this,function(){this.$el.addClass("tileListBusyIndicatorOn")})};
f.template=function(){return _.range(8).map(function(){return"\x3cspan\x3e\x3c/span\x3e"}).join("")};function fW(a,b){this.$el=a;this.Fm=b.Fm||"";this.ah=b.ah}function gW(a){var b=$(soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"masonryLayout"\x3e\x3c/div\x3e').toString());return new fW(b,a)}f=fW.prototype;f.add=function(a,b){var c=this;this.ta||hW(this,this.ol());var d=iW(this);this.ta.eq(0).append(a);var e=a.get().map(this.o,this);a.each(function(a,h){var k=jW(c,d);d[k]+=e[a];b?c.ta.eq(k).prepend(h):c.ta.eq(k).append(h)})};
function kW(a,b){var c=a.ol();if(void 0!==b.ta){if(b.ta.length!==c)throw Error("Cannot merge masonry layouts with different column counts.");a.ta||hW(a,c);a.ta.each(function(a,c){b.ta.eq(a).children().appendTo(c)})}}f.contains=function(a){return!(!this.ta||!this.ta.children().filter(a).length)};function hW(a,b){var c="masonryLayoutColumn "+a.Fm;a.ta=_.range(b).map(function(){return $("\x3cdiv\x3e").addClass(c).width(100/b+"%")}).reduce($.merge);a.ta.appendTo(a.$el)}
f.BL=function(a){var b=this.$el.width()/this.ol();return Math.floor(a/b)*this.ol()+this.ol()};f.ol=function(){var a;"function"===typeof this.ah?(a=this.$el.width(),a=this.ah(a)):a=this.ah;return Math.max(a,1)};function iW(a){return a.ta.get().map(function(a){var c=$(a).children();if(!c.length)return 0;var c=c.last().get(0),d=window.getComputedStyle(c),d=parseInt(d.marginBottom,10)||0;return c.getBoundingClientRect().bottom+d-a.getBoundingClientRect().top})}
function jW(a,b){b||(b=iW(a));return _.min(_.range(b.length),function(a){return b[a]})}f.o=function(a){var b=window.getComputedStyle(a);a=a.getBoundingClientRect().height;var c=Math.pow(10,2);return Math.round(a*c)/c+(parseInt(b.marginBottom,10)||0)+(parseInt(b.marginTop,10)||0)};f.Cf=function(){var a=this.ta&&this.ta.children().get()||[];a.sort(function(a,c){return a.offsetTop!==c.offsetTop?a.offsetTop-c.offsetTop:a.offsetLeft-c.offsetLeft});return $(a)};
f.nv=function(a){function b(a){return a.offsetHeight+a.offsetTop}if(!this.contains(a))throw Error("The given element is not an item in the masonry layout.");var c=b(a[0]);return $(this.ta.children().get().filter(function(a){return b(a)>c}))};f.tl=function(){if(this.ta){var a=jW(this),a=this.ta.get(a);return $(a)}return null};f.isEmpty=function(){return!(this.ta&&this.ta.children().length)};f.push=function(a){this.add(a)};
f.ab=function(){var a=this.ol(),a=this.ta&&a!==this.ta.length;this.ta&&a&&(a=this.Cf().detach(),this.ta&&this.ta.remove(),this.ta=void 0,this.push(a),this.trigger("redraw"))};f.remove=function(a){this.ta&&this.ta.children().filter(a).remove()};f.removeAll=function(){this.ta&&this.ta.children().remove()};
f.split=function(a){if(!this.contains(a))throw Error("The given element is not an item in the masonry layout.");var b=this.nv(a);if(0===b.length)return null;var c=gW({Fm:this.Fm,ah:this.ah});hW(c,this.ta.length);this.ta.each(function(a,e){e=$(e).children().filter(b);c.ta.eq(a).append(e)});return c};f.unshift=function(a){this.add(a,!0)};f.on=Backbone.Events.on;f.off=Backbone.Events.off;f.trigger=Backbone.Events.trigger;function lW(a){this.children=[];this.Fm=a.Fm;this.ah=a.ah;this.$el=$("\x3cdiv\x3e")}f=lW.prototype;f.listenTo=Backbone.Events.listenTo;f.off=Backbone.Events.off;f.on=Backbone.Events.on;f.trigger=Backbone.Events.trigger;function mW(a){return gW({Fm:a.Fm,ah:a.ah})}f.BL=function(a){var b=this.$el.width()/this.ol();return Math.ceil(a/b)*this.ol()+this.ol()};f.ol=function(){var a;"function"===typeof this.ah?(a=this.$el.width(),a=this.ah(a)):a=this.ah;return Math.max(a,1)};
f.Cf=function(){var a=[];this.children.forEach(function(b){b instanceof fW?a=a.concat(b.Cf().get()):a.push(b)});return $(a)};function nW(a,b){return a.DF().filter(function(a){return a.contains(b)})[0]||null}f.DF=function(){return this.children.filter(function(a){return a instanceof fW})};f.tl=function(){var a=this.DF().slice(-1)[0];return a&&a.tl()||null};
function oW(a,b,c){var d,e;d=nW(a,b);if(!d)throw Error("The given element is not an item in the masonry layout.");c.insertAfter(d.$el);e=a.children.indexOf(d);a.children.splice(e+1,0,c[0]);d.nv(b).length&&(a.trigger("beforeSplit",d.ta),b=d.split(b),b.$el.insertAfter(c),a.children.splice(e+2,0,b),a.trigger("afterSplit",d.ta,b.ta))}f.push=function(a){if(!(this.children.slice(-1)[0]instanceof fW)){var b;b=mW(this);b.$el.appendTo(this.$el);this.children.push(b)}this.children.slice(-1)[0].push(a)};
f.ab=function(){function a(){b=!0}var b=!1;this.DF().forEach(function(b){b.on("redraw",a);b.ab();b.off("redraw",a)});b&&this.trigger("redraw")};f.remove=function(a){this.children=this.children.reduce(function(b,c){c instanceof fW?(c.remove(a),c.isEmpty()?c.$el.remove():b.push(c)):b.push(c);return b},[])};
function pW(a,b){var c=a.children.indexOf(b[0]),d,e;if(0>c)throw Error("The given element is not a block in the layout.");d=a.children[c+1];e=a.children[c-1];d instanceof fW&&e instanceof fW&&(a.trigger("beforeMerge",e.ta,d.ta),kW(e,d),d.$el.remove(),a.children.splice(a.children.indexOf(d),1));b.remove();a.children.splice(c,1)}f.unshift=function(a){if(!(this.children[0]instanceof fW)){var b;b=mW(this);b.$el.prependTo(this.$el);this.children.unshift(b)}this.children[0].unshift(a)};function qW(a){this.Hp=a;this.r3=$.isWindow(this.Hp[0]);this.FV=_.throttle(this.dispatchEvent.bind(this),200)}f=qW.prototype;f.tG=function(){this.stopListening();this.Hp.on("scroll",this.FV)};f.stopListening=function(){this.Hp.off("scroll",this.FV)};
function rW(a,b,c){c=_.defaults({},c,{VM:!1});var d=b.offset().top;c=c.VM?parseInt(b.css("margin-bottom"),10):0;b=b.outerHeight();d=d+b+c;b=a.r3?a.Hp.scrollTop():a.Hp.offset().top+parseInt(a.Hp.css("border-top-width"),10);a=a.Hp.innerHeight();return d-(b+a)}f.on=Backbone.Events.on;f.once=Backbone.Events.once;f.off=Backbone.Events.off;f.trigger=Backbone.Events.trigger;f.dispatchEvent=function(){this.trigger("scroll",this)};function sW(a){soy.asserts.assertType(null==a.Al||a.Al instanceof goog.soy.data.SanitizedContent||goog.isString(a.Al),"licensePrice",a.Al,"null|string|undefined");var b=a.Al;soy.asserts.assertType(null==a.rq||goog.isBoolean(a.rq)||1===a.rq||0===a.rq,"licenseFree",a.rq,"boolean|null|undefined");var c=a.rq;soy.asserts.assertType(goog.isString(a.Tv)||a.Tv instanceof goog.soy.data.SanitizedContent,"licenseWithMarkup",a.Tv,"string|goog.soy.data.SanitizedContent");var d=a.Tv;soy.asserts.assertType(goog.isString(a.Sv)||
a.Sv instanceof goog.soy.data.SanitizedContent,"licenseDescription",a.Sv,"string|goog.soy.data.SanitizedContent");var e=a.Sv;soy.asserts.assertType(goog.isString(a.Kd)||a.Kd instanceof goog.soy.data.SanitizedContent,"free",a.Kd,"string|goog.soy.data.SanitizedContent");a=a.Kd;c=null!=c&&c;b=""+('\x3cli\x3e\x3cdiv class\x3d"license"\x3e\x3cdiv class\x3d"license__name"\x3e'+soy.$$escapeHtml(d)+'\x3c/div\x3e\x3cdiv class\x3d"license__price"\x3e'+(c?soy.$$escapeHtml(a):soy.$$escapeHtml(b))+'\x3c/div\x3e\x3c/div\x3e\x3cp class\x3d"priceSummary"\x3e'+
soy.$$escapeHtml(e)+"\x3c/p\x3e\x3c/li\x3e");return soydata.VERY_UNSAFE.ordainSanitizedHtml(b)}
function tW(a){soy.asserts.assertType(goog.isBoolean(a.VB)||1===a.VB||0===a.VB,"royaltyFreeEnabled",a.VB,"boolean");var b=!!a.VB;soy.asserts.assertType(goog.isBoolean(a.Az)||1===a.Az||0===a.Az,"extendedEnabled",a.Az,"boolean");var c=!!a.Az;soy.asserts.assertType(null==a.nB||a.nB instanceof goog.soy.data.SanitizedContent||goog.isString(a.nB),"oneUsePrice",a.nB,"null|string|undefined");var d=a.nB;soy.asserts.assertType(null==a.WB||a.WB instanceof goog.soy.data.SanitizedContent||goog.isString(a.WB),
"royaltyFreePrice",a.WB,"null|string|undefined");var e=a.WB;soy.asserts.assertType(null==a.Bz||a.Bz instanceof goog.soy.data.SanitizedContent||goog.isString(a.Bz),"extendedPrice",a.Bz,"null|string|undefined");var g=a.Bz;soy.asserts.assertType(goog.isString(a.Kd)||a.Kd instanceof goog.soy.data.SanitizedContent,"free",a.Kd,"string|goog.soy.data.SanitizedContent");var h=a.Kd;soy.asserts.assertType(goog.isString(a.tF)||a.tF instanceof goog.soy.data.SanitizedContent,"freeDescription",a.tF,"string|goog.soy.data.SanitizedContent");
var k=a.tF;soy.asserts.assertType(a.mB instanceof soydata.SanitizedHtml||a.mB instanceof soydata.UnsanitizedText||goog.isString(a.mB),"oneTimeUseWithMarkup",a.mB,"soydata.SanitizedHtml");var l=a.mB;soy.asserts.assertType(goog.isString(a.Nc)||a.Nc instanceof goog.soy.data.SanitizedContent,"oneTimeUseDescription",a.Nc,"string|goog.soy.data.SanitizedContent");var m=a.Nc;soy.asserts.assertType(goog.isString(a.LD)||a.LD instanceof goog.soy.data.SanitizedContent,"c4wFreeMediaTitle",a.LD,"string|goog.soy.data.SanitizedContent");
var n=a.LD;soy.asserts.assertType(a.XB instanceof soydata.SanitizedHtml||a.XB instanceof soydata.UnsanitizedText||goog.isString(a.XB),"royaltyFreeWithMarkup",a.XB,"soydata.SanitizedHtml");var p=a.XB;soy.asserts.assertType(goog.isString(a.Qc)||a.Qc instanceof goog.soy.data.SanitizedContent,"royaltyFreeDescription",a.Qc,"string|goog.soy.data.SanitizedContent");var q=a.Qc;soy.asserts.assertType(a.Cz instanceof soydata.SanitizedHtml||a.Cz instanceof soydata.UnsanitizedText||goog.isString(a.Cz),"extendedWithMarkup",
a.Cz,"soydata.SanitizedHtml");var u=a.Cz;soy.asserts.assertType(goog.isString(a.Yd)||a.Yd instanceof goog.soy.data.SanitizedContent,"extendedDescription",a.Yd,"string|goog.soy.data.SanitizedContent");var v=a.Yd;soy.asserts.assertType(null==a.pw||goog.isBoolean(a.pw)||1===a.pw||0===a.pw,"oneUseFree",a.pw,"boolean|null|undefined");var z=a.pw;soy.asserts.assertType(null==a.Tw||goog.isBoolean(a.Tw)||1===a.Tw||0===a.Tw,"royaltyFreeFree",a.Tw,"boolean|null|undefined");var t=a.Tw;soy.asserts.assertType(null==
a.Yu||goog.isBoolean(a.Yu)||1===a.Yu||0===a.Yu,"extendedFree",a.Yu,"boolean|null|undefined");var x=a.Yu;soy.asserts.assertType(goog.isBoolean(a.AA)||1===a.AA||0===a.AA,"isC4wFreeMedia",a.AA,"boolean");var H=!!a.AA;soy.asserts.assertType(null==a.Nz||goog.isBoolean(a.Nz)||1===a.Nz||0===a.Nz,"forceFree",a.Nz,"boolean|null|undefined");a=a.Nz;b=""+(null!=d&&!z||b&&null!=e&&!t||c&&null!=g&&!x?"\x3cul\x3e"+(null!=d?(H?"\x3cli\x3e\x3cp\x3e"+soy.$$escapeHtml(n)+"\x3c/p\x3e\x3c/li\x3e":"")+sW({Al:d,rq:z||a,
Tv:l,Sv:m,Kd:h}):"")+(b&&null!=e?sW({Al:e,rq:t||a,Tv:p,Sv:q,Kd:h}):"")+(c&&null!=g?sW({Al:g,rq:x||a,Tv:u,Sv:v,Kd:h}):"")+"\x3c/ul\x3e":"\x3cp\x3e"+soy.$$escapeHtml(h)+'\x3c/p\x3e\x3cp class\x3d"priceSummary"\x3e'+soy.$$escapeHtml(k)+"\x3c/p\x3e");return soydata.VERY_UNSAFE.ordainSanitizedHtml(b)};function WN(){}
WN=Backbone.View.extend({className:"infoPanel",template:_.template('\x3ca class\x3d"close" href\x3d"#" title\x3d"\x3c%- close %\x3e"\x3e\x3c%- close %\x3e\x3c/a\x3e\x3ch3 class\x3d"infoPanelTitle"\x3e\x3c%- title %\x3e\x3c/h3\x3e'),L9:_.template('\x3ca class\x3d"close" href\x3d"#" title\x3d"\x3c%- close %\x3e"\x3e\x3c%- close %\x3e\x3c/a\x3e\x3ch3 class\x3d"infoPanelTitle"\x3e\x3c%- title %\x3e\x3c/h3\x3e\x3ch4 class\x3d"infoPanelSubtitle brandInfo"\x3e\x3cspan class\x3d"brand"\x3e\x3c/span\x3e\x3cspan class\x3d"spinner on"\x3e\x26hellip;\x3c/span\x3e\x3c/h4\x3e\x3cdiv class\x3d"sectionTitle"\x3e\x3c%- purchase %\x3e\x3c/div\x3e\x3cdiv class\x3d"prices"\x3e\x3c/div\x3e\x3c% if (hasComponentMedia) { %\x3e\x3cdiv class\x3d"sectionTitle"\x3e\x3c%- includedAssets %\x3e\x3c/div\x3e\x3cul class\x3d"componentItems componentMedia threeCol"\x3e\x3c/ul\x3e\x3c% } %\x3e\x3cdiv class\x3d"sectionTitle"\x3e\x3c%- details %\x3e\x3c/div\x3e\x3cdiv class\x3d"details"\x3e\x3cp class\x3d"id"\x3e\x3c%- idTag %\x3e\x3ca target\x3d"_blank" href\x3d"\x3c%- url %\x3e"\x3e\x3c%- id %\x3e\x3c/a\x3e\x3c/p\x3e\x3c/div\x3e\x3c% if (hasKeywords) { %\x3e\x3cdiv class\x3d"sectionTitle"\x3e\x3c%- keywords %\x3e\x3c/div\x3e\x3cp class\x3d"keywords"\x3e\x3c/p\x3e\x3c% } %\x3e'),G2:_.template('\x3ca class\x3d"close" href\x3d"#" title\x3d"\x3c%- closeThisInfoPanel %\x3e"\x3e\x3c%- close %\x3e\x3c/a\x3e\x3ch3 class\x3d"infoPanelTitle"\x3e\x3c%- title %\x3e\x3c/h3\x3e\x3ch4 class\x3d"infoPanelSubtitle layoutsInfo"\x3e\x3cspan class\x3d"infoPanelLayoutsCount"\x3e\x3c%- count %\x3e\x3c/span\x3e\x3c/h4\x3e\x3c% if (hasComponentDesignPages) { %\x3e\x3cul class\x3d"componentItems componentLayouts twoCol"\x3e\x3c/ul\x3e\x3c% } %\x3e'),
X4:_.template('\x3ca class\x3d"close" href\x3d"#" title\x3d"\x3c%- closeThisInfoPanel %\x3e"\x3e\x3c%- close %\x3e\x3c/a\x3e\x3ch3 class\x3d"infoPanelTitle"\x3e\x3c%- title %\x3e\x3c/h3\x3e\x3ch4 class\x3d"infoPanelSubtitle brandInfo layoutsInfo"\x3e\x3cspan class\x3d"infoPanelLayoutsCount"\x3e\x3c%- count %\x3e\x3c/span\x3e \x3cspan class\x3d"brand"\x3e\x3c/span\x3e\x3cspan class\x3d"spinner on"\x3e\x26hellip;\x3c/span\x3e\x3c/h4\x3e\x3cul class\x3d"componentItems componentLayouts twoCol"\x3e\x3c/ul\x3e'),
jaa:_.template('\x3ca class\x3d"close" href\x3d"#" title\x3d"\x3c%- closeThisInfoPanel %\x3e"\x3e\x3c%- close %\x3e\x3c/a\x3e\x3ch3 class\x3d"infoPanelTitle"\x3e\x3c%- title %\x3e\x3c/h3\x3e\x3c% if (isUnapproved) { %\x3e\x3cp class\x3d"unapproved error"\x3e\x3c%- uploadError %\x3e\x3cbr\x3e\x3c%- imageRequirementsTitle %\x3e\x3c/p\x3e\x3cul class\x3d"unapproved error"\x3e\x3cli\x3e\x3c%- imageRequirementsSize %\x3e\x3c/li\x3e\x3cli\x3e\x3c%- imageRequirementsExt %\x3e\x3c/li\x3e\x3cli\x3e\x3c%- imageRequirementsRgb %\x3e\x3c/li\x3e\x3c/ul\x3e\x3c% } %\x3e\x3cp class\x3d"delete removeUpload" data-media-id\x3d"\x3c%- id %\x3e" data-version\x3d"\x3c%- version %\x3e"\x3e\x3cspan class\x3d"icon" title\x3d"\x3c%- deleteMsg %\x3e"\x3e\x3c/span\x3e\x3c%- deleteMsg %\x3e\x3c/p\x3e'),
cK:_.template('\x3cli class\x3d"componentItem fetchingComponentItem componentItem\x3c%- id %\x3e"\x3e\x3cspan class\x3d"componentItemLinkLoading"\x3e\x3c/span\x3e\x3ca class\x3d"componentItemLink" target\x3d"_blank" href\x3d"\x3c%- url %\x3e"\x3e\x3c%- id %\x3e\x3c/a\x3e\x3c% if (hasPrice) { %\x3e\x3cspan class\x3d"componentItemPrice"\x3e\x3c%- price %\x3e\x3c/span\x3e\x3c% } %\x3e\x3c/li\x3e'),v4:_.template('\x3cspan class\x3d"mediaKeyword"\x3e\x3c%- keyword %\x3e\x3c/span\x3e',{variable:"keyword"})});
f=WN.prototype;f.initialize=function(a){this.i=a.i;this.W=a.W;this.J=lc(a.i);this.title=a.title||this.model.qb&&this.model.qb()||Pd(this.J);this.document=null;this.Ra=a.Ra;this.pN=a.pN;this.ak=a.ak;this.mN=a.mN;this.aN=a.aN;this.oN=a.oN;this.DO=a.DO;this.yb=a.yb;this.Hs=a.Hs;this.mp=new Map;this.hI=a.hI};
f.events=function(){return{"mousedown .componentLayouts .componentItem a":this.W2,"click .componentLayouts .componentItem a":this.cT,"click .brandInfo a":this.G9,"click .mediaKeyword":this.J9,"click .removeUpload":this.i9,"click .close":this.close}};
f.render=function(){this.$el.html(this.template({title:this.title,close:Nd(this.J)}));if(this.pN)this.$el.html(this.jaa({title:this.title||Pd(this.J),id:this.model.u(),version:this.model.getVersion(),isUnapproved:this.oN,close:Nd(this.J),closeThisInfoPanel:Od(this.J),uploadError:this.J.format("objectPanelInfoUploadError"),imageRequirementsTitle:this.J.format("objectPanelInfoImageRequirementsTitle"),imageRequirementsSize:this.J.format("objectPanelInfoImageRequirementsSize"),imageRequirementsExt:this.J.format("objectPanelInfoImageRequirementsExt"),
imageRequirementsRgb:this.J.format("objectPanelInfoImageRequirementsRgb"),deleteMsg:this.J.format("objectPanelInfoDelete")}));else if(this.aN)this.$el.html(this.G2({title:this.title,count:Qd(this.J,Number(this.model.Ie().pageCount)),hasComponentDesignPages:this.JV(),close:Nd(this.J),closeThisInfoPanel:Od(this.J)})),this.JV()&&uW(this);else if(this.ak)this.$el.html(this.X4({title:this.title,count:Qd(this.J,Number(this.model.jc())),close:Nd(this.J),closeThisInfoPanel:Od(this.J)})),BL(this.model)&&0<
this.model.jc()&&vW(this);else if(this.mN){this.$el.html(this.L9({title:this.title,id:this.model.u(),url:"/media/"+encodeURIComponent(this.model.u()),hasComponentMedia:this.KM(),hasKeywords:this.KV(),close:Nd(this.J),purchase:this.J.format("objectPanelInfoPurchase"),includedAssets:this.J.format("objectPanelInfoIncludedAssets"),details:this.J.format("objectPanelInfoDetails"),keywords:this.J.format("objectPanelInfoKeywords"),idTag:this.J.format("objectPanelInfoIDTag")}));if(this.KV()){var a=this.model.Sj().map(this.v4).join(", ");
this.$(".keywords").html(a)}this.KM()&&wW(this);this.model.ka&&this.model.ka()&&xW(this);var b,c,d=0;this.KM()?(d=this.model.GF()/100,a=0===d?0:100):a=xL(this.model);b=10*a;c=100*a;this.$(".prices").html(tW({VB:!1,Az:!1,nB:yW(this,a,d),WB:yW(this,b,d),Bz:yW(this,c,d),Kd:this.J.format("objectPanelInfoFree"),tF:this.J.format("objectPanelInfoFreeDescription"),mB:this.J.format("objectPanelInfoOneUse"),Nc:this.J.format("objectPanelInfoOneUsePriceDescription"),LD:this.J.format("objectPanelInfoC4WFreeMedia"),
XB:this.J.Fc(),Qc:this.J.format("objectPanelInfoRoyaltyFreePriceDescription"),Cz:this.J.Id(),Yd:this.J.format("objectPanelInfoExtendedPriceDescription"),pw:0===a,Tw:0===b,Yu:0===c,AA:this.model.Kv()}).toString())}return this};
function wW(a){function b(a,b){function d(){var a=$(this).attr("src");$(this).remove();k++;u.removeClass("fetchingComponentItem");u.find(".componentItemLink").css("background-image","url("+a+")");k>=h&&zW(c)}if(200===a){a=0;var e=b.Ja().ic(),e=e.THUMBNAIL_LARGE||e[wD],g=zF(b.Ja());g&&(a=100*zF(b.Ja()).ONE_USE||0);var u=$(c.cK({url:"/media/"+b.u(),id:b.u(),hasPrice:g,price:AW(c,a)}));c.$(".componentMedia").append(u);$("\x3cimg/\x3e").attr("src",e.oa()).one("load",d)}}var c=a,d=a.model.iM(),e=Math.ceil(d.length/
3),g=.21*$(".infoPanelGallery").width()+20;a=a.$(".componentMedia");var h=d.length,k=0;BW(c);a.css("height",e*g+"px");d.forEach(function(a){Db.Nb(a.id,(new FD).Ik(a.version),b)})}function CW(a,b){function c(){return null}var d=Eb.ka(a.model.ka()).catch(c);a="DESIGN"==zL(a.model)&&a.model.La&&a.model.La()?Eb.La(a.model.La()).then(function(a){return a.Jb()||a.qh()}).catch(c):a.model.nV();P.all([d,a]).spread(b)}
function xW(a){CW(a,function(b,c){var d="DESIGN"==zL(a.model)?$("\x3cspan\x3e"):$("\x3ca\x3e").attr("href","#");if(b){var e=b.Jb()||b.yF(),g=a.J.format("objectPanelInfoBrand")+" "+b.u();c?b.hi()&&!e?d.text(a.J.format("objectPanelInfoByUser",c)):d.text(a.J.format("objectPanelInfoByUserFromBrand",c,e||g)):d.text(a.J.format("objectPanelInfoByBrand",e||g))}else d.text(a.J.format("objectPanelInfoByUnknownBrand"));a.$(".brandInfo .brand").append(d).addClass("on");a.$(".brandInfo .infoPanelLayoutsCount").addClass("on");
a.$(".brandInfo .spinner").removeClass("on").addClass("off")})}
function vW(a){function b(a){var b=d.model.getFile("THUMBNAIL_LARGE",a)||d.model.getFile(wD,a),c="https://static.canva.com/static/images/default_thumbnail.gif",e=$(d.cK({url:"#",id:a,hasPrice:!1})).css("padding-top",d.hI*l*100+"%");b&&(c=b.url);g.append(e);$("\x3cimg/\x3e").attr("src",c).one("load",function(){var a=$(this).attr("src");$(this).remove();h++;e.removeClass("fetchingComponentItem");e.find(".componentItemLink").css("background-image","url("+a+")");h>=k&&zW(d)})}function c(a,b){var c=[];Array.isArray(b.media)&&
(c=b.media.map(La).map(Ym));0<c.length&&cF(Db,HF(new GF,c),function(b,c){var e=0;200===b&&(e=c.media.reduce(function(a,b){return a+(zF(b.Ja()).ONE_USE||0)},0));0!==e&&d.$(".componentLayouts .componentItem"+a).append('\x3cspan class\x3d"componentItemPrice unlistedPrice"\x3e$\x3c/span\x3e')})}var d=a,e=a.model.jc(),g=a.$(".componentLayouts"),h=0,k=e,e=$(".infoPanelGallery").width(),l=(e-10)/e/2;BW(a);xW(a);AL(a.model).sort(function(a,b){return a-b}).forEach(function(a){b(a);DW(d,a,function(b){c(a,b)})})}
function uW(a){function b(a){var b=!1,d="https://static.canva.com/static/images/default_thumbnail.gif";e[a]&&(b=!0,d=e[a].url);var m=$(c.cK({url:"#",id:a,hasPrice:!1})).css("padding-top",c.hI*n*100+"%");m.toggleClass("componentItemThumbnailUpdating",!b||g);h.append(m);$("\x3cimg/\x3e").attr("src",d).one("load",function(){var a=$(this).attr("src");$(this).remove();k++;m.removeClass("fetchingComponentItem");m.find(".componentItemLink").css("background-image","url("+a+")");k>=l&&zW(c)})}var c=a,d=a.model.Ie().imageSets.thumbnail,
e=d.images,g=a.model.getVersion()>d.version,d=a.model.Ie().pageCount,h=a.$(".componentLayouts"),k=0,l=d,m=$(".infoPanelGallery").width(),n=(m-10)/m/2;BW(a);for(a=0;a<d;a++)b(a)}function BW(a){a.$el.addClass("infoPanelLoading")}function zW(a){window.setTimeout(function(){a.$el.removeClass("infoPanelLoading").addClass("infoPanelLoaded")},O.Da.i4)}f.KV=function(){return this.model.Sj&&0<(this.model.Sj()||[]).length};f.JV=function(){return this.model.Ie&&1<this.model.Ie().pageCount};
f.KM=function(){return this.model.iM&&0<(this.model.iM()||[]).length};function yW(a,b,c){return null===b?null:0===b?a.J.format("objectPanelInfoFree"):null!=c&&0<c?a.J.format("objectPanelInfoComponentsPrice",c,(b/100).toFixed(0)):a.J.format("objectPanelInfoPrice",(b/100).toFixed(0))}function AW(a,b){b=yW(a,b);null===b&&(b=a.J.format("objectPanelInfoPriceUnavailable"));return b}f.close=function(){YN.call(this.$(".close").get(0))};f.G9=function(){$("#search").val("brand:"+this.model.ka());qN=null;BM(this.i)};
f.J9=function(a){$("#search").val(a.currentTarget.textContent);qN=null;BM(this.i)};f.i9=function(a){this.close(a);a=(new gF).Uo(this.model.u()).Ik(this.model.getVersion()).Rt(!0);eF(Db,a,this.DO)};
f.wM=function(a){var b;if(!(this.model instanceof or))throw Error("attempted to get a page from a non-design");try{b=this.model.Ie().content.pages[a]}catch(c){}if(!b&&this.document)try{b=this.document.Ie().content.pages[a]}catch(c){}b?this.yb&&this.Hs&&(a={},a[this.Hs.Lb()]="#"+this.yb,b=EW(null,b,a)):b=null;return b};function DW(a,b,c){var d=a.model.getFile("ORIGINAL",b).oa();$.getJSON(d,function(d){a.mp.set(b,d);c&&c(d)})}function FW(a,b){if(a=a.mp.get(b))return a.content.pages[0]}
function GW(a){return a.Ra.getDocument(new Dt({ag:a.model.u(),tA:!0})).then(function(a){return this.document=a.getDocument()}.bind(a))}
f.cT=function(a,b){function c(a){function b(){vP({qp:v.ss(),me:K.lb(),page:v});c(v.serialize())}function c(b){var g={};a.layout&&(g.id=a.layout.id,g.version=a.layout.version);d.model instanceof yL&&(g.id=d.model.u(),g.version=d.model.getVersion());b=Rm(new Pm(g),b);var g={"new":b,old:l,pageIndex:h.K()},n=cq(b.Jg()),p=U,u=b.serialize();!n&&p&&u&&Tl(p,u.id);HO(h,b,k,e);M.register(new FO(4,g))}if(d.model instanceof or){var e=new Vm({type:IB,id:d.model.u(),version:d.model.getVersion()});QV(a,e)}if(a.width!==
h.l()||a.height!==h.o()){var g=Rm(new Pm,a),v=new Hp(K,{});HO(v,g,null,null,!0);d.listenToOnce(v,"unpacked",b)}else c(a)}var d=this,e=parseInt(a.currentTarget.textContent,10),g=this.ak?FW(this,e):this.wM(e),h=K.Ea();if(b){var k=this.model instanceof or?pr(this.model,e):this.model.getFile(wD,e).oa(),l=h.ju();h.clear();k&&qP(h,k);g?c(g):this.ak?DW(this,e,function(a){return c(a)}):GW(this).then(this.wM.bind(this,e)).then(c.bind(this))}else EM.Qy(h,this.i).then(function(b){b&&this.cT(a,!0)}.bind(this))};
f.W2=function(a){var b,c,d,e=parseInt($(a.currentTarget).text(),10),g={url:"https://static.canva.com/static/images/default_thumbnail.gif"};this.ak?(b=FW(this,e),c=this.model.getFile("THUMBNAIL_LARGE",e)||this.model.getFile(wD,e),d={url:c.oa()},c={draft:{content:{pages:[]},imageSets:{thumbnail:{images:[d||g]}}}}):(b=this.wM(e),c=$.extend(!0,{},this.model),d=c.draft.imageSets.thumbnail.images[e],c.draft.imageSets.thumbnail.images[0]=d||g);b?(c.draft.content.pages=[],c.draft.content.pages[0]=$.extend(!0,{},b),b={pageTemplate:b}):
b=this.ak?{cdfRequest:{url:this.model.getFile("ORIGINAL",e).oa()}}:{pageTemplateRequest:{pageIndex:e}};this.model instanceof or?b.documentProperties={id:this.model.u(),version:this.model.getVersion(),previewUrl:pr(this.model,e)}:this.model instanceof yL&&(b.layoutProperties={id:this.model.u(),version:this.model.getVersion(),previewUrl:this.model.getFile(wD,e).oa()});e=HW(tq(c),lc(this.i));e.$el.children("a").data(b).css("width",$(a.currentTarget).css("width")).css("height",$(a.currentTarget).css("height"));
$(a.currentTarget).parents("li").data("view",e);return YM.call(a.currentTarget,a)};function HW(a,b,c){if(a instanceof yL)return"DESIGN"===zL(a)&&IW(function(){a.ql()}),new LP({model:a,query:c||void 0,J:b,W:Jb});if(a instanceof $I)return new JW({model:a});if(a instanceof or)return new KW({model:a});if("string"===typeof a&&-1<_.keys(Nm).indexOf(a))return new LW({model:a});if("string"===typeof a&&-1<_.keys(Om).indexOf(a))return new MW({model:a,J:b});throw new TypeError("Unknown galleryObject type: "+typeof a);}
var IW=function(){var a=Date.now();return function(b){var c=Date.now(),d=Math.max(0,500-(c-a));window.setTimeout(b,d);a=c+d}}();function NW(){}NW=Backbone.View.extend({});NW.Lba=function(){};NW.prototype.kc=function(){return Math.round(this.$el.offset().top)};NW.prototype.kd=function(){return Math.round(this.$el.offset().top+this.$el.height())};function OW(a){return Math.round(parseInt(a.$el.css("left"),10)+a.$el.width()/2)}NW.prototype.Xg=function(a,b){b?this.$el.css("top","+\x3d"+a):this.$el.addClass("doNotTransition").css("top","+\x3d"+a).removeClass("doNotTransition")};
function PW(a,b,c){var d=a.$el.data("originalTop");c?a.$el.css("top",d+b):a.$el.addClass("doNotTransition").css("top",d+b).removeClass("doNotTransition")}
NW.prototype.Wy=function(){var a=this.$el.children("a"),b=a.offset(),c=a.width(),d=a.height(),e=$('\x3cdiv class\x3d"clone"\x3e\x3c/div\x3e'),a=a.children().first().clone();a.hasClass("multiPageLayoutItem")&&(a=a.find("img"));a.css("width",c).css("height",d).appendTo(e);e.data("li",this.$el).css("left",b.left).css("top",b.top).css("width",c).css("height",d);return e};function LW(){}LW=NW.extend({tagName:"li",className:"newSearch grid",template:_.template('\x3ca href\x3d"#"\x3e\x3c/a\x3e')});LW.prototype.initialize=function(a){this.BV=this.model;this.O3=Nm[this.BV];!a.el&&this.render();this.$el.data("view",this)};LW.prototype.render=function(){this.$el.html(this.template()).attr("data-grid-name",this.BV);this.$("a").append(FE(this.O3.items));return this};function MW(){}MW=NW.extend({tagName:"li",className:"newSearch chart",template:_.template('\x3ca href\x3d"#"\x3e\x3c/a\x3e')});MW.prototype.initialize=function(a){this.J=a.J;this.HT=this.model;this.s1=JSON.parse(JSON.stringify(Om[this.HT]));!a.el&&this.render();this.$el.data("view",this)};
MW.prototype.render=function(){this.$el.html(this.template()).attr("data-chart-name",this.HT);var a=LH(this.s1);a.setAttribute("style","max-height: 72px");this.$("a").append(a);this.$("a").append('\x3cspan class\x3d"edit"\x3e'+this.J.format("objectPanelInfoEdit")+"\x3c/span\x3e");return this};function JW(){}JW=NW.extend({tagName:"li",className:"newSearch loading",template:_.template('\x3ca href\x3d"#" title\x3d"\x3c%\x3d name %\x3e"\x3e\x3cimg src\x3d"\x3c%\x3d thumbnail.url %\x3e" width\x3d"\x3c%\x3d thumbnail.width %\x3e" height\x3d"\x3c%\x3d thumbnail.height %\x3e" \x3e\x3c/a\x3e'),P3:_.template('\x3ca href\x3d"#" title\x3d"\x3c%\x3d name %\x3e"\x3e\x3c/a\x3e')});JW.prototype.initialize=function(a){!a.el&&this.render();this.$el.data("view",this)};
JW.prototype.render=function(){var a=this,b=this.model.getContent();aJ(this.model)?(this.$el.addClass("grid").html(this.P3(this.model)),this.$("a").append(FE(b.elements[0].items)),this.$el.removeClass("loading")):(this.$el.html(this.template(this.model)),this.$("img").on("load",function(){a.$el.removeClass("loading")}));this.$el.data("layoutItem",this.model);return this};
JW.prototype.Wy=function(){var a=NW.prototype.Wy.call(this),b=a.children().first();a.addClass("template");aJ(this.model)&&(a.addClass("draggableGridItem dragging"),b.find(".item \x3e .content").addBack().css("left",1).css("right",1).css("top",1).css("bottom",1));return a};function KW(){}KW=JW.extend({className:"designGalleryItem newSearch loading",tagName:"li"});KW.prototype.initialize=function(){this.render()};
KW.prototype.render=function(){var a=this,b=this.model.draft,c=QW(this);this.$el.data({designItem:this.model,usablePreview:c,view:this});this.$el.html(this.template({pageCount:b.pageCount,name:b.content.title,thumbnail:Mq(a.model.draft.imageSets.thumbnail)}));this.$el.toggleClass("designItemThumbnailUpdating",c);this.$("img").on("load",function(){a.$el.removeClass("loading")});return this};
function QW(a){var b;try{b=a.model.Ie().imageSets.thumbnail.version}catch(c){b=-1}return a.model.getVersion()>b}KW.prototype.Wy=function(){var a,b,c;a=NW.prototype.Wy.call(this);a.addClass("template");b=a.find(".designItem");1===b.length&&(c=a.find("img"),c.css("width",a.width()),c.css("height",a.height()),b.remove(),a.append(c));return a};KW.prototype.template=_.template('\x3ca href\x3d"#" title\x3d"\x3c%\x3d name %\x3e"\x3e\x3c% if (pageCount \x3e 1) { %\x3e\x3cdiv class\x3d"designItem multiPageDesignItem" style\x3d"background-image: url(\x3c%\x3d thumbnail.images[0].url %\x3e);"\x3e\x3cdiv class\x3d"multiPageDesignItemPageCount"\x3e\x3c%\x3d pageCount %\x3e\x3c/div\x3e\x3cimg src\x3d"\x3c%\x3d thumbnail.images[0].url %\x3e" width\x3d"\x3c%\x3d thumbnail.width %\x3e" height\x3d"\x3c%\x3d thumbnail.height %\x3e" \x3e\x3c/div\x3e\x3c% } else { %\x3e\x3cimg src\x3d"\x3c%\x3d thumbnail.images[0].url %\x3e" width\x3d"\x3c%\x3d thumbnail.width %\x3e" height\x3d"\x3c%\x3d thumbnail.height %\x3e" \x3e\x3c% } %\x3e\x3c/a\x3e');function LP(){}LP=NW.extend();LP.prototype.initialize=function(a){this.fj=new jh(window.viewConfig);this.query=a.query;this.J=a.J;this.W=a.W;this.render()};LP.prototype.render=function(){this.$el=this.createElement();this.$el.data("view",this);this.$el.data("searchResult",this.model);this.$el.data("result",this.model);return this};LP.prototype.ak=function(){return BL(this.model)};
LP.prototype.createElement=function(){function a(){var a;if(c.query&&/^\w+$/.test(c.query)){var b=c.query.toLowerCase();a=c.model.KF();var e=!1;if(a)for(var g=0;g<a.length;g++)if(a[g].toLowerCase()==b){e=!0;break}a='\x3cspan class\x3d"superKeyword '+(e?"superHit":"superMiss")+'" title\x3d"'+(e?"Remove superKeyword ":"Add superKeyword ")+"'"+b+"'\" \x3eS\x3c/span\x3e ";d.data("superKeywordAdd",!e);d.data("query",b);d.find(".searchResultItem__info").append($(a))}}function b(){var a=$('\x3cdiv class\x3d"multiPageLayoutItem"\x3e\x3c/div\x3e'),
b=$('\x3cdiv class\x3d"multiPageLayoutItemPageCount"\x3e\x3c/div\x3e'),e=c.model.getFile("THUMBNAIL_LARGE",0)||c.model.getFile(wD,0);a.css("background-image","url("+e.oa()+")");b.text(String(c.model.jc()));d.find("a \x3e *").wrapAll(a);d.find(".multiPageLayoutItem").append(b)}var c=this,d=$('\x3cli class\x3d"newSearch loading"\x3e\x3ca href\x3d"#"\x3e\x3cimg\x3e\x3c/a\x3e\x3c/li\x3e'),e=this.model.getFile("THUMBNAIL_LARGE")||this.model.getFile(wD),g=this.model.getFile(Lg),h=this.J.format("objectPanelSearchResultItemViewShowMoreInfo");
switch(zL(this.model)){case "ELEMENT_GROUP":LP.H$(function(){c.model.ql()});d.addClass("elementGroupSearchResult");break;case Gg:d.addClass("vectorSearchResult");break;case Eg:d.addClass("rasterSearchResult")}(function(){var a=$("img",d);jD(kD,a,e.oa()).then(function(){d.removeClass("loading")}).catch(function(){var a=c;a.$el.addClass("failed");a.$el.find(".multiPageLayoutItem").removeClass("multiPageLayoutItem");a.$el.find(".multiPageLayoutItemPageCount").remove();a.$el.find(".price").remove();a.$el.find(".info").remove()});
a.data("screen-url",g.oa()).data("screen-width",g.l()).data("screen-height",g.o()).attr("width",e.l()).attr("height",e.o());zL(c.model)===Gg&&(c.model.us()?a.addClass("graphic"):a.addClass("svg"))})();(function(){var a=xL(c.model),b=(a/100).toFixed(0),e=c.model.GF(),g=!!c.W.G.get(og)&&c.model.Kv(),a=(e=!!e)&&"$"||(0===a||g)&&$d(c.J)||RW(c)&&c.J.format("objectPanelMediaItemCostPro")||null!==a&&"$"+b+" USD"||null;$("a",d).append(SW({zt:h,Wf:e,yf:TW(c)||RW(c)||g,da:a}).toString())})();c.ak()&&(b(),$(".info",
d).remove());"CANVA"!==c.model.Ef()&&$(".info",d).remove();c.model.restricted||c.model.status==iF||($(".info",d).remove(),$(".price",d).remove(),$("img",d).addClass("inMarketplaceReview"));this.fj.xg.get("quickKeywordEditEnabled",void 0)&&a();return d};
function TW(a){if(0!==xL(a.model)||["text","lines","shapes","frames","Canva"].some(function(b){return b===a.query}))return!1;switch(zL(a.model)){case "DESIGN":return a.W.G.get(lg);case Eg:return a.W.G.get(pg);case Gg:return a.W.G.get(pg);default:return!1}}function RW(a){var b=xL(a.model);if(!a.model.Kv()||0===b||null==b)return!1;switch(zL(a.model)){case Eg:return a.W.G.get(sg);case Gg:return a.W.G.get(sg);default:return!1}}
LP.H$=function(){var a=Date.now();return function(b){var c=Date.now(),d=Math.max(0,500-(c-a));window.setTimeout(b,d);a=c+d}}();function UW(){}UW=Backbone.View.extend({className:"searchGroup"});f=UW.prototype;f.initialize=function(a){this.ev=a.ev;this.lV=[];this.Uw=a.model;this.listenTo(this.Uw,{"results:willFetch":this.$C,"results:didFetch":this.Tr,"results:clear":this.z1});this.i=a.i;this.OP=!1;a.el||this.render();this.$el.data("view",this)};f.render=function(){this.$el.html(this.template({title:this.Uw.qb()}));this.$(".gallery").addClass(this.ev);""===this.Uw.qb()&&this.$("h2").remove();return this};f.$C=function(){};
f.Tr=function(a,b,c){function d(b){return HW(b,p,a.Y8)}function e(a){a.$el.appendTo(n)}function g(a){return a instanceof yL&&"DESIGN"===zL(a)}function h(a){return a instanceof LW}function k(a){return a instanceof MW}function l(a){return a instanceof JW}function m(){n.addClass("templateGallery").removeClass("photoGallery")}var n,p=lc(this.i);c||(n=this.$(".gallery"),this.$el.addClass("hasContent"),0<b.length?(c=b.map(d),c.forEach(e),c.some(k)&&n.addClass("chartGallery").removeClass("photoGallery"),
c.some(h)&&n.addClass("gridGallery").removeClass("photoGallery"),c.some(l)&&m(),b.some(g)&&m(),this.lV=this.lV.concat(c),this.ja(),this.trigger("results:render")):0===this.Uw.Vz()&&(n.remove(),this.$(".noResults,.layoutsTab__noResults").remove(),this.$el.append(this.rL())))};f.z1=function(){this.$(".gallery").find("li").each(function(){$(this).data("view").remove()})};f.ja=function(){oA(this.$(".gallery"),!1)};f.compact=function(){pA(this.$el,!0)};
f.ea=function(a,b){var c=0===a?0:"";b?this.$el.css("height",a).css("padding",c):this.$el.addClass("doNotTransition").css("height",a).css("padding",c).removeClass("doNotTransition")};function VW(a,b){a.$el.addClass("doNotTransition").css("height","+\x3d"+b).removeClass("doNotTransition")}f.nv=function(a){var b=a.kd();return a.$el.nextAll().toArray().filter(function(a){a=a.getBoundingClientRect();return(a.top+a.bottom)/2>b}).map(function(a){return $(a).data("view")})};
function WW(a,b){b=a.nv(b);if(0===b.length)return 0;a=b.slice(0).sort(function(a,b){return a.kc()-b.kc()});b=b.slice(0).sort(function(a,b){return b.kd()-a.kd()});a=a[0];return b[0].kd()-a.kc()}function XW(a){return a.$el.outerHeight(!0)-a.$el.height()}f.wz=function(){};f.OT=function(){};f.rL=function(){return $("\x3cp\x3e").addClass("noResults").text(lc(this.i).format("objectPanelSearchNoResults"))};f.template=_.template('\x3ch2\x3e\x3c%- title %\x3e\x3c/h2\x3e\x3cul class\x3d"gallery"\x3e\x3c/ul\x3e');function YW(){}YW=UW.extend();YW.prototype.initialize=function(a){this.i=a.i;this.BA=a.BA;UW.prototype.initialize.call(this,a)};YW.prototype.rL=function(){var a=$("\x3cp\x3e");this.BA?a.addClass("layoutsTab__noResults layoutsTab__noResults--folder").text(lc(this.i).format("objectPanelFolderNoResults")):a.addClass("layoutsTab__noResults layoutsTab__noResults--yourDesigns").text(lc(this.i).format("objectPanelYourDesignsNoResults"));return a};function ZW(){}ZW=UW.extend();ZW.prototype.initialize=function(a){this.i=a.i;UW.prototype.initialize.call(this,a)};ZW.prototype.rL=function(){return $("\x3cp\x3e").addClass("layoutsTab__noResults layoutsTab__noResults--templates").html(lc(this.i).format("objectPanelTemplateNoResults"))};function $W(){}$W=UW.extend({});$W.prototype.initialize=function(a){this.Ex=null;this.PU=0;UW.prototype.initialize.apply(this,arguments);a.el&&this.$(".gallery li").each(function(){var a=new NW({el:this});$(this).data("view",a)})};
$W.prototype.wz=function(a,b){var c=a.$el,d=this.nv(a),e=c.height(),e=c.data("originalTop")+e,g=aX(this,e);this.$el.addClass("folderExpanded");c.addClass("folderExpanded");d.forEach(function(a){PW(a,Math.min(b,g),!0)});b>g&&window.setTimeout(function(){d.forEach(function(a){PW(a,b,!1)})},O.Da.Oz);this.ea(e,!0);this.PU=b;null===this.Ex&&(a=WW(this,a),c=this.$el.next(),this.Ex=$('\x3cdiv class\x3d"spacer"\x3e\x3c/div\x3e'),this.Ex.css("height",a).insertAfter(c))};
$W.prototype.OT=function(a){var b=this.nv(a),c=this.PU-aX(this);0<c&&b.forEach(function(a){a.Xg(-c,!1)});this.$el.removeClass("folderExpanded");a.$el.removeClass("folderExpanded");b.forEach(function(a){PW(a,0,!0)});var d=this;window.setTimeout(function(){d.compact();d.Ex&&d.Ex.remove();d.Ex=null},O.Da.Oz*O.iy)};function aX(a,b){void 0===b&&(b=a.$el.height());var c=a.$el.parents(".layer").outerHeight(!0);a=a.$el.position().top;return c-(a+b)};function bX(){}bX=UW.extend({className:"inlineFolderGroup searchGroup",template:_.template('\x3cul class\x3d"gallery"\x3e\x3c/ul\x3e')});bX.ky=150;f=bX.prototype;f.initialize=function(a){this.model=a.model;this.jg=null;UW.prototype.initialize.apply(this,arguments);this.render();this.ea(0,!1)};
f.remove=function(){function a(){UW.prototype.remove.apply(b,arguments);b.OP=!1}var b=this,c=this.$(".infoPanel .close"),d=0<c.length,e=this.$el.parent();this.OP=!0;d&&c.trigger("click");if(this.jg)this.jg.css("opacity",0).one("transitionend",function(){$(this).remove();b.jg=null});if(0<e.length){var g=this.$el.offset(),c=g.top+this.$el.outerHeight(),d=e.offset().top+e.outerHeight(),c=c-d;if(0<c){VW(this,-c);var h=e.outerHeight()-g.top;this.$(".gallery li").each(function(){var a=$(this).data("originalTop");
(a>=h||a<-g.top)&&$(this).remove()})}this.$el.one("transitionend",a).addClass("disappearing")}else a()};f.$C=function(){0===this.Uw.Vz()&&pN(this.$el);UW.prototype.$C.apply(this,arguments)};f.Tr=function(a,b,c){uN(this.$el);UW.prototype.Tr.apply(this,arguments);var d=this;window.setTimeout(function(){d.compact()},O.Da.x9)};f.compact=function(){if(0!==this.model.Vz()){var a=this;UW.prototype.compact.apply(this,arguments);window.setTimeout(function(){a.$el.height()<bX.ky&&a.ea(bX.ky,!0)},O.Da.Oz)}};
function cX(a){if(null===a.jg){var b=a.$el.parents(".layer");a.jg=$('\x3cdiv class\x3d"folder header clone"\x3e\x3ca class\x3d"close" href\x3d"#" title\x3d"Close this folder"\x3eClose\x3c/a\x3e\x3ch2\x3e\x3cspan\x3e'+_.escape(a.Uw.qb())+"\x3c/span\x3e\x3c/h2\x3e\x3c/div\x3e");a.jg.css("opacity",0).insertAfter(b);P.delay(O.Gc).then(function(){a.jg.css("opacity","")});a.jg.find("a.close").one("click",function(){a.trigger("headerClose:click",a)})}}
function dX(a){if(null!==a.jg){var b=a.jg;a.jg=null;b.css("opacity",0).one("transitionend",function(){$(this).remove()})}};function eX(){}eX=Backbone.View.extend({tagName:"section",className:"layer"});eX.Sk=function(a,b){return new UW({model:a,ev:"infoPanelGallery photoGallery",i:b})};f=eX.prototype;f.events=function(){return{scroll:_.throttle(this.scroll,200)}};
f.initialize=function(a){this.i=a.i;this.$B=this.model=a.model;this.ee=[];this.OH=[];this.Sk=a.Sk||eX.Sk;this.YM=!1;this.listenTo(this.$B,"searchGroup:add",this.Kk);this.listenTo(this.$B,"searchGroup:remove",this.OB);this.listenTo(this.$B,"results:willFetch",this.$C);this.listenTo(this.$B,"results:didFetch",this.Tr);this.$el.data("view",this)};
f.render=function(){this.$el.empty();this.ee.forEach(function(a){this.$el.append(a.$el)},this);this.$el.append('\x3cdiv class\x3d"searchLoaderHolder"\x3e\x3c/div\x3e');return this};f.scroll=function(){0<this.ee.filter(function(a){return a.OP}).length||this.dG()};
f.dG=function(){var a=this.$el.parent(),b=this.ee[this.ee.length-1],c=OP(this.$B);if(0!==a.length&&b&&c&&!this.YM){var d=function(){var c=b.$el.offset().top+b.$el.outerHeight(),d=a.offset().top+a.outerHeight();return c-d};Zg(this).read(function(){if(c.WA&&d()<=a.outerHeight()*O.uS){var b=this.$("\x3e .inner \x3e .searchGroup .gallery li").length;b>O.mD&&Zg(this).write(function(){fO(this.$el,b-O.mD)});this.YM=!0;c.$h(fX(this))}c.WA||Zg(this).write(function(){this.$el.data("userPreparedSearch",!0)})})}};
f.Kk=function(a,b,c){(a=this.ee[c-1])&&a.compact();b=this.Sk(b,this.i);this.ee.splice(c,0,b);a?b.$el.insertAfter(a.$el):b.$el.appendTo(this.$el.children(".inner"))};f.OB=function(a,b,c){a=this.ee[c];this.ee.splice(c,1);a.remove()};f.$C=function(a){this.OH.push(a);pN(this.$el)};f.Tr=function(a,b){var c=this.OH.indexOf(a);-1<c&&this.OH.splice(c,1);0===this.OH.length&&uN(this.$el);this.YM=!1;if(a.WA){var d=this;setTimeout(function(){a===OP(d.model)&&d.dG()},b.length*O.Da.jw+O.Da.ZA)}};
function fX(a){a=a.$el.parent();return sN(a,a.height())};function gX(){}gX=eX.extend({});f=gX.prototype;f.events=function(){var a=eX.prototype.events.apply(this,arguments);a["mousedown .albumGallery a"]=this.D1;a["click .albumGallery a"]=function(){return!1};a["mousedown .albumGallery a img"]=function(a){a.preventDefault()};a["click .inlineFolderGroup \x3e .header a.close"]=this.KT;a.mousedown=this.O1;return a};f.initialize=function(a){eX.prototype.initialize.call(this,a);this.XD=!1;this.eF=0;this.uA=$();this.listenTo(T,"infoPanelToggle",this.j4)};
function hX(a){a=a.ee.filter(function(a){return a instanceof bX});return 0<a.length?a[0]:null}f.scroll=function(a){eX.prototype.scroll.apply(this,arguments);var b=hX(this);b&&Zg().read(function(a){var d=parseInt(b.$el.css("margin-top"),10),e=parseInt(b.$el.css("margin-bottom"),10),g=b.$el.outerHeight(!1),d=b.$el.position().top+d,h=0<d,k=d+g<e;a.write(function(){h||k?dX(b):cX(b)})})};f.dG=function(){this.$el.data("userPreparedSearch")?fN.call(this.el):eX.prototype.dG.apply(this,arguments)};
f.O1=function(a){if(a.target===this.el||"li"===a.target.nodeName.toLowerCase()&&0<$(a.target).parents(".browseCategories").length)return(a=this.ee[0].$("li.folderExpanded").data("view"))&&iX(this,a),!1};f.D1=function(a){var b=this.ee[0];a=$(a.currentTarget).parent().data("view");var c=b.$el.hasClass("folderExpanded")&&!a.$el.hasClass("folderExpanded");a.$el.hasClass("folderExpanded")?iX(this,a):c?(b=b.$("li.folderExpanded").data("view"),iX(this,b)):this.XD||jX(this,a);return!1};
f.KT=function(){var a=this.$(".gallery .folderExpanded").data("view");!this.XD&&iX(this,a)};
function jX(a,b){var c=a.ee[0],d=a.model,e=b.$el.children("a"),g=e.attr("title"),e=e.data("query"),h=PP(e),k=new JM(h,g,e);NP(d,k,1);a.trigger("folder:expand",e);d=a.ee[1];d.$el.attr("data-query",e);kX(a,bX.ky);c.wz(b,a.eF);0===WW(c,b)&&d.$el.addClass("end");a.listenTo(d,"headerClose:click",function(){a.KT()});a.uA.remove();a.uA=$('\x3cdiv class\x3d"inlineFolderPointer"\x3e\x3c/div\x3e');a.uA.css("left",OW(b)+parseInt(a.$el.css("padding-left"),10)).insertBefore(d.$el);pN(d.$el);setTimeout(function(){k.$h(fX(a))},
O.Da.Oz*O.iy);a.$el.removeData("userPreparedSearch")}function iX(a,b){var c=a.ee[0],d=a.model;if(1<d.getLength()){a.XD=!0;var e=OP(d),g=hX(a);a.stopListening(g);d.OB(e);a.uA&&setTimeout(function(){a.uA.remove();a.XD=!1},O.Da.Oz)}c.OT(b);kX(a,0);a.$el.data("userPreparedSearch",!0)}f.Kk=function(a,b,c){(a=this.ee[c-1])&&a.compact();var d=new bX({model:b,ev:"infoPanelGallery photoGallery",i:this.i});this.ee.splice(c,0,d);d.$el.insertAfter(a.$el);P.delay(O.Gc).then(function(){d.ea(bX.ky-72,!0)})};
f.Tr=function(a,b,c){eX.prototype.Tr.apply(this,arguments);JP(this,!0)};function JP(a,b){var c=a.ee[0],d=hX(a),e=c.$("li.folderExpanded").data("view");if(e){var g=XW(d),h=d.$el.data("contentHeight")||0,g=g+h,k=VN(d.$el),l=Math.max(g,bX.ky),m=c.$el.find("li");b?c.wz(e,l+k):(m.addClass("doNotTransition"),P.delay(O.Gc).then(function(){c.wz(e,l+k);P.delay(O.Gc).then(function(){m.removeClass("doNotTransition")})}));kX(a,l)}}
f.j4=function(a,b){var c=hX(this);c&&c.el===a.get(0)&&(a=this.ee[0],c=a.$("li.folderExpanded").data("view"),a.wz(c,this.eF+b))};function kX(a,b){var c=b-a.eF;a.eF=b;var d=a.ee[0].$el.nextAll(".searchGroup:not(.inlineFolderGroup)").find(".infoPanel, .infoPanelPointer");d.one("transitionend",function(){$(this).removeClass("transitionTop")}).addClass("transitionTop");P.delay(O.Gc).then(function(){d.css("top","+\x3d"+c)})};function CM(){}CM=Backbone.View.extend({className:"textControls"});CM.J0=1.02;f=CM.prototype;f.events=function(){return{"mousedown a.add":this.N4,"click a.add":this.B1}};f.initialize=function(a){this.Ti=a.Ti;this.i=a.i;this.QD=!1;this.listenTo(this.model,"change:defaultFont",this.faa);this.render()};f.template=_.template("\x3c% if (hasBrandKit) { %\x3e\x3cp\x3e\x3c%- brandFontLabel %\x3e\x3c/p\x3e\x3c% } else { %\x3e\x3cp\x3e\x3c%- fontLabel %\x3e\x3c/p\x3e\x3c% } %\x3e\x3cul\x3e\x3c/ul\x3e");
f.A4=_.template('\x3cli style\x3d"color: \x3c%- color %\x3e; text-align: \x3c%- justification %\x3e;"\x3e\x3ca class\x3d"add" data-style\x3d"\x3c%- style %\x3e"href\x3d"#" style\x3d"color: \x3c%\x3d color %\x3e; font-family: \'\x3c%- fontFamily %\x3e\'; font-size: \x3c%- fontSizePercentage %\x3e%; font-style: \x3c%- italic ? "italic" : "normal"%\x3e; font-weight: \x3c%- bold ? "bold" : "normal"%\x3e;"\x3e\x3c%- placeholderText %\x3e\x3c/a\x3e\x3c/li\x3e');
f.render=function(){var a,b=this;this.$el.html(this.template(function(){var a=lc(b.i);return{hasBrandKit:!!b.Ti,fontLabel:a.format("objectPanelTextPanelFontLabel"),brandFontLabel:a.format("objectPanelTextPanelBrandFontLabel")}}()));a=this.$el.children("ul");for(var c in ec)a.append(lX(this,ec[c]));mX(this,this.s9.bind(this));return this};
f.s9=function(){var a;this.$(".add").each(function(){a=a||Math.min(1,this.parentElement.offsetWidth/this.offsetWidth);this.style.fontSize=parseFloat(this.style.fontSize)*a+"%"})};function mX(a,b){function c(){d++;3===d&&b&&b()}var d=0;Object.keys(ec).forEach(function(a){a=this.hs(ec[a]).fontFamily;bK(a,c)},a)}function lX(a,b){b=a.hs(b);return $(a.A4(b))}
f.hs=function(a){var b={title:32,subtitle:18,body:14},c=$.extend(!0,{},this.model.FI[a]),d=$.extend(!0,{},this.model.Dr[a]),e=nX(this,a),g=lc(this.i);switch(a){case "title":g=Vd(g);break;case "subtitle":g=Wd(g);break;case "body":g=g.format("objectPanelTextPanelAddBody");break;default:throw Error("Unknown TextElementStyle "+a);}g={bold:!1,italic:!1,justification:"center",color:"auto",placeholderText:g,style:a};c=_.extend({},g,d,c,e);(e=YA(Kb,c.fontFamily))?c.fontFamily=e.family:c=_.extend({},g,d);
void 0===c.fontSize&&(c.fontSize=b[a]);c.fontSizePercentage=c.fontSize*O.Oi;return c};function nX(a,b){var c;try{c=a.Ti.KC[0].LC||[]}catch(d){c=[]}return c.filter(function(a){return!!a.font&&a.getName()===b}).map(function(a){a=a.font;return{bold:a.bold,italic:a.italic,fontFamily:a.family,fontSize:a.Wp()}})[0]}f.faa=function(a,b,c){var d=this.$el.find("[data-style\x3d"+b+"]").parent(),e=lX(this,b);bK(c.fontFamily,function(){d.replaceWith(e)})};
f.B1=function(a){function b(a){a.dl(d);Ag(a)}var c=this.model;a=$(a.currentTarget).data("style");var d=c.Ea();this.kE(a).then(b,b);this.QD=!0;return!1};
f.kE=function(a){var b=this.$(".add[data-style\x3d"+a+"]"),c=this.hs(a);c.fontSize*=vb.Ap;var d=oX(this,b);d.find("a").css("font-size",c.fontSize*O.Oi+"%");d.css("font-size","100%").css("opacity",0).appendTo("#content");var e=d.width();d.remove();var g=_.defaults({style:a,lockedWidth:!1,width:e*CM.J0,html:b.text(),placeholderText:b.text()},c);return new P(function(a,b){new Kp(g,function(c,d){d?a(c):b(c)})})};
function oX(a,b){var c=a.model.Ea().If(),d=a.hs(b.data("style")),e=b.clone();a=pX(a);var g=parseFloat(b.get(0).style.fontSize||100)/100,d=d.color&&"auto"!==d.color?d.color:"inherit";e.css("width",b.width()).css("height",b.height()).css("white-space","nowrap").css("color",d).css("font-size",a*g*100+"%");b=$('\x3cdiv class\x3d"textControls clone text"\x3e\x3c/div\x3e');b.css("font-size",100*W+"%").css("color",c?"white":"black").append(e);return b}
f.N4=function(a){function b(a){var h=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;a=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;if(d.QD)return E.off("mousemove|touchmove",b).off("mouseup|touchend",c),l&&l.remove(),g.removeClass("pickedUp"),d.QD=!1;if(null==l)if(xN(E)){var m=Jn(t,x,h,a);if(300<m||60>m)l=oX(d,e),$("#content").append(l),g.addClass("pickedUp");else return!0}else if(Math.abs(h-t)>O.Hc||Math.abs(a-x)>O.Hc)l=oX(d,e),$("#content").append(l),g.addClass("pickedUp");
null!=l&&(m=k.top+a-x,l.css("left",k.left+h-t).css("top",m),m=Math.min(1,Math.sqrt(Math.pow(h-t,2)+Math.pow(a-x,2))/H),l.css("font-size",100*(1+(u-1)*m)+"%").css("color",An(S,N,m).ra()),(h<n.left||h>n.left+p||a<n.top||a>n.top+q)&&ZN(v.$el,l)?(null==L&&(L=new bh(l,z)),dh(L,Q,J)):$("#overlays .align").removeClass("on"));return!1}function c(a){function h(){l.remove();g.removeClass("pickedUp");l.hasClass("returning")||k()}function k(){e.one("transitionend",function(){$(this).removeClass("reappearing")}).addClass("reappearing")}
function m(a){a.setPosition(L.F(),L.w());a.appendTo(d.model.Ea());Ag(a);Bg(a);UK(a.C())}E.off("mousemove|touchmove",b).off("mouseup|touchend",c);$("#overlays .align").removeClass("on");$("#content").trigger("mousedown");hh();var u=void 0!==a.clientX?a.clientX:a.originalEvent.changedTouches[0].clientX;a=void 0!==a.clientY?a.clientY:a.originalEvent.changedTouches[0].clientY;if(null==l&&Math.abs(u-t)<O.Hc&&Math.abs(a-x)<O.Hc)return!1;null!=l&&((u<n.left||u>n.left+p||a<n.top||a>n.top+q)&&ZN(v.$el,l)?
(u=e.data("style"),d.kE(u).then(m).finally(h)):(u=e.offset(),l.addClass("returning"),l.one("transitionend",h).css("left",u.left).css("top",u.top).css("font-size","100%").css("color",S.ra())))}if(a.which!==O.Mh){var d=this,e=$(a.currentTarget),g=e.parent("li"),h=$(a.currentTarget).data("style"),k=e.offset(),l=null,m=$("#objectPanel"),n=m.offset(),p=m.outerWidth(),q=m.outerHeight(),h=this.hs(h);h.fontSize*=vb.Ap;var u=1/(parseFloat(e.get(0).style.fontSize)/O.Oi*pX(this)/h.fontSize)*W,v=gh(vb),z=v.$el.find(".page__content").get(0).getBoundingClientRect(),
t=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,x=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,H=Math.abs(t-(n.left+p)),E=new fp($(document));E.on("mousemove|touchmove",b).on("mouseup|touchend",c);var L=null,J=ch(),Q={};a=this.model.Ea().If();var S=hn(new fn,255,255,255),N=new fn;h.color&&"auto"!==h.color?N=mh(h.color)||N:a?hn(N,255,255,255):hn(N,0,0,0);this.QD=!1;return bO}};
function pX(a){return parseFloat(getComputedStyle(a.el.querySelector("ul")).fontSize)/parseFloat(getComputedStyle(a.el).fontSize)};function LM(){}LM=eX.extend();LM.prototype.initialize=function(a){this.limit=0;this.J=lc(a.i);a.model=new MP;a.Sk=LM.Sk;eX.prototype.initialize.call(this,a);this.model.Kk(qX())};LM.Sk=function(a,b){return new ZW({model:a,ev:"infoPanelGallery photoGallery",i:b})};function qX(){var a=ky(hy()).ka(),b=y(K.lb().u());return new JM(new YP({va:a.u(),Ra:Ab,PK:b,Li:new WI(Ib)}))}LM.prototype.$h=function(a){this.limit=a;OP(this.model).$h(a)};
LM.prototype.reset=function(){for(var a=this.model;OP(a);)a.OB(OP(a));this.model.Kk(qX())};function GM(){}GM=eX.extend();GM.Sk=function(a,b,c){return new YW({model:b,BA:a,ev:"infoPanelGallery photoGallery",i:c})};GM.prototype.initialize=function(a){a.model=new MP;a.Sk=GM.Sk.bind(null,a.BA);eX.prototype.initialize.call(this,a);this.model.Kk(new JM(a.I2))};GM.prototype.$h=function(a){OP(this.model).$h(a)};function IM(){}IM=eX.extend();IM.prototype.initialize=function(a){this.jE=a.jE;a.model=new MP;eX.prototype.initialize.call(this,a);this.model.Kk(this.jE())};IM.prototype.$h=function(a){OP(this.model).$h(a)};IM.prototype.reset=function(){this.model.OB(OP(this.model));this.model.Kk(this.jE())};function EM(){}EM=Backbone.View.extend();f=EM.prototype;f.initialize=function(a){this.yb=a.yb;this.AK=a.AK;this.Qr=yN;this.gE=a.gE;this.qK=a.qK;this.mK=a.mK;this.rK=a.rK;this.Ra=a.Ra;this.gc=a.gc;this.Yc=null;this.iV=!1;this.OQ=a.OQ;this.QQ=a.QQ;this.KA=this.pq=this.Fi=null;this.Hs=a.E4.reduce(function(a,c){a[c.template]=TN(c);return a},{});this.PH=null;this.i=a.i;this.J=lc(this.i);this.render();rX(this);this.$el.data("view",this);this.listenTo(this.model,"resize",this.aZ)};
f.events=function(){return{"click .templateGallery .info .moreInfo":this.S1,"click .templateGallery a":this.Z1,"click .tabDropdown":this.Y1}};f.remove=function(){this.KA&&this.KA.remove();Backbone.View.prototype.remove.call(this)};f.d8=_.template('\x3csection class\x3d"layoutTabPanel"\x3e\x3csection class\x3d"layer scrollPane"\x3e\x3cdiv class\x3d"inner"\x3e\x3cdiv class\x3d"searchLoaderHolder"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/section\x3e\x3c/section\x3e');f.template=_.template('\x3c% if (showTabMenu) { %\x3e\x3cdiv class\x3d"layoutsControls"\x3e\x3cdiv class\x3d"select tabDropdown"\x3e\x3c/div\x3e\x3c/div\x3e\x3c% } %\x3e\x3csection class\x3d"layoutsContainer layoutsContainer"\x3e\x3c/section\x3e');
function rX(a){var b=sk((new rk).Ut(a.AK),[Wj]).gS().Vg(100);a.gc.eV(b).then(function(b){a.Yc=b.Np().filter(function(a){var b;if(b="undefined"!==typeof a.gn())b=["OWNER","ADMIN","EDITOR","VIEWER"],b=b.indexOf(a.gn())<=b.indexOf("EDITOR");return b}).sort(sX);a.Fi&&a.Yc&&tX(a.Fi,a.Yc)}).catch(function(){a.iV=!0;a.Fi&&uX(a.Fi)})}f.$h=function(a){this.PH&&this.PH.$h(a)};
f.Z1=function(a){hh();if($(a.target).is(".moreInfo"))return!1;a=$(a.currentTarget);var b=a.parents("li").data("view"),c=b.model;this.$(".gallery li.on").removeClass("on");if(RV(this,a))return!1;c.getContent?(TV(this,c),b.$el.addClass("on")):c.ic?(fP(this,c),b.$el.addClass("on")):c.Ie&&1===c.Ie().pageCount&&(SV(this,c),b.$el.addClass("on"));return!1};
function RV(a,b,c){var d=b.parents("li").data("view"),e=d.model;return d.ak&&d.ak()||e.Ie&&e.Ie()&&1<e.Ie().pageCount?(d=!1!==c&&!b.hasClass("infoOpen"),!0!==c&&b.hasClass("infoOpen")?nA():d&&(c=document.createElement("span"),$(c).css("visibility","hidden").css("width",0).css("height",0),b.append(c),aN.call(c,a.i)),!0):!1}f.S1=function(a){return aN.call(a.currentTarget,this.i)};
EM.Qy=function(a,b){if((new jh(window.viewConfig)).wh())b=P.resolve(!0);else{b.mL||(b.mL=new ge(b.config));b=b.mL;a=sP(a);var c=Eb,d=new vX({H:hl,$R:b.$R(),Q2:b.Nk(),Z4:b.HG(),p9:b.pp(),ZR:b.ZR()});b=(new wX({i:b,OO:a,Z:c},d)).confirm()}return b};
function SV(a,b,c,d){function e(a){return a.getDocument()}function g(a){function d(){vP({qp:g.ss(),me:K.lb(),page:g});xX(K.Ea(),Qm(g.serialize()),p,pr(a,0),m)}n.clear();q&&c&&qP(n,q);l=a.Ie().content.pages[0];m=new Vm({type:IB,id:a.u(),version:a.getVersion()});QV(l,m);null!==k.yb&&k.Hs.hasOwnProperty(b.u())&&EW(null,l,h());if(l.width!==n.l()||l.height!==n.o()){var e=Rm(new Pm,l),g=new Hp(K,{});HO(g,e,null,null,!0);k.listenToOnce(g,"unpacked",d)}else xX(K.Ea(),Qm(l),p,pr(a,0),m)}function h(){var a=
{};a[k.Hs[b.u()].Lb()]="#"+k.yb;return a}var k=a,l,m,n=K.Ea(),p=n.ju(),q=pr(b,0);if(d){var u;try{u=b.Ie().content.pages[0]}catch(v){}u?g(b):(n.clear(),q&&c&&qP(n,q),a.Ra.getDocument(new Dt({ag:b.u(),tA:!0})).then(e).then(g))}else EM.Qy(n,a.i).then(function(a){a&&SV(this,b,c,!0)}.bind(a))}function TV(a,b,c){var d=K.Ea();c?(a=b.getContent(),a=Rm(new Pm,a),aJ(b)&&Tm(a,d.l(),d.o()),xX(d,a)):EM.Qy(d,a.i).then(function(a){a&&TV(this,b,!0)}.bind(a))}
function fP(a,b,c){function d(a){function c(){vP({qp:n.ss(),me:K.lb(),page:n});xX(g,Qm(n.serialize()),null,b.tn())}if(a&&a.content&&a.content.pages){var d={id:b.u(),version:b.getVersion(),price:xL(b),title:b.qb(),keywords:b.Sj()},d=Sm(new Pm(d),a),m=K.Ea();a=a.content.pages[0];if(a.width!==m.l()||a.height!==m.o()){var n=new Hp(K,{});HO(n,d,null,null,!0);e.listenToOnce(n,"unpacked",c)}else xX(g,d,null,b.tn())}}var e=a,g=K.Ea();c?(b.ql(d),tL(b,!1)):EM.Qy(g,a.i).then(function(a){a&&fP(this,b,!0)}.bind(a))}
function xX(a,b,c,d,e){c={"new":b,old:c||a.ju(),pageIndex:a.K()};var g=cq(b.Jg()),h=U,k=b.serialize();!g&&h&&k&&Tl(h,k.id);HO(a,b,d,e);M.register(new FO(4,c))}EM.prototype.render=function(){this.$el.html(this.template({layoutsLabelText:this.J.format("objectPanelLayoutsPanelLayoutsTabLabel"),yourDesignsLabelText:Xd(this.J),showTabMenu:this.QQ}));yX(this);return this};EM.prototype.aZ=function(){this.pq.reset&&this.pq.reset();this.PH===this.pq&&this.$h(sN(this.$el,this.$el.height()))};
EM.prototype.Y1=function(){var a=this;this.Fi=this.rK(this.Qr);this.Fi.on("select",function(b){a.Qr!==b&&(a.Qr=b,yX(a))});this.Fi.on("hide",function(){a.$el.removeClass("resultsLayout--fadeResults")});this.Fi.on("remove",function(){a.Fi.off();a.Fi=null});this.Fi.Bi(this.$(".tabDropdown"));this.$el.addClass("resultsLayout--fadeResults");this.iV?uX(this.Fi):this.Yc&&tX(this.Fi,this.Yc);rX(this)};
function yX(a){var b=a.$(".tabDropdown"),c=$(a.d8()),d=c.find(".layer");a.$(".layoutsContainer").empty().append(c);a.KA&&a.KA.remove();a.KA=(new Vn(c.find(".scrollPane"))).render();switch(a.Qr){case yN:a.pq=a.qK(d);b.text(Yd(a.J));break;case zN:a.pq=a.mK(d);b.text(Zd(a.J));break;case AN:a.pq=a.gE(d,null);b.text(Xd(a.J));break;default:a.pq=a.gE(d,a.Qr),b.text(a.Yc.filter(function(b){return b.u()===a.Qr})[0].getName()||"")}a.OQ&&(c=$(document.createElement("span")).addClass("newFeatureLabel").text(sd(a.i).Sn()),
b.append(c));b.attr("data-selected",a.Qr);a.PH=a.pq;a.$h(sN(a.$el,a.$el.height()))};var yN="CANVA_LAYOUTS",zN="TEAM_TEMPLATES",AN="YOUR_DESIGNS";function FM(){}FM=Az.extend({className:"layoutsTabMenu"});f=FM.prototype;f.initialize=function(a){this.J=a.J;this.Hu=a.Hu;this.Wc=a.Wc;this.tx=a.tx;this.Yl=null;Az.prototype.initialize.call(this,{content:this.QP(),vx:!1,qw:!0,Ho:!1,position:xp})};
f.events=function(){function a(a,d){b.trigger("select",a);b.$(".layoutsTabMenu__item--selected").removeClass("layoutsTabMenu__item--selected");$(d.currentTarget).addClass("layoutsTabMenu__item--selected layoutsTabMenu__item--activated");b.H.setTimeout(function(){return b.remove()},100)}var b=this;return{"click .layoutsTabMenu__item--canvaLayouts":function(b){return a(yN,b)},"click .layoutsTabMenu__item--teamTemplates":function(b){return a(zN,b)},"click .layoutsTabMenu__item--yourDesigns":function(b){return a(AN,
b)},"click .layoutsTabMenu__item--folder":function(b){return a($(b.currentTarget).attr("data-id"),b)},"click .layoutsTabMenu__upgrade":function(){var a=b.Wc;a.j.wa(lm("object_panel_layouts","folders_dropdown","design_templates"));var d;a.W.G.get(fg)?(window.open("https://about.canva.com/pricing","_blank"),d=!0):d=!1;d||Fo(a,zX);b.remove()}}};f.Rp=function(){return AX};f.remove=function(){this.Yl&&this.Yl.remove();Az.prototype.remove.call(this)};
f.render=function(){Az.prototype.render.call(this);this.Yl||(this.Yl=(new Vn(this.$(".selectMenu"))).render());return this};
f.QP=function(){var a=$,b;b=this.J.format("objectPanelLayoutsPanelFoldersLoading");var c=soydata.VERY_UNSAFE.ordainSanitizedHtml(this.J.format("objectPanelLayoutsPanelUpgradeCta"));soy.asserts.assertType(goog.isString(b)||b instanceof goog.soy.data.SanitizedContent,"loadingMsg",b,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(c instanceof soydata.SanitizedHtml||c instanceof soydata.UnsanitizedText||goog.isString(c),"upgradeHtml",c,"soydata.SanitizedHtml");b=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"selectMenu layoutsTabMenu"\x3e\x3cdiv class\x3d"layoutsTabMenu__loading"\x3e'+
soy.$$escapeHtml(b)+'\x3c/div\x3e\x3cdiv class\x3d"layoutsTabMenu__upgradeCta"\x3e'+soy.$$escapeHtml(c)+"\x3c/div\x3e\x3c/div\x3e");a=a(b.toString());b=a.find(".layoutsTabMenu__loading");b.before(BX({Ms:"canvaLayouts",selected:this.Hu===yN,label:Yd(this.J),locked:!1}).toString());b.before(BX({Ms:"teamTemplates",selected:this.Hu===zN,label:Zd(this.J),locked:this.tx}).toString());b.before(BX({Ms:"yourDesigns",selected:this.Hu===AN,label:Xd(this.J),locked:this.tx}).toString());a.toggleClass("layoutsTabMenu--demoMode",
this.tx);return a};function tX(a,b){b.length?a.$(".layoutsTabMenu__loading").remove():a.$(".layoutsTabMenu__loading").text(a.J.format("objectPanelLayoutsPanelFoldersEmpty"));a.$(".layoutsTabMenu__item--folder").remove();b.forEach(function(b){a.$(".layoutsTabMenu__upgradeCta").before(BX({Ms:"folder",selected:a.Hu===b.u(),label:b.getName()||"",px:b.shared,Gx:b.Yp()&&b.Yp().starred,Jz:b.u(),locked:a.tx}).toString())})}
function uX(a){a.$(".layoutsTabMenu__loading").text(a.J.format("objectPanelLayoutsPanelFoldersError"))};function BX(a){soy.asserts.assertType(goog.isString(a.Ms)||a.Ms instanceof goog.soy.data.SanitizedContent,"modifierName",a.Ms,"string|goog.soy.data.SanitizedContent");var b=a.Ms;soy.asserts.assertType(goog.isBoolean(a.selected)||1===a.selected||0===a.selected,"selected",a.selected,"boolean");var c=!!a.selected;soy.asserts.assertType(goog.isString(a.label)||a.label instanceof goog.soy.data.SanitizedContent,"label",a.label,"string|goog.soy.data.SanitizedContent");var d=a.label;soy.asserts.assertType(goog.isBoolean(a.locked)||
1===a.locked||0===a.locked,"locked",a.locked,"boolean");var e=!!a.locked;soy.asserts.assertType(null==a.px||goog.isBoolean(a.px)||1===a.px||0===a.px,"sharedFolder",a.px,"boolean|null|undefined");var g=a.px;soy.asserts.assertType(null==a.Gx||goog.isBoolean(a.Gx)||1===a.Gx||0===a.Gx,"starredFolder",a.Gx,"boolean|null|undefined");var h=a.Gx;soy.asserts.assertType(null==a.Jz||a.Jz instanceof goog.soy.data.SanitizedContent||goog.isString(a.Jz),"folderId",a.Jz,"null|string|undefined");a=a.Jz;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"selectMenu__item layoutsTabMenu__item layoutsTabMenu__item--'+
soy.$$escapeHtmlAttribute(b)+(c?" layoutsTabMenu__item--selected":"")+(e?" layoutsTabMenu__item--locked":"")+'"'+(a?' data-id\x3d"'+soy.$$escapeHtmlAttribute(a)+'"':"")+"\x3e"+(a?g?CX({za:"layoutsTabMenu__icon",Mi:h}):DX({za:"layoutsTabMenu__icon",Mi:h}):"")+soy.$$escapeHtml(d)+"\x3c/div\x3e")};function TM(a){this.pO=this.pO.bind(this);this.Tn=this.Tn.bind(this);this.element=a;this.element.on({dragover:this.pO,drop:this.Tn});this.tN=null;this.FW=-1}_.extend(TM.prototype,Backbone.Events);TM.prototype.trigger=Backbone.Events.trigger;
TM.prototype.pO=function(a){var b=this;a.originalEvent.dataTransfer&&(a.originalEvent.dataTransfer.dropEffect="copy",a.preventDefault(),clearTimeout(this.FW),this.tN||(this.tN=Date.now(),1===$("#objectPanel \x3e menu \x3e .uploads.on").length?this.trigger("dragenter"):($("#objectPanel \x3e menu \x3e .uploads \x3e a").click(),setTimeout(function(){b.trigger("dragenter")},300))),this.FW=setTimeout(function(){b.trigger("dragleave");b.tN=null},500))};
TM.prototype.Tn=function(a){var b;try{b=a.originalEvent.dataTransfer.files}catch(c){}a.preventDefault();a.stopPropagation();b&&b.length&&this.trigger("drop",b);return!1};function EX(){}EX=Backbone.View.extend({className:"uploadsFolderItem"});f=EX.prototype;f.events=function(){return{click:this.Lf,dragstart:this.Qs,mousedown:this.Rs}};f.initialize=function(a){this.Pa=a.Pa;this.model=a.model;this.root=a.root};f.Lf=function(){this.Pa.SS(this.model)};f.Qs=function(a){a.preventDefault();return!1};f.Rs=function(a){return a.which===O.Mh||this.bR(a)};f.yO=function(a,b){function c(){d.$el.removeClass("uploadsFolderItemDragging")}var d=this;b?setTimeout(c,600):(this.Lf(),c())};
f.render=function(){this.$el.addClass("uploadsFolderItemLoading");this.$el.html(this.template());this.QB();return this};f.QB=function(){var a,b,c=this;a=this.model.re().o()/this.model.re().l();b=this.$(".uploadsFolderItemThumbnail");b.css("padding-bottom",100*a+"%");a=b.find("img");a.one("load",function(){c.$el.removeClass("uploadsFolderItemLoading")});jD(kD,a,this.model.re().oa())};
f.bR=function(a){var b=this.el.getBoundingClientRect(),c=a.clientX,d=a.clientY,e=this.$el.clone().off(),c=new V(c,d,c,d),b=Wg(b);if(this.root){this.$el.addClass("uploadsFolderItemDragging");var d=this.Pa,g=this.model;Ug(d,Dg(g),b,e,c,d.SS.bind(d,g));this.YR(a)}return!1};f.template=_.template('\x3cdiv class\x3d"uploadsFolderItemThumbnail"\x3e\x3cimg\x3e\x3c/div\x3e');
f.YR=function(a){function b(c){3<Math.sqrt(Math.pow(c.clientX-a.clientX,2)+Math.pow(c.clientY-a.clientY,2))&&(e=!0,d.root.off("mousemove",b))}function c(a){d.root.off("mousemove",b);d.root.off("mouseup",c);d.yO(a,e)}var d=this,e=!1;d.root.on("mouseup",c);d.root.on("mousemove",b)};function FX(a){this.Pa=a.Pa;this.il=a.il;this.ai=!1;this.LM=!0;this.ja=new GX;this.offset=0;this.Kf=a.Kf;this.view=new HX({J:a.J});this.view.on({retry:this.fetch,signIn:this.authorize},this)}f=FX.prototype;f.listenTo=Backbone.Events.listenTo;f.on=Backbone.Events.on;f.stopListening=Backbone.Events.stopListening;f.trigger=Backbone.Events.trigger;f.authorize=function(){QI(this.il).then(this.view.k_.bind(this.view,!1)).then(this.fetch.bind(this)).catch(function(){})};
f.t1=function(){return RI(this.il).catch(function(){throw new IX;})};f.fetch=function(){function a(){b.ai=!1}var b=this;this.Kf?!b.ai&&b.LM&&(this.ai=!0,this.view.Tg(!0),this.view.Jt(!1),this.naa().bind(this).then(this.t1).then(this.C3).finally(a).then(this.b7).catch(IX,this.Y6).catch(KX,this.m7).catch(this.c7)):JX(this.view)};f.Fz=function(){this.fetch()};f.C3=function(){return UI(this.offset,25)};f.getElement=function(){return this.view.$el};f.tl=function(){return this.ja.tl()};f.xs=function(){return this.LM};
f.Y6=function(){this.view.Tg(!1);this.view.k_(!0)};f.b7=function(a){var b,c=this;b=$(a.map(function(a){return(new EX({Pa:c.Pa,model:a,root:$(window)})).render()}).map(function(a){return a.el}));Ng(this.Pa,a);this.LM=0<a.length;LX("uploadsItemAppearing",b,2200);this.ja.push(b);this.offset+=a.length;this.view.Tg(!1);this.view.It(1>this.ja.Cf().length&&1>a.length);this.trigger("fetch")};f.c7=function(){this.view.Tg(!1);this.view.Jt(!0)};f.m7=function(){this.view.Tg(!1);this.view.Jt(!0)};f.remove=function(){this.stopListening()};
f.render=function(){this.view.render();this.view.$el.prepend(this.ja.$el);return this};f.naa=P.method(function(){function a(){return P.try(function(){return NI()||P.delay(500).then(a).cancellable()})}return a().timeout(2500).catch(P.TimeoutError,function(){throw new KX;})});function IX(){}IX.prototype=Object.create(Error.prototype);function KX(){}KX.prototype=Object.create(Error.prototype);function HX(){}HX=Backbone.View.extend({className:"facebookPhotos uploadsFolderContent"});f=HX.prototype;f.j3=_.template('\x3cp class\x3d"uploadsFolderContentEmptyMessage"\x3e\x3c%- message %\x3e\x3c/p\x3e');f.aF=_.template('\x3cp class\x3d"uploadsFolderContentErrorMessage"\x3e\x3c%- message %\x3e\x3cbutton class\x3d"button facebookPhotosRetry"\x3e\x3c%- buttonLabel %\x3e\x3c/button\x3e\x3c/p\x3e');f.events=function(){return{"click .buttonFacebook":this.l6,"click .facebookPhotosRetry":this.i7}};
f.initialize=function(a){this.Ui=new dW;this.J=a.J};f.l6=function(){this.trigger("signIn")};f.i7=function(){this.trigger("retry")};f.render=function(){this.$el.append(this.Ui.render().$el);return this};f.j$=_.template('\x3cdiv class\x3d"facebookPhotosSignIn"\x3e\x3cp\x3e\x3c%- message %\x3e\x3c/p\x3e\x3cbutton class\x3d"button buttonFacebook"\x3e\x3c%- buttonLabel %\x3e\x3c/button\x3e\x3c/div\x3e');f.J4=_.template('\x3cp class\x3d"facebookUploadDisabled feedback feedback--error"\x3e\x3c%\x3d label %\x3e\x3c/p\x3e');
f.Tg=function(a){a?this.Ui.show():this.Ui.hide()};f.It=function(a){var b=this.$(".uploadsFolderContentEmptyMessage");a?1>b.length&&this.$el.append(this.j3({message:this.J.format("objectPanelUploadsPanelFacebookFolderEmptyMessage")})):b.remove()};
f.Jt=function(a){var b=this.$(".uploadsFolderContentErrorMessage");a?1>b.length&&this.$el.append(this.aF({buttonLabel:this.J.format("objectPanelUploadsPanelFacebookFolderTryAgainButtonLabel"),message:this.J.format("objectPanelUploadsPanelFacebookFolderErrorMessage")})):b.remove()};
f.k_=function(a){var b=this.$(".facebookPhotosSignIn");a?1>b.length&&this.$el.append(this.j$({buttonLabel:this.J.format("objectPanelUploadsPanelFacebookFolderAuthorizeButton"),message:this.J.format("objectPanelUploadsPanelFacebookFolderSignInMessage")})):b.remove()};function JX(a){a.$(".facebookUploadDisabled");var b=$(a.J4({label:Rd(a.J)}));a.$el.prepend(b)};function LX(a,b,c){b.addClass(a);b.on("animationend",function e(){$(this).off("animationend",e);$(this).removeClass(a)});setTimeout(function(){b.removeClass(a)},c)};function MX(){}MX=Backbone.View.extend({className:"uploadsFolderInfo uploadsInfo"});f=MX.prototype;f.events=function(){return{"click .uploadsInfoTrash":this.trigger.bind(this,"trash")}};f.initialize=function(a){this.Va=a.Va;this.i=a.i;this.na=a.na;this.Kf=a.Kf};f.render=function(){this.$el.html(this.template(this.wi()));return this};
f.wi=function(){var a=lc(this.i),b=new eJ(this.Va,a),c=this.Va.La()===this.na,d=this.Va.shared,b=b.Jb(),b=a.format("objectPanelUploadsPanelFolderInfoHeader",b);return{isOwner:c,isShared:d,headerMessage:b,itemCount:a.format("objectPanelUploadsPanelFolderInfoItemCount",this.Va.itemCount),youSharedMessage:a.format("objectPanelUploadsPanelFolderInfoYouShared"),sharedWithYouMessage:a.format("objectPanelUploadsPanelFolderInfoSharedWithYou"),trashLabel:a.format("objectPanelUploadsPanelFolderInfoTrashLabel"),
mediaWritesEnabled:this.Kf}};f.template=_.template('\x3ch3\x3e\x3c%- headerMessage %\x3e\x3c/h3\x3e\x3cp class\x3d"uploadsFolderInfoItemCount"\x3e\x3c%- itemCount %\x3e\x3c/p\x3e\x3c% if (isShared \x26\x26 isOwner) { %\x3e\x3cp class\x3d"uploadsFolderInfoShared"\x3e\x3c%- youSharedMessage %\x3e\x3c/p\x3e\x3c% } else if (isShared) { %\x3e\x3cp class\x3d"uploadsFolderInfoShared"\x3e\x3c%- sharedWithYouMessage %\x3e\x3c/p\x3e\x3c% } %\x3e\x3c% if (isOwner \x26\x26 mediaWritesEnabled) { %\x3e\x3cbutton class\x3d"button buttonPlain uploadsInfoTrash"\x3e\x3c%- trashLabel %\x3e\x3c/button\x3e\x3c% } %\x3e');function NX(){}NX=Backbone.View.extend({className:"uploadsFolderItemInfo uploadsInfo"});f=NX.prototype;f.events=function(){return{"click .uploadsInfoDownload":this.trigger.bind(this,"download"),"click .uploadsInfoTrash":this.trigger.bind(this,"trash"),"change select":this.T$}};f.initialize=function(a){this.bL=a.bL;this.dO=a.dO;this.Va=a.Va;this.pr=a.pr||[];this.item=a.item;this.J=a.J;this.Kf=a.Kf;this.title=a.title;this.item.Nb()&&(this.title=this.item.Nb().importFilename)};
function OX(a){var b=a.$("select").val();return a.pr.filter(function(a){return a.u()===b})[0]}f.render=function(){this.$el.html(this.template(this.wi()));this.$("select").val(this.Va.u());return this};
f.wi=function(){var a=this;return{title:this.title,downloadLink:this.bL,moveOptions:this.dO,downloadOriginalTitle:this.J.format("objectPanelUploadsPanelItemInfoDownloadOriginal"),options:this.pr.map(function(b){return _.extend({},b,{name:(new eJ(b,a.J)).Jb()})}).map(this.K7),trashLabel:this.J.format("objectPanelUploadsPanelItemInfoTrash"),mediaWritesEnabled:this.Kf}};f.T$=function(){this.trigger("move",OX(this))};f.K7=_.template('\x3coption value\x3d"\x3c%- id %\x3e"\x3e\x3c%- name %\x3e\x3c/option\x3e');
f.template=_.template('\x3c% if (title) { %\x3e\x3ch3\x3e\x3c%- title %\x3e\x3c/h3\x3e\x3c% } %\x3e\x3c% if (mediaWritesEnabled) { %\x3e\x3cbutton class\x3d"button buttonPlain uploadsInfoTrash"\x3e\x3c%- trashLabel %\x3e\x3c/button\x3e\x3c% } %\x3e\x3c% if (moveOptions) { %\x3e\x3cselect\x3e\x3c%\x3d options %\x3e\x3c/select\x3e\x3c% } %\x3e\x3c% if (downloadLink) { %\x3e\x3ca class\x3d"uploadsInfoDownload" title\x3d"\x3c%- downloadOriginalTitle %\x3e"\x3e\x26#11015;\x3c/a\x3e\x3c% } %\x3e');function PX(){var a={za:"printOrderError__headerIcon"},a=a||{};soy.asserts.assertType(null==a.za||a.za instanceof goog.soy.data.SanitizedContent||goog.isString(a.za),"cssClass",a.za,"null|string|undefined");a=a.za;return soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3csvg "+(a?'class\x3d"'+soy.$$escapeHtmlAttribute(a)+'"':"")+' version\x3d"1.2" baseProfile\x3d"tiny" xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 100 95.8"\x3e\x3cpath d\x3d"M.4 90.2L46.6 2C48-.7 51.9-.7 53.3 2l46.2 88.2c1.3 2.5-.5 5.5-3.4 5.5H3.8c-2.9.1-4.7-3-3.4-5.5z"/\x3e\x3cpath fill\x3d"#FFF" d\x3d"M45.1 73.7c0-1.6.4-2.8 1.3-3.7.9-.8 2.1-1.2 3.8-1.2 1.6 0 2.8.4 3.7 1.3.9.8 1.3 2.1 1.3 3.6s-.4 2.7-1.3 3.6c-.9.9-2.1 1.3-3.7 1.3s-2.9-.4-3.8-1.3c-.9-.9-1.3-2.1-1.3-3.6zm8.6-9.9h-7l-1.5-28.2h10l-1.5 28.2z"/\x3e\x3c/svg\x3e')}
function QX(a){a=a||{};soy.asserts.assertType(null==a.za||a.za instanceof goog.soy.data.SanitizedContent||goog.isString(a.za),"cssClass",a.za,"null|string|undefined");a=a.za;return soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3csvg "+(a?'class\x3d"'+soy.$$escapeHtmlAttribute(a)+'"':"")+' version\x3d"1.2" baseProfile\x3d"tiny" xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 100 100"\x3e\x3ccircle cx\x3d"50" cy\x3d"50" r\x3d"50"/\x3e\x3cpath fill\x3d"#FFF" d\x3d"M69.5 25.8l-26 35.4L30.1 54c-3.3-2.1-5.6 2.9-3.8 4.6 1.8 1.7 18.2 16.6 18.2 16.6.5.4 1.2.4 1.7.1.2-.1.4-.3.5-.5 0 0 24.7-40.9 26.9-44.6 2.3-3.8-1.6-7.8-4.1-4.4z"/\x3e\x3c/svg\x3e')}
function RX(){return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg width\x3d"18px" height\x3d"18px" viewBox\x3d"0 0 18 18" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cg fill-rule\x3d"evenodd"\x3e\x3cpath d\x3d"M2.5 9c0 3.588 2.912 6.5 6.5 6.5s6.5-2.912 6.5-6.5S12.588 2.5 9 2.5A6.503 6.503 0 0 0 2.5 9zm14 0c0 4.14-3.36 7.5-7.5 7.5-4.14 0-7.5-3.36-7.5-7.5 0-4.14 3.36-7.5 7.5-7.5 4.14 0 7.5 3.36 7.5 7.5z"/\x3e\x3cpath d\x3d"M9.75 6.75h-1.5v-1.5h1.5v1.5zm0 6h-1.5v-4.5h1.5v4.5z"/\x3e\x3c/g\x3e\x3c/svg\x3e')}
function SX(a){var b;b={};soy.asserts.assertType(goog.isString(a.Ze)||a.Ze instanceof goog.soy.data.SanitizedContent,"fileType",a.Ze,"string|goog.soy.data.SanitizedContent");var c=a.Ze;soy.asserts.assertType(goog.isString(a.color)||a.color instanceof goog.soy.data.SanitizedContent,"color",a.color,"string|goog.soy.data.SanitizedContent");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg width\x3d"32" height\x3d"40" viewBox\x3d"0 0 32 40" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cg fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3cpath d\x3d"M-8-4h48v48H-8z"/\x3e\x3cpath d\x3d"M4 0C1.8 0 .02 1.8.02 4L0 36c0 2.2 1.78 4 3.98 4H28c2.2 0 4-1.8 4-4V12L20 0H4z" fill\x3d"'+
soy.$$escapeHtmlAttribute(a.color)+'"/\x3e\x3cpath d\x3d"M20 0l12 12h-8.004A4 4 0 0 1 20 8.004V0z" fill-opacity\x3d".5" fill\x3d"#FFF" style\x3d"'+(b.Yb?"/*"+b.Yb+"*/":"")+'mix-blend-mode:lighten"/\x3e\x3ctext width\x3d"32" height\x3d"12" x\x3d"16" y\x3d"35" text-anchor\x3d"middle" fill\x3d"#FFF" style\x3d"'+(b.Yb?"/*"+b.Yb+"*/":"")+"font-size: 10px; font-family: 'Open Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif;\"\x3e"+soy.$$escapeHtml(c)+"\x3c/text\x3e\x3c/g\x3e\x3c/svg\x3e")}
function DX(a){a=a||{};soy.asserts.assertType(null==a.za||a.za instanceof goog.soy.data.SanitizedContent||goog.isString(a.za),"cssClass",a.za,"null|string|undefined");var b=a.za;soy.asserts.assertType(null==a.Mi||goog.isBoolean(a.Mi)||1===a.Mi||0===a.Mi,"withStar",a.Mi,"boolean|null|undefined");a=a.Mi;return soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3csvg "+(b?'class\x3d"'+soy.$$escapeHtmlAttribute(b)+'"':"")+'  width\x3d"20" height\x3d"15" viewBox\x3d"0 0 20 15" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath class\x3d"folderIcon__folder" fill\x3d"#FFF" d\x3d"M15.5 3H0v8.5c0 .828.672 1.5 1.5 1.5h14c.828 0 1.5-.672 1.5-1.5v-7c0-.828-.672-1.5-1.5-1.5M2 2h7L7 0H0v2h1"/\x3e'+
(a?'\x3cpath class\x3d"folderIcon__star" d\x3d"M17.83 9.827l-.51-1.074c-.476-1-1.242-1.007-1.72 0l-.51 1.074-1.065.16c-1.094.167-1.356.935-.573 1.728l.795.807-.197 1.196c-.18 1.087.467 1.536 1.423 1.013l.987-.538.987.54c.964.527 1.6.073 1.422-1.014l-.198-1.196.795-.807c.778-.788.527-1.56-.572-1.727l-1.066-.16z" fill\x3d"#F3B600"/\x3e':"")+"\x3c/svg\x3e")}
function CX(a){a=a||{};soy.asserts.assertType(null==a.za||a.za instanceof goog.soy.data.SanitizedContent||goog.isString(a.za),"cssClass",a.za,"null|string|undefined");var b=a.za;soy.asserts.assertType(null==a.Mi||goog.isBoolean(a.Mi)||1===a.Mi||0===a.Mi,"withStar",a.Mi,"boolean|null|undefined");a=a.Mi;return soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3csvg "+(b?'class\x3d"'+soy.$$escapeHtmlAttribute(b)+'"':"")+' width\x3d"18" height\x3d"15" viewBox\x3d"0 0 18 15" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath class\x3d"folderIcon__folder" d\x3d"M10.32 8.842c.127-.214.2-.466.2-.736V7.64c-.267-.33-.48-.713-.606-1.127-.027-.083-.04-.18-.115-.233-.742-.998-.093-1.186-.102-1.27 0-.418-.003-.837.002-1.254.016-.387.278-1.937 2.163-1.943h.01c1.885.006 2.147 1.556 2.163 1.943.006.417 0 .836.002 1.254-.01.084.64.272-.1 1.27-.076.053-.09.15-.117.233-.127.414-.34.796-.607 1.128v.466c0 .605.37 1.12.89 1.315.142.055 1.31.27 1.762.634.303.245.69.525 1.004 1.057.088.15.23 1.19.23 1.19 0 .387-.276.7-.65.7h-3.846l.092-.336s-.006-.782-.134-1.197c-.085-.33-.254-1.277-.674-1.614-.53-.422-.76-.68-1.57-1.01zm.408.735c-.523-.424-1.883-.674-2.05-.736-.6-.226-1.032-.825-1.032-1.528v-.54c.312-.386.558-.83.706-1.31.032-.097.048-.21.134-.272.86-1.16.106-1.378.117-1.475-.002-.486.004-.972-.003-1.457C8.582 1.808 8.277.008 6.087 0 3.883.007 3.58 1.807 3.56 2.258c-.006.485 0 .97-.002 1.457.01.097-.744.316.117 1.475.086.062.102.175.134.272.147.48.393.924.704 1.31v.54c0 .703-.43 1.302-1.032 1.53-.167.06-1.526.31-2.05.735-.35.284-.802.61-1.166 1.228C.163 10.98 0 12.187 0 12.187c0 .45.32.813.752.813h10.656c.433 0 .753-.363.753-.813 0 0-.163-1.208-.265-1.382-.172-.666-.815-.944-1.167-1.228z" fill\x3d"#FFF"/\x3e'+
(a?'\x3cpath class\x3d"folderIcon__star" d\x3d"M15.83 9.827l-.51-1.074c-.476-1-1.242-1.007-1.72 0l-.51 1.074-1.065.16c-1.094.167-1.356.935-.573 1.728l.795.807-.197 1.196c-.18 1.087.467 1.536 1.423 1.013l.987-.538.987.54c.964.527 1.6.073 1.422-1.014l-.198-1.196.795-.807c.778-.788.527-1.56-.572-1.727l-1.066-.16z" fill\x3d"#F3B600"/\x3e':"")+"\x3c/svg\x3e")}
function TX(){var a={za:"addressDetailsAddress__expandAddressButtonIcon"},a=a||{};soy.asserts.assertType(null==a.za||a.za instanceof goog.soy.data.SanitizedContent||goog.isString(a.za),"cssClass",a.za,"null|string|undefined");a=a.za;return soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3csvg  "+(a?'class\x3d"'+soy.$$escapeHtmlAttribute(a)+'"':"")+' viewBox\x3d"0 0 17 17" width\x3d"17" height\x3d"17" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath d\x3d"M8.783 14.483c-3.385 0-6.14-2.754-6.14-6.14 0-3.384 2.755-6.138 6.14-6.138 3.384 0 6.138 2.754 6.138 6.14 0 3.384-2.753 6.138-6.137 6.138m0-14.167C4.35.316.755 3.91.755 8.344s3.594 8.028 8.028 8.028c4.433 0 8.027-3.595 8.027-8.028S13.216.316 8.783.316"/\x3e\x3cpath d\x3d"M13.066 8.344c0-.522-.422-.944-.944-.944H9.727V5.005c0-.522-.422-.944-.944-.944-.523 0-.945.423-.945.945V7.4H5.444c-.523 0-.945.422-.945.944 0 .26.105.497.276.668.17.17.407.276.668.276h2.394v2.395c0 .26.106.497.277.668.17.172.407.278.668.278.522 0 .944-.423.944-.945V9.288h2.395c.522 0 .944-.422.944-.944"/\x3e\x3c/svg\x3e')}
function rp(a){a=a||{};soy.asserts.assertType(null==a.color||a.color instanceof goog.soy.data.SanitizedContent||goog.isString(a.color),"color",a.color,"null|string|undefined");var b=a.color;soy.asserts.assertType(null==a.za||a.za instanceof goog.soy.data.SanitizedContent||goog.isString(a.za),"cssClass",a.za,"null|string|undefined");a=a.za;return soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3csvg "+(a?'class\x3d"'+soy.$$escapeHtmlAttribute(a)+'" ':"")+'fill\x3d"'+soy.$$escapeHtmlAttribute(null==b?"#FFF":
b)+'" xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"-505 380 12 10"\x3e\x3cpath d\x3d"M-503 388h8v1h-8zM-494 382.2c-.4 0-.8.3-.8.8 0 .1 0 .2.1.3l-2.3.7-1.5-2.2c.3-.2.5-.5.5-.8 0-.6-.4-1-1-1s-1 .4-1 1c0 .3.2.6.5.8l-1.5 2.2-2.3-.8c0-.1.1-.2.1-.3 0-.4-.3-.8-.8-.8s-.8.4-.8.8.3.8.8.8h.2l.8 3.3h8l.8-3.3h.2c.4 0 .8-.3.8-.8 0-.4-.4-.7-.8-.7z"/\x3e\x3c/svg\x3e')};function sX(a,b){var c=a.Yp()&&a.Yp().starred,d=b.Yp()&&b.Yp().starred;return c^d?c?-1:1:(a.getName()||"").toLowerCase().localeCompare((b.getName()||"").toLowerCase())};function UX(){}UX=Backbone.View.extend({className:"uploadsFolderItem"});f=UX.prototype;f.initialize=function(a){this.Pa=a.Pa;this.disabled=!1;this.model=a.model;this.ew=a.ew;this.Ci=a.Ci;this.J=a.J;this.rk=void 0;this.root=a.root;(this.ye=a.ye)&&this.listenTo(this.ye,{complete:this.E7,fail:this.F7,update:this.lr})};f.events=function(){return{click:this.Lf,dragstart:this.Qs,mousedown:this.Rs}};
f.Lf=function(a){var b=a.target.classList.contains("uploadsInfoButton");if(!this.disabled)if(b)this.trigger("infoClick",this.model);else{var b=!1,c=this.model.Nb();a.target&&$(a.target).is("img")?b=eh(a.target)>O.fJ:1===$(a.target).find("img").length&&(b=eh($(a.target).find("img").get(0))>O.fJ);c?this.Pa.TS(c,void 0,void 0,b):this.ye&&this.ye.Nb()&&this.Pa.US(this.ye,void 0,void 0,b)}};f.E7=function(){this.rk.remove();this.rk=void 0;this.stopListening(this.ye)};
f.F7=function(){this.Fk(!0);this.rk.$el.addClass("uploadProgressBarFail");this.stopListening(this.ye);setTimeout(this.BZ.bind(this),1E3);setTimeout(this.trigger.bind(this,"uploadFail"),5350)};f.Qs=function(a){a.preventDefault();return!1};f.Rs=function(a){Vz();var b=a.target.classList.contains("uploadsInfoButton"),c=a.which==O.Mh;return this.disabled||c||b||a.ctrlKey||this.bR(a)};
f.yO=function(a,b){function c(){d.$el.removeClass("uploadsFolderItemDragging")}var d=this,e=this.el.getBoundingClientRect();b?(Tg(this.Pa,Wg(e)),setTimeout(c,600)):(this.Lf(a),c())};
f.render=function(){this.$el.addClass("uploadsFolderItemLoading");var a=this.model.vV(),b=this.el,a=a&&a.type,c=this.J.qq(this.J.format("objectPanelLicenseExtended")),d=this.J.qq(this.J.format("objectPanelLicenseRoyaltyFree")),e=this.Ci;soy.asserts.assertType(null==a||a instanceof goog.soy.data.SanitizedContent||goog.isString(a),"licenseType",a,"null|string|undefined");soy.asserts.assertType(goog.isString(c)||c instanceof goog.soy.data.SanitizedContent,"licenseTitleExtended",c,"string|goog.soy.data.SanitizedContent");
soy.asserts.assertType(goog.isString(d)||d instanceof goog.soy.data.SanitizedContent,"licenseTitleRoyaltyFree",d,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(e)||1===e||0===e,"showControls",e,"boolean");var e=!!e,g='\x3cdiv class\x3d"uploadsFolderItemThumbnail"\x3e\x3cimg\x3e\x3c/div\x3e';if(null!=a){switch(goog.isObject(a)?a.toString():a){case "ROYALTY_FREE":g+='\x3cdiv class\x3d"uploadsFolderItemLicense" title\x3d"'+soy.$$escapeHtmlAttribute(d)+'"\x3e'+soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg width\x3d"24" height\x3d"24" viewBox\x3d"0 0 24 24" xmlns\x3d"http://www.w3.org/2000/svg" xmlns:xlink\x3d"http://www.w3.org/1999/xlink"\x3e\x3cdefs\x3e\x3cpath d\x3d"M10 0C4.48 0 0 4.48 0 10s4.48 10 10 10 10-4.48 10-10S15.52 0 10 0z" id\x3d"a"/\x3e\x3cfilter x\x3d"-50%" y\x3d"-50%" width\x3d"200%" height\x3d"200%" filterUnits\x3d"objectBoundingBox" id\x3d"b"\x3e\x3cfeOffset dy\x3d"1" in\x3d"SourceAlpha" result\x3d"shadowOffsetOuter1"/\x3e\x3cfeGaussianBlur stdDeviation\x3d"1" in\x3d"shadowOffsetOuter1" result\x3d"shadowBlurOuter1"/\x3e\x3cfeComposite in\x3d"shadowBlurOuter1" in2\x3d"SourceAlpha" operator\x3d"out" result\x3d"shadowBlurOuter1"/\x3e\x3cfeColorMatrix values\x3d"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.5 0" in\x3d"shadowBlurOuter1"/\x3e\x3c/filter\x3e\x3cmask id\x3d"c" x\x3d"0" y\x3d"0" width\x3d"20" height\x3d"20" fill\x3d"#fff"\x3e\x3cuse xlink:href\x3d"#a"/\x3e\x3c/mask\x3e\x3c/defs\x3e\x3cg fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3cg transform\x3d"translate(2 2)"\x3e\x3cuse fill\x3d"#000" filter\x3d"url(#b)" xlink:href\x3d"#a"/\x3e\x3cuse stroke\x3d"#FFF" mask\x3d"url(#c)" stroke-width\x3d"2" fill\x3d"#9F72D7" xlink:href\x3d"#a"/\x3e\x3c/g\x3e\x3cpath d\x3d"M6 6h12v12H6z"/\x3e\x3cpath d\x3d"M15.3 9c-.72 0-1.4.295-1.885.806L12 11.128l-.76.705h.005L9.9 13.092a1.64 1.64 0 0 1-1.2.521c-.935 0-1.695-.795-1.695-1.78 0-.984.76-1.78 1.695-1.78.455 0 .88.185 1.22.543l.565.526.755-.705-.63-.585A2.618 2.618 0 0 0 8.7 9C7.21 9 6 10.274 6 11.833c0 1.56 1.21 2.834 2.7 2.834.72 0 1.4-.295 1.885-.806L12 12.544l.005.006.755-.717h-.005l1.345-1.258a1.64 1.64 0 0 1 1.2-.522c.935 0 1.695.796 1.695 1.78 0 .985-.76 1.78-1.695 1.78-.45 0-.88-.184-1.22-.542l-.57-.532-.755.706.635.59c.51.531 1.185.826 1.91.826 1.49 0 2.7-1.269 2.7-2.833C18 10.264 16.79 9 15.3 9z" fill\x3d"#FFF"/\x3e\x3c/g\x3e\x3c/svg\x3e');
break;case "EXTENDED":g+='\x3cdiv class\x3d"uploadsFolderItemLicense" title\x3d"'+soy.$$escapeHtmlAttribute(c)+'"\x3e'+soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg width\x3d"24" height\x3d"24" viewBox\x3d"0 0 24 24" xmlns\x3d"http://www.w3.org/2000/svg" xmlns:xlink\x3d"http://www.w3.org/1999/xlink"\x3e\x3cdefs\x3e\x3cpath d\x3d"M10 0C4.48 0 0 4.48 0 10s4.48 10 10 10 10-4.48 10-10S15.52 0 10 0z" id\x3d"a"/\x3e\x3cfilter x\x3d"-50%" y\x3d"-50%" width\x3d"200%" height\x3d"200%" filterUnits\x3d"objectBoundingBox" id\x3d"b"\x3e\x3cfeOffset dy\x3d"1" in\x3d"SourceAlpha" result\x3d"shadowOffsetOuter1"/\x3e\x3cfeGaussianBlur stdDeviation\x3d"1" in\x3d"shadowOffsetOuter1" result\x3d"shadowBlurOuter1"/\x3e\x3cfeComposite in\x3d"shadowBlurOuter1" in2\x3d"SourceAlpha" operator\x3d"out" result\x3d"shadowBlurOuter1"/\x3e\x3cfeColorMatrix values\x3d"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.5 0" in\x3d"shadowBlurOuter1"/\x3e\x3c/filter\x3e\x3cmask id\x3d"c" x\x3d"0" y\x3d"0" width\x3d"20" height\x3d"20" fill\x3d"#fff"\x3e\x3cuse xlink:href\x3d"#a"/\x3e\x3c/mask\x3e\x3c/defs\x3e\x3cg fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3cg transform\x3d"translate(2 2)"\x3e\x3cuse fill\x3d"#000" filter\x3d"url(#b)" xlink:href\x3d"#a"/\x3e\x3cuse stroke\x3d"#FFF" mask\x3d"url(#c)" stroke-width\x3d"2" fill\x3d"#399BE6" xlink:href\x3d"#a"/\x3e\x3c/g\x3e\x3cpath d\x3d"M5 6h14v12H5z"/\x3e\x3cpath d\x3d"M14 10.762a1.7 1.7 0 0 0-.4.313l-1.34 1.258-.76.711-1.415 1.317a2.597 2.597 0 0 1-1.885.806c-1.49 0-2.7-1.275-2.7-2.834C5.5 10.774 6.71 9.5 8.2 9.5c.72 0 1.4.295 1.91.832l.63.585-.755.705-.565-.526a1.658 1.658 0 0 0-1.22-.543c-.935 0-1.695.796-1.695 1.78 0 .985.76 1.78 1.695 1.78.455 0 .88-.184 1.2-.521l1.34-1.259.76-.705 1.415-1.322c.3-.316.673-.549 1.085-.681v1.137zM16.372 13c-.251.653-.86 1.113-1.572 1.113-.45 0-.88-.184-1.22-.542l-.57-.532-.755.706.635.59c.51.531 1.185.826 1.91.826 1.27 0 2.336-.92 2.624-2.161h-1.052zM19 9.5h-1.5V8h-1v1.5H15v1h1.5V12h1v-1.5H19v-1z" fill\x3d"#FFF"/\x3e\x3c/g\x3e\x3c/svg\x3e');
break;default:g+='\x3cdiv class\x3d"uploadsFolderItemLicense"\x3e'}g+="\x3c/div\x3e"}a=soydata.VERY_UNSAFE.ordainSanitizedHtml(g+(e?'\x3cdiv class\x3d"uploadsControls"\x3e\x3cbutton class\x3d"button buttonPlain uploadsInfoButton"\x3ei\x3c/button\x3e\x3c/div\x3e':""));b.innerHTML=a;this.$el.toggleClass("uploadsFolderItemMovable",this.ew);this.QB();this.ye&&!this.ye.$f&&(b=this.$(".uploadsControls"),this.rk||(this.rk=new VX),this.rk.render().$el.insertBefore(b));if(b=this.ye)b=this.ye,b=b.$f&&!b.media;
b&&this.BZ();return this};f.QB=function(){function a(){d.off("load",a);e.$el.removeClass("uploadsFolderItemLoading")}var b,c,d,e=this;b=this.model.re().o()/this.model.re().l();c=this.$(".uploadsFolderItemThumbnail");c.css("padding-bottom",100*b+"%");d=c.find("img");d.on("load",a);b=this.model.re().oa();jD(kD,d,b)};f.show=function(){this.rk&&this.lr()};
f.bR=function(a){var b,c,d=this.model.Nb();b=a.clientX;c=a.clientY;var e=this.$el.clone().off();e.find(".uploadProgressBar").remove();e.find(".uploadsFolderItemLicense").remove();e.find(".uploadsControls").remove();this.trigger("pickedUp",this.model,e.find("img"));if(this.root){b=new V(b,c,b,c);c=Wg(this.el.getBoundingClientRect());this.$el.addClass("uploadsFolderItemDragging");var g=!1;if(d){var g=this.Pa,h;h=d.Ja().ic()[Lg];h=Jg({id:d.u(),version:d.Ja().getVersion(),files_:[{page:0,quality:"THUMBNAIL",
url:e.find("img").attr("src")},{page:0,quality:"SCREEN",url:h.oa(),width:h.l(),height:h.o()}]});Ug(g,h,c,e,b,g.TS.bind(g,d));g=!0}else if(this.ye){d=this.Pa;g=this.ye;h=e.find("img").attr("src");var k=g.Nb();k?(h=Jg({id:k.u(),version:1,files_:[{page:0,quality:"THUMBNAIL",url:h},{page:0,quality:"SCREEN",url:h,width:g.tb.width,height:g.tb.height}]}),Ug(d,h,c,e,b,d.US.bind(d,g)),g=!0):g=!1}g&&this.YR(a)}return!0};f.Fk=function(a){this.disabled=a};
function WX(a,b){a.ew=b;a.$el.toggleClass("uploadsFolderItemMovable",a.ew)}f.BZ=function(){this.rk&&this.rk.remove();this.rk=void 0;this.$el.addClass("uploadsFolderItemFailed");this.$el.find("img").attr("title",this.J.format("objectPanelUploadsPanelUploadFailed"));WX(this,!1);this.Fk(!0)};
f.Rx=P.method(function(a,b){var c=this;return a?P.try(function(){c.$el.toggleClass("doNotAnimate",!!b).addClass("doNotTransition").height(c.$el.height())}).delay(O.Gc).then(function(){c.$el.removeClass("doNotTransition").addClass("uploadsFolderItemHidden").height("")}).delay(350):(this.$el.removeClass("doNotAnimate uploadsFolderItemHidden"),P.resolve())});f.lr=function(){XX(this.rk,this.ye.fo)};
f.YR=function(a){function b(c){3<Math.sqrt(Math.pow(c.clientX-a.clientX,2)+Math.pow(c.clientY-a.clientY,2))&&(e=!0,d.root.off("mousemove",b))}function c(a){d.root.off("mousemove",b);d.root.off("mouseup",c);d.yO(a,e)}var d=this,e=!1;d.root.on("mouseup",c);d.root.on("mousemove",b)};function YX(a){this.Pa=a.Pa;this.ac=a.ac;this.Y=null;this.yq=!0}YX.prototype.fetch=function(a){function b(a){return lk({id:a.u(),media:a,thumbnail:a.Ja().ic()[wD],type:"MEDIA"})}var c=this;a=CF((new BF).Tt(!0).Rt(!1).To(),[Eg,Gg]).Vg(a);null!=c.Y&&a.Aj(c.Y);return $E(this.ac,a).then(function(a){0!==a.media.length&&Pg(c.Pa,a.media);c.Y=a.Y;c.yq=null!=c.Y;return P.resolve(a.media.map(b))})};YX.prototype.xs=function(){return this.yq};function ZX(a){this.Pa=a.Pa;this.Li=a.Li;this.XR=a.XR;this.Y=null;this.yq=!0}ZX.prototype.fetch=function(a){function b(a){return lk(a)}var c=this;a=(new bJ).Hk(this.XR).Vg(a).Aj(this.Y);return ZI(this.Li,a).tap(function(a){c.Y=a.Mb();c.yq=!!c.Y}).tap(function(a){a=(a.Cf()||[]).map(function(a){return a.Nb()}).filter(Boolean);Pg(c.Pa,a)}).then(function(a){return(a.Cf()||[]).map(b)})};ZX.prototype.xs=function(){return this.yq};function $X(a){this.Pa=a.Pa;this.gc=a.gc;this.Va=a.Va;this.Y=null;this.yq=!0}$X.prototype.fetch=function(a){function b(a){return a.Cf()||[]}var c=this;a=nk((new mk).Aj(this.Y).Hk(Sg(this.Va))).Vg(a);return this.gc.PA(a).tap(function(a){c.Y=a.Mb();c.yq=!!c.Y}).tap(function(a){a=b(a).map(function(a){return a.Nb()});Pg(c.Pa,a)}).then(b)};$X.prototype.xs=function(){return this.yq};function aY(a){this.Zn=this.D=void 0;this.Lv=a.na===a.Va.La();this.Pa=a.Pa;this.W=a.W;this.cV=this.ai=!1;this.Va=a.Va;this.pr=a.pr;this.gc=a.gc;this.sA=!1;this.ii=[];this.ja=new GX;this.ac=a.ac;this.J=a.J;this.Ur=a.Ur;this.Z=a.Z;this.Nt=a.Nt;this.Xf=a.Xf;this.listenTo(this.Xf,"create",this.aaa);this.na=a.na;this.Th=a.Th;this.pF=a.pF;this.cp=a.cp;this.Ci=a.Ci;this.view=new bY({disabled:a.disabled,model:this.Va,J:this.J,cp:a.cp,gl:a.gl,Kf:this.W.G.get(ig)});this.listenTo(this.view,{upload:this.EI,share:this.Y9})}
f=aY.prototype;f.listenTo=Backbone.Events.listenTo;f.off=Backbone.Events.off;f.on=Backbone.Events.on;f.stopListening=Backbone.Events.stopListening;f.trigger=Backbone.Events.trigger;f.Vh=function(){this.$V=void 0;this.mg&&(pW(this.ja,this.mg.$el),this.mg=void 0)};f.fetch=function(a){a=a||25;this.ai||this.sA||!this.xs()||(this.ai=!0,this.view.Tg(!0),this.pF.fetch(a).bind(this).then(this.B6).catch(this.C6))};f.Fz=function(a){a=this.ja.BL(a);isFinite(a)?this.fetch(a):this.fetch()};f.getElement=function(){return this.view.$el};
function cY(a,b){for(var c=0;c<a.ii.length;c++){var d=a.ii[c];if(d.model===b||d.ye===b)return d}return null}f.tl=function(){return this.ja.tl()};function dY(a){return a.Xf.HF(a.Va.u()).filter(function(b){return!cY(a,b)}).filter(function(b){return b.$f&&!b.media?!1:b.$f&&b.Nb()?-1===a.Nt.indexOf(b.Nb().u()):!0})}f.xs=function(){return this.pF.xs()};
f.moveItem=function(a,b,c){var d=cY(this,a);d&&(this.Vh(),this.view.It(1===this.ii.length),b=Oj(Pj(new Nj,Sg(this.Va)).Z_([a.u()]),Sg(b)),P.settle([this.gc.Q4(b),d.Rx(!0,c)]).then(function(b){b[0].isFulfilled()?this.removeItem(a):eY(this,a)}.bind(this)))};
f.yX=function(a){var b;if(a===this.$V)this.Vh();else{var c;c=(new NX({bL:this.W.G.get(Uf),dO:this.Va!==bk,Va:this.Va,pr:this.pr,item:a,title:a.getName()||be(this.Ur),J:this.J,Kf:this.W.G.get(ig)})).render();c.on({move:this.moveItem.bind(this,a),trash:this.S$.bind(this,a),download:this.V2.bind(this,a)});b=cY(this,a);this.Vh();c=(new fY({Qi:!1,Fr:!0,content:c.$el,J:this.J,target:b.$el})).render();c.on("close",this.Vh,this);this.mg=c;oW(this.ja,b.$el,this.mg.$el);this.mg.show();this.$V=a;this.Th&&this.Th(this.mg.getContent(),
!0)}};
f.B6=function(a){this.cV=!0;this.ai=!1;gY(this,dY(this).map(this.XY,this));gY(this,a.filter(this.s4,this).map(this.l9,this));this.view.Tg(!1);this.view.It(1>this.ii.length);a=this.view;var b=a.$(".uploadsFolderContentUploadButton");if(!a.Kf)b.remove(),b=soydata.VERY_UNSAFE.ordainSanitizedHtml(Rd(a.J)),soy.asserts.assertType(b instanceof soydata.SanitizedHtml||b instanceof soydata.UnsanitizedText||goog.isString(b),"label",b,"soydata.SanitizedHtml"),b=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cp class\x3d"feedback feedback--error"\x3e'+soy.$$escapeHtml(b)+
"\x3c/p\x3e").toString(),a.$el.prepend(b);else if(a.cp&&1>b.length){var b=a.J.format("objectPanelUploadsPanelUploadButtonLabel"),c=!!a.disabled;soy.asserts.assertType(goog.isString(b)||b instanceof goog.soy.data.SanitizedContent,"label",b,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(c)||1===c||0===c,"disabled",c,"boolean");b=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cbutton class\x3d"button buttonBlock uploadsFolderContentUploadButton" '+(c?"disabled":"")+"\x3e"+
soy.$$escapeHtml(b)+"\x3c/button\x3e").toString();a.$el.prepend(b)}this.trigger("fetch")};f.s4=function(a){function b(a){var b="MEDIA"===a.lc(),c=a.Nb();a="FONT"!==a.Nb().lc();return b&&(!c||a)}var c=this;return function(a){return c.ii.every(function(b){return b.ye&&b.ye.Nb()?b.ye.Nb().u()!==a.u():!0})}(a)&&-1===c.Nt.indexOf(a.u())&&b(a)};
function hY(a){function b(){if(!e.Lv)return e.Z.La(e.Va.La())}function c(){iY(e.view,!1)}function d(a,b){a&&(e.Lv||b)&&(e.Zn=b?b:void 0,e.D=a,iY(e.view,!0),jY(e.view,!1,kY(e)))}var e=a,g;g=(new pk).Hk(Sg(a.Va));a.gc.wc(g).then(function(a){a=a.wc();var g=a.gn();a&&(e.Va=a);a="ADMIN"===g;var g="OWNER"===g,l=e.Va.qe(),m=e.Va===ak;!a&&!g||l||m?c():P.all([e.Z.ka(e.Va.ka()),b()]).spread(d).catch(c)}).catch(c)}f.C6=function(){this.ai=!1;this.sA=!0;this.view.Tg(!1);this.view.Jt(!0)};
f.TG=function(a){this.removeItem(a);this.trigger("trash",a.u())};f.G7=function(a){var b=cY(this,a);b&&(b.model=b.model.Ly({id:a.Nb().u()}),b.Fk(!1),WX(b,!0))};function gY(a,b){var c=$(b.map(function(a){return a.el}));a.ii=a.ii.concat(b);LX("uploadsItemAppearing",c,2200);a.ja.push(c);b.forEach(function(a){a.show()})}f.remove=function(){this.ii.forEach(function(a){a.remove()});this.cr&&this.cr.remove();this.stopListening()};
f.removeItem=function(a){a=cY(this,a);a.remove();this.ii.splice(this.ii.indexOf(a),1);this.view.It(1>this.ii.length)};f.render=function(){this.view.render();this.view.$el.prepend(this.ja.$el);this.view.Tg(!0);return this};f.l9=function(a){a=(new UX({Pa:this.Pa,model:a,ew:!0,Ci:this.Ci,J:this.J,root:$(window)})).render();this.listenTo(a,{infoClick:this.yX,pickedUp:this.trigger.bind(this,"pickedUp")});return a};
f.XY=function(a){var b=(new UX({Pa:this.Pa,model:lk({id:"",thumbnail:{height:a.tb.height,url:a.tn(),width:a.tb.width},type:"MEDIA"}),ew:!1,Ci:!0,J:this.J,root:$(window),ye:a})).render();this.listenTo(b,{infoClick:this.yX,pickedUp:this.trigger.bind(this,"pickedUp")});this.listenTo(a,"start",this.G7);return b};function eY(a,b){if(b=cY(a,b))b.Rx(!1),a.view.It(!1)}f.aaa=function(){function a(a){a.Fk(!0)}var b=dY(this);!this.iA()||1>b.length||(b=b.map(this.XY,this),b.forEach(a),lY(this,b),this.view.It(!1))};
f.iA=function(){return this.cV};function lY(a,b){var c=$(b.map(function(a){return a.el}));a.ii=b.concat(a.ii);LX("uploadsItemUploading",c,600);a.ja.unshift(c);b.forEach(function(a){a.show()})}f.EI=function(a){var b=this.Va===bk;this.cp&&(b?0<a.length&&this.Pa.Xy(this.Va,"button").upload(a):this.Pa.EI(this.Va,a,"button"))};
f.Y9=function(a,b){function c(a,b){"UNSHARED"===a?kY(d)&&(d.Lv||window.confirm(d.J.format("objectPanelUploadsPanelSharePopOverUnshareConfirmation")))&&(mY(d,d.D.u(),!1),d.view.Fk(!d.Lv),d.trigger("disabled",!d.Lv)):(mY(d,a,b),d.view.Fk(!1),d.trigger("disabled",!1))}var d=this,e;this.D&&(e=d.Lv?this.J.format("objectPanelUploadsPanelSharePopOverPrivateLabel"):Td(this.J,this.Zn.Jb()||this.Zn.qh()),e=[{id:"UNSHARED",pR:!kY(this),title:e},{id:this.D.u(),pR:kY(this),title:this.D.Jb()||this.J.format("objectPanelUploadsPanelSharePopOverPublicLabel")}],
this.cr&&(d.stopListening(this.cr),this.cr.remove()),this.cr=new nY({title:this.J.format("objectPanelUploadsPanelSharePopOverTitle")}),oY(this.cr,e),this.cr.sx(a,b),this.listenTo(this.cr,"change",c))};function mY(a,b,c){function d(){jY(e.view,!1,kY(e))}var e=a;c=c?"EDITOR":void 0;jY(e.view,!0);b=ik(a.Va,b,c);a.gc.DR(b).then(function(a){a&&a.wc()&&a.wc().u()===e.Va.u()?(e.Va=a.wc(),jY(e.view,!1,kY(e))):d()}).catch(d)}
function kY(a){return 0<(a.Va.Qj()&&a.Va.Qj().getEntries()||[]).filter(function(b){return a.D&&b.ka()===a.D.u()&&"EDITOR"===b.gn()}).length}f.S$=function(a){function b(){return c().then(function(a){return hF(g.ac,a.u(),a.Ja().getVersion())})}function c(){return P.try(function(){return a.Nb()||bF(g.ac,a.u(),FF(new FD))})}function d(b){b.isFulfilled()?g.TG(a):eY(g,a)}var e=cY(this,a),g=this;e&&(this.Vh(),P.settle([b(),e.Rx(!0)]).get(0).then(d))};
f.V2=function(a){var b=this;(function(){var c=a.u(),d=new FD;d.includeImportFileUrl=!0;d=FF(d);return bF(b.ac,c,d)})().then(function(a){a=a.Ja().importFileUrl;var b=$("#canvaDownloadIframe");1>b.length&&(b=$("\x3ciframe /\x3e",{id:"canvaDownloadIframe"}).appendTo("body"));b.attr("src",a)})};function bY(){}bY=Backbone.View.extend({className:"uploadsFolderContent"});f=bY.prototype;f.events=function(){return{"change .uploadsFolderContentFileInput":this.m6,"click .uploadsFolderContentUploadButton":this.D7,"click .uploadsFolderContentShareButton:not(.buttonSpinner)":this.n7}};
f.initialize=function(a){this.Q0="image/jpeg,image/png,image/raw,image/svg+xml,image/x-fuji-raf";this.Ui=new dW;this.cp=a.cp;this.disabled=a.disabled;this.J=a.J;this.gl=a.gl||this.J.format("objectPanelUploadsPanelDragIn");this.model=a.model;this.Kf=a.Kf};
f.render=function(){var a=this;this.Kf&&this.$el.html(pY({accept:this.Q0}).toString());this.$el.toggleClass("uploadsFolderContentChristmas",function(){var b=a.model.getName()?a.model.getName().toLowerCase():"";return-1<["christmas","xmas","x-mas"].indexOf(b)}());this.$el.append(this.Ui.render().$el);this.Fk(this.disabled);return this};f.m6=function(){var a;a=this.$(".uploadsFolderContentFileInput")[0].files;a.length&&this.trigger("upload",a)};
f.n7=function(a){var b=a.target.getBoundingClientRect();this.trigger("share",b.right,b.top+b.height/2);$(a.target).blur()};f.D7=function(){this.$(".uploadsFolderContentFileInput").click()};f.Tg=function(a){a?this.Ui.show():this.Ui.hide()};f.Fk=function(a){this.disabled=a;this.$el.toggleClass("uploadsFolderContentDisabled",a);this.$el.find(".uploadsFolderContentUploadButton").prop("disabled",a)};
f.It=function(a){var b=this.$(".uploadsFolderContentEmptyMessage");a&&this.Kf?1>b.length&&this.$el.append(qY({gl:this.gl}).toString()):b.remove();this.$el.toggleClass("uploadsFolderContentEmpty",a)};f.Jt=function(a){var b=this.$(".uploadsFolderContentErrorMessage");a?1>b.length&&this.$el.append(rY({message:this.J.format("objectPanelUploadsPanelFolderContentLoadingError")}).toString()):b.remove()};
function iY(a,b){var c=a.$(".uploadsFolderContentShareButton");b?1>c.length&&a.$el.prepend(soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cbutton class\x3d"button buttonBlock uploadsFolderContentShareButton"\x3e\x3cspan class\x3d"spinner"\x3e\x3c/span\x3e\x3c/button\x3e').toString()):c.remove();a.$el.toggleClass("uploadsFolderContentShareable",b)}function jY(a,b,c){a=a.$(".uploadsFolderContentShareButton");a.toggleClass("buttonSpinner",b);a.toggleClass("uploadsFolderContentShareButtonShared",c)};function pY(a){soy.asserts.assertType(goog.isString(a.accept)||a.accept instanceof goog.soy.data.SanitizedContent,"accept",a.accept,"string|goog.soy.data.SanitizedContent");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cinput class\x3d"uploadsFolderContentFileInput" type\x3d"file" accept\x3d"'+soy.$$escapeHtmlAttribute(a.accept)+'" multiple\x3e\x3cdiv class\x3d"uploadsFolderContentDropOverlay"\x3e\x3c/div\x3e\x3cdiv class\x3d"uploadsFolderDropIcon"\x3e\x3c/div\x3e')}
function rY(a){soy.asserts.assertType(goog.isString(a.message)||a.message instanceof goog.soy.data.SanitizedContent,"message",a.message,"string|goog.soy.data.SanitizedContent");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cp class\x3d"uploadsFolderContentErrorMessage"\x3e'+soy.$$escapeHtml(a.message)+"\x3c/p\x3e")}
function qY(a){soy.asserts.assertType(goog.isString(a.gl)||a.gl instanceof goog.soy.data.SanitizedContent,"emptyPrompt",a.gl,"string|goog.soy.data.SanitizedContent");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cp class\x3d"uploadsFolderContentEmptyMessage"\x3e'+soy.$$escapeHtml(a.gl)+"\x3c/p\x3e")};function sY(){}sY=Backbone.View.extend({className:"uploadsFolder"});f=sY.prototype;f.close=function(){this.$el.removeClass("uploadsFolderOpen")};
f.events=function(){return{"blur .uploadsFolderName \x3e input":this.T6,"click .uploadsFolderName \x3e span":this.S6,"click .uploadsFolderThumbnail":this.DX,dragenter:this.d6,dragleave:this.e6,dragstart:this.Qs,drop:this.Tn,"mouseover .uploadsFolderThumbnail":this.C7,"mouseout .uploadsFolderThumbnail":this.B7,"focus .uploadsFolderName \x3e input":this.U6,"keypress .uploadsFolderName \x3e input":this.V6}};
f.initialize=function(a){this.Qi=a.Qi;this.uy=a.uy;this.yb=a.yb;this.disabled=!1;this.model=a.model;this.gw=!1;this.J=a.J;this.bH=-1;this.VY=!1;this.Ci=a.Ci;this.H=a.H};function tY(a,b,c){a=a.el.getBoundingClientRect();return b>=a.left&&b<=a.right&&c>=a.top&&c<=a.bottom}
function uY(a){function b(){return k.model.u().split("").reduce(function(a,b){return a+b.charCodeAt(0)},0)}var c="rgba(159, 109, 218, 1);rgba(250, 204, 51, 1);rgba(235, 78, 135, 1);rgba(80, 154, 210, 1);rgba(243, 149, 48, 1);rgba(226, 70, 51, 1);rgba(126, 198, 100, 1);rgba(49, 70, 146, 1)".split(";"),d=!!a.model.u(),e=!!a.model.re(),g=!!a.model.qe(),h="LOGOS"===a.model.qe(),k=a;return e?"":h&&a.yb?"#"+a.yb:d&&!g?c[b()%c.length]:"rgba(217, 218, 221, 1)"}
function vY(a,b,c){return a.Qi&&tY(a,b,c)&&!a.jq()}f.jq=function(){return this.$el.hasClass("uploadsFolderOpen")};f.d6=function(a){this.Qi&&(this.$el.addClass("uploadsFolderDropping"),this.jq()||(this.H.clearTimeout(this.bH),this.bH=this.H.setTimeout(this.DX.bind(this,a),1E3)))};f.e6=function(a){tY(this,a.originalEvent.clientX,a.originalEvent.clientY)||(this.H.clearTimeout(this.bH),this.bH=-1,this.$el.removeClass("uploadsFolderDropping"))};f.Qs=function(a){a.preventDefault();return!1};
f.Tn=function(a){var b;try{b=a.originalEvent.dataTransfer.files}catch(c){}this.$el.removeClass("uploadsFolderDropping");b&&b.length&&this.Qi&&!this.disabled&&(a.preventDefault(),a.stopPropagation(),this.trigger("drop",this.model,b))};f.S6=function(){this.disabled||(this.uy?wY(this,!0):this.trigger("click",this.model))};f.T6=function(){this.gw&&(this.gw=!1,xY(this))};f.U6=function(){this.gw=!0};f.V6=function(a){13===a.which&&xY(this)};
f.DX=function(a){this.disabled||(a=a.target.classList.contains("uploadsInfoButton"),this.trigger(a?"infoClick":"click",this.model))};f.C7=function(){this.$el.addClass("uploadsFolderHover")};f.B7=function(){this.$el.removeClass("uploadsFolderHover")};f.open=function(){this.$el.addClass("uploadsFolderOpen")};
f.render=function(){var a=!this.uy||this.disabled,b=new eJ(this.model,this.J),c=this.model.qe();this.gw=!1;this.$el.toggleClass("uploadsFolderAllowDrop",this.Qi);this.$el.toggleClass("uploadsFolderStaticName",a);this.$el.attr("title",b.Jb());c?this.$el.attr("data-system-folder",c):this.$el.removeAttr("data-system-folder");this.$el.html(this.template(this.wi()));this.QB();wY(this,this.VY);return this};
f.QB=function(){function a(){c.off("load",a);e.$el.removeClass("uploadsFolderLoading")}var b,c,d=!1,e=this;b=this.$(".uploadsFolderThumbnail");b.addClass(function(){var a=e.model.re();return a&&a.o()>a.l()?"uploadsFolderThumbnailPortrait":"uploadsFolderThumbnailLandscape"}());b.css("background-color",uY(this));b.toggleClass("uploadsFolderThumbnailDefault",!this.model.re());d="LOGOS"===this.model.qe();c=b.children("img");c.on("load",a);jD(kD,c,function(){var a=e.model.re();return a?a.oa():d?"https://static.canva.com/static/images/logos_folder_thumbnail_transparent_bg.png":
"https://static.canva.com/static/images/default_folder_thumbnail_transparent_bg.png"}())};f.wi=function(){return _.extend({},this.model,{name:(new eJ(this.model,this.J)).Jb(),shared:this.model.shared,showControls:this.Ci})};f.show=function(){this.$el.addClass("uploadsFolderLoading")};f.$S=function(){var a=this;this.$el.addClass("uploadsFolderZoomIn");this.H.setTimeout(function(){a.$el.removeClass("uploadsFolderTransparent");a.$el.removeClass("uploadsFolderZoomIn")},500)};f.template=_.template('\x3cdiv class\x3d"uploadsFolderThumbnail"\x3e\x3cimg\x3e\x3c% if (showControls) { %\x3e\x3cdiv class\x3d"uploadsControls"\x3e\x3c% if (shared) { %\x3e\x3cspan class\x3d"uploadsInfoShared"\x3eshared\x3c/span\x3e\x3c% } %\x3e\x3cbutton class\x3d"button buttonPlain uploadsInfoButton"\x3ei\x3c/button\x3e\x3c/div\x3e\x3c% } %\x3e\x3c/div\x3e\x3cdiv class\x3d"uploadsFolderName"\x3e\x3cinput type\x3d"text" value\x3d"\x3c%- name %\x3e"\x3e\x3cspan\x3e\x3c%- name %\x3e\x3c/span\x3e\x3c/div\x3e');
f.Fk=function(a){this.disabled=a};f.Rx=P.method(function(a){var b=this;return a?P.try(function(){b.$el.addClass("doNotTransition");b.$el.height(b.$el.height())}).delay(O.Gc).then(function(){b.$el.removeClass("doNotTransition");b.$el.addClass("uploadsFolderHidden");b.$el.height("")}).delay(300):(this.$el.removeClass("uploadsFolderHidden"),P.resolve())});
function wY(a,b){a.gw=!1;a.VY=b;a.$el.toggleClass("uploadsFolderRenaming",b);b&&(b=a.$(".uploadsFolderName \x3e input"),b.val(a.model.getName()),b.select(),a.gw=!0)}function yY(a){var b;b=a.$(".uploadsFolderThumbnail");b.css("background-color","rgba(217, 218, 221, 1)");a.H.setTimeout(function(){b.css("background-color",uY(a))},O.Gc)}function xY(a){var b=Sd(a.J),b=a.$(".uploadsFolderName \x3e input").val().trim()||b;a.trigger("rename",a.model,b)};function zY(a){this.yb=a.yb;this.Pa=a.Pa;this.Y=null;this.fL=this.PE=void 0;this.il=a.il;this.vz=a.vz;this.hl=a.hl;this.W=a.W;this.ai=!1;this.gc=a.gc;this.Li=a.Li;this.gj=[];this.sA=!1;this.ja=new GX;this.listenTo(this.ja,"redraw",this.J6);this.ac=a.ac;this.i=a.i;this.bO=!0;this.ZG=this.ZG.bind(this);this.Z=a.Z;this.Nt=[];this.Xf=a.Xf;this.na=a.na;this.DE=[];this.H=a.H;this.Th=a.Th;this.Wc=a.Wc;this.view=new AY({J:lc(this.i),Io:this.W.G.get(Xf)&&!this.hl,root:a.root});this.listenTo(this.view,{close:this.mw,
drop:this.Tn,drag:this.c6,dragScroll:this.f6,folderUpgradeCta:this.t6});this.hl&&(a=new BY({i:this.i}),this.listenTo(a,"click",this.X6),this.Aq=a)}function CY(a,b,c){return a.gj.filter(function(a){return!DY(this,a.model)&&vY(a,b,c)}.bind(a))[0]}f=zY.prototype;f.t6=function(){var a=this.Wc;a.j.wa(lm("object_panel_uploads","top","photo_folders"));Fo(a,EY)};f.mw=function(){this.Vh()};
f.c6=function(a,b){function c(){e&&d.view.Vr.addClass("uploadsFolderItemCloneOverTarget").removeClass("uploadsFolderItemCloneNotOverTarget")}var d=this;FY(this,a,b);var e=CY(this,a,b);e!==this.PE&&(this.PE&&this.view.Vr.addClass("uploadsFolderItemCloneNotOverTarget").removeClass("uploadsFolderItemCloneOverTarget"),this.PE=e,this.fL&&clearTimeout(this.fL),this.fL=setTimeout(c,300))};f.f6=function(a){this.XO&&this.trigger("dragScroll",a)};
f.Tn=function(a,b){function c(){GY(e.view,"uploadsFolderItemCloneDropping");d.$el.toggleClass("uploadsFolderDroppedOn",!0);setTimeout(function(){d.$el.toggleClass("uploadsFolderDroppedOn",!1)},500)}var d,e=this,g=this.XO,h=this.eY,k=this.dY;FY(this,-1,-1);this.XO=this.dY=this.eY=this.PE=void 0;a=(d=CY(this,a,b))&&d.model;g&&a&&a!==k&&!DY(e,a)?(c(),h.moveItem(g,a,!0)):e.Fq||GY(this.view,"uploadsFolderItemCloneHidden")};f.off=Backbone.Events.off;f.listenTo=Backbone.Events.listenTo;f.on=Backbone.Events.on;
f.once=Backbone.Events.once;f.stopListening=Backbone.Events.stopListening;f.trigger=Backbone.Events.trigger;f.Vh=function(){var a;this.ZV=void 0;this.mg&&(pW(this.ja,this.mg.$el),this.m4=this.mg.Rl,this.mg=void 0,HY(this)||this.Dx());this.Fq&&(a=this.wc(this.Fq),this.bv.remove(),this.bv=void 0,IY(this,a).close(),this.Fq=void 0,JY(this.view,!1))};
f.bU=function(a){var b=sY,c=a.La()===this.na,d=!!a.qe();a=new b({Qi:!0,uy:c&&!d,yb:this.yb,model:a,J:lc(this.i),Ci:!a.qe(),H:this.H});this.listenTo(a,{click:this.tO,drop:this.KR,infoClick:this.q6,rename:this.k9});a.render().show();return a};f.oK=function(a){var b;b=a.getName();b=(new uk).St(b);b.type="MEDIA";b=b.Ut(this.na);this.gc.oK(b).then(this.o6.bind(this,a)).catch(this.p6.bind(this,a))};
f.pK=function(a){function b(b,d,h,k){return new aY({Pa:c.Pa,W:c.W,Va:a,pr:c.Np().filter(function(a){return KY(c,a)}),gc:c.gc,ac:c.ac,J:lc(c.i),Ur:nc(c.i),Z:c.Z,Nt:c.Nt,Xf:c.Xf,na:c.na,disabled:DY(c,a),Th:c.Th,pF:b,cp:d,Ci:h,gl:k})}var c=this,d;switch(a){case ak:d=new FX({Pa:c.Pa,il:c.il,J:lc(c.i),Kf:c.W.G.get(ig)});break;case bk:d=b(new YX({Pa:this.Pa,ac:this.ac}),!0,!0);this.listenTo(d,{trash:c.TG,pickedUp:c.zX.bind(c,d,a),disabled:c.vX.bind(c,a)});break;case ck:d=b(new ZX({Pa:this.Pa,Li:this.Li,
XR:"/media/unlimited_use_purchases"}),!1,!1,lc(this.i).format("objectPanelUploadsPanelPurchasedUnlimitedUseFolderEmpty"));break;default:d=b(new $X({Pa:this.Pa,gc:this.gc,Va:a}),!0,!0),this.listenTo(d,{trash:c.TG,pickedUp:c.zX.bind(c,d,a),disabled:c.vX.bind(c,a)}),c.vz&&hY(d)}d.fetch();d.render();return d};
f.fetch=function(a){if(!this.ai&&!this.sA&&this.bO)if(this.hl){var b=sk((new rk).Aj(this.Y),["MEDIA"]);b.includeSystemFolders=!0;b.includeThumbnails=!0;a=b.Ut(this.na).Vg(a||25);this.ai=!0;this.view.Tg(!0);this.gc.eV(a).bind(this).then(this.v6).catch(this.w6)}else this.wc(bk.u())||LY(this,bk),this.wc(ck.u())||LY(this,ck),this.wc(ak.u())||LY(this,ak),this.bO=!1,this.view.Tg(!1),this.trigger("fetch")};f.Fz=function(a){a=this.ja.BL(a);isFinite(a)?this.fetch(a):this.fetch(25)};
f.wc=function(a){return this.Np().filter(function(b){return b.u()===a})[0]};f.Np=function(){return this.gj.map(function(a){return a.model})};f.tl=function(){return this.ja.tl()};f.qe=function(a){return this.Np().filter(function(b){return(b=b.qe())&&b===a})[0]};
function HY(a){function b(){var a=IY(h,ak);return!a||g.eq(2).is(a.$el)||g.eq(3).is(a.$el)}function c(a){return a.childNodes.length}function d(){var a=h.qe("UNFOLDERED"),a=a&&IY(h,a);return!a||g.eq(1).is(a.$el)||g.eq(2).is(a.$el)}function e(){var a=h.qe("LOGOS"),a=a&&IY(h,a);return!a||g.eq(1).is(a.$el)}var g=a.ja.Cf(),h=a;return function(){var a=h.ja.$el.find(".uploadsLayoutColumn").get().map(c),b=[].concat(a).sort().reverse();if(b=_.isEqual(a,b))b=2>Math.max.apply(Math,a)-Math.min.apply(Math,a);return b}()&&
b()&&(!h.Aq||g.first().is(h.Aq.$el))&&d()&&e()}f.getElement=function(){return this.view.$el};function IY(a,b){return a.gj.filter(function(a){return a.model===b})[0]}function MY(a){return a.Fq?a.wc(a.Fq):void 0}function DY(a,b){return _.contains(a.DE,b.u())}function KY(a,b){var c=-1!==_.values(dk).map(function(a){return a.u()}).indexOf(b.u());return!DY(a,b)&&!c}
f.tO=function(a){a.u()===this.Fq?this.Vh():(this.Vh(),IY(this,a).open(),JY(this.view,!0),this.bv=this.pK(a),this.Fq=a.u(),NY(this,{Fr:!1,content:this.bv.getElement(),Va:a}),this.trigger("open"),this.Th(IY(this,a).$el))};f.o6=function(a,b){b=b.wc();a=IY(this,a);a.model=b;a.Fk(!1);a.render();yY(a)};f.p6=function(a,b){a=y(IY(this,a));window.alert(this.tV(b));this.stopListening(a);this.gj.splice(this.gj.indexOf(a),1);this.ja.remove(a.$el);this.Dx()};
f.tV=function(a){return a instanceof Array&&a[0]&&"quota exceeded"==a[0].error?lc(this.i).format("objectPanelUploadsPanelCreateFolderQuotaExceededError"):lc(this.i).format("objectPanelUploadsPanelCreateFolderError")};f.q6=function(a){var b=a.u()===this.ZV;this.Vh();b||(this.ZV=a.u(),b=(new MX({Va:a,i:this.i,na:this.na,Kf:this.W.G.get(ig)})).render(),b.on("trash",this.R$.bind(this,a)),NY(this,{Fr:!0,content:b.$el,Va:a}),this.Th(this.mg.getContent(),!0))};
f.s6=function(a){var b;b=this.wc(a.u());b=IY(this,b);b.model=a;b.render()};f.v6=function(a){var b=a.Np();b.length&&OY(this,b);this.wc(ak.u())||LY(this,ak);this.wc(ck.u())||LY(this,ck);this.hl&&this.Aq&&this.ja.push(this.Aq.$el);this.Y=a.Mb();this.ai=!1;this.bO=!!this.Y;this.Dx();this.view.Tg(!1);this.trigger("fetch")};f.w6=function(){this.ai=!1;this.sA=!0;this.view.Tg(!1);this.view.Jt(!0)};f.vX=function(a,b){b?this.DE.push(a.u()):this.DE=_.without(this.DE,a.u())};f.TG=function(a){this.Nt.push(a)};
f.zX=function(a,b,c,d){this.eY=a;this.dY=b;this.XO=c;this.view.Vr=d};f.J6=function(){this.Vh();this.Dx()};f.X6=function(){var a=this,b;b=function(){var b;b=Uj({name:Sd(lc(a.i)),user:a.na});b=a.bU(b);b.$el.addClass("uploadsFolderTransparent");a.gj.push(b);a.ja.push(b.$el);b.Fk(!0);wY(b,!0);return b}();this.Th(b.$el).then(function(){b.$S()});U&&U.track("new_upload_folder")};f.ZG=function(){this.ja.ab()};f.GX=function(){var a,b;b=(a=this.hl?this.qe("UNFOLDERED"):bk)&&a.u()===this.Fq;a&&!b&&this.tO(a)};
function LY(a,b){b=new sY({Qi:!1,uy:!1,yb:a.yb,model:b,J:lc(a.i),Ci:!1,H:a.H});a.listenTo(b,"click",a.tO);b.render().show();a.gj.push(b);a.ja.push(b.$el)}function OY(a,b){b=b.map(a.bU,a);a.gj=a.gj.concat(b);b=$(b.map(function(a){return a.el}));a.ja.push(b)}f.remove=function(){$(window).off("resize",this.ZG);this.stopListening();this.view.remove()};
f.k9=function(a,b){var c,d;c=a.Ly({name:b});d=IY(this,a);d.model=c;d.render();wY(d,!1);a.u()?(b=(new fk).Hk(Sg(a)).St(b),this.gc.DR(b).catch(this.s6.bind(this,a))):this.oK(c)};f.render=function(){this.Aq&&this.Aq.render();this.view.render();this.view.$el.prepend(this.ja.$el);var a=this.view;a.Io&&a.$el.prepend(a.iaa({folderUpgradePrompt:a.J.format("objectPanelUploadsPanelFolderUpgradePrompt"),learnMoreButtonLabel:a.J.format("objectPanelUploadsPanelLearnMoreButtonLabel")}));return this};
function FY(a,b,c){a.gj.forEach(function(a){DY(this,a.model)||a.$el.toggleClass("uploadsFolderDropping",vY(a,b,c))}.bind(a))}f.show=function(){$(window).on("resize",this.ZG)};function NY(a,b){var c=b.Va===ak,d=IY(a,b.Va).$el;a.mg=(new fY({Qi:!c,Fr:b.Fr,content:b.content,J:lc(a.i),Rl:a.m4,target:d})).render();a.mg.on({close:a.Vh,drop:a.KR.bind(a,b.Va)},a);oW(a.ja,d,a.mg.$el);a.mg.show()}
f.Dx=function(){function a(){var a=e.qe("LOGOS");if(a=a&&IY(e,a))g.splice(g.indexOf(a.el),1),g.unshift(a.el)}function b(){var a=IY(e,ak);a&&(g.splice(g.indexOf(a.el),1),g.unshift(a.el))}function c(){var a=IY(e,ck);a&&(g.splice(g.indexOf(a.el),1),g.unshift(a.el))}function d(){var a=e.qe("UNFOLDERED");if(a=a&&IY(e,a))g.splice(g.indexOf(a.el),1),g.unshift(a.el)}var e=this;if(this.hl&&!this.mg){var g=this.ja.Cf().detach().toArray();b();c();d();a();g.splice(g.indexOf(e.Aq.el),1);g.unshift(e.Aq.el);this.ja.push($(g))}};
f.R$=function(a){function b(){var b=a.itemCount,d=lc(c.i);return window.confirm(d.format("objectPanelUploadsPanelTrashFolderConfirmation",b))}var c=this,d;0<a.itemCount&&!b()||(this.Vh(),d=hk((new fk).Hk(Sg(a))),P.settle([this.gc.DR(d),IY(c,a).Rx(!0).bind(c).then(c.Dx)]).then(function(b){b[0].isFulfilled()?(b=IY(this,a),b.remove(),this.stopListening(b),this.gj.splice(this.gj.indexOf(b),1)):(IY(this,a).Rx(!1),this.Dx())}.bind(this)))};
f.KR=function(a,b,c){this.W.G.get(ig)&&(KY(this,a)?this.Pa.EI(a,b,c||"drop"):DY(this,a)||0<b.length&&this.Pa.Xy(a,c||"drop").upload(b))};function AY(){}AY=Backbone.View.extend({className:"uploadsFolders"});AY.prototype.initialize=function(a){this.Ui=new dW;this.Vr=$();this.J=a.J;this.root=a.root||$(window);this.Io=a.Io};AY.prototype.events=function(){return{mousedown:this.Rs,"click .folderUpgradeCta .buttonLearnMore":this.J5}};AY.prototype.J5=function(){this.trigger("folderUpgradeCta")};AY.v0=50;AY.K0=100;AY.L0=5;f=AY.prototype;
f.Rs=function(a){function b(){function b(a){var h=a.clientX;a=a.clientY;d.trigger("drag",h,a);h<AY.v0?(e||d.trigger("close"),e=!0,d.trigger("dragScroll",0)):h>g?d.trigger("dragScroll",0):Math.abs(l-a)>AY.L0?d.trigger("dragScroll",c(h,a)):d.trigger("dragScroll",0);return!1}function k(a){d.root.off("mousemove",b);d.root.off("mouseup",k);d.trigger("dragScroll",0);d.trigger("drop",a.clientX,a.clientY)}var l=a.clientY;d.root.on("mousemove",b);d.root.on("mouseup",k);return!1}function c(a,b){var c;c=AY.K0;
b=new V(a,b,0,0);a=d.$el.parent(".scrollPane").get(0).getBoundingClientRect();var e=Wg(a);a=b.w()-(e.w()+c);c=b.xa()-(e.xa()-c);return 0>a?Math.max(Math.floor(a/10),-10):0<c?Math.min(Math.ceil(c/10),10):0}var d=this,e=!1,g=this.el.getBoundingClientRect().right;return function(){var b=0<$(a.target).parents(".uploadsFolderItemMovable").length,c=$(a.target).hasClass("uploadsFolderItemMovable");return a.which==O.Mh||!(c||b)}()||b()};f.render=function(){this.Ui.render();this.$el.append(this.Ui.$el);return this};
function GY(a,b){var c;c=a.Vr.clone();c.removeClass().addClass(b);b=a.Vr.get(0).getBoundingClientRect();c.css("top",b.top+"px").css("left",b.left+"px").css("width",b.width+"px").css("height",b.height+"px");$("body").append(c);a.Vr.remove();a.Vr=$();setTimeout(function(){c.remove()},500)}f.Tg=function(a){a?this.Ui.show():this.Ui.hide()};f.Jt=function(a){var b=this.$(".uploadsFoldersError");a?1>b.length&&this.$el.append(this.aF({message:this.J.format("objectPanelUploadsPanelFoldersFetchError")})):b.remove()};
function JY(a,b){a.$el.toggleClass("uploadsFoldersFolderOpen",b)}f.aF=_.template('\x3cp class\x3d"uploadsFoldersError"\x3e\x3c%- message %\x3e\x3c/p\x3e');f.iaa=_.template('\x3cdiv class\x3d"folderUpgradeCta"\x3e\x3cspan class\x3d"folderUpgradePrompt"\x3e\x3c%- folderUpgradePrompt %\x3e\x3c/span\x3e\x3cbutton class\x3d"button buttonSmall buttonLearnMore"\x3e\x3c%- learnMoreButtonLabel %\x3e\x3c/button\x3e\x3c/div\x3e');function fY(){}fY=Backbone.View.extend({className:"inlineContent"});fY.E0=14.14;f=fY.prototype;f.events=function(){return{"click .inlineContentClose":this.trigger.bind(this,"close"),drop:this.Tn}};f.initialize=function(a){this.Qi=a.Qi;this.aT=!1;this.Fr=!!a.Fr;this.content=a.content;this.J=a.J;this.Rl=a.Rl;this.target=a.target};f.getContent=function(){return this.content};
f.Tn=function(a){var b;try{b=a.originalEvent.dataTransfer.files}catch(c){}b&&b.length&&this.Qi&&(a.preventDefault(),a.stopPropagation(),this.trigger("drop",b))};
function PY(a){function b(){var a=fY.E0/2,b=d.target.offset().left+d.target.outerWidth()/2,e=d.$el.offset().left;c(b-e-a)}function c(a){d.Rl=a;e.css("transform","translateX("+a+"px) rotate(-45deg)")}var d=a,e;e=a.$(".inlineContentPointer");e.addClass("doNotTransition");void 0!==a.Rl?c(a.Rl):b();window.setTimeout(function(){e.removeClass("doNotTransition");b()},O.Gc)}
f.render=function(){this.$el.html(this.template(this.wi()));this.$el.toggleClass("inlineContentAppearing",!this.aT);this.$(".inlineContentContent").append(this.content);return this};f.wi=function(){return{closeButton:this.Fr,closeTitle:this.J.format("objectPanelUploadsPanelInlineContentCloseTitle")}};f.show=function(){this.aT=!0;PY(this);QY(this)};
function QY(a){var b;P.try(function(){a.$el.height("auto");b=a.$el.height();a.$el.height(0)}).delay(O.Gc).then(function(){a.$el.removeClass("inlineContentAppearing");a.$el.height(b)}).delay(200).then(function(){a.$el.addClass("doNotTransition");a.$el.height("")}).delay(O.Gc).then(function(){a.$el.removeClass("doNotTransition")})}f.template=_.template('\x3cdiv class\x3d"inlineContentPointer"\x3e\x3c/div\x3e\x3c% if (closeButton) { %\x3e\x3ca class\x3d"inlineContentClose" href\x3d"#" title\x3d"\x3c%- closeTitle %\x3e"\x3e\x3c/a\x3e\x3c% } %\x3e\x3cdiv class\x3d"inlineContentContent"\x3e\x3c/div\x3e');function GX(){lW.call(this,{ah:function(a){return Math.floor(a/90)},Fm:"uploadsLayoutColumn"});this.listenTo(this,{afterSplit:this.b1,beforeMerge:this.h1,beforeSplit:this.i1})}GX.prototype=Object.create(lW.prototype);GX.prototype.b1=function(a,b){b.addClass("doNotTransition");b.each(function(b,d){d=$(d);d.css("margin-top",RY(a.eq(b))-d.offset().top)}.bind(this));b.height();b.removeClass("doNotTransition");setTimeout(function(){a.children().add(b).add(b.children()).css("margin-top","")},O.Gc)};
GX.prototype.i1=function(a){SY(a.children())};function RY(a){function b(a){return a.offset().top+a.outerHeight()}return a.children().length?b(a.children().last()):b(a)}function SY(a){var b=a.get().map(function(a){return window.getComputedStyle(a)});a.each(function(a,d){d.style.marginTop=d.previousSibling?Math.max(parseInt(b[a-1].marginBottom,10)||0,parseInt(b[a].marginTop,10)||0)+"px":(parseInt(b[a].marginTop,10)||0)+"px"})}
GX.prototype.h1=function(a,b){var c;c=b.children();c.addClass("doNotTransition");SY(c);(function(){return b.get().map(function(a){return a.firstChild})})().forEach(function(b,c){b&&(b=$(b),b.css("margin-top",b.offset().top-RY(a.eq(c))).addClass("closing-transition").one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){$(this).removeClass("closing-transition")}))}.bind(this));c.height();c.removeClass("doNotTransition");setTimeout(function(){c.css("margin-top",
"")},O.Gc)};function BY(){}BY=Backbone.View.extend({className:"newUploadsFolder"});f=BY.prototype;f.events=function(){return{click:this.trigger.bind(this,"click")}};f.initialize=function(a){this.i=a.i};f.$S=function(){this.$el.addClass("newUploadsFolderAppearing");setTimeout(function(){this.$el.removeClass("newUploadsFolderAppearing")}.bind(this),450)};f.render=function(){var a=lc(this.i);this.$el.html(this.template({label:a.format("objectPanelUploadsPanelNewFolderButtonLabel")}));return this};f.template=_.template('\x3cdiv class\x3d"newUploadsFolderThumbnail"\x3e\x3c/div\x3e\x3cdiv class\x3d"newUploadsFolderLabel"\x3e\x3c%- label %\x3e\x3c/div\x3e');function SM(a){this.Pa=a.Pa;this.Ou=0;this.element=$("\x3cdiv\x3e").addClass("layer scrollPane uploadsPanel");this.Wc=a.Wc;this.Yc=new zY({yb:a.yb,Pa:a.Pa,vz:a.vz,hl:a.hl,il:a.il,W:a.W,gc:a.gc,Li:a.Li,ac:a.ac,i:a.i,Z:a.Z,Xf:a.Xf,na:a.na,H:a.H,Th:this.Th.bind(this),Wc:this.Wc,pK:a.pK});this.Yc.on({fetch:this.SJ,open:this.r6,dragScroll:this.u6},this);this.Yc.once("fetch",this.Yc.GX,this.Yc);this.zW=-1;a.W.G.get(ig)&&this.listenTo(a.Z2,{dragenter:this.g6,dragleave:this.h6,drop:this.i6})}f=SM.prototype;
f.listenTo=Backbone.Events.listenTo;f.u6=function(a){a!==this.Ou?(this.Ou=a,this.LH&&clearInterval(this.LH),0!==this.Ou&&(this.LH=setInterval(this.t8.bind(this),10))):0===a&&this.LH&&clearInterval(this.LH)};
f.Th=function(a,b){var c=this.element.height(),d=rW(this.pt,a,{VM:!0}),e=c+d-a.outerHeight(!0);a=c/3;var g=null;this.element.find(".closing-transition").each(function(a,b){a=parseInt(b.style.marginTop,10)-10;if(rW(this.pt,$(b),{VM:!0})<d&&0<a)return e-=a,d-=a,!1}.bind(this));if(b&&0<d)g=this.element.scrollTop()+d+10;else if(!b&&e>a||0>e)g=this.element.scrollTop()+e-a;return new P(function(a){null!==g?this.element.animate({scrollTop:g},200,"linear",a):a()}.bind(this))};
f.SJ=function(){var a=this.Yc.bv,b=a&&a.tl();a&&a.xs()&&b&&800>rW(this.pt,b)&&0===this.Ou?this.Yc.bv.Fz(800):(a=this.Yc.tl())&&800>rW(this.pt,a)&&this.Yc.Fz(800)};f.getElement=function(){return this.element};f.g6=function(){var a=MY(this.Yc);a&&a!==ak&&a!==ck||this.Yc.GX();this.element.addClass("uploadsPanelDropTarget")};f.h6=function(){TY(this)};function TY(a){a.element.removeClass("uploadsPanelDropTarget")}f.r6=function(){this.Yc.bv.on("fetch",this.SJ,this)};
f.l7=function(){var a=this.pt.Hp.scrollTop();a>this.zW&&this.SJ();this.zW=a};f.t8=function(){var a=1*this.element.scrollTop();(function(){return 0===a&&0>this.Ou})()||this.element.scrollTop(a+this.Ou)};f.render=function(){this.Yc.getElement().appendTo(this.element);this.Yc.render();return this};
f.show=function(){var a=Number(this.element.height()),b=800;isNaN(a)||(b+=a);var a=this.element,a=$(a),c=a.data("CANVA_SCROLL_TARGET");c||(c=new qW(a),c.tG(),a.data("CANVA_SCROLL_TARGET",c));this.pt=c;this.pt.on("scroll",this.l7,this);this.pt.tG();this.Yc.show();this.Yc.Fz(b)};f.i6=function(a){TY(this);var b=this.Yc,c=MY(b);c&&b.KR(c,a,"drop")};function VX(){}VX=Backbone.View.extend({className:"uploadProgressBar"});VX.prototype.initialize=function(){this.xh=0};VX.prototype.render=function(){this.$el.html(this.template());XX(this,this.xh);return this};function XX(a,b){var c;c=a.$(".uploadProgressBarFill");c.css("transform","translateX("+Math.max(c.height()/a.$el.width()*100,b)+"%)");a.xh=b}VX.prototype.template=_.template('\x3cdiv class\x3d"uploadProgressBarFill"\x3e\x3c/div\x3e');function UM(a){this.$el=$('\x3cdiv class\x3d"uploadProgressPorthole"\x3e\x3cdiv class\x3d"uploadProgressPortholeFill"\x3e\x3c/div\x3e\x3c/div\x3e');this.root=a.root;this.root.append(this.$el);this.aP=this.fo=0;this.Jx=Date.now();this.d_=0;this.Xf=a.Xf;this.tf=a.tf}f=UM.prototype;f.off=Backbone.Events.off;f.listenTo=Backbone.Events.listenTo;f.on=Backbone.Events.on;f.once=Backbone.Events.once;f.stopListening=Backbone.Events.stopListening;f.trigger=Backbone.Events.trigger;
f.start=function(){this.Jx=Date.now()-100;this.stopListening(this.Xf);this.listenTo(this.Xf,{create:this.kI,fail:function(a){UY(this,a,this.tf)}})};f.kI=function(){this.aP=setTimeout(this.sW.bind(this),50)};
f.sW=function(){function a(){var a=Math.random();.025>a&&(c.$el.addClass("showRubberDucky"),.005>a&&c.$el.addClass("showNautilus"),setTimeout(function(){c.$el.removeClass("showRubberDucky showNautilus")},9E3))}var b=TL(this.Xf,this.Jx),c=this;clearTimeout(this.d_);clearTimeout(this.aP);this.root.addClass("showUploadsProgressPorthole");100===b?this.finish():(this.fo=Math.round(.7*b+.05),VY(this),a(),this.aP=setTimeout(this.sW.bind(this),1E3))};
f.finish=function(){var a=this;this.d_=setTimeout(function(){a.Jx=Date.now()-2E3-100;a.fo=100;VY(a);setTimeout(a.reset.bind(a),1100)},2E3)};function UY(a,b,c){var d=a.$el.find(".uploadProgressPortholeFill");d.addClass("uploadProgressPortholeFillFailure");setTimeout(function(){d.removeClass("uploadProgressPortholeFillFailure")},650);b&&NL.show(b,c)}
function VY(a){var b=a.$el.find(".uploadProgressPortholeFill"),c="translateY("+(100-a.fo)+"%)";b.css("transform",c+" rotate(2deg)");setTimeout(function(){b.css("transform",c+" rotate(-2deg)")},1050);setTimeout(function(){b.css("transform",c)},2100)}f.reset=function(){this.fo=0;this.Jx=Date.now();this.root&&this.root.removeClass("showUploadsProgressPorthole");VY(this)};f.remove=function(){this.reset();this.stopListening(this.Xf);this.$el.remove()};function WY(a){var b=this;hc.call(this,a);a.on("click",".searchMenu__toggle",function(){return b.trigger(XY)})}r(WY,hc);function YY(){var a=$(soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"searchMenu"\x3e\x3cdiv class\x3d"select searchMenu__toggle"\x3e\x3c/div\x3e\x3c/div\x3e').toString());return new WY(a)}var XY="SHOW_OVERLAY";
function ZY(a){var b=this;hc.call(this,a);a.on("click",".searchMenu__item",function(a){return b.sO(a)});a.on("click",".searchMenu__freeFilterCta",function(){return b.trigger($Y)})}r(ZY,hc);ZY.prototype.sO=function(a){a=$(a.target).closest(".searchMenu__item").data("filterType");this.trigger(aZ,a)};var aZ="FILTER_CHANGE",$Y="FREE_FILTER_CTA";function bZ(a){Az.call(this,{className:"searchMenuPopOver",content:a.content,vx:!1,position:xp})}r(bZ,Az);bZ.prototype.Rp=function(){return AX};var cZ=new Ff("gd",!1);function dZ(a,b,c){var d=this;this.Zl=a.Zl;this.view=b;this.A8=c;this.Jq=this.Iq=null;this.QL=a.QL;this.bC="NONE";this.WD=a.WD;this.anchor=a.anchor;this.j=a.j;this.view.on(XY,function(){eZ(d);d.Iq.Bi(d.anchor)})}
function NM(a){var b=YY();return{Db:fZ(a,b,function(b){var d=[],e;d.push({type:"NONE",label:a.Zl.format("searchMenuMostRelevant"),yf:!1});a.G.get(cZ)?d.push({type:"FREE",label:a.Zl.ci(),yf:!0}):(e=a.Zl.Ia("searchMenuFreeFilterCtaHtml",4E5),d.push({type:"FREE_CTA",label:a.Zl.ci(),yf:!0,disabled:!0}));var g=$;soy.asserts.assertType(goog.isString(b)||b instanceof goog.soy.data.SanitizedContent,"selectedFilterType",b,"string|goog.soy.data.SanitizedContent");d=goog.asserts.assertArray(d,"expected parameter 'filters' of type list\x3c[crownTag: bool|null, label: string, selected: bool|null, type: string]\x3e.");
soy.asserts.assertType(null==e||e instanceof soydata.SanitizedHtml||e instanceof soydata.UnsanitizedText||goog.isString(e),"footerCta",e,"?soydata.SanitizedHtml|string|undefined");for(var h='\x3cdiv class\x3d"searchMenu__overlay"\x3e\x3cdiv class\x3d"selectMenu"\x3e',k=d.length,l=0;l<k;l++){var m=d[l],n,p=m.type==b,q=m.yf;n=m.label;m=m.type;soy.asserts.assertType(null==p||goog.isBoolean(p)||1===p||0===p,"selected",p,"boolean|null|undefined");soy.asserts.assertType(null==q||goog.isBoolean(q)||1===
q||0===q,"crownTag",q,"boolean|null|undefined");soy.asserts.assertType(goog.isString(n)||n instanceof goog.soy.data.SanitizedContent,"label",n,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(m)||m instanceof goog.soy.data.SanitizedContent,"type",m,"string|goog.soy.data.SanitizedContent");n=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"selectMenu__item searchMenu__item'+(p?" searchMenu__item--selected":"")+'" data-filter-type\x3d"'+soy.$$escapeHtmlAttribute(m)+
'"\x3e'+soy.$$escapeHtml(n)+(q?rp({za:"searchMenu__crown",color:"#3f4652"}):"")+"\x3c/div\x3e");h+=n}h+=(e?'\x3cdiv class\x3d"searchMenu__footerCta"\x3e'+soy.$$escapeHtml(e)+"\x3c/div\x3e":"")+"\x3c/div\x3e\x3c/div\x3e";b=soydata.VERY_UNSAFE.ordainSanitizedHtml(h);g=g(b.toString());g=new ZY(g);b=new bZ({content:g.$el});return{Jq:g,Iq:b}}),view:b}}function fZ(a,b,c){return new dZ(a,b,c)}
function gZ(a){return X(X(X(X(new Zl("filter_changed"),"section","editor"),"subsection","object_panel"),"location","search_menu"),"type",a)}dZ.prototype.sO=function(a){if("FREE_CTA"===a)this.Iq.cancel(),this.WD();else{this.bC=a;var b=this.Jq,c=this.bC;b.$el.find(".searchMenu__item--selected").removeClass("searchMenu__item--selected");b.$el.find('.searchMenu__item[data-filter-type\x3d"'+c+'"]').addClass("searchMenu__item--selected");this.Iq.cancel();this.QL();this.j.wa(gZ(a.toString()))}};
function eZ(a){var b=a.A8(a.bC),c=b.Iq,d=b.Jq;a.Jq=d;a.Iq=c;a.Jq.on(aZ,function(b){return a.sO(b)});a.Jq.on($Y,function(){a.Iq.cancel();a.WD()});a.Iq.once("remove",function(){d.remove();a.Jq===d&&(a.Jq=null)})};function PM(){}PM=Backbone.View.extend({});PM.prototype.events=function(){return{"click .searchFilterMediaTypeOption__link":this.T3}};PM.prototype.initialize=function(a){var b=this,c=new MP;this.listenTo(c,"results:didFetch",function(a,c,d){b.trigger("results:didFetch",a,c,d)});var d=new JM(new UP);c.Kk(d);this.nG=new gX({model:c,el:this.$(".layer"),i:a.i});c=new $W({model:d,el:this.$(".browseCategories"),i:a.i});this.nG.ee.push(c);!a.el&&this.render()};PM.prototype.ps=function(){return this.$el.find(".searchFilterMediaTypeOption--selected").data("mediaTypes")};
PM.prototype.T3=function(a){this.$el.find(".searchFilterMediaTypeOption").removeClass("searchFilterMediaTypeOption--selected");$(a.target).closest(".searchFilterMediaTypeOption").addClass("searchFilterMediaTypeOption--selected");this.trigger("searchFilterMediaType")};function RM(){}RM=Backbone.View.extend({});
RM.prototype.initialize=function(a){var b=this,c=new MP;this.listenTo(c,"results:didFetch",function(a,c,d){b.trigger("results:didFetch",a,c,d)});var d=new JM(new UP);c.Kk(d);this.nG=new gX({model:c,el:this.$(".layer"),i:a.i});c=new $W({model:d,el:this.$(".browseCategories"),i:a.i});this.nG.ee.push(c);this.nG.on("folder:expand",function(a){b.trigger("folder:expand",a)});!a.el&&this.render();a.e$&&(c=$('\x3cspan class\x3d"badgeContainer"\x3e'),d=$("\x3cspan\x3e").addClass("newFeatureLabel").text(sd(a.i).Sn()),c.append(d),
this.$("a[data-query\x3dcharts]").append(c));a=hZ({label:$d(lc(a.i))});a=$('\x3cspan class\x3d"badgeContainer"\x3e').append($(a.toString()));this.$("a[data-crowntag\x3dtrue]").append(a)};function iZ(a){var b=this;this.af=a.af||$(document);this.Te=a.Te||$("body");this.XF=function(){return b.hide()};this.element=null;this.zx=!1}f=iZ.prototype;f.show=function(){this.element||(this.element=$("\x3cdiv\x3e"),this.element.css("height","100%").css("left","0").css("position","fixed").css("top","0").css("width","100%").css("z-index","1000").css("opacity","0"));this.element.on("click",this.XF);this.Te.append(this.element);this.af.on("keydown",this.XF);this.zx=!0};
f.hide=function(){this.zx&&(this.zx=!1,this.element.off("click",this.XF),this.element.remove(),this.trigger("close"),this.af.off("keydown",this.XF));return!1};f.remove=function(){this.hide();this.element&&this.element.remove()};f.on=Backbone.Events.on;f.off=Backbone.Events.off;f.trigger=Backbone.Events.trigger;var mN="contextTipRoyaltyFreeFolder";function jZ(a){var b=this;this.af=a.af;this.Te=a.Te;this.Sy=a.Sy;this.fd=a.fd;this.QY=function(){return b.remove()};this.width=a.width;this.style=a.style;this.Mn=new iZ({af:this.af,Te:this.Te});this.Mn.on("close",this.QY);this.element=null}
function kZ(a){switch(a.key){case mN:return new jZ({af:a.af,Te:a.Te,Sy:a.i.format("unlimitedUseFolderContextTipContentText"),fd:a.i.format("unlimitedUseFolderContextTipButtonText"),width:215,style:"contextTipOnboarding"});case "contextTipRoyaltyFreePaymentOption":return new jZ({af:a.af,Te:a.Te,Sy:a.i.format("royaltyFreePaymentOptionContextTipContentText"),fd:a.i.format("royaltyFreePaymentOptionContextTipButtonText"),width:215,style:"contextTipOnboarding"});default:throw Error('Unknown ContextTipKey "'+
a.key+'" when creating ContextTip');}}f=jZ.prototype;
f.sx=function(a,b,c){c=void 0===c?!0:c;var d=this,e=$('\x3cspan class\x3d"contextTipContent"\x3e').text(this.Sy),g=$('\x3cbutton class\x3d"button buttonBlock contextTipButton"\x3e').text(this.fd),h=this.createElement();g.on("click",function(){return d.remove()});this.Mn.show();h.empty().append(e).append(g).appendTo(this.Te).css("width",this.width).css("left",a).css("top",c?b-h.height()/2:b).removeClass("contextTipOff").addClass("contextTipOn");return new P(function(a){return d.on("remove",a)})};
f.remove=function(){var a=this;this.Mn.remove();this.Mn.off("close",this.QY);if(this.element)this.element.removeClass("contextTipOn").addClass("contextTipOff").on("animationend",function(){return a.element.remove()});this.trigger("remove")};f.createElement=function(){this.element||(this.element=$('\x3cdiv class\x3d"contextTip"\x3e'),this.element.addClass(this.style));return this.element};f.on=Backbone.Events.on;f.off=Backbone.Events.off;f.trigger=Backbone.Events.trigger;function lZ(a){this.Z=a.Z;this.i=a.i;this.Rk=a.Rk;this.fE=a.fE;this.root=a.root;this.aE=null;this.Ot={};this.hP=new Map}lZ.prototype.start=function(){Nw(this.Z).bind(this).tap(this.UZ).then(this.FZ);return this};function lN(a,b,c){-1!==a.Rk.indexOf(b)&&a.hP.set(b,c)}function mZ(a,b){return-1!==a.Rk.indexOf(b)&&!1===a.Ot[b]?nZ(a,b):P.resolve()}function oZ(a){var b=mN;pZ(a,b).then(function(){return mZ(a,b)})}
function pZ(a,b){function c(){return!0!==this.Ot[b]?(this.Ot[b]=!1,Ow(this.Z,b,!1)):P.resolve()}return a.Ot.hasOwnProperty(b)?c.call(a):Nw(a.Z).bind(a).tap(a.UZ).then(c)}lZ.prototype.FZ=function(){var a=this,b=qZ(this);this.aE&&this.aE.remove();b&&nZ(this,b).then(function(){return a.FZ()})};function qZ(a){for(var b=0;b!==a.Rk.length;b++)if(!1===a.Ot[a.Rk[b]])return a.Rk[b];return null}lZ.prototype.UZ=function(a){this.Ot=a};
function nZ(a,b){var c=a.Rk.indexOf(b);if(0<=c){a.aE=a.fE(b);var d=rZ(a,b);if(d)return sZ(a,b).then(function(){return a.aE.sx(d.x,d.y)});a.Rk.splice(c,1)}return P.resolve()}function sZ(a,b){a.Ot[b]=!0;return Ow(a.Z,b,!0)}function rZ(a,b){return a.hP.has(b)&&(a=a.hP.get(b))?a():null};function nY(a){this.af=a.af||$(document);this.items=[];this.Te=a.Te||$("body");this.title=a.title;this.view=this.vK();this.Mn=new iZ({af:this.af,Te:this.Te});this.Mn.on("close",this.remove.bind(this))}f=nY.prototype;f.on=Backbone.Events.on;f.off=Backbone.Events.off;f.trigger=Backbone.Events.trigger;f.vK=function(){var a=new tZ;a.on("toggle",this.Uf.bind(this));return a};f.remove=function(){var a=this.view;this.Mn.hide();a.hide();setTimeout(function(){a.remove()},300)};
function oY(a,b){a.items=b;a.view.render({items:a.items,title:a.title})}f.sx=function(a,b){this.Mn.hide();this.Te.append(this.view.getElement());this.Mn.show();this.view.sx(a,b)};f.Uf=function(a){var b=this.items.filter(function(b){return b.title===a})[0];this.remove();b&&this.trigger("change",b.id,!b.pR)};function tZ(){}tZ=Backbone.View.extend({className:"contextMenu"});f=tZ.prototype;f.events=function(){return{"click .contextMenuItem":this.A6}};f.getElement=function(){return this.$el};f.hide=function(){var a=this.$el;a.removeClass("contextMenuOn").addClass("contextMenuOff");setTimeout(function(){a.css("left","-9999em").css("top","-9999em")}.bind(this),400)};f.A6=function(a){this.trigger("toggle",$(a.target).text())};
f.render=function(a){var b=this.$el,c=$('\x3cstrong class\x3d"contextMenuInfo"/\x3e').text(a.title),d=$('\x3cul class\x3d"contextMenuItems"/\x3e');a.items.forEach(function(a){var b=$('\x3cli class\x3d"contextMenuItem"/\x3e').text(a.title);a.pR&&b.addClass("contextMenuItemTicked");d.append(b)});b.empty().append(c).append(d);return this};f.sx=function(a,b){this.$el.css("left",a).css("top",b).removeClass("contextMenuOff").addClass("contextMenuOn")};function uZ(){}uZ=Backbone.View.extend({className:"dropdownPane"});uZ.prototype.initialize=function(){this.once("show",this.render)};uZ.prototype.show=function(){this.$el.hasClass("focus")||(this.trigger("show",this),this.$el.siblings().removeClass("focus"),this.$el.addClass("focus"))};function vZ(){}vZ=Az.extend({className:"dropdownMenuPopoverContainer"});f=vZ.prototype;f.initialize=function(a){Az.prototype.initialize.call(this,_.defaults(a,{Of:{top:-4}}));this.$n=[];this.$o=null;this.on("show",this.c$);this.on("remove",this.f9)};f.render=function(){Az.prototype.render.call(this);this.$("h2, .buttonContainer").remove();var a=this.$(".content");this.$n.forEach(function(b){b.$el.appendTo(a)});return this};
f.cu=function(a){this.listenTo(a,"show",this.R9);this.listenTo(a,"show",this.Rq);this.listenTo(a,"resize",this.Rq.bind(this,a));this.$n.push(a)};f.Rq=function(a){var b=window.innerHeight-108,c=a.$el.hasClass("focus");c&&a.$el.removeClass("focus");var d=a.$el.prop("offsetHeight");c&&a.$el.addClass("focus");this.$(".content").css("height",Math.min(d,b))};f.nm=function(){Az.prototype.nm.call(this);this.$o&&this.Rq(this.$o);return this};f.R9=function(a){this.$o=a};f.c$=function(){0<this.$n.length&&this.$n[0].show()};
f.f9=function(){this.$o=null;this.$n.forEach(function(a){a.remove()});this.$n.length=0};function XU(){}XU=vZ.extend({className:"dropdownMenuPopoverContainer brandPrimaryColorStyled"});f=XU.prototype;
f.initialize=function(a){vZ.prototype.initialize.call(this,a);this.Bm=a.Bm;this.document=a.document;this.W=a.W;this.pa=a.pa;this.vc=this.document.lb();this.zB=null;this.$M=this.gN=!1;this.ej=a.ej;this.TK=a.TK;this.Uk=a.Uk;this.i=a.i;this.vU=this.SK=this.Mu=null;var b=y(this.vc.u()),c=y(this.vc.getName()),d=y(this.vc.tb),e=wZ,g=this.W.G.get(Of),h=this.W.JN(),k=this.W.G.get(Xf);a=a.Fs;var l=this.i;l.hh||(l.hh=new de(l.config));this.dV=new e({Rm:c,xp:b,VK:d,tL:g,vL:h,yL:k,Fs:a,hh:l.hh});c=xZ;e=this.i;
e.bl||(e.bl=new ee(e.config));this.al=new c({Vk:b,bl:e.bl});this.mZ=d.Vj();this.qE=new yZ({FK:d.l(),CK:d.o(),EK:d.Vj(),Nm:vc(this.i)});d=zZ;c=this.i;c.th||(c.th=new fe(c.config));this.Ig=new d({Vk:b,th:c.th});this.cu(this.dV);this.cu(this.al);this.cu(this.qE);this.cu(this.Ig);this.listenTo(this.dV,"show",this.baa);this.iY()};
f.events=function(){var a=vZ.prototype.events.call(this);a["click .documentSaveButton"]=this.S5;a["click .documentCopyButton"]=this.x5;a["click .documentResizePaneButton"]=this.D5;a["click .documentResizeButton"]=this.B5;a["click .customDimensionsPaneButton"]=this.z5;a["keydown .customDimensionsWidth, .customDimensionsHeight"]=this.D6;a["change .customDimensionsUnits"]=this.m5;a["click .customDimensionsResizeButton"]=this.A5;a["click .magicResizePaneButton"]=this.N5;a["change .magicResizePane input"]=
this.p5;a["click .magicResizeButton:enabled"]=this.M5;a["click .button.retry"]=this.iY;a["click .resizeUpgradeCta .buttonLearnMore"]=this.C5;return a};f.Vl=function(a,b){this.trigger("documentResizeRequested",a,b)};function AZ(a){switch(a){case "PIXELS":return"PIXELS";case "MILLIMETERS":return"MILLIMETERS";case "CENTIMETERS":return"CENTIMETERS";case "INCHES":return"INCHES";default:throw Error("Unknown units "+a);}}
function BZ(a){var b=a.$(".customDimensionsUnits").prop("value"),c="PIXELS"===b?0:3,d=+parseFloat(a.$(".customDimensionsWidth").val()).toFixed(c),c=+parseFloat(a.$(".customDimensionsHeight").val()).toFixed(c),e=a.vc.tb,g=e.l(),h=e.o(),k=e.Vj(),e=!1;if(d===g&&c===h&&b==k)a.cancel();else{var g=a.$(".customDimensionsUnits").prop("value"),h=a.$(".customDimensionsWidth").val(),k=a.$(".customDimensionsHeight").val(),l=Math.floor(1E3*CZ(O.x0,g))/1E3,m=Math.ceil(1E3*CZ(O.z0,g))/1E3;null!=(g=h<m||k<m?vc(a.i).format("customDimensionsPaneDimensionUnder",
m,g):h>l||k>l?vc(a.i).format("customDimensionsPaneDimensionOver",l,g):null)?a.qE.lf(g):(a.qE.lg(),e=!0,g=new ht({width:d,height:c,units:AZ(b)}),h=nv(d,c,b),a.Vl(h,g),a.ok())}null!=U&&Ml(U,"change_design_dimension",null,null,"editor",{resize_type:"custom",new_units:b,new_width:d.toString(),new_height:c.toString(),success:e})}function DZ(a){a.zB||(a.zB=qA(O.ny),a.zB.finally(function(){a.zB=null}));return a.zB}
f.iY=function(){this.z_({});sj(this.TK.N,"/documentcreationoption/expanded").get(0).then(La).then(Fu).bind(this).tap(function(a){this.SK=a.QF;this.vU=_.flatten(a.QF.map(function(a){return a.options}))}).then(this.D4).catch(this.EV)};f.D4=function(){var a=[];this.SK.forEach(function(b){b.options.forEach(function(b){a.push(b.Rm)})});Ku(this.ej,new Lv({wl:a})).bind(this).tap(function(a){this.Mu=a.Mu}).then(this.F8).then(this.z_).catch(this.EV)};f.C5=function(){var a=this.Uk;a.j.wa(km());Fo(a,Jo)};
f.z_=function(a){this.al.yQ(a);this.$o===this.al&&(this.al.render(),this.Rq(this.al));this.Ig.yQ(a);this.$o===this.Ig&&(this.Ig.render(),this.Rq(this.Ig),EZ(this))};f.EV=function(){this.al.zQ();this.$o===this.al&&(this.al.render(),this.Rq(this.al));this.Ig.zQ();this.$o===this.Ig&&(this.Ig.render(),this.Rq(this.Ig))};
f.baa=function(){if(!this.$M){var a=this;this.$M=!0;DZ(this).then(function(){var b=a.$(".documentCopyButton");b.prop("disabled",!1);b.removeClass("disabled");b.parent().removeAttr("title");a.$M=!1})}};function EZ(a){a.gN||(a.gN=!0,DZ(a).then(function(){var b=0<a.$(".magicResizePane input:checked").length;a.$(".magicResizeButton").prop("disabled",!b).toggleClass("disabled",!b);a.gN=!1}))}
f.S5=function(a){var b=this;a=$(a.currentTarget);a.addClass("active");a.one("animationend",function(){b.trigger("documentSaveRequested");b.ok()})};f.x5=function(){this.trigger("documentCopyRequested");this.ok()};f.D5=function(){this.al.show()};
f.B5=function(a){var b=this;a=$(a.currentTarget);var c=a.prop("value");a.addClass("active");a.one("animationend",function(){if(c===b.document.lb().u())b.cancel();else{var a=_.find(b.Mu,function(a){return a.u()===c}),e=_.find(b.vU,function(a){return a.Rm===c});y(e.xp);y(a);b.Vl(a,new gt({id:e.xp,version:1}));b.ok()}});null!=U&&Ml(U,"change_design_dimension",null,null,"editor",{resize_type:"preset",resize_doctype_id:c})};f.z5=function(){this.qE.show()};f.D6=function(a){13===a.keyCode&&BZ(this)};
f.m5=function(){var a=this.$(".customDimensionsUnits").prop("value"),b=this.$(".customDimensionsWidth").prop("value"),c=this.$(".customDimensionsHeight").prop("value");a:{c=new ov({units:this.mZ,width:b,height:c});b=Rg(c);switch(a){case "PIXELS":break a;case "CENTIMETERS":c=b.l()/96*2.54;b=b.o()/96*2.54;break;case "INCHES":c=b.l()/96;b=b.o()/96;break;case "MILLIMETERS":c=b.l()/96*25.4;b=b.o()/96*25.4;break;default:throw Error("Unknown units: "+c.Vj());}b=new ov({width:c,height:b,units:a})}c="PIXELS"===
a?0:3;this.$(".customDimensionsWidth").val(+b.l().toFixed(c));this.$(".customDimensionsHeight").val(+b.o().toFixed(c));this.mZ=a};f.A5=function(){BZ(this)};f.N5=function(){this.Ig.show();EZ(this)};f.p5=function(){EZ(this)};
f.M5=function(a){var b=[],c=this.$(".magicResizePane input:checked:enabled"),d=$(a.currentTarget);d.blur();d.prop("disabled",!0);var e=c.toArray().map(function(a){return XV(this.pa.hc(),"remix",qu(this.pa))+"?resizeTo\x3d"+encodeURIComponent(a.value)},this);this.Ig.$(".errorMessage").remove();var g=function(){var a=window.open(e.shift());a&&b.push(a);null==a?(b.forEach(function(a){a.close()}),b=[],d.prop("disabled",!1),this.PQ(),U&&Yl(U,"magic_resize")):0===e.length?(this.ok(),U&&Yl(U,"magic_resize")):
0<navigator.userAgent.indexOf("Safari")&&0<navigator.userAgent.indexOf("Version/11")?setTimeout(g,1100):g()}.bind(this);g()};f.PQ=function(){FZ.A$(this.Bm)?(new FZ({Bm:this.Bm,i:Kd(this.i)})).show():(this.Ig.PQ(),this.Rq(this.Ig))};f.F8=function(){var a={};this.SK.forEach(function(b){a[b.PF]=b.options.map(function(a){return{id:a.Rm,displayName:a.displayName,displayDimensions:a.IK,category:b.PF}})});return a};function wZ(){}
wZ=uZ.extend({className:"dropdownPane fileMenuPane",template:_.template('\x3cheader\x3e\x3ch3 class\x3d"fileMenuPaneTitle" data-doctype\x3d"\x3c%- data.doctypeId %\x3e"\x3e\x3c%- data.doctypeName %\x3e\x3c/h3\x3e\x3cdiv class\x3d"documentDimensions"\x3e\x3c%- data.documentDimensions %\x3e\x3c/div\x3e\x3c% if (data.enableDocumentResize) { %\x3e\x3cul class\x3d"menuActionsList"\x3e\x3cli\x3e\x3cbutton class\x3d"button documentResizePaneButton"\x3e\x3c%- data.changeDimensionsLabel %\x3e\x3c/button\x3e\x3c/li\x3e\x3c% if (data.enableMagicResize) { %\x3e\x3cli\x3e\x3cbutton class\x3d"button magicResizePaneButton"\x3e\x3c%- data.magicResizeLabel %\x3e\x3c/button\x3e\x3c/li\x3e\x3c% } %\x3e\x3c/ul\x3e\x3c% } else if (data.showUpgradeCta) { %\x3e\x3cdiv class\x3d"resizeUpgradeCta"\x3e\x3cspan\x3e\x3c%- data.resizeUpgradePrompt %\x3e\x3c/span\x3e\x3cbutton class\x3d"button buttonSmall buttonLearnMore"\x3e\x3c%- data.learnMoreButtonLabel %\x3e\x3c/button\x3e\x3c/div\x3e\x3c% } %\x3e\x3c/header\x3e\x3csection\x3e\x3cul class\x3d"menuActionsList"\x3e\x3cli\x3e\x3cbutton class\x3d"button documentSaveButton" data-syncstatus\x3d"\x3c%- data.lastSavedLabel %\x3e"\x3e\x3c%- data.saveLabel %\x3e\x3c/button\x3e\x3c/li\x3e\x3cli title\x3d"\x3c%- data.waitingForSaveTitle %\x3e"\x3e\x3cbutton class\x3d"button documentCopyButton disabled" disabled\x3e\x3c%- data.makeACopyLabel %\x3e\x3c/button\x3e\x3c/li\x3e\x3c/ul\x3e\x3c/section\x3e',{variable:"data"})});
wZ.prototype.initialize=function(a){uZ.prototype.initialize.call(this);this.Rm=a.Rm;this.xp=a.xp;this.VK=a.VK;this.tL=a.tL;this.vL=a.vL;this.yL=a.yL;this.Fs=a.Fs;this.hh=a.hh};
wZ.prototype.render=function(){var a=moment(this.Fs).fromNow();this.$el.html(this.template({documentDimensions:this.VK.print(),enableDocumentResize:this.tL,enableMagicResize:this.vL,doctypeName:this.Rm,doctypeId:this.xp,magicResizeLabel:this.hh.RW(),changeDimensionsLabel:this.hh.format("editorFileMenuPaneChangeDimensions"),saveLabel:this.hh.save(),makeACopyLabel:this.hh.format("editorFileMenuPaneMakeACopy"),waitingForSaveTitle:this.hh.format("editorFileMenuPaneWaitingForSave"),showUpgradeCta:this.yL,
resizeUpgradePrompt:this.hh.t9(),learnMoreButtonLabel:this.hh.AN(),lastSavedLabel:this.hh.w4(a)}));return this};function xZ(){}
xZ=uZ.extend({className:"dropdownPane documentResizePane",template:_.template('\x3csection class\x3d"scrollParent"\x3e\x3cdiv class\x3d"scrollContent"\x3e\x3cul class\x3d"menuActionsList"\x3e\x3cli\x3e\x3cbutton class\x3d"button customDimensionsPaneButton"\x3e\x3c%- data.useCustomDimensions %\x3e\x3c/button\x3e\x3c/li\x3e\x3c/ul\x3e\x3c% if (data.fetchFailed) { %\x3e\x3cdiv class\x3d"notification error message"\x3e\x3c%- data.couldNotBeLoaded %\x3e\x3cbr\x3e\x3cbutton class\x3d"button retry"\x3e\x3c%- data.tryLoadingAgain %\x3e\x3c/button\x3e\x3c/div\x3e\x3c% } else if (Object.keys(data.documentTypes).length \x3d\x3d\x3d 0) { %\x3e\x3cp class\x3d"documentTypeLoading"\x3e\x3c%- data.fetchingDesignTypes %\x3e\x3c/p\x3e\x3c% } else { %\x3e\x3c% for (var sectionName in data.documentTypes) { %\x3e\x3ch4\x3e\x3c%- sectionName %\x3e\x3c/h4\x3e\x3cul class\x3d"menuActionsList"\x3e\x3c% data.documentTypes[sectionName].forEach(function (documentType) { %\x3e\x3cli\x3e\x3cbutton class\x3d"button documentResizeButton" value\x3d"\x3c%- documentType.id %\x3e"\x3e\x3c%- documentType.displayName %\x3e \x3cspan class\x3d"documentTypeDimensions menuOptionsListSubLabel"\x3e\x3c%- documentType.displayDimensions %\x3e\x3c/span\x3e\x3c/button\x3e\x3c/li\x3e\x3c% }); %\x3e\x3c/ul\x3e\x3c% } %\x3e\x3c% } %\x3e\x3c/div\x3e\x3c/section\x3e',{variable:"data"})});
xZ.prototype.initialize=function(a){uZ.prototype.initialize.call(this);this.lz={};this.Vk=a.Vk;this.es=!1;this.bl=a.bl};xZ.prototype.render=function(){this.$el.html(this.template({documentTypes:this.lz,fetchFailed:this.es,useCustomDimensions:this.bl.kaa(),couldNotBeLoaded:this.bl.kK(),tryLoadingAgain:this.bl.uR(),fetchingDesignTypes:this.bl.ML()}));if("custom"!==this.Vk)for(var a=this.$(".documentResizeButton"),b=0;b<a.length;b++)if(a[b].value===this.Vk){a.eq(b).addClass("selected");break}return this};
xZ.prototype.yQ=function(a){this.es=!1;this.lz=a};xZ.prototype.zQ=function(){this.es=!0};function yZ(){}yZ=uZ.extend({className:"dropdownPane customDimensionsPane"});f=yZ.prototype;f.initialize=function(a){uZ.prototype.initialize.call(this);this.FK=a.FK;this.CK=a.CK;this.Nm=a.Nm;this.EK=a.EK;this.on("show",this.G3)};
f.render=function(){var a=this;this.$el.html(this.template({defaultWidth:this.FK,defaultHeight:this.CK,actionResize:this.Nm.T0(),times:this.Nm.times(),pixelsUnit:this.Nm.x8(),dimOptions:["PIXELS","INCHES","CENTIMETERS","MILLIMETERS"].map(function(b){return{value:b,selected:b===a.EK,name:Hv(b)}})}));return this};f.G3=function(){var a=this;this.$el.one("transitionend",function(){a.$(".customDimensionsWidth").focus()})};
f.lf=function(a){var b=this.$(".customDimensions__error");b.text(a);b.addClass("customDimensions__error--visible");this.trigger("resize")};f.lg=function(){this.$(".customDimensions__error").removeClass("customDimensions__error--visible")};f.template=_.template('\x3cfieldset\x3e\x3cinput class\x3d"customDimensionsWidth textInput" type\x3d"number" value\x3d"\x3c%- defaultWidth %\x3e"\x3e \x3c%- times %\x3e \x3cinput class\x3d"customDimensionsHeight textInput" type\x3d"number" value\x3d"\x3c%- defaultHeight %\x3e"\x3e\x3cspan class\x3d"select"\x3e\x3cselect class\x3d"customDimensionsUnits"\x3e\x3c% for (var i \x3d 0; i \x3c dimOptions.length; ++i) { %\x3e\x3coption value\x3d"\x3c%- dimOptions[i].value %\x3e" \x3c% if (dimOptions[i].selected) { %\x3e selected \x3c% } %\x3e \x3e\x3c%- dimOptions[i].name %\x3e\x3c/option\x3e\x3c% } %\x3e\x3c/select\x3e\x3cspan\x3e\x3c/fieldset\x3e\x3cdiv class\x3d"customDimensions__error feedback feedback--warning"\x3e\x3c/div\x3e\x3cfieldset\x3e\x3cbutton class\x3d"button buttonBlock customDimensionsResizeButton"\x3e\x3c%- actionResize %\x3e\x3c/button\x3e\x3c/fieldset\x3e');function GZ(a,b,c){this.dn=a;this.Oo=b;this.Gm=c}var HZ=[];function IZ(a,b){if("INCHES"==a)throw Error('Cannot define measurement unit conversion from "INCHES" to itself');if(0==b)throw Error("Cannot define measurement unit conversion with conversionFactor \x3d 0");var c=new GZ("INCHES",a,b);a=new GZ(a,"INCHES",1/b);b=[c,a];JZ(c,b,1);JZ(a,b,0);Array.prototype.push.apply(HZ,b)}
function CZ(a,b){if("PIXELS"==b)return a;for(var c=0;c<HZ.length;c++){var d=HZ[c];if("PIXELS"==d.dn&&d.Oo==b)return d.Gm*a}throw Error('Unknown measurement unit conversion from "PIXELS" to "'+b+'"');}
function JZ(a,b,c){var d,e,g;for(e=0;e<HZ.length;e++){var h=HZ[e];if(h.dn==a.Oo){if(d=new GZ(a.dn,h.Oo,a.Gm*h.Gm),b.push(d),0!=c)for(g=0;g<HZ.length;g++)h=HZ[g],d.dn==h.Oo&&b.push(new GZ(d.Oo,h.dn,1/(h.Gm*d.Gm)))}else if(h.Oo==a.dn&&(d=new GZ(h.dn,a.Oo,h.Gm*a.Gm),b.push(d),0!=c))for(g=0;g<HZ.length;g++)h=HZ[g],d.Oo==h.dn&&b.push(new GZ(d.dn,h.Oo,d.Gm*h.Gm))}}IZ("MILLIMETERS",25.4);IZ("PIXELS",96);IZ("CENTIMETERS",2.54);function zZ(){}
zZ=uZ.extend({className:"dropdownPane magicResizePane",template:_.template('\x3cheader\x3e\x3ch3\x3e\x3c%- data.copyAndResize %\x3e\x3c/h3\x3e\x3c/header\x3e\x3csection class\x3d"scrollParent"\x3e\x3cdiv class\x3d"scrollContent"\x3e\x3c% if (data.fetchFailed) { %\x3e\x3cdiv class\x3d"notification error message"\x3e\x3c%- data.couldNotBeLoaded %\x3e.\x3cbr\x3e\x3cbutton class\x3d"button retry"\x3e\x3c%- data.tryLoadingAgain %\x3e\x3c/button\x3e\x3c/div\x3e\x3c% } else if (Object.keys(data.documentTypes).length \x3d\x3d\x3d 0) { %\x3e\x3cp class\x3d"documentTypeLoading"\x3e\x3c%- data.fetchingDesignTypes %\x3e\x3c/p\x3e\x3c% } else { %\x3e\x3c% for (var sectionName in data.documentTypes) { %\x3e\x3ch4\x3e\x3c%- sectionName %\x3e\x3c/h4\x3e\x3cul class\x3d"menuOptionsList"\x3e\x3c% data.documentTypes[sectionName].forEach(function (documentType) { %\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox" value\x3d"\x3c%- documentType.id %\x3e"\x3e \x3c%- documentType.displayName %\x3e \x3c% if (documentType.id \x3d\x3d data.currentDocumentTypeId) { %\x3e\x3cspan class\x3d"documentTypeCurrentDesign menuOptionsListSubLabel"\x3e\x3c%- data.currentDesignSize %\x3e\x3c/span\x3e\x3c% } else { %\x3e\x3cspan class\x3d"documentTypeDimensions menuOptionsListSubLabel"\x3e\x3c%- documentType.displayDimensions %\x3e\x3c/span\x3e\x3c% } %\x3e\x3c/label\x3e\x3c% }); %\x3e\x3c/ul\x3e\x3c% } %\x3e\x3c% } %\x3e\x3c/div\x3e\x3c/section\x3e\x3cfooter\x3e\x3cbutton class\x3d"button magicResizeButton disabled" disabled\x3e\x3cimg class\x3d"iconWand" src\x3d"https://static.canva.com/static/images/icon_wand.svg" alt\x3d"Magic wand" /\x3e\x3cimg class\x3d"iconWand black" src\x3d"https://static.canva.com/static/images/icon_wand_black.svg" alt\x3d"Magic wand" /\x3e \x3c%- data.abracadabraResize %\x3e\x3c/button\x3e\x3c/footer\x3e',{variable:"data"}),
C8:_.template('\x3cp class\x3d"errorMessage"\x3e\x3cstrong\x3e\x3c%- data.ohSnap %\x3e\x3c/strong\x3e \x3c%- data.multipleTabs %\x3e\x3c/p\x3e',{variable:"data"})});f=zZ.prototype;f.initialize=function(a){uZ.prototype.initialize.call(this);this.Vk=a.Vk;this.lz={};this.es=!1;this.th=a.th};
f.render=function(){this.$el.html(this.template({documentTypes:this.lz,currentDocumentTypeId:this.Vk,fetchFailed:this.es,copyAndResize:this.th.o2(),couldNotBeLoaded:this.th.kK(),tryLoadingAgain:this.th.uR(),fetchingDesignTypes:this.th.ML(),currentDesignSize:this.th.A2(),abracadabraResize:this.th.P0()}));this.$('input:not([value\x3d"'+this.Vk+'"])').slice(0,3).prop("checked",!0);this.$('input[value\x3d"'+this.Vk+'"]').prop("disabled",!0).parent("label").addClass("menuOptionsListDisabled");return this};
f.yQ=function(a){this.es=!1;this.lz=a};f.zQ=function(){this.es=!0};f.PQ=function(){this.$("footer").prepend(this.C8({ohSnap:this.th.d5(),multipleTabs:this.th.Y4()}))};function KZ(a){soy.asserts.assertType(a.message instanceof soydata.SanitizedHtml||a.message instanceof soydata.UnsanitizedText||goog.isString(a.message),"message",a.message,"soydata.SanitizedHtml");var b=a.message;soy.asserts.assertType(goog.isString(a.bp)||a.bp instanceof goog.soy.data.SanitizedContent,"alertClass",a.bp,"string|goog.soy.data.SanitizedContent");var c=a.bp;soy.asserts.assertType(a.Bn instanceof soydata.SanitizedHtml||a.Bn instanceof soydata.UnsanitizedText||goog.isString(a.Bn),"iconHtml",
a.Bn,"soydata.SanitizedHtml");var d=a.Bn;soy.asserts.assertType(null==a.Tc||goog.isBoolean(a.Tc)||1===a.Tc||0===a.Tc,"showDismiss",a.Tc,"boolean|null|undefined");var e=a.Tc;soy.asserts.assertType(null==a.title||a.title instanceof soydata.SanitizedHtml||a.title instanceof soydata.UnsanitizedText||goog.isString(a.title),"title",a.title,"?soydata.SanitizedHtml|string|undefined");var g=a.title;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",
a.v,"null|string|undefined");var h=a.v;soy.asserts.assertType(null==a.global||goog.isBoolean(a.global)||1===a.global||0===a.global,"global",a.global,"boolean|null|undefined");var k=a.global;soy.asserts.assertType(null==a.xb||goog.isBoolean(a.xb)||1===a.xb||0===a.xb,"withIcon",a.xb,"boolean|null|undefined");var l=a.xb;soy.asserts.assertType(null==a.small||goog.isBoolean(a.small)||1===a.small||0===a.small,"small",a.small,"boolean|null|undefined");a=a.small;l=null==l?!0:l;b=""+('\x3cdiv class\x3d"feedbackAlert '+
soy.$$escapeHtmlAttribute(c)+(k?" feedbackAlert--global":"")+(l?" feedbackAlert--withIcon":"")+(e?" feedbackAlert--dismissible":"")+(a?" feedbackAlert--small":"")+(h?" "+soy.$$escapeHtmlAttribute(h):"")+'"\x3e\x3cdiv class\x3d"feedbackAlert__message"\x3e\x3cdiv class\x3d"feedbackAlert__iconContainer"\x3e'+(l?soy.$$escapeHtml(d):"")+"\x3c/div\x3e"+(g?'\x3cstrong class\x3d"feedbackAlert__title"\x3e'+soy.$$escapeHtml(g)+"\x3c/strong\x3e ":"")+'\x3cdiv class\x3d"feedbackAlert__messageBody"\x3e'+soy.$$escapeHtml(b)+
"\x3c/div\x3e\x3c/div\x3e"+(e?'\x3cbutton type\x3d"button" class\x3d"feedbackAlert__closeButton"\x3e'+soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"24" height\x3d"24" viewBox\x3d"0 0 24 24"\x3e\x3cpolygon points\x3d"19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12"/\x3e\x3c/svg\x3e')+"\x3c/button\x3e":"")+"\x3c/div\x3e");return soydata.VERY_UNSAFE.ordainSanitizedHtml(b)}
function LZ(a){soy.asserts.assertType(a.message instanceof soydata.SanitizedHtml||a.message instanceof soydata.UnsanitizedText||goog.isString(a.message),"message",a.message,"soydata.SanitizedHtml");soy.asserts.assertType(null==a.title||a.title instanceof soydata.SanitizedHtml||a.title instanceof soydata.UnsanitizedText||goog.isString(a.title),"title",a.title,"?soydata.SanitizedHtml|string|undefined");soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),
"classes",a.v,"null|string|undefined");soy.asserts.assertType(null==a.Tc||goog.isBoolean(a.Tc)||1===a.Tc||0===a.Tc,"showDismiss",a.Tc,"boolean|null|undefined");soy.asserts.assertType(null==a.global||goog.isBoolean(a.global)||1===a.global||0===a.global,"global",a.global,"boolean|null|undefined");soy.asserts.assertType(null==a.xb||goog.isBoolean(a.xb)||1===a.xb||0===a.xb,"withIcon",a.xb,"boolean|null|undefined");soy.asserts.assertType(null==a.small||goog.isBoolean(a.small)||1===a.small||0===a.small,
"small",a.small,"boolean|null|undefined");return soydata.VERY_UNSAFE.ordainSanitizedHtml(KZ(soy.$$assignDefaults({bp:"feedbackAlert--success",Bn:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+MZ())},a)))}
function NZ(a){soy.asserts.assertType(a.message instanceof soydata.SanitizedHtml||a.message instanceof soydata.UnsanitizedText||goog.isString(a.message),"message",a.message,"soydata.SanitizedHtml");soy.asserts.assertType(null==a.title||a.title instanceof soydata.SanitizedHtml||a.title instanceof soydata.UnsanitizedText||goog.isString(a.title),"title",a.title,"?soydata.SanitizedHtml|string|undefined");soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),
"classes",a.v,"null|string|undefined");soy.asserts.assertType(null==a.Tc||goog.isBoolean(a.Tc)||1===a.Tc||0===a.Tc,"showDismiss",a.Tc,"boolean|null|undefined");soy.asserts.assertType(null==a.global||goog.isBoolean(a.global)||1===a.global||0===a.global,"global",a.global,"boolean|null|undefined");soy.asserts.assertType(null==a.xb||goog.isBoolean(a.xb)||1===a.xb||0===a.xb,"withIcon",a.xb,"boolean|null|undefined");soy.asserts.assertType(null==a.small||goog.isBoolean(a.small)||1===a.small||0===a.small,
"small",a.small,"boolean|null|undefined");return soydata.VERY_UNSAFE.ordainSanitizedHtml(KZ(soy.$$assignDefaults({bp:"feedbackAlert--info",Bn:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+OZ())},a)))}
function PZ(a){soy.asserts.assertType(a.message instanceof soydata.SanitizedHtml||a.message instanceof soydata.UnsanitizedText||goog.isString(a.message),"message",a.message,"soydata.SanitizedHtml");soy.asserts.assertType(null==a.title||a.title instanceof soydata.SanitizedHtml||a.title instanceof soydata.UnsanitizedText||goog.isString(a.title),"title",a.title,"?soydata.SanitizedHtml|string|undefined");soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),
"classes",a.v,"null|string|undefined");soy.asserts.assertType(null==a.Tc||goog.isBoolean(a.Tc)||1===a.Tc||0===a.Tc,"showDismiss",a.Tc,"boolean|null|undefined");soy.asserts.assertType(null==a.global||goog.isBoolean(a.global)||1===a.global||0===a.global,"global",a.global,"boolean|null|undefined");soy.asserts.assertType(null==a.xb||goog.isBoolean(a.xb)||1===a.xb||0===a.xb,"withIcon",a.xb,"boolean|null|undefined");soy.asserts.assertType(null==a.small||goog.isBoolean(a.small)||1===a.small||0===a.small,
"small",a.small,"boolean|null|undefined");return soydata.VERY_UNSAFE.ordainSanitizedHtml(KZ(soy.$$assignDefaults({bp:"feedbackAlert--warning",Bn:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+QZ())},a)))}
function RZ(a){soy.asserts.assertType(a.message instanceof soydata.SanitizedHtml||a.message instanceof soydata.UnsanitizedText||goog.isString(a.message),"message",a.message,"soydata.SanitizedHtml");soy.asserts.assertType(null==a.title||a.title instanceof soydata.SanitizedHtml||a.title instanceof soydata.UnsanitizedText||goog.isString(a.title),"title",a.title,"?soydata.SanitizedHtml|string|undefined");soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),
"classes",a.v,"null|string|undefined");soy.asserts.assertType(null==a.Tc||goog.isBoolean(a.Tc)||1===a.Tc||0===a.Tc,"showDismiss",a.Tc,"boolean|null|undefined");soy.asserts.assertType(null==a.global||goog.isBoolean(a.global)||1===a.global||0===a.global,"global",a.global,"boolean|null|undefined");soy.asserts.assertType(null==a.xb||goog.isBoolean(a.xb)||1===a.xb||0===a.xb,"withIcon",a.xb,"boolean|null|undefined");soy.asserts.assertType(null==a.small||goog.isBoolean(a.small)||1===a.small||0===a.small,
"small",a.small,"boolean|null|undefined");return soydata.VERY_UNSAFE.ordainSanitizedHtml(KZ(soy.$$assignDefaults({bp:"feedbackAlert--danger",Bn:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+QZ())},a)))}
function OZ(){return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg class\x3d"feedbackAlert__icon" xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 24 24"\x3e\x3cpath d\x3d"M12,2 C17.52,2 22,6.48 22,12 C22,17.52 17.52,22 12,22 C6.48,22 2,17.52 2,12 C2,6.48 6.48,2 12,2 Z M12,3.33333333 C7.21637967,3.33333333 3.33333333,7.21637967 3.33333333,12 C3.33333333,16.7836203 7.21637967,20.6666667 12,20.6666667 C16.7836203,20.6666667 20.6666667,16.7836203 20.6666667,12 C20.6666667,7.21637967 16.7836203,3.33333333 12,3.33333333 Z M13,17 L11,17 L11,11 L13,11 L13,17 Z M13,9 L11,9 L11,7 L13,7 L13,9 Z"/\x3e\x3c/svg\x3e')}
goog.DEBUG&&(OZ.JZ="FeedbackTemplates.infoIcon");
function MZ(){return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg class\x3d"feedbackAlert__icon" xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 24 24"\x3e\x3cpath d\x3d"M10,0 C15.52,0 20,4.48 20,10 C20,15.52 15.52,20 10,20 C4.48,20 0,15.52 0,10 C0,4.48 4.48,0 10,0 Z M10,1.33333333 C5.21637967,1.33333333 1.33333333,5.21637967 1.33333333,10 C1.33333333,14.7836203 5.21637967,18.6666667 10,18.6666667 C14.7836203,18.6666667 18.6666667,14.7836203 18.6666667,10 C18.6666667,5.21637967 14.7836203,1.33333333 10,1.33333333 Z M6,10 L5,11 L8,14 L15,7 L14,6 L8,12 L6,10 Z" transform\x3d"translate(2,2)"/\x3e\x3c/svg\x3e')}
goog.DEBUG&&(MZ.JZ="FeedbackTemplates.successIcon");
function QZ(){return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg class\x3d"feedbackAlert__icon" xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 24 24"\x3e\x3cpath d\x3d"M12,2 C17.52,2 22,6.48 22,12 C22,17.52 17.52,22 12,22 C6.48,22 2,17.52 2,12 C2,6.48 6.48,2 12,2 Z M12,3.33333333 C7.21637967,3.33333333 3.33333333,7.21637967 3.33333333,12 C3.33333333,16.7836203 7.21637967,20.6666667 12,20.6666667 C16.7836203,20.6666667 20.6666667,16.7836203 20.6666667,12 C20.6666667,7.21637967 16.7836203,3.33333333 12,3.33333333 Z M13,17 L11,17 L11,11 L13,11 L13,17 Z M13,9 L11,9 L11,7 L13,7 L13,9 Z" transform\x3d"rotate(180 12 12)"/\x3e\x3c/svg\x3e')}
goog.DEBUG&&(QZ.JZ="FeedbackTemplates.warningIcon");function SZ(a,b){this.$el=a;this.Lh=b}r(SZ,gc);function TZ(a){w(!(a.global^0),"$globalContainer is required for global alerts");var b=a.type.SM();a=KZ({bp:a.type.za,v:a.v,global:a.global,Bn:b,message:a.message,Tc:a.Tc,small:a.small,title:a.title,xb:a.xb});return UZ($(a.toString()),void 0)}
function UZ(a,b){w(a.hasClass("feedbackAlert"),'$el must have "feedbackAlert" in its classList');w(!a.hasClass("feedbackAlert--global")||!!b,"$globalContainer must only be used with global alerts");return new SZ(a,b)}
SZ.prototype.Me=function(){this.Lh&&(Fa(!this.Lh.hasClass("globalFeedbackAlertContainer"),"the global container already has a global alert"),this.Lh.data("gcpt",this.Lh.get(0).style["padding-top"]),this.Lh.css("padding-top",parseFloat(this.Lh.css("padding-top"))+this.$el.outerHeight()),this.Lh.addClass("globalFeedbackAlertContainer"))};
SZ.prototype.remove=function(){if(this.Lh){this.Lh.removeClass("globalFeedbackAlertContainer");this.Lh.css("padding-top","");var a=parseFloat(this.Lh.data("gcpt"));a&&this.Lh.css("padding-top",a);this.Lh.removeData("gcpt")}gc.prototype.remove.call(this)};var VZ={za:"feedbackAlert--info",SM:OZ},WZ={za:"feedbackAlert--warning",SM:QZ},XZ={za:"feedbackAlert--danger",SM:QZ};function YZ(a,b,c){var d=this;this.Ph=a.Ph;this.j=a.j;this.d4=b;c.on(ZZ,function(a){return d.onMessage(a)});c.on($Z,function(){return c.hide()})}
function a_(a){var b=b_(a.pb,a.S2),c=$,d;soy.asserts.assertType(goog.isString(a.Ph)||a.Ph instanceof goog.soy.data.SanitizedContent,"animatorUrl",a.Ph,"string|goog.soy.data.SanitizedContent");d=soydata.VERY_UNSAFE.ordainSanitizedHtml(c_({content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks('\x3ciframe src\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(a.Ph))+'" class\x3d"animatorFrame" scrolling\x3d"no" frameborder\x3d"0" marginheight\x3d"0" marginwidth\x3d"0" /\x3e')}));c=
c(d.toString());d=new d_(c,$(document));c=new e_(c,d);return{Db:new YZ(a,b,c),view:c}}function b_(a,b){return P.resolve($.get(XV(a,"render",b))).then(function(a){return a.toString()})}
YZ.prototype.onMessage=function(a){if(a.origin===this.Ph&&"string"===typeof a.data.type)switch(a.data.type){case f_:g_(this,a);break;case h_:a=La(a.data.event);a=new i_({location:C("location",a),type:C("type",a)});"error"===a.location?this.j.track("animator_error",{section:"editor",subsection:"animator",type:a.type}):Ml(this.j,a.type,"editor","animator",a.location);break;default:throw Error("unknown message type: "+a.data.type);}};
function g_(a,b){a.d4.then(function(a){return new j_(a)}).catch(k_).then(function(a){return b.source.postMessage({type:"ANIMATE_DESIGN",html:I("html",a.html)},b.origin)})}var f_="ANIMATOR_LOADED",h_="TRACKING";function j_(a){this.html=a}function k_(){return new j_(null)}function i_(a){this.location=a.location;this.type=a.type};function e_(a,b){var c=this;hc.call(this,a);this.Sr=b;this.onMessage=this.onMessage.bind(this);b.on(l_,function(){return c.trigger($Z)});window.addEventListener("message",this.onMessage)}r(e_,hc);e_.prototype.show=function(){this.Sr.show()};e_.prototype.hide=function(){var a=this;this.Sr.hide().then(function(){a.remove()})};e_.prototype.onMessage=function(a){this.trigger(ZZ,a)};e_.prototype.remove=function(){hc.prototype.remove.call(this);window.removeEventListener("message",this.onMessage)};
var $Z="CLOSE",ZZ="MESSAGE";function m_(a){a=a||{};return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"fileTypesDialog__icon"\x3e'+SX(a)+"\x3c/div\x3e")};function n_(a){kp.call(this,{H:a.H,title:a.av.title(),content:o_(a.av)})}r(n_,kp);
function o_(a){var b=$,c;c=a.BB();var d=a.y8(),e=a.GA(),g=a.u4(),h=a.r8(),k=soydata.VERY_UNSAFE.ordainSanitizedHtml(a.s8()),l=a.p8(),m=soydata.VERY_UNSAFE.ordainSanitizedHtml(a.q8());a=a.FM();soy.asserts.assertType(goog.isString(c)||c instanceof goog.soy.data.SanitizedContent,"png",c,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(d)||d instanceof goog.soy.data.SanitizedContent,"pngDescription",d,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(e)||
e instanceof goog.soy.data.SanitizedContent,"jpg",e,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(g)||g instanceof goog.soy.data.SanitizedContent,"jpgDescription",g,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(h)||h instanceof goog.soy.data.SanitizedContent,"pdfStandard",h,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(k instanceof soydata.SanitizedHtml||k instanceof soydata.UnsanitizedText||goog.isString(k),"pdfStandardDescription",
k,"soydata.SanitizedHtml");soy.asserts.assertType(goog.isString(l)||l instanceof goog.soy.data.SanitizedContent,"pdfPrint",l,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(m instanceof soydata.SanitizedHtml||m instanceof soydata.UnsanitizedText||goog.isString(m),"pdfPrintDescription",m,"soydata.SanitizedHtml");soy.asserts.assertType(goog.isString(a)||a instanceof goog.soy.data.SanitizedContent,"gotIt",a,"string|goog.soy.data.SanitizedContent");c=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csection\x3e\x3csection class\x3d"fileTypesDialog__typeSection"\x3e'+
m_({Ze:"PNG",color:"#3F6BD1"})+'\x3cp class\x3d"fileTypesDialog__description"\x3e\x3cstrong\x3e'+soy.$$escapeHtml(c)+"\x3c/strong\x3e "+soy.$$escapeHtml(d)+'\x3c/p\x3e\x3c/section\x3e\x3csection class\x3d"fileTypesDialog__typeSection"\x3e'+m_({Ze:"JPG",color:"#399BE6"})+'\x3cp class\x3d"fileTypesDialog__description"\x3e\x3cstrong\x3e'+soy.$$escapeHtml(e)+"\x3c/strong\x3e "+soy.$$escapeHtml(g)+'\x3c/p\x3e\x3c/section\x3e\x3csection class\x3d"fileTypesDialog__typeSection"\x3e'+m_({Ze:"PDF",color:"#00C4CC"})+
'\x3cp class\x3d"fileTypesDialog__description"\x3e\x3cstrong\x3e'+soy.$$escapeHtml(h)+"\x3c/strong\x3e "+soy.$$escapeHtml(k)+'\x3c/p\x3e\x3c/section\x3e\x3csection class\x3d"fileTypesDialog__typeSection"\x3e'+m_({Ze:"PDF",color:"#26B45A"})+'\x3cp class\x3d"fileTypesDialog__description"\x3e\x3cstrong\x3e'+soy.$$escapeHtml(l)+"\x3c/strong\x3e "+soy.$$escapeHtml(m)+'\x3c/p\x3e\x3c/section\x3e\x3cfooter class\x3d"fileTypesDialog__footer"\x3e\x3cbutton class\x3d"button close fileTypesDialog__gotItButton"\x3e'+
soy.$$escapeHtml(a)+"\x3c/button\x3e\x3c/footer\x3e\x3c/section\x3e");return b(c.toString())}n_.prototype.render=function(){kp.prototype.render.call(this);this.$(".dialog").addClass("fileTypesDialog");return this};function p_(a){kp.call(this,{H:a.H,content:q_(a.Zy),jf:!1})}r(p_,kp);
function q_(a){var b=$,c;c=a.title();var d=a.sg(),e=soydata.VERY_UNSAFE.ordainSanitizedHtml(a.z2()),g=soydata.VERY_UNSAFE.ordainSanitizedHtml(a.n1());a=a.FM();soy.asserts.assertType(goog.isString(c)||c instanceof goog.soy.data.SanitizedContent,"title",c,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(d)||d instanceof goog.soy.data.SanitizedContent,"subtitle",d,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(e instanceof soydata.SanitizedHtml||e instanceof
soydata.UnsanitizedText||goog.isString(e),"cropMarksDescription",e,"soydata.SanitizedHtml");soy.asserts.assertType(g instanceof soydata.SanitizedHtml||g instanceof soydata.UnsanitizedText||goog.isString(g),"bleedAreaDescription",g,"soydata.SanitizedHtml");soy.asserts.assertType(goog.isString(a)||a instanceof goog.soy.data.SanitizedContent,"gotIt",a,"string|goog.soy.data.SanitizedContent");c=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cimg class\x3d"cropAndBleedDialog__headerImage" src\x3d"https://static.canva.com/static/images/crop_and_bleed_dialog_header.png"\x3e\x3csection class\x3d"cropAndBleedDialog__content"\x3e\x3cheader class\x3d"cropAndBleedDialog__header"\x3e\x3ch2\x3e'+
soy.$$escapeHtml(c)+"\x3c/h2\x3e\x3cp\x3e"+soy.$$escapeHtml(d)+'\x3c/p\x3e\x3c/header\x3e\x3csection class\x3d"cropAndBleedDialog__section"\x3e\x3cdiv class\x3d"cropAndBleedDialog__icon"\x3e'+soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg width\x3d"64" height\x3d"64" viewBox\x3d"0 0 64 64" xmlns\x3d"http://www.w3.org/2000/svg" xmlns:xlink\x3d"http://www.w3.org/1999/xlink"\x3e\x3ctitle\x3eIcon\x3c/title\x3e\x3cdefs\x3e\x3crect id\x3d"path-1" width\x3d"64" height\x3d"64" rx\x3d"4"/\x3e\x3cpath id\x3d"path-3" d\x3d"M32 32h32v32H32z"/\x3e\x3cmask id\x3d"mask-4" x\x3d"-8" y\x3d"-8" width\x3d"48" height\x3d"48"\x3e\x3cpath fill\x3d"#fff" d\x3d"M24 24h48v48H24z"/\x3e\x3cuse xlink:href\x3d"#path-3"/\x3e\x3c/mask\x3e\x3c/defs\x3e\x3cg id\x3d"Page-1" fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3cg id\x3d"On-boarding-Dialog---Bleed" transform\x3d"translate(-444 -506)"\x3e\x3cg id\x3d"Message" transform\x3d"translate(404 162)"\x3e\x3cg id\x3d"Group" transform\x3d"translate(40 344)"\x3e\x3cg id\x3d"Icon"\x3e\x3cmask id\x3d"mask-2" fill\x3d"#fff"\x3e\x3cuse xlink:href\x3d"#path-1"/\x3e\x3c/mask\x3e\x3cuse id\x3d"Rectangle-214" fill\x3d"#EBECED" xlink:href\x3d"#path-1"/\x3e\x3cg id\x3d"Rectangle-214" mask\x3d"url(#mask-2)"\x3e\x3cuse fill\x3d"#F5F5F5" xlink:href\x3d"#path-3"/\x3e\x3cuse stroke\x3d"#D9D9D9" mask\x3d"url(#mask-4)" stroke-width\x3d"16" xlink:href\x3d"#path-3"/\x3e\x3c/g\x3e\x3cpath id\x3d"Rectangle-214" fill\x3d"#00C4CC" mask\x3d"url(#mask-2)" d\x3d"M32 4h2v16h-2z"/\x3e\x3cpath id\x3d"Rectangle-214" fill\x3d"#00C4CC" mask\x3d"url(#mask-2)" d\x3d"M4 32h16v2H4z"/\x3e\x3c/g\x3e\x3c/g\x3e\x3c/g\x3e\x3c/g\x3e\x3c/g\x3e\x3c/svg\x3e')+
'\x3c/div\x3e\x3cp class\x3d"cropAndBleedDialog__description"\x3e'+soy.$$escapeHtml(e)+'\x3c/p\x3e\x3c/section\x3e\x3csection class\x3d"cropAndBleedDialog__section"\x3e\x3cdiv class\x3d"cropAndBleedDialog__icon"\x3e'+soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg width\x3d"64" height\x3d"64" viewBox\x3d"0 0 64 64" xmlns\x3d"http://www.w3.org/2000/svg" xmlns:xlink\x3d"http://www.w3.org/1999/xlink"\x3e\x3cdefs\x3e\x3crect id\x3d"path-1" width\x3d"64" height\x3d"64" rx\x3d"4"/\x3e\x3c/defs\x3e\x3cg id\x3d"Page-1" fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3cg id\x3d"On-boarding-Dialog---Bleed" transform\x3d"translate(-444 -590)"\x3e\x3cg id\x3d"Message" transform\x3d"translate(404 162)"\x3e\x3cg id\x3d"Group" transform\x3d"translate(40 428)"\x3e\x3cg id\x3d"Icon"\x3e\x3cmask id\x3d"mask-2" fill\x3d"#fff"\x3e\x3cuse xlink:href\x3d"#path-1"/\x3e\x3c/mask\x3e\x3cuse id\x3d"Rectangle-214" fill\x3d"#EBECED" xlink:href\x3d"#path-1"/\x3e\x3cpath id\x3d"Rectangle-214" fill\x3d"#00C4CC" mask\x3d"url(#mask-2)" d\x3d"M24 24h40v40H24z"/\x3e\x3cpath id\x3d"Rectangle-214" fill\x3d"#F5F5F5" mask\x3d"url(#mask-2)" d\x3d"M32 32h32v32H32z"/\x3e\x3cpath id\x3d"Rectangle-214" fill\x3d"#D9D9D9" mask\x3d"url(#mask-2)" d\x3d"M32 4h2v16h-2z"/\x3e\x3cpath id\x3d"Rectangle-214" fill\x3d"#D9D9D9" mask\x3d"url(#mask-2)" d\x3d"M4 32h16v2H4z"/\x3e\x3c/g\x3e\x3c/g\x3e\x3c/g\x3e\x3c/g\x3e\x3c/g\x3e\x3c/svg\x3e')+
'\x3c/div\x3e\x3cp class\x3d"cropAndBleedDialog__description"\x3e'+soy.$$escapeHtml(g)+'\x3c/p\x3e\x3c/section\x3e\x3cfooter class\x3d"cropAndBleedDialog__footer"\x3e\x3cbutton class\x3d"button close cropAndBleedDialog__gotItButton"\x3e'+soy.$$escapeHtml(a)+"\x3c/button\x3e\x3c/footer\x3e\x3c/section\x3e");return b(c.toString())}p_.prototype.render=function(){kp.prototype.render.call(this);this.$(".dialog").addClass("cropAndBleedDialog");return this};function r_(a){this.j=a.j}function s_(a,b){a.track("download_page_range_change",{pageRange:b})}function t_(a,b){a.track("download_button_click",{filetype:b})}r_.prototype.PC=function(a){this.track("close",{type:a})};r_.prototype.track=function(a,b){this.j.track(a,_.extend(this.hM(),b))};r_.prototype.hM=function(){return{section:"editor",subsection:"download_menu",version:"2016-09"}};function u_(a){var b;b=b||{};soy.asserts.assertType(goog.isString(a.title)||a.title instanceof goog.soy.data.SanitizedContent,"title",a.title,"string|goog.soy.data.SanitizedContent");var c=a.title;soy.asserts.assertType(goog.isString(a.$u)||a.$u instanceof goog.soy.data.SanitizedContent,"fileTypeInfoLinkTitle",a.$u,"string|goog.soy.data.SanitizedContent");var d=a.$u;soy.asserts.assertType(goog.isString(a.fu)||a.fu instanceof goog.soy.data.SanitizedContent,"allPages",a.fu,"string|goog.soy.data.SanitizedContent");
var e=a.fu;soy.asserts.assertType(goog.isString(a.jH)||a.jH instanceof goog.soy.data.SanitizedContent,"pageRangePlaceholder",a.jH,"string|goog.soy.data.SanitizedContent");var g=a.jH;soy.asserts.assertType(goog.isString(a.Eu)||a.Eu instanceof goog.soy.data.SanitizedContent,"cropMarksAndBleed",a.Eu,"string|goog.soy.data.SanitizedContent");var h=a.Eu;soy.asserts.assertType(goog.isString(a.Sx)||a.Sx instanceof goog.soy.data.SanitizedContent,"transparentBackground",a.Sx,"string|goog.soy.data.SanitizedContent");
var k=a.Sx;soy.asserts.assertType(goog.isString(a.pG)||a.pG instanceof goog.soy.data.SanitizedContent,"learnMore",a.pG,"string|goog.soy.data.SanitizedContent");var l=a.pG;soy.asserts.assertType(goog.isString(a.download)||a.download instanceof goog.soy.data.SanitizedContent,"download",a.download,"string|goog.soy.data.SanitizedContent");var m=a.download;soy.asserts.assertType(goog.isNumber(a.od),"pageCount",a.od,"number");var n=a.od;soy.asserts.assertType(goog.isBoolean(a.jz)||1===a.jz||0===a.jz,"displayRemoveCanvasOption",
a.jz,"boolean");var p=!!a.jz;soy.asserts.assertType(goog.isBoolean(a.Io)||1===a.Io||0===a.Io,"showUpgradeCta",a.Io,"boolean");var q=!!a.Io;soy.asserts.assertType(goog.isString(a.hG)||a.hG instanceof goog.soy.data.SanitizedContent,"invalidPageRange",a.hG,"string|goog.soy.data.SanitizedContent");var u=a.hG,v=goog.asserts.assertArray(a.ne,"expected parameter 'exportOptions' of type list\x3c[disabled: null, selected: bool, text: string, value: string]\x3e.");soy.asserts.assertType(goog.isString(a.Du)||
a.Du instanceof goog.soy.data.SanitizedContent,"cropAndBleedInfoLinkTitle",a.Du,"string|goog.soy.data.SanitizedContent");var z=a.Du;soy.asserts.assertType(goog.isString(a.wp)||a.wp instanceof goog.soy.data.SanitizedContent,"defaultExportOption",a.wp,"string|goog.soy.data.SanitizedContent");var t=a.wp;soy.asserts.assertType(null==a.zr||a.zr instanceof goog.soy.data.SanitizedContent||goog.isString(a.zr),"animatorCtaText",a.zr,"null|string|undefined");a=a.zr;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cheader class\x3d"exportPopOver__header"\x3e\x3ch2 class\x3d"exportPopOver__title"\x3e'+
soy.$$escapeHtml(c)+'\x3c/h2\x3e\x3ca href\x3d"#" class\x3d"exportPopOver__infoLink" title\x3d"'+soy.$$escapeHtmlAttribute(d)+'"\x3e'+RX()+'\x3c/a\x3e\x3c/header\x3e\x3csection class\x3d"exportPopOver__container"\x3e\x3csection class\x3d"exportPopOver__option"\x3e'+v_({options:v,block:!0,v:"exportPopOver__fileTypeSelect"})+'\x3c/section\x3e\x3csection class\x3d"exportPopOver__settingsContainer exportPopOver__settingsContainer--expanded exportPopOver__settingsContainer--notransitions" data-export-type\x3d"'+
soy.$$escapeHtmlAttribute(t)+'" data-design-pages\x3d"'+soy.$$escapeHtmlAttribute(n)+'" style\x3d"'+(b.Yb?"/*"+b.Yb+"*/":"")+'height: 0"\x3e\x3csection class\x3d"exportPopOver__section exportPopOver__pageSettings"\x3e\x3clabel class\x3d"exportPopOver__option"\x3e\x3cinput type\x3d"radio" name\x3d"pageRangeOption" class\x3d"exportPopOver__allPagesOption" checked\x3e'+soy.$$escapeHtml(e)+'\x3c/label\x3e\x3cdiv class\x3d"exportPopOver__option exportPopOver__pageRangeOption"\x3e\x3cinput type\x3d"radio" name\x3d"pageRangeOption" class\x3d"exportPopOver__radio"\x3e\x3cinput type\x3d"text" class\x3d"textInput exportPopOver__input" placeholder\x3d"'+
soy.$$escapeHtmlAttribute(g)+'"\x3e\x3c/div\x3e\x3c/section\x3e\x3csection class\x3d"exportPopOver__section exportPopOver__option exportPopOver__printSettings"\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox" name\x3d"cropsAndBleed" class\x3d"exportPopOver__cropMarksAndBleedInput"\x3e'+soy.$$escapeHtml(h)+'\x3c/label\x3e\x3ca href\x3d"#" class\x3d"exportPopOver__questionMarkIcon exportPopOver__cropAndBleedQuestionIcon" title\x3d"'+soy.$$escapeHtmlAttribute(z)+'"\x3e'+soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg width\x3d"18" height\x3d"18" viewBox\x3d"0 0 18 18" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cg fill-rule\x3d"evenodd"\x3e\x3cpath d\x3d"M15.5 9a6.5 6.5 0 1 0-13 0 6.5 6.5 0 0 0 13 0zm-14 0a7.5 7.5 0 1 1 15 0 7.5 7.5 0 0 1-15 0z"/\x3e\x3cpath d\x3d"M9.75 12.75h-1.5v-1.5h1.5v1.5zm-1.5-2.25c0-.466.065-.948.178-1.224.113-.277.32-.549.622-.817.301-.268.502-.486.602-.654.1-.168.15-.346.15-.532 0-.563-.26-.844-.78-.844-.246 0-.443.075-.591.227-.149.151-.226.36-.233.627H6.75c.007-.636.212-1.134.617-1.494.404-.36.956-.539 1.655-.539.706 0 1.254.17 1.644.512.39.341.584.823.584 1.446 0 .283-.063.55-.19.801-.126.252-.348.53-.664.837l-.405.385c-.132.15-.241.301-.241.925v.344h-1.5z"/\x3e\x3c/g\x3e\x3c/svg\x3e')+
"\x3c/a\x3e\x3c/section\x3e"+(p||q?'\x3csection class\x3d"exportPopOver__section exportPopOver__option exportPopOver__pngSettings"\x3e\x3clabel class\x3d"exportPopOver__transparentBackgroundCheckbox '+(q?"disabled":"")+'"\x3e\x3cinput type\x3d"checkbox" name\x3d"removeCanvas" class\x3d"exportPopOver__transparentBackgroundCheckbox__input" '+(q?"disabled":"")+"\x3e"+soy.$$escapeHtml(k)+"\x3c/label\x3e"+(q?w_({tagName:"a",v:"exportPopOver__questionMarkIcon exportPopOver__transparentBackgroundLearnMoreButton",
small:!0,href:"#",text:l}):"")+"\x3c/section\x3e":"")+(a?'\x3csection class\x3d"exportPopOver__section exportPopOver__animatorCta"\x3e\x3cspan class\x3d"exportPopOver__animatorCtaText"\x3e'+soy.$$escapeHtml(a)+"\x3c/span\x3e"+w_({tagName:"a",v:"exportPopOver__animatorCtaLearnMoreButton",small:!0,href:"#",text:l})+"\x3c/section\x3e":"")+'\x3c/section\x3e\x3cdiv class\x3d"exportPopOver__pageRangeError"\x3e'+soy.$$escapeHtml(u)+'\x3c/div\x3e\x3c/section\x3e\x3cfooter\x3e\x3cbutton class\x3d"button buttonBlock buttonSubmittable exportPopOver__downloadButton"\x3e'+
soy.$$escapeHtml(m)+"\x3c/button\x3e\x3c/footer\x3e")};function x_(){}x_=Az.extend();
x_.prototype.events=function(){var a=Az.prototype.events.call(this);a["input .exportPopOver__pageRangeOption .exportPopOver__input"]=this.y6;a["change input[name\x3dpageRangeOption]"]=this.r5;a["focus .exportPopOver__pageRangeOption .exportPopOver__input"]=this.n6;a["blur .exportPopOver__pageRangeOption .exportPopOver__input"]=this.g5;a["change .exportPopOver__pageRangeOption .exportPopOver__input"]=this.q5;a["change .exportPopOver__fileTypeSelect \x3e select"]=this.n5;a["click .exportPopOver__downloadButton"]=
this.E5;a["click .exportPopOver__transparentBackgroundLearnMoreButton"]=this.V5;a["click .exportPopOver__animatorCtaLearnMoreButton"]=this.u5;a["change .exportPopOver__transparentBackgroundCheckbox__input"]=this.s5;a["click .exportPopOver__cropAndBleedQuestionIcon"]=this.y5;a["change .exportPopOver__cropMarksAndBleedInput"]=this.l5;a["click .exportPopOver__header .exportPopOver__infoLink"]=this.I5;return a};x_.pS=new Ff("gf",!1);x_.qS=new Ff("gg",!1);x_.s0=new Ff("nr",!1);f=x_.prototype;
f.initialize=function(a){this.W=a.W;this.model=a.model;this.he=a.he;this.Nl=a.Nl;this.Wc=a.Wc;this.ua=a.ua;this.dc=a.dc;this.fb=a.fb;this.aa=a.aa;this.Z=a.Z;this.xd=a.xd;this.ub=a.ub;this.cc=a.cc;this.pd=a.pd;this.Ka=a.Ka;this.j=a.j;this.Ib=a.Ib;this.H=a.H;var b=this.i=a.i;b.Sb||(b.Sb=new Ge(b.config));this.Sb=b.Sb;this.Xb=a.Xb;this.Nj=a.Nj;this.Fd=a.Fd;this.Ph=a.Ph;this.G=a.G;this.yc=a.yc;this.vd=a.vd;this.HX=!0;this.sj=a.sj;this.Na=a.Na;this.ne=[{value:y_,text:this.Sb.GA()},{value:z_,text:this.Sb.BB()},
{value:A_,text:this.Sb.format("exportPopOverStandardPdf")},{value:B_,text:this.Sb.format("exportPopOverPrintPdf")}];this.G.get(x_.qS)&&this.G.get(x_.pS)&&a.Ph&&this.ne.push({value:C_,text:this.Sb.format("exportPopOverAnimation")});var c,b=this.model.lb().tE;c=z_;"IMAGE"===b?(b=this.model.lb().aq,c="JPG"===b.Ze?y_:z_):"PDF"===b&&(b=this.model.lb().Xs,c=96>=b.Vc?A_:B_);this.rY=this.wp=c;a=_.defaults(a,{We:"",Of:{top:-4},content:$(u_({title:this.Sb.Ze(),$u:this.Sb.$u(),fu:this.Sb.fu(),jH:this.Sb.format("exportPopOverInRangePagesPlaceholder"),
Eu:this.Sb.Eu(),Sx:this.Sb.Sx(),pG:this.Sb.format("exportPopOverLearnMoreButton"),download:this.Sb.download(),od:this.model.jc(),jz:this.W.G.get(Vf),Io:!this.W.G.get(Vf)&&this.W.G.get(Xf),hG:this.Sb.format("exportPopOverInvalidPageRangeInput"),ne:D_(this),Du:this.Sb.Du(),wp:this.wp,zr:!this.G.get(x_.qS)&&this.G.get(x_.s0)?this.Sb.zr():void 0}).toString())});Az.prototype.initialize.call(this,a)};
f.render=function(){function a(){bq(this.model)||(this.$el.removeClass("exportPopOver--disabled"),this.$(".exportPopOver__downloadButton").prop("disabled",!1),this.$(".exportPopOver__message").remove(),this.stopListening(this.model,"change",a))}Az.prototype.render.call(this);this.$(".dialog \x3e h2").remove();this.$(".buttonContainer").remove();this.$(".dialog").addClass("exportPopOver");il(function(){E_(this,this.$(".exportPopOver__settingsContainer"))}.bind(this));var b="";this.model.isEmpty()?
b=this.Sb.format("exportPopOverEmptyDesignError"):bq(this.model)?(b=this.Sb.format("exportPopOverDownloadsInProgressError"),this.listenTo(this.model,"change",a)):(F_(this),G_(this),H_(this));b&&(TZ({type:WZ,v:"exportPopOver__message",message:b,xb:!1}).$el.appendTo(this.$(".exportPopOver__header")),this.$el.addClass("exportPopOver--disabled"),this.$(".exportPopOver__downloadButton").prop("disabled",!0));return this};
function F_(a){a.$(".exportPopOver__warning").remove();a.$(".exportPopOver__downloadButton").prop("disabled",!1)}f.cancel=_.debounce(function(){Az.prototype.cancel.call(this);this.Nj.PC("pressed_esc")},10,!0);f.blur=function(a){Az.prototype.blur.call(this,a);this.Nj.PC("clicked_mask")};
function I_(a){y(a.Ph);var b=a.$(".exportPopOver__downloadButton"),c=a_({pb:a.Ib.hc(),S2:qu(a.Ib),j:a.j,Ph:a.Ph}).view;b.addClass("submitting");J_(a.Fd).finally(function(){c.$el.appendTo("body");c.show();this.ok();b.removeClass("submitting")}.bind(a))}
function K_(a){function b(){this.$el.removeClass("exportPopOver--withPageRangeError")}var c,d;c=a.$(".exportPopOver__pageRangeOption .exportPopOver__input");d=c.val().trim();if(""===d||x_.HS.test(d))return b.call(a),c.removeClass("exportPopOver__input--withError"),!0;d=a.$(".exportPopOver__pageRangeError");a.$el.addClass("exportPopOver--withPageRangeError");c.addClass("exportPopOver__input--withError");d.css("top",c.position().top-c.outerHeight()-6+"px");c.one("blur",b.bind(a));return!1}
f.E5=function(a){a.preventDefault();if(!this.$(".exportPopOver__pageRangeOption .exportPopOver__radio").prop("checked")||K_(this)){this.$(".exportPopOver__cropMarksAndBleedInput").not(":visible").prop("checked",!1);this.$(".exportPopOver__transparentBackgroundCheckbox__input").not(":visible").prop("checked",!1);var b=L_(this);a={pW:b===B_};if(b===C_)I_(this),t_(this.Nj,b);else{var c;var d=this.$(".exportPopOver__pageRangeOption .exportPopOver__input").val();c=Rp(this.model).length;if(x_.HS.test(d)){for(var e=
[],d=d.split(","),g=0;g<d.length;g++){var h=d[g].split("-"),k=parseInt(h[0],10);if(!isNaN(k)){var l=k=Math.max(1,Math.min(k,c));1<h.length&&(l=parseInt(h[1],10),l=isNaN(l)?c:Math.max(1,Math.min(l,c)));var h=k,m=l;m<h&&(h=l,m=k);for(k=0;e[k]<h;)k++;for(;h<=m;)e[k]!==h&&e.splice(k,0,h),k++,h++}}c=e}else c=_.range(1,c+1);e=!!this.$(".exportPopOver__cropMarksAndBleedInput").prop("checked");d=b!=y_?!!this.$(".exportPopOver__transparentBackgroundCheckbox \x3e input").prop("checked"):!1;k=this.model.lb();
g=k.aq;l=k.Xs;k=null;switch(b){case y_:b="JPG";l=g&&g.Vc||96;k=g&&g.nq||k;break;case z_:b="PNG";l=g&&g.Vc||96;break;case A_:b="PDF";l=Math.min(l&&l.Vc||96,96);break;case B_:b="PDF";l=l&&l.Vc||96;96>=l&&(l=300);break;default:throw Error("Unknown export option",b);}b={format:b,O:c,Or:e,qu:e,it:d,Nx:k,Is:l};M_({he:this.he,Nl:this.Nl,i:this.i,ua:this.ua,dc:this.dc,fb:this.fb,aa:this.aa,Z:this.Z,xd:this.xd,cc:this.cc,ub:this.ub,pd:this.pd,Ka:this.Ka,j:this.j,document:this.model,Ib:this.Ib,H:this.H,Xb:this.Xb,
ne:b,Fd:this.Fd,G:this.G,W:this.W,gu:a,yc:this.yc,vd:this.vd,Na:this.Na}).start();this.ok();t_(this.Nj,b.format)}}};function N_(a,b){b.val().trim().length&&s_(a.Nj,b.val().toString())}
f.n5=function(a){var b;b=$(a.currentTarget).val().toString();a=this.$(".exportPopOver__settingsContainer");a.attr("data-export-type",b);F_(this);G_(this);H_(this);if(L_(this)===C_){var c;this.sj.kt?10<this.model.jc()&&(c=this.Sb.Ia("exportPopOverAnimationPageLimitWarningHtml")):c=this.Sb.Ia("exportPopOverAnimationRendererErrorHtml");c?(TZ({message:c,type:XZ,xb:!1,v:"exportPopOver__warning"}).$el.prependTo(this.$(".exportPopOver__settingsContainer")),this.$(".exportPopOver__downloadButton").prop("disabled",
!0)):this.sj.MI?TZ({message:this.Sb.Ia("exportPopOverAnimationFilterWarningHtml"),type:WZ,xb:!1,v:"exportPopOver__warning"}).$el.prependTo(this.$(".exportPopOver__settingsContainer")):TZ({message:this.Sb.Ia("exportPopOverAnimationBetaWarningHtml"),type:WZ,xb:!1,v:"exportPopOver__warning"}).$el.prependTo(this.$(".exportPopOver__settingsContainer"))}c=L_(this)===C_?this.Sb.format("exportPopOverPreviewAnimation"):this.Sb.download();this.$(".exportPopOver__downloadButton").text(c);E_(this,a);this.Nj.track("download_file_type_change",
{from_filetype:this.rY,to_filetype:b});this.rY=b};
function E_(a,b){var c=0,d;b.removeClass("exportPopOver__settingsContainer--expanded");b.children(":visible").each(function(a,b){c+=$(b).outerHeight(!0)});d=parseInt(b.css("height"),10);a.HX?(a.HX=!1,b.css("height",c),b.addClass("exportPopOver__settingsContainer--expanded"),b.css("height"),b.removeClass("exportPopOver__settingsContainer--notransitions")):d===c?b.addClass("exportPopOver__settingsContainer--expanded"):(b.css("height",c),b.one("transitionend",function(){b.addClass("exportPopOver__settingsContainer--expanded")}))}
f.y6=function(){this.$(".exportPopOver__pageRangeOption .exportPopOver__radio").prop("checked",!0);K_(this)};f.n6=function(){K_(this)};f.g5=function(a){a=$(a.currentTarget);0===a.val().trim().length&&(a.val(""),this.$(".exportPopOver__allPagesOption").prop("checked",!0))};f.q5=function(a){N_(this,$(a.currentTarget))};
f.r5=function(){var a=this.$(".exportPopOver__pageRangeOption .exportPopOver__radio"),b=this.$(".exportPopOver__pageRangeOption .exportPopOver__input");a.prop("checked")?(b.focus().select(),K_(this),N_(this,b)):(b.removeClass("exportPopOver__input--withError"),s_(this.Nj,"all"))};f.V5=function(){var a=this.Wc;a.j.wa(lm("export_pop_over","png_export_options","transparent_background"));Fo(a,O_)};f.u5=function(){var a=this.Wc;a.j.wa(lm("export_pop_over","bottom","animator"));Fo(a,P_)};f.s5=function(){this.Nj.track("transparent_bg_click")};
f.y5=function(){(new p_({H:this.H,Zy:Nc(this.i)})).render().show()};f.l5=function(){this.Nj.track("crop_marks_click")};f.I5=function(){(new n_({H:this.H,av:Lc(this.i)})).render().show()};function D_(a){var b;return a.ne.map(function(a){b=a.value===this.wp;return{value:a.value,text:b?this.Sb.format("exportPopOverRecommended",a.text):a.text,selected:b}}.bind(a))}function L_(a){return a.$(".exportPopOver__fileTypeSelect \x3e select").val()}
function G_(a){function b(){return this.model.ia().some(function(a){return a.mn()})}(function(){var a=L_(this);return a===y_||a==z_}).call(a)&&b.call(a)&&TZ({message:soydata.VERY_UNSAFE.ordainSanitizedHtml(Q_(a)),type:WZ,xb:!1,v:"exportPopOver__warning"}).$el.prependTo(a.$(".exportPopOver__settingsContainer"))}
function H_(a){function b(){switch(d){case y_:return this.Sb.GA();case z_:return this.Sb.BB();default:throw Error("Unknown export value",d);}}function c(){return 1<this.model.jc()}var d=L_(a);(function(){return d===y_||d==z_}).call(a)&&c.call(a)&&TZ({message:soydata.VERY_UNSAFE.ordainSanitizedHtml(He(a.Sb,b.call(a))),type:WZ,xb:!1,v:"exportPopOver__warning"}).$el.prependTo(a.$(".exportPopOver__settingsContainer"))}
function Q_(a){var b=["KABpChgmirA","KABpCl3wNm4"],c=a.model.lb().category;return c&&0<=b.indexOf(c)?a.Sb.format("exportPopOverSocialMediaLinksExportWarningHtml","https://support.canva.com/creating-your-design/page-setup/hyperlinks/"):a.Sb.format("exportPopOverLinksExportWarning")}x_.HS=/^\s*\d+\s*(?:-\s*(?:\d+\s*)?)?(?:,\s*(?:\d+\s*(?:-\s*(?:\d+\s*)?)?)?)*$/;var y_="jpg",z_="png",A_="standardPdf",B_="printPdf",C_="animation";function R_(){}R_=Az.extend();R_.prototype.events=function(){var a=Az.prototype.events.call(this);a["click .resubmitLayout"]=this.R5;return a};R_.prototype.initialize=function(a){this.w9=a.resubmit;var b="in layout review";this.options.forSale&&(b="for sale as a layout");b={title:b.charAt(0).toUpperCase()+b.slice(1),content:$(R_.aJ({status:b})),We:""};Az.prototype.initialize.call(this,_.extend({},b,a))};
R_.prototype.render=function(){Az.prototype.render.call(this);this.$(".buttonContainer").remove();return this};R_.prototype.R5=function(){this.w9();this.remove()};R_.aJ=_.template('\x3cp\x3eThis design is \x3c%- status %\x3e.\x3c/p\x3e\x3cbr\x3e\x3cdiv class\x3d"layoutThumbnail"\x3e\x3c/div\x3e\x3cdiv class\x3d"exportButtons"\x3e\x3cbutton class\x3d"button buttonBlock resubmitLayout"\x3eResubmit\x3c/button\x3e\x3c/div\x3e');function S_(){}S_=Backbone.View.extend({className:"shareViaEmailForm",tagName:"form"});S_.prototype.events=function(){return{"click button":this.send,submit:this.send}};S_.prototype.initialize=function(a){this.mode=a.mode;this.Ye=a.Ye;this.Sf=a.Sf};S_.prototype.render=function(){this.$el.html(S_.template({sendLabel:this.Sf.send(),placeholder:this.Sf.Kj()}));return this};
S_.prototype.send=function(a){a.preventDefault();a=this.$("input").val().replace(/[ ,;]+/g,",").split(",").map(CI).filter(Boolean);0===a.length?alert("Enter some email addresses!"):(this.$("button").prop("disabled",!0),this.trigger("sendClicked",{h3:a,mode:this.mode,Ye:this.Ye}))};S_.template=_.template('\x3cdiv data-input-placeholder\x3d"\x3c%- placeholder %\x3e"\x3e\x3cinput class\x3d"textInput" placeholder\x3d"\x3c%- placeholder %\x3e" type\x3d"text"\x3e\x3c/div\x3e\x3cbutton class\x3d"button"\x3e\x3c%- sendLabel %\x3e\x3c/button\x3e');function T_(){}T_=Az.extend({className:"descriptionPopOver"});T_.Xo=254;f=T_.prototype;
f.initialize=function(a){this.i=a.i;var b;b=Dc(this.i).format("editorControlsTitleTooLongError",T_.Xo+1);this.f0=TZ({type:XZ,message:b,xb:!1,v:"descriptionPopOver__error"}).$el;b={title:Dc(a.i).format("editorControlsPopoverHeadingDesignTitle"),We:Dc(a.i).format("editorControlsPopoverDoneButton"),content:$("\x3ctextarea\x3e").addClass("textInput").attr("maxlength",T_.Xo).after($("\x3cdiv\x3e").addClass("descriptionPopOver__errorContainer"))};a=_.extend({},b,a);Az.prototype.initialize.call(this,a);
this.on("hide",this.a6)};f.events=function(){var a=Az.prototype.events.apply(this,arguments);a["keydown textarea"]=this.E6;a["keypress textarea"]=this.F6;a["paste textarea"]=this.a7;return a};f.render=function(){Az.prototype.render.call(this);var a=this.model.qb();dU(a)?this.$("textarea").val(""):this.$("textarea").val(a.ul());return this};f.Bi=function(a){Az.prototype.Bi.call(this,a);this.$("textarea").autosize({append:""}).focus().select();return this};
function U_(a){a.$(".descriptionPopOver__errorContainer").append(a.f0)}function V_(a){a.$(".descriptionPopOver__errorContainer").empty()}f.a6=function(a){var b=this.$("textarea"),c=this.model.qb(),b=b.val().trim();2!==a&&0!==a||b===c.ul()||(U&&(a=U,a.track("design_title_changed",{title:b,source:"typed",template:a.dj})),eU(c,b));V_(this)};f.E6=function(a){V_(this);var b=a.altKey||a.shiftKey;13!==a.which||b||(a.preventDefault(),this.ok())};
f.a7=function(){V_(this);this.$("textarea").val().length>=T_.Xo&&U_(this)};f.F6=function(){this.$("textarea").val().length>=T_.Xo&&this.$(".descriptionPopOver__errorContainer").is(":empty")&&U_(this)};function W_(){}W_=Backbone.View.extend({className:"shareView"});f=W_.prototype;f.events=function(){return{"click .shareButtonSocial":this.T5,"click .shareButtonEmail":this.G5}};f.initialize=function(a){this.location=a.location;this.Ib=a.Ib;this.pL=new S_({mode:"default",Ye:qu(this.Ib),Sf:a.Sf});this.Sf=a.Sf;this.SC=["Take a look at my new @Canva creation!","Check out my new @Canva design!","I just made this fantastic design with @Canva!","How great does my new @Canva design look?"]};
f.render=function(){Backbone.View.prototype.render.call(this);var a=W_.aJ;this.$el.append(a({shareOnFacebookTitle:this.Sf.format("shareViewShareOnFacebook"),shareOnTwitterTitle:this.Sf.format("shareViewShareOnTwitter"),postLabel:this.Sf.post(),tweetLabel:this.Sf.format("shareViewTweet"),emailLabel:this.Sf.email()}));this.$(".shareEmail").append(this.pL.render().el);this.listenTo(this.pL,"sendClicked",this.F5);this.listenTo(this,"emailSendingError",this.O2);return this};f.HQ=function(){this.trigger("shareClicked")};
f.T5=function(a){a.preventDefault();this.HQ()};f.G5=function(a){a.preventDefault();this.$(".shareEmail").show();this.trigger("shareViewResize")};f.F5=function(a){this.trigger("emailSend",a)};f.O2=function(a){var b=this.pL.$("button");b.prop("disabled",!1);b.attr("class","");this.$(".shareEmail h2").append('\x3cp class\x3d"error"\x3e'+a+"\x3c/p\x3e");this.trigger("shareViewResize")};W_.aJ=_.template('\x3cdiv class\x3d"shareButtons"\x3e\x3cbutton class\x3d"button buttonFacebook shareButtonSocial" title\x3d"\x3c%- shareOnFacebookTitle %\x3e"\x3e\x3c%- postLabel %\x3e\x3c/button\x3e\x3cbutton class\x3d"button buttonTwitter shareButtonSocial" title\x3d"\x3c%- shareOnTwitterTitle %\x3e"\x3e\x3c%- tweetLabel %\x3e\x3c/button\x3e\x3cbutton class\x3d"button shareButtonEmail"\x3e\x3c%- emailLabel %\x3e\x3c/button\x3e\x3c/div\x3e\x3cdiv class\x3d"shareEmail"\x3e\x3ch2\x3e\x3c%- emailLabel %\x3e\x3c/h2\x3e\x3c/div\x3e');
W_.openWindow=function(a,b,c){window.open(a,"","scrollbars\x3dyes,resizable\x3dyes,toolbar\x3dno,location\x3dyes,width\x3d"+b+",height\x3d"+c+",left\x3d445,top\x3d240")};function YU(){}var YU=Backbone.View.extend({el:"#canvaDocument"}),ZU="fit",Kz={"10%":"10%","25%":"25%","50%":"50%","75%":"75%","100%":"100%","125%":"125%","150%":"150%","175%":"175%","200%":"200%","300%":"300%","400%":"400%","500%":"500%",Baa:"fill",Caa:ZU};YU.L2=function(){$("#addNewPage").remove();YU.Y0=!0};f=YU.prototype;
f.events=function(){return{"click #addNewPage .addPage":this.A1,"click #addNewPage .makeNewDesign":this.R1,"click #addNewPage .copyDesign":this.E1,"click \x3e .inner \x3e .page":function(){return!1},"mousedown \x3e .inner \x3e .page":this.cO,mousemove:this.mousemove,mouseout:this.mouseout,scroll:this.D9}};f.remove=function(){this.undelegateEvents();this.stopListening();this.Ma.forEach(function(a){a.remove()})};
f.initialize=function(a){this.listenTo(this.model,{"page:add":this.T7,"page:move":this.W7,"page:remove":this.X7,resize:this.RA});this.listenTo(T,{"pageView:copyButton:click":this.QX,"pageView:deleteButton:click":this.QX,"pageView:toolbar:mouseout":this.a8});this.Ma=[];var b=this;this.model.Gb().forEach(function(c){b.Ma.push(new X_({model:c,Us:Fc(a.i),pP:Hc(a.i)}))});this.i=a.i;this.H=a.H;this.wf=_.object(_.values(Kz),_.map(Kz,function(a){return parseInt(a,10)/100}));this.XI=ZU;this.eg=!1;this.Pr=
this.fh=0;this.ib=null;this.ck=this.oA=this.Hf=this.nP=0;this.uJ=!1;this.O4=Zg(this);this.Ap=function(){var a=b.model.O[0],a=Math.max(a.l(),a.o());return Math.max(1,Math.min(a/O.q0))}();this.render()};
f.render=function(){var a=this.$el.children(".inner"),b=this;this.Ma.forEach(function(c,d){c.render();a.append(c.$el);Y_(c,Z_(b,d));c.$el.addClass("on")});var c=this.Ma[this.Ma.length-1].$el,d=this.$("#addNewPage");YU.Y0?(d.hide(),this.$el.removeClass("multiPage")):(d.css("top",Z_(this,this.Ma.length)),d.insertAfter(c),this.$el.removeClass("multiPage"),this.model.lb().Ns&&(this.$el.addClass("multiPage"),1<this.model.Gb().length&&this.model.Gb().length>=O.my&&(this.$("#addNewPage").addClass("off"),
$_(this))));var c=Z_(this,0),d=a0(this),e=BT();a.css("height",c+d+($(window).height()-e.xa()));this.RA(!0);return this};f.A1=function(a){a=$(a.currentTarget);if(!a.is(":animated")&&!a.is(".off")){a=Sp(this.model);var b=DO(a.serialize());b.pageIndex=cp(this.model,a);M.register(new FO(1,b))}b0(this);return!1};
f.R1=function(){var a={type:this.model.lb().u()},b="/design?create";null!=a.type&&(b+="\x26type\x3d"+encodeURIComponent(a.type));null!=a.width&&(b+="\x26width\x3d"+encodeURIComponent(String(a.width)));null!=a.height&&(b+="\x26height\x3d"+encodeURIComponent(String(a.height)));null!=a.X$&&(b+="\x26units\x3d"+encodeURIComponent(String(a.X$)));null!=a.category&&(b+="\x26category\x3d"+encodeURIComponent(String(a.category)));null!=a.Bh&&(b+="\x26schema\x3d"+encodeURIComponent(String(a.Bh)));window.open(b,
"");return!1};f.E1=function(){T.trigger("documentView:copyDocument");return!1};
f.D9=function(){var a=this.$el.scrollTop()||0,b=Z_(this,0),c=BT(),d=Qp(this.model),e=this.Ma[d].$el.offset(),g=this.nP<a?"down":"up",h=-1;T.trigger("documentView:scroll",a);this.nP=1*a;c0(this);this.H.clearTimeout(this.oA);if(!this.$el.hasClass("modifying")){d=$(window).height();if(this.fh>d/2)for(c=0;c<this.Ma.length-1;c++){h=b+c*(this.fh+this.Pr);if(h<a){if(e=h+this.fh-a,0>=e){h=c+1;continue}}else e=a+d-h;h=e>a+d-(h+this.fh)?c:c+1;break}else"up"==g&&e.top+this.fh>c.xa()?h=Math.floor((a+$(window).height()-
(b-this.Pr))/(this.fh+this.Pr))-1:"down"==g&&0>e.top&&(h=Math.ceil((a-b)/(this.fh+this.Pr)));0==a?h=0:a>=this.$el.children(".inner").height()-this.$el.prop("clientHeight")&&(h=this.model.Gb().length-1);0<=h&&(h=Math.min(this.model.Gb().length-1,h),h=Math.max(0,h),Ip(this.model,h))}};
f.mousemove=function(a){this.O4.read(function(){var b=(void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY)+this.$el.scrollTop();this.Ma.forEach(function(a){var d=a.qa();Zg().write(function(){b>d.w()&&b<d.xa()?a.$el.addClass("pseudoHover"):a.$el.removeClass("pseudoHover")})})})};f.mouseout=function(a){-1<$(a.relatedTarget||a.toElement).parents().addBack().index(this.$el.children(".inner"))||this.Ma.forEach(function(a){a.$el.removeClass("pseudoHover")})};
f.cO=function(a){function b(a){var b=(void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX)-e;a=(void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY)-g;if(k||Math.abs(b)>O.Hc||Math.abs(a)>O.Hc){k||(k=!0,d.$el.addClass("dragging doNotAnimate"),Ip(p,cp(p,q)));for(var b=-1,c=0;c<m.length&&!(h+a<m[c]);c++)b++;0>b&&(b=0);Vp(p,q,b);b=a=h+a;a<x?(b=(x-a)/(x-z),b=2>=b?x-(x-a)*(1-b/4):z):a>H&&(b=(a-H)/(t-H),b=2>=b?H+(a-H)*(1-b/4):t);Y_(d,b)}return!1}function c(){l.off("mousemove|touchmove",
b).off("mouseup|touchend",c);if(k){d.$el.removeClass("doNotAnimate");var a=q.K(),e=Z_(v,a);d.$el.animate({top:e},O.Da.PX,"easeOutBack",function(){Y_(d,e);d.$el.removeClass("dragging")});M.register(new FO(5,{pageIndex:a,oldPageIndex:u}))}}if(!(0===$(a.target).closest(".pageToolbar").length||0<$(a.target).closest("a").length)){var d=null;this.Ma.forEach(function(b){b.$el.get(0)==a.currentTarget&&(d=b)});var e=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,g=void 0!==a.clientY?a.clientY:
a.originalEvent.touches[0].clientY,h=VC(d),k=!1,l=new fp($(document));l.on("mousemove|touchmove",b).on("mouseup|touchend",c);for(var m=[],n=0;n<this.Ma.length;n++)m.push(Z_(this,n)-this.fh/2);var p=this.model,q=d.model,u=cp(p,q),v=this,z=Z_(this,-1),t=Z_(this,this.Ma.length),x=Z_(this,0),H=Z_(this,this.Ma.length-1);return!1}};
f.X7=function(a,b,c){hh();var d=this,e=this.Ma[c];this.H.clearTimeout(this.oA);this.Hf&&Ip(a,Math.min(a.Gb().length-1,c));b={height:0,top:Z_(this,c)+this.ck*(this.fh+this.Pr)};this.Hf&&c==a.Gb().length&&(b.top+=this.fh);this.$el.addClass("modifying");e.$el.addClass("removing").animate(b,{duration:O.Da.lk,fl:"easeOutSine",queue:!1,complete:function(){e.remove();d.$el.removeClass("modifying");d.Hf?bO&&(d.oA=d.H.setTimeout(function(){c0(d)},O.BS)):$_(d)}});this.Ma.splice(c,1);d0(this,c);this.$el.hasClass("holding")||
e0(this,c)};
f.T7=function(a,b,c,d){hh();this.model.Gb().length>=O.my&&(this.$("#addNewPage").addClass("off"),$_(this));var e=!0;!1===d&&(e=!1);var g=cp(this.model,b);a=this.Ma[0];this.Ma.splice(g,0,new X_({model:b,Us:Fc(this.i),pP:Hc(this.i)}));var h=this.Ma[g];b=a.lM();var k=this;null!=this.ib&&h.aI(this.ib);h.zi(this.Ew());c=Z_(this,g,this.model.Gb().length-1);f0(h,b,c+this.ck*(this.fh+this.Pr));this.H.clearTimeout(this.oA);this.Hf?Ip(this.model,g-1):e&&Ip(this.model,g);0==g?h.$el.insertBefore(a.$el):h.$el.insertAfter(this.Ma[g-
1].$el);k.$el.addClass("modifying");var l=Z_(this,g);h.$el.addClass("newPage");h.$el.addClass("on");this.H.requestAnimationFrame(function(){var a=h.$el.height();h.$el.css("height",0);h.$el.animate({height:a,top:l},{duration:O.Da.lk,fl:"easeOutSine",queue:!1,complete:function(){h.$el.css("height","");h.$el.removeClass("newPage");Y_(h,l);k.$el.removeClass("modifying");k.Hf&&bO&&(k.oA=k.H.setTimeout(function(){c0(k)},O.BS))}}).css("overflow","");d0(this,g);e&&!this.$el.hasClass("holding")&&e0(this,g)}.bind(this))};
f.W7=function(a,b,c,d){function e(a,b){return function(){Y_(a,b)}}hh();a=this.Ma[c];b=this.Ma[d];c<d?a.$el.insertAfter(b.$el):c>d&&a.$el.insertBefore(b.$el);this.Ma.splice(d,0,this.Ma.splice(c,1)[0]);c>d&&(a=c,c=d,d=a);for(;c<=d;c++)a=this.Ma[c],a.$el.hasClass("dragging")||(b=Z_(this,c),a.$el.animate({top:b},O.Da.PX,e(a,b)));e0(this,d)};
f.QX=function(){hh();this.Hf=this.Hf||this.model.Gb().length;this.$el.addClass("holding");this.model.Gb().length<=O.my&&(this.$("#addNewPage").removeClass("off"),$_(this))};f.a8=function(){c0(this)};function c0(a){a.Hf&&!a.$el.hasClass("modifying")&&(a.Hf=0,a.ck=0,d0(a,0,!0),a.$el.removeClass("holding"))}
function $_(a){if(!lA){var b=BT(),c=a.Ma[0],d=g0(c),e=h0(c),g;d.l()<=b.l()?(g=b.F()+Math.round((b.l()-d.l())/2),a.$el.children(".inner").css("width","")):(g=50,a.$el.children(".inner").css("width",g+e.l()+g));var h=Math.abs(sv(a.model.lb()))*W;a.Ma.forEach(function(b,c){c=Z_(a,c);f0(b,g+h,c)});var e=h0(c),c=a.$("#addNewPage"),k=c.is(".off")?450:220,k=Math.max(e.l(),k),e=e.F()-h;k>d.l()&&(e=(b.l()+2*b.F()-k)/2);c.css("top",Z_(a,a.Ma.length)).css("left",e).css("width",k)}}
function Z_(a,b,c){var d=X_.MJ(a.model.lb(),a.Ew(),a.ib)*W;void 0===c&&(c=a.model.Gb().length);a.Hf&&(c=a.Hf);var e=BT(),g=Math.round(O.Xt*W);c=a0(a,c);var h=e.w();lA||a.eg?h=0:c<=e.o()&&(h+=(e.o()-c)/2);return h+(d+g)*b}function a0(a,b){var c=X_.MJ(a.model.lb(),a.Ew(),a.ib)*W;void 0===b&&(b=a.model.Gb().length);a.Hf&&(b=Math.max(a.Hf,b));var d=W,e=a.$("#addNewPage");b=b*c+(b-1)*O.Xt*d;a.model.vc.Ns&&!$("body").hasClass("blockDocument")&&(b+=O.Xt*d+e.outerHeight());return Math.round(b)}
function i0(a,b){var c=BT(),d=a0(a);if(d>c.o()){var e=a.$el.prop("clientHeight"),d=Z_(a,0)+d+(e-c.xa());a.fh>c.o()&&(d+=c.l()/6)}else d=a.$el.prop("clientHeight");b?a.$el.children(".inner").animate({height:d},{duration:O.Da.lk,fl:"easeOutSine",queue:!1}):a.$el.children(".inner").css("height",d)}
function d0(a,b,c){var d=X_.MJ(a.model.lb(),a.Ew(),a.ib);void 0===b&&(b=0);void 0===c&&(c=0<a.Hf);i0(a,c);var e=0;a.Hf&&b==a.model.Gb().length?(c=(a.ck||a.Hf)-b,a.ck!=c-1&&(c=a.ck+1,a.ck=b),e+=(d+O.Xt*W)*c,a.ck=c):a.ck&&(c=a.ck,e+=(d+O.Xt*W)*c);a.$("#addNewPage").animate({top:Z_(a,a.Ma.length)+e},{duration:O.Da.lk,fl:"easeOutSine",queue:!1});var g=a.$el.scrollTop()||0,h=g+a.$el.prop("clientHeight");a.Ma.forEach(function(a,b){var c=Z_(this,b)+e;b=c+d;!this.Hf&&!this.ck||b>g&&c<h?a.$el.addClass("transitioning").animate({top:c},
{duration:O.Da.lk,fl:"easeOutSine",queue:!1,complete:function(){Y_(a,c)}}):Y_(a,c)},a);a.H.setTimeout(function(){for(var b=0;b<a.Ma.length;b++)a.Ma[b].$el.removeClass("transitioning")},O.Da.lk)}
function e0(a,b){b=Math.max(0,Math.min(a.Ma.length-1,b));var c=a.$el.scrollTop()||0;if(b==a.Ma.length-1)c=BT(),c=Z_(a,a.model.Gb().length)+a.$("#addNewPage").height()-c.xa();else{b=Z_(a,b);var d=b+a.fh,e=a.$el.prop("clientHeight"),e=c+e,g=O.oD;e<d?c+=d-e+g:c>d&&(c-=c-b+g)}a.uJ||c==a.$el.scrollTop()||(a.uJ=!0,a.$el.animate({scrollTop:c},O.Da.lk,"easeOutSine",function(){a.uJ=!1}))}
f.RA=function(a){var b;b=b||this.model.Ea();var c=BT(),d=h0(this.Ma[b.K()]).scale(1/W);b=d.l();d=d.o();this.wf.fill=Math.max(c.l()/b,this.wf["10%"]);this.wf[ZU]=d*this.wf.fill>c.o()?Math.max(c.o()/d,this.wf["10%"]):this.wf.fill;c=this.eg?ZU:this.XI;b=this.model.Ea();var e=h0(this.Ma[b.K()]).scale(1/W),d=e.l(),e=e.o();a=a&&"PIXELS"!==this.model.Vj();if(lA||0===d||0===e)c=Kz["100%"];$z(this,c,b,a)};function Tz(a,b){a.eg=b;a.RA()}
function IE(a,b){for(var c=0;c<a.Ma.length;c++)if(a.Ma[c].model==b)return a.Ma[c].qa();return null}
function $z(a,b,c,d){c=c||a.model.Ea();a.$el.addClass("zooming");c=a.Ma[c.K()];a.XI=a.eg?a.XI:b;var e=W=a.wf[b];a.Pr=Math.round(O.Xt*e);a.fh=Math.round(g0(c).o());oQ();T.trigger("documentView:zoom",b,e);$_(a);i0(a,!1);b=BT();e=a.$el.children(".inner").width();c=Xg(c);e>b.l()&&(e=Math.round(c.F()+c.l()/2),e=Math.round(e-b.F()-b.l()/2),c.l()<b.l()&&(e+=(b.l()-c.l())/2),a.$el.scrollLeft(e));!d&&a0(a)>b.o()&&(d=Math.round(c.w()+c.o()/2),a.nP=1*(a.$el.scrollTop()||0),a.$el.scrollTop(Math.round(d-b.xa()/
2)));a.model.ia().forEach(function(a){a.ab()});NK(zc(a.i),Bc(a.i));a.$el.removeClass("zooming")}function Yz(a){return j0(a,function(a){return a[1]},function(a){return a[1]>W})}function Zz(a){return j0(a,function(a){return-1*a[1]},function(a){return a[1]<W})}function j0(a,b,c){if(b=_.chain(a.wf).pairs().sortBy(b).find(c).value())return $z(a,b[0]),b[0]}function b0(a){a.$el.focus().blur();window.getSelection().removeAllRanges()}
function Uz(a,b){a.$el.find(".inner").scrollTop(a.$el.find(".inner").scrollTop()+a.$el.find(".page").eq(b).position().top);Ip(a.model,b)}f.Ea=function(){var a=Qp(this.model);if(a>=this.Ma.length)throw Error("No page view exists for selected page index "+a+".");return 0<=a?this.Ma[a]:null};function gh(a){return a.Ea()||a.Ma[0]}f.zi=function(a){this.$el.toggleClass("document--printMarkingsEnabled",a);this.Ma.forEach(function(b){b.zi(a)})};f.Ew=function(){return this.$el.hasClass("document--printMarkingsEnabled")};
function Vg(a,b){var c=a.$el.offset(),d=c.left-a.$el.scrollLeft();a=c.top-a.$el.scrollTop();return b.clone().translate(-d,-a)}function DD(a,b){b=b.K();if(0>b||b>=a.Ma.length)throw Error("No page view exists for selected page index "+b+".");return a.Ma[b]}f.aI=function(a){this.ib=a;this.Ma.forEach(function(b){b.aI(a)})};function yp(){}yp=Az.extend();yp.prototype.initialize=function(a){this.j=a.j;this.yg=a.yg;this.Oe=a.Oe;this.anchor=a.anchor;this.xD=a.xD;this.FC=a.FC;this.a_=0;a=_.extend({},{Ho:!0,position:"topLeft",Of:{left:10,top:-14}},a);Az.prototype.initialize.call(this,a);0<this.FC?this.listenTo(this.Oe,"session:sync",this.GV):k0(this)};yp.prototype.GV=function(a){2==a&&(a=0===$(".modalContent").length,this.a_++,a&&this.a_>=this.FC&&(k0(this),this.stopListening(this.Oe,"session:sync",this.GV)))};
function k0(a){a.Bi(a.anchor);l0(a);a.j&&a.j.track("dialog_show",{type:a.yg,section:"editor",subsection:"header",location:"publish_pop_over"})}function l0(a){a.anchor.one("click",function(){a.j&&Rl(a.j,a.xD,"header",a.yg+"_dialog")})}yp.prototype.Rp=function(){return m0};yp.prototype.remove=function(){this.j&&Sl(this.j,this.yg,"header","publish_pop_over");kp.prototype.remove.call(this)};function n0(a,b,c){this.context=a;this.active=!!c;this.sc=b}n0.prototype.getContext=function(){return this.context};
function o0(a){switch(a.context){case "PUBLIC_STREAM":return a.sc.format("editorControlsPublicationPublic");case "TEAM_STREAM":return a.sc.format("editorControlsPublicationShowing");case "TEAM_TEMPLATE":return a.sc.format("editorControlsPublicationTemplated");case "MARKETPLACE_LAYOUT":case "MARKETPLACE_TEXT":return a.sc.format("editorControlsPublicationMarketplace");case "PUBLICLY_REMIXABLE":return a.sc.format("editorControlsPublicationPubliclyRemixable");default:throw Error("Unknown PublicationContext "+
a.context);}}
function p0(a){switch(a.context){case "PUBLIC_STREAM":return a.sc.format("editorControlsPublicationMakeActivePublic");case "TEAM_STREAM":return a.sc.format("editorControlsPublicationMakeActiveShowTeam");case "TEAM_TEMPLATE":return a.sc.format("editorControlsPublicationMakeActivePublishAsTemplate");case "MARKETPLACE_LAYOUT":return a.sc.format("editorControlsPublicationMakeActivePublishAsLayout");case "MARKETPLACE_TEXT":return a.sc.format("editorControlsPublicationMakeActivePublishAsGroup");case "PUBLICLY_REMIXABLE":return a.sc.format("editorControlsPublicationMakePubliclyRemixable");
default:throw Error("Unknown PublicationContext "+a.context);}}n0.prototype.toggle=function(a){return new n0(this.context,this.sc,void 0!==a?a:!this.active)};var q0={PUBLIC_STREAM:2,TEAM_STREAM:0,TEAM_TEMPLATE:1},aaa={PUBLIC_STREAM:"switchMakePublic",TEAM_STREAM:"switchShowTeam",TEAM_TEMPLATE:"switchPublishTemplate",MARKETPLACE_LAYOUT:"switchPublishLayout",MARKETPLACE_TEXT:"switchPublishText",PUBLICLY_REMIXABLE:"switchMakePubliclyRemixable"};function r0(){}r0=Az.extend({className:"docPublisherPopOver"});r0.prototype.initialize=function(a){Az.prototype.initialize.call(this,_.defaults(a,{Of:{top:-4}}));this.sc=a.sc};
function baa(a,b){function c(a,c){return new n0(b[c].getContext(),d.sc,bW(a))}var d=a,e=b.map(function(a){return new aW({on:a.active})}),g=e.map(function(a,c){var e=$(d.C$({label:p0(b[c])}));e.addClass(aaa[b[c].context]);a.render().$el.appendTo(e);return e}),h=a.$(".buttonContainer");g.forEach(function(a){a.insertBefore(h)});return new P(function(a,b){d.once("hide",function(d){return 2===d?a(e.map(c)):b(new s0)})})}r0.prototype.aF=_.template('\x3cp class\x3d"error"\x3e\x3c%- message %\x3e\x3c/p\x3e');
r0.prototype.C$=_.template('\x3cdiv class\x3d"switchContainer"\x3e\x3clabel\x3e\x3c%- label %\x3e\x3c/label\x3e\x3c/div\x3e');function t0(a){var b=this;this.j=a.j;this.document=a.document;this.Ra=a.Ra;this.pa=a.getSession();this.mc=a.mc;this.xd=a.xd;this.sc=a.sc;this.zL=nh(a.fj);this.AY=this.zL.map(function(c){var d=a.fj.xg.get("activePublicationContexts",[]);return new n0(c,b.sc,0<=d.indexOf(c))});this.T8=caa(this);this.Z$=daa(this);this.pJ=null;this.Si=a.fj.fM();this.nu=a.nu;this.wg=a.wg}f=t0.prototype;f.on=Backbone.Events.on;f.once=Backbone.Events.once;f.trigger=Backbone.Events.trigger;f.listenTo=Backbone.Events.listenTo;
f.stopListening=Backbone.Events.stopListening;f.OJ=function(a){return 0<a.filter(function(a){return a.active}).length&&this.document.isEmpty()?P.reject(Error(this.sc.format("editorControlsPublishErrorNoContent"))):P.resolve(a)};function u0(a){return[].concat(a.AY).map(Object.freeze)}
f.GR=function(a){var b=this,c=u0(this).slice().sort(function(a,b){return kh.indexOf(a.context)-kh.indexOf(b.context)}),d=a.slice().sort(function(a,b){return kh.indexOf(a.context)-kh.indexOf(b.context)});this.trigger("processingStateChange",!0);return qA(1E3).then(function(){return eaa(b,d,c)}).tap(function(a){return faa(b,a)}).then(function(a){return a.map(function(a,b){return a?a:c[b]}).sort(function(a,c){a=b.zL.indexOf(a.getContext());c=b.zL.indexOf(c.getContext());return a-c})}).then(function(a){return b.AY=
a.slice()}).finally(function(){return b.trigger("processingStateChange",!1)})};function gaa(a){var b=(new FD).ey(!0);return a.Si?bF(Db,a.Si,b).then(function(a){return a.Ja().ph()}):null!==a.Si?P.resolve("PENDING_REVIEW"):P.resolve(null)}function caa(a){var b={};b.PUBLIC_STREAM=a.dt.bind(a);b.TEAM_STREAM=a.IJ.bind(a);b.TEAM_TEMPLATE=a.JC.bind(a);b.MARKETPLACE_LAYOUT=a.U8.bind(a);b.MARKETPLACE_TEXT=function(){return haa(a).then(a.V8.bind(a))};b.PUBLICLY_REMIXABLE=a.S8.bind(a);return b}
function daa(a){var b={};b.PUBLIC_STREAM=a.Wx.bind(a);b.TEAM_STREAM=a.JJ.bind(a);b.TEAM_TEMPLATE=a.TC.bind(a);b.MARKETPLACE_TEXT=function(){return P.resolve()};b.MARKETPLACE_LAYOUT=function(){return P.resolve()};b.PUBLICLY_REMIXABLE=a.Y$.bind(a);return b}f.IJ=function(){return this.pa.dt("BRAND")};f.dt=function(){return this.pa.dt("GLOBAL").tap(function(){var a=this.j;a.track("design_public",{design:this.pa.hc(),template:a.dj})}.bind(this))};
f.S8=function(){return wq(this.Ra,new Zt({document:this.pa.hc(),vE:new kr({oB:lr,Pc:dr})}))};f.JC=function(){return this.pa.JC().tap(function(){var a=this.j;a.track("design_templatify",{design:this.pa.hc(),template:a.dj})}.bind(this))};f.JJ=function(){return this.pa.Wx("BRAND")};f.Wx=function(){return this.pa.Wx("GLOBAL").tap(function(){var a=this.j;a.track("design_private",{design:this.pa.hc(),template:a.dj})}.bind(this))};
f.Y$=function(){return wq(this.Ra,new Zt({document:this.pa.hc(),vE:new kr({oB:lr,Pc:Xq})}))};f.TC=function(){return this.pa.TC().tap(function(){var a=this.j;a.track("design_untemplatify",{design:this.pa.hc(),template:a.dj})}.bind(this))};
function v0(a,b,c,d,e,g){if(dU(a.document.qb()))return P.reject(new w0("You cannot publish an untitled design as a layout - please title your design."));var h=new x0({workflow:b,typeDescription:d,document:a.document,availableLocales:a.nu,userLocale:a.wg,showProgress:e,keywords:g});return new P(function(d,e){function g(b,e){"submitted"==e&&d(new n0(c,a.sc,!0))}b.on("change:state",g);h.on("remove",function(){b.off("change:state",g);e(Error("No action specified"))});h.show()})}
f.V8=function(){var a=new y0({pa:this.pa,document:this.document,mc:this.mc}),a=new z0(a.submit.bind(a),["text"]),b=this.document.fonts.slice();return v0(this,a,"MARKETPLACE_TEXT","text group",!1,b)};
function haa(a){var b=[];1<a.document.jc()&&b.push("Text groups cannot be more than one page.");var c=a.document.ia().filter(function(a){return a.nb()}).filter(function(a){return!UC(a)}),d=a.document.ia().filter(function(a){return!a.nb()}).filter(function(a){return!UC(a)});1===c.length&&0===d.length||b.push("All elements must be in the same group.");(c[0].o()>Op(a.document)||c[0].l()>Pp(a.document))&&b.push("Text groups cannot be taller or wider than the page. This includes the boundaries of each element, and not just the visible parts.");
0<a.document.fonts.slice().filter(function(a){return void 0!==bB(a)}).length&&b.push("Text groups do cannot include uploaded custom fonts.");var e=mh("#000000");a.document.ia().filter(function(a){if(a.Md())return a.bb().filter(function(a){return a===LB||a instanceof fn&&!a.equals(e)}).length}).length&&b.push("Only black color is allowed.");0<a.document.ia().filter(function(a){return!a.nb()}).filter(function(a){return!(a instanceof Kp)&&!(a instanceof yC)&&!(a instanceof ap)&&!(a instanceof AC)&&!(a instanceof
BC)}).length&&b.push("Only text elements are currently supported.");0<a.document.ia().filter(function(a){return a.nb()}).filter(function(a){return 0!==a.Ta()}).length&&b.push("Rotated groups are not currently supported.");return 0<b.length?(a="Sorry, your text group could not be published. "+b.join(" "),P.reject(new w0(a))):P.resolve()}f.U8=function(){var a=new A0({pa:this.pa,document:this.document,mc:this.mc}),a=new z0(a.submit.bind(a));return v0(this,a,"MARKETPLACE_LAYOUT","layout",!0)};
function iaa(a){var b=new cu({ag:a.pa.hc(),version:a.pa.fe(),ct:"MEDIUM"});return Bq(a.Ra,b)}function eaa(a,b,c){var d=b.filter(function(a){return a.active}).map(function(a){return a.getContext()});return 0<d.indexOf("MARKETPLACE_LAYOUT")&&0<d.indexOf("MARKETPLACE_TEXT")?P.reject(new w0("Design cannot be both a layout and a text group.")):P.reduce(b,function(b,d,h){return jaa(a,d,c[h]).then(function(a){return b.concat(a?d:null)})},[])}
function faa(a,b){!a.pJ&&0<b.filter(function(a){return a&&a.active}).length&&(a.pJ=iaa(a).finally(function(){a.pJ=null}))}function jaa(a,b,c){return b.active===c.active?P.resolve(!1):(a=b.active?a.T8[b.getContext()]:a.Z$[b.getContext()])?a().then(function(){return!0}):P.resolve(!1)}function w0(a){Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);this.message=a}w0.prototype=Object.create(Error.prototype);w0.prototype.constructor=w0;
function s0(){Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);this.message="Cancelled document publication"}s0.prototype=Object.create(Error.prototype);s0.prototype.constructor=s0;function A0(a){this.pa=a.pa;this.mc=a.mc;this.document=a.document}
A0.prototype.submit=function(a){var b=this.document.Df();if(!b)throw Error("no locale");var c=FK().QI(b);a.forEach(function(a){var e="PAID"===a.price?CK:BK,g="PAID"===a.price?"STANDARD":"FREE",h=(a.keywords||[]).map(function(a){return new wF(b||"",a)});EK(c,IK(HK(a.media).Ik(a.version),a.title).U_(a.description).OI(h).eS(e).fS(g))});tK(this.mc,this.pa.hc(),this.pa.fe(),c,function(a){if(200!=a)throw Error("success not indicated");lO()},this.document.lb().u())};function y0(a){this.pa=a.pa;this.mc=a.mc;this.document=a.document}y0.prototype.submit=function(a){w(0===a.length,"Cannot publish text groups containing new media (not yet implemented).");y(this.document.Df(),"The document requires a locale.");Fa(this.document.Sj().some(function(a){return"text"===a.toLowerCase()}),'The document requires the "text" keyword.');a=new oK({id:this.pa.hc(),version:this.pa.fe()});uK(this.mc,new pK({document:a,locale:this.document.Df()}))};function z0(a,b){DT.call(this,[{name:"start",from:"none",to:"pricing"},{name:"price",from:"pricing",to:"pricingChildren"},{name:"price",from:"pricingChildren",to:"reviewingSubmission"},{name:"submit",from:"reviewingSubmission",to:"submitted"},{name:"submit",from:"submitted",to:"submitted"},{name:"success",from:"submitted",to:"completed"},{name:"error",from:"pricing",to:"failed"},{name:"error",from:"pricingChildren",to:"failed"},{name:"error",from:"reviewingSubmission",to:"failed"},{name:"error",from:"submitted",
to:"failed"},{name:"error",from:"failed",to:"failed"}]);this.document=K;this.x$=a;this.X0=b||[];this.UJ=[]}z0.prototype=new DT;z0.prototype.start=function(){this.qg.start()};function kaa(a,b){b.title&&eU(a.document.qb(),b.title);b.keywords&&Np(a.document,_.union(b.keywords,a.X0));b.locale&&a.document.setLocale(b.locale);qA(O.ny).then(function(){a.qg.transition("price")},function(b){a.qg.transition("error");throw b;})}z0.prototype.cQ=function(){this.qg.transition("review")};
function laa(a,b){function c(a,c){200===a&&c&&c.media&&0!==c.media.length?b(c.media):b&&b([])}a=$p(a.document).map(function(a){return a.id});0===a.length?b&&b([]):(a=CF((new BF).Tt(!0).Rt(!1),[Eg,Gg]).W_().dS(a),YE(Db,a,c))};function B0(a,b){return a.xg.get("editorActions",[]).map(function(a){return(a=C0[a]||null)?a(b):null})}
function D0(a,b){function c(){function b(a){return new E0({YE:h,hj:k,rf:d,fI:!1,kj:t},a)}var c=Pc(a.i),d=Gd(a.i),e=ny(ky(a.Ka))+my(ky(a.Ka))+l;if(!(0>=a.W.G.get(Wf)-e)){var g=new F0({aa:a.aa,D:ky(a.Ka).ka(),uE:tm,aO:G0(a.pd),Z:a.Z,cc:a.cc,rg:ky(a.Ka).getSubscription(),qr:ly(a.Ka).Jb(),jp:Zc(a.i)}),h=new H0({Zd:ad(a.i)}),k=new I0,t={GK:3,zK:e,Cl:a.W.G.get(Wf),xG:5},c=maa({X:c,rf:d,tK:b,j:a.j,kj:t,Gt:g});$("body").append(c.view.$el);c.Db.Me();c.Db.show()}}a.getSession().save();var d=J0(a.W.Pe(),a.document,
a.ef.getKeys()),e=naa({i:Pc(a.i)}),g=oaa({G:a.G,Zd:ad(a.i),X:Pc(a.i),mF:pc(a.i),va:ky(a.Ka).ka().u(),Z:a.Z,Dq:function(){a.j.wa(X(new Zl("share_button_user_input_focus"),"location","editor"))}}),h=a.G.get(new Ff("nc",!1)),k=a.G.get(new Ff("nk",!1));b=paa({Jl:YV(a.getSession().hc()),H:a.H,W:a.W,kt:d.kt,sz:g.view,xu:e.view,i:a.i,vy:h,HC:k,nc:b});var l=0;b.once("remove",function(){0<l&&c()});return qaa({Hw:uh(a.config).UQ,QA:raa,pb:a.getSession().hc(),Zb:a.getSession().fe(),uz:a.document.isEmpty(),Ka:a.Ka,
sj:d,n4:a.W.G.get(kg),Cl:a.W.G.get(Wf),j:a.j,Ra:a.Ra,Pe:a.W.Pe(),Z:a.Z,xd:a.xd,cc:a.cc,aa:a.aa,fb:a.fb,dc:a.dc,ub:a.ub,su:function(b,c){var d=a.getSession().hc(),e=a.document.Gb()[0].l(),g=a.document.Gb()[0].o(),h=soydata.VERY_UNSAFE.ordainSanitizedTrustedResourceUri(a.config.xg.get("embedScriptUrl",""));b=soydata.VERY_UNSAFE.ordainSanitizedHtml(mf(qd(a.i),a.document.qb()?_.escape(mP(a.document.qb())):_.escape(qd(a.i).format("newLightboxUntitled")),ZV(a.getSession().hc(),null,"link","embeds"),location.protocol+
"//"+location.host+("/"+encodeURIComponent(c))+"?"+["utm_campaign\x3d"+encodeURIComponent("designshare"),"utm_medium\x3d"+encodeURIComponent("embeds"),"utm_source\x3d"+encodeURIComponent("link")].join("\x26"),_.escape(b)));var k;k=k||{};soy.asserts.assertType(h instanceof soydata.SanitizedTrustedResourceUri||h instanceof soydata.UnsanitizedText||goog.isString(h),"embedScriptUrl",h,"soydata.SanitizedTrustedResourceUri");soy.asserts.assertType(goog.isNumber(g),"thumbnailHeight",g,"number");soy.asserts.assertType(goog.isNumber(e),
"thumbnailWidth",e,"number");soy.asserts.assertType(goog.isString(d)||d instanceof goog.soy.data.SanitizedContent,"designId",d,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(b instanceof soydata.SanitizedHtml||b instanceof soydata.UnsanitizedText||goog.isString(b),"byLineHtml",b,"soydata.SanitizedHtml");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"canva-embed" data-height-ratio\x3d"'+soy.$$escapeHtmlAttribute(Math.round(g/e*1E4)/1E4)+'" data-design-id\x3d"'+soy.$$escapeHtmlAttribute(d)+
'" style\x3d"'+(k.Yb?"/*"+k.Yb+"*/":"")+"padding:"+soy.$$escapeHtmlAttribute(soy.$$filterCssValue(Math.round(g/e*1E4)/1E4*100))+'% 5px 5px 5px;background:rgba(0,0,0,0.03);border-radius:8px;"\x3e\x3c/div\x3e\x3cscript async src\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterTrustedResourceUri(h))+'"'+(k.Yb?' nonce\x3d"'+k.Yb+'"':"")+"\x3e\x3c/script\x3e"+soy.$$escapeHtml(b)).toString()},Co:a.Co,Ro:qu(a.getSession()),R_:a.getSession().context.jv().vl(),Wr:a.getSession().context.jv().sV(),i:a.i,H:a.H,wu:e.Db,
ua:a.ua,Fd:K0({document:a.document,Ib:a.getSession()}),view:b,G:a.G,Xn:function(){l++},Cp:g.Db})}function J0(a,b,c){if(!a)return{kt:!1,MI:!1};var d,e;try{e=b.serialize();d=Er(e);var g=L0(d,c),h=g.some(function(a){return a.level===M0}),k=g.some(function(a){return a.level===N0});return{kt:!h,MI:k}}catch(l){return{kt:!1,MI:!1}}}
var C0={UPGRADE:function(a){var b=new O0({sc:Dc(a.i)});b.on("click",function(){var b=P0(a.pd),d=ky(a.Ka).ka(),e=Q0({aa:Bb,Z:Eb,j:a.j,D:d,Ys:b,cq:R0,fb:a.fb,Bx:!1,Hr:!1,Vi:!!a.Vi,sp:!!a.sp,i:a.i,G:a.G,Ka:a.Ka,W:a.W});e.on("signup",function(){window.location=e.rH});e.show()});return b},SHARE:function(a){var b=Dc(a.i),c=new Backbone.View({tagName:"button",className:"button editorActionShare",events:{click:function(){a.j.wa(X(new Zl("share_button_click"),"location","editor"));D0(a).show()}}});c.$el.text(b.fm());
return c},EXPORT:function(a){var b,c;b=Dc(a.i);c=new Backbone.View({tagName:"button",className:"button editorActionExport",events:{click:function(b){var c={model:a.document,W:a.W,he:-1!==["DESIGN_TUTORIAL","FREE_NEW_USER"].indexOf(a.config.wh()),Nl:function(){var b=D0(a,S0);T0(b);b.show()},j:a.j,Wc:a.Uk,ua:a.ua,Ib:a.getSession(),aa:a.aa,xd:a.xd,dc:a.dc,fb:a.fb,Z:a.Z,ub:a.ub,cc:a.cc,Ka:a.Ka,pd:a.pd,i:a.i,H:a.H,Xb:a.Xb,Nj:new r_({j:a.j}),Fd:K0({document:a.document,Ib:a.getSession()}),sj:J0(a.G.get(x_.pS),
a.document,a.ef.getKeys()),Ph:a.config.xg.get("animatorUrl",null),G:a.G,yc:a.yc,vd:a.vd,Na:a.Na};(new x_(c)).Bi($(b.target));a.j.track("download_button_click",{section:"editor",location:"menu_bar"})}}});b=b.download();c.$el.text(b);return c},PRINT:function(a){var b=saa({xr:function(a){return(new Vn(a)).render()},j:a.j,aa:a.aa,va:ky(a.Ka).ka().id,Ra:a.Ra,me:a.document.lb(),ej:a.ej,kh:function(){return qA(O.ny)},mh:function(){return a.document.jc()},jn:function(){return new U0(vb.$el)},Ac:function(){return new V0({id:a.getSession().hc(),
version:a.getSession().fe()})},rV:function(){return mP(a.document.qb())},mv:function(){var a=function(){var a=[];K.ia().forEach(function(b){var c=b.R()?b.R().K():-1;switch(b.constructor){case CC:case ap:b.Xa.forEach(function(b){b instanceof xC&&!b.isEmpty()&&b.Ob()&&a.push({Ws:c,GJ:b})});break;case yC:b.Ob()&&a.push({Ws:c,GJ:b})}});return a}();return function(a){return new P(function(b){IL(yb,a,!1,b)})}(function(a){a=a.map(function(a){return a.Ob()});return _.uniq(a,!1,function(a){return a.u()+":"+
a.getVersion()})}(a.map(function(a){return a.GJ}).filter(function(a){a=a.Ob();a=yb.Kc(a.u(),a.getVersion());return!a||!a[yD]||!a[wD]}))).then(function(){return a.map(function(a){var b=a.GJ,c;c=b.Ob();c=yb.Kc(c.u(),c.getVersion());return{zG:{zS:c[yD],oy:c[wD]},Ba:b.fg?b.fg():b.ln(),Ws:a.Ws}})})},Vp:function(){return W0()},mA:function(){vb.$el.removeClass("document--canPrintOnePage").removeClass("document--canPrintTwoPages")},zA:function(b,c){return taa(a.document,b,c)},cf:ky(a.Ka).ka().hi(),i:a.i,
jB:function(){vb.RA()},Na:a.Na,Vl:function(b){var c=new Map([["realEstateFlyer","TACQ-ujqN6g"],["posterUS","TACQ-oYd_9A"],["businessCard","TACQ-vRWTmU"],["a4","TACQ-j4WGew"],["poster","TACQ-jGq9fY"]]),g=b.id;if(null==g)throw Error("The doctype to resize must have an id");c=c.get(g);if("T"!==g[0]&&null==c)throw Error("Unexpected doctype with deprecated id format: "+g);WV({doctype:b,$k:new gt({id:c||g,version:1}),Fb:a.document,nd:M})},O9:function(){switch(a.G.get(new Ff("nj",0))){case 1:return Dc(a.i).format("editorControlsBuyPrint");
case 2:return Dc(a.i).format("editorControlsPurchasePrint");case 3:return Dc(a.i).format("editorControlsProfessionalPrint");default:return Dc(a.i).print()}}(),wk:function(a){vb.aI(a)},zi:function(a){vb.zi(a)},ux:function(a){var b=vb;Fa(1===a||2===a,'pageCount can be either 1 or 2 but found "{}"',a);1===a?b.$el.removeClass("document--canPrintTwoPages").addClass("document--canPrintOnePage"):2===a&&b.$el.removeClass("document--canPrintOnePage").addClass("document--canPrintTwoPages")},fb:a.fb,om:!!a.W.G.get(og),
uf:ly(a.Ka),G:a.G}),c=new Backbone.View;c.setElement(b.view.$el);a.document.on("change",function(){b.Db.BO();b.Db.uO();b.Db.oO()});a.document.on("resize",function(){var c=a.document.lb();uaa(b.Db,c)});return c}};C0.PUBLISH_TO_STREAM=function(a){function b(){return u0(l).filter(function(a){return a.active}).sort(function(a,b){a=q0[a.getContext()]||0;b=q0[b.getContext()]||0;return a===b?0:a>b?-1:1})[0]}function c(a){null!==a&&(a===iF?m.$el.addClass("publishToStreamSwitchForSale"):(m.$el.addClass("publishToStreamSwitchInReview"),lO()))}function d(b){var c=Dc(a.i);b instanceof Error||(b=Error(c.format("editorControlsErrorFlippingSwitch")));(new yz({title:c.format("editorControlsPublishErrorTitle"),content:$("\x3cp\x3e"+
b.message+"\x3c/p\x3e")})).show().$el.addClass("docPublisherError")}function e(b){var c=Dc(a.i),e=u0(l).map(function(a,d){return new n0(a.getContext(),c,b&&0===d?b:a.active)}),h=new r0({We:c.format("editorControlsPublicationSaveChanges"),sc:c}),k=h.remove.bind(h);return baa(h.Bi(m.$el),e).then(l.OJ.bind(l)).then(l.GR.bind(l)).finally(g).tap(k).catch(s0,k).catch(d)}function g(){var a=b()||u0(l)[0];if(a){n=!0;try{var c=m,d=o0(a);c.hk=d;c.$(".switchLabelOn").text(d);m.toggle(a.active)}finally{n=!1}}}
function h(a){var b=u0(l).map(function(b){return b.toggle(a)});return l.OJ(b).then(l.GR.bind(l)).finally(g).catch(d)}var k=nh(a.config),l=new t0({j:a.j,getSession:a.getSession,document:a.document,Ra:a.Ra,mc:a.mc,xd:a.xd,sc:Dc(a.i),nu:a.nu,fj:a.config,wg:ly(a.Ka).Df()}),m=function(){var a=u0(l),c=a[0],d=b()||c;(a=d?new aW({on:d.active,hk:o0(d),Kl:p0(c),mu:1===a.length||!d.active}):null)&&a.$el.addClass("publishToStreamSwitch");return a}(),n=!1;if(!m)return null;0<=k.indexOf("MARKETPLACE_LAYOUT")&&
gaa(l).then(c);m.on("toggle",function(a){var b=u0(l),c=1<b.length?e:h;m.mu=1===b.length||!a;if(!n)return c(a)});m.on("click",function(){wb&&wb.save();m.mu||e()});l.on("processingStateChange",function(a){m.$el.toggleClass("switchProcessing",a)});a.Co.on(X0,function(){var a=u0(l).map(function(a){return"PUBLIC_STREAM"===a.getContext()?a.toggle(!0):a});return l.OJ(a).then(l.GR.bind(l)).finally(g).catch(d)});return m};function O0(){}O0=Backbone.View.extend({tagName:"button",className:"button buttonUpgrade"});O0.prototype.initialize=function(a){this.sc=a.sc};O0.prototype.events=function(){return{click:this.trigger.bind(this,"click")}};O0.prototype.render=function(){this.$el.html(this.template({upgrade:this.sc.UC()}));return this};O0.prototype.template=_.template('\x3cdiv class\x3d"buttonUpgradeSparkle"\x3e\x26starf;\x3c% _.times(5, function() { %\x3e\x3cspan\x3e\x3c/span\x3e\x3c% }); %\x3e\x3c/div\x3e\x3c%- upgrade %\x3e');function jP(){}jP=Backbone.View.extend({el:"#editorControls"});
jP.prototype.initialize=function(a){this.listenTo(this.model,"change:title",this.qR);this.listenTo(this.model,"resize",this.qR);this.listenTo(this.model,"change",this.R2);this.listenTo(T,"documentView:scroll",this.U2);this.listenTo(T,"documentView:copyDocument",this.$T);this.listenTo(T,"session:sync",this.sQ);this.listenTo(T,"documentSaveRequested",this.YW);this.W=a.W;this.Eg=a.Eg;this.fj=a.fj;this.pa=a.pa;this.Nu=2;this.ZK=!1;this.Fs=Date.now();this.BI=a.BI;this.nJ=a.nJ;this.nK=a.nK;this.i=a.i;this.Uk=
a.Uk;this.j=a.j;this.hN=this.HD=!1;this.render();vaa(this)};jP.prototype.events=function(){return{"click #documentFileMenuButton":this.F1,"click #documentTitle .content":this.M1,"mousedown #documentTitle .content":function(a){a.stopPropagation();a.preventDefault();return!1},"click #documentFileMenuUndoButton":this.L1,"click #documentFileMenuRedoButton":this.J1,"click #documentFileMenuResizeButton":this.K1,"click #editorHelpMenuButton":this.G1,"click #editorLogo":this.I1}};
function waa(){var a=Tb;a.hN=!0;UV(a,a.Nu)}function qO(){var a=Tb;a.$el.addClass("blockEditorControls");a.HD=!0}jP.qU=function(){$(".helpMenuButton").remove();jP.a4=!0};jP.N2=function(){$("#yourDesigns").remove();jP.qaa=!0};jP.W9=function(a){$("#documentTitle").addClass("nonInteractive");$("#documentTitle .content").text(a);jP.QZ=a};jP.OM=function(){return void 0!==jP.QZ};f=jP.prototype;f.remove=function(){this.undelegateEvents();this.stopListening();return this};
f.render=function(){this.qR();jP.a4&&this.$(".helpMenuButton").remove();jP.OM()&&(this.$("#documentTitle").addClass("nonInteractive"),this.$("#documentTitle .content").text(jP.QZ));jP.qaa&&this.$("#yourDesigns").remove();this.nJ.forEach(function(a,b){var c=a&&$("\x3cli\x3e\x3c/li\x3e");a&&(a.render().$el.addClass("prerollAnimation prerollDelay"+(b+3)).appendTo(c),$("#documentMenu").append(c))});return this};f.F1=function(a){this.j.track("editor_menu_file_clicked");Y0(this,$(a.target))};
function Y0(a,b){var c=a.nK();c.Bi(b);a.listenTo(c,"documentSaveRequested",a.YW);a.listenTo(c,"documentResizeRequested",a.Vl);a.listenTo(c,"documentCopyRequested",a.$T);return c}f.M1=function(a){jP.OM()||(new T_({model:this.model,i:this.i})).Bi($(a.currentTarget))};f.L1=function(){$("#documentBlocker").hasClass("on")||eL()};f.J1=function(){$("#documentBlocker").hasClass("on")||dL()};
f.K1=function(){this.j.track("editor_menu_magic_resize_click",{magicResizeIsEnabled:this.W.JN()});if(this.W.JN())Y0(this,this.$("#documentFileMenuResizeButton")).Ig.show();else{var a=this.Uk;a.j.wa(km());Fo(a,Jo)}};f.G1=function(){this.j.track("editor_menu_help_clicked")};f.I1=function(){-1!=lh.indexOf(this.fj.wh())&&U&&Yl(U,"minichallenge_leave");this.$el.off("mouseout","#documentMenu li")};function wV(a){a.$("#primaryNavigation").removeClass("undoDisabled")}
function xV(a){a.$("#primaryNavigation").removeClass("redoDisabled")}function AV(a){0<M.nd.length?wV(a):(a.$("#primaryNavigation").addClass("undoDisabled"),a.$("#documentFileMenuUndoButton").blur());0<M.Iw.length?xV(a):(a.$("#primaryNavigation").addClass("redoDisabled"),a.$("#documentFileMenuRedoButton").blur())}f.R2=function(){AV(this)};f.U2=function(a){var b=this.$("#documentMenu");a?b.addClass("dark"):b.removeClass("dark")};
f.qR=function(){var a=this.model.qb();jP.OM()||(this.$("#documentTitle .content").text(mP(a)),this.BI&&this.BI(mP(a,{g4:!0})))};f.sQ=function(a){var b=this;2===a&&(this.Fs=Date.now());this.Nu=a;this.ZK||(UV(this,a),window.setTimeout(function(){b.Nu!==a&&UV(b,b.Nu);b.ZK=!1},600),this.ZK=!0)};
function UV(a,b){var c=Dc(a.i),d=$("#documentSyncStatus");a.hN?(d.addClass("offline"),d.text(c.format("editorControlsOffline"))):(d.removeClass("offline"),a.HD?0===b&&null!=a.pa.vm&&d.text(ce(c)):0===b&&null!=a.pa.vm?d.text(ce(c)):1===b?d.text(c.format("editorControlsSaving")):2===b?d.text(c.format("editorControlsAllChangesSaved")):d.text(""))}f.YW=function(){this.pa.save();this.HD||null==this.pa.vm||this.pa.ij()||(this.sQ(1),this.sQ(2))};f.Vl=function(a,b){WV({doctype:a,$k:b,Fb:this.model,nd:M})};
f.$T=function(){var a=this.pa.hc(),b=qu(this.pa),c=mP(this.model.qb()),c=nc(this.i).format("documentCopyDesignTitle",c);c.length>O.Xo&&(c=c.substring(0,O.Xo));window.open(XV(a,"remix",b)+"?title\x3d"+encodeURIComponent(c),"")};function vaa(a){function b(){Y0(this,this.$("#documentFileMenuButton")).Ig.show();this.Eg.ua.removeItem(Do)}Bo(a.Eg)&&hl.setTimeout(b.bind(a),1500)};function $U(){}$U=Backbone.View.extend({tagName:"div",id:"overlays",template:_.template('\x3cdiv class\x3d"mask"\x3e\x3c/div\x3e\x3cdiv class\x3d"vertical align"\x3e\x3c/div\x3e\x3cdiv class\x3d"vertical align"\x3e\x3c/div\x3e\x3cdiv class\x3d"vertical align"\x3e\x3c/div\x3e\x3cdiv class\x3d"horizontal align"\x3e\x3c/div\x3e\x3cdiv class\x3d"horizontal align"\x3e\x3c/div\x3e\x3cdiv class\x3d"horizontal align"\x3e\x3c/div\x3e\x3cdiv class\x3d"rotation align"\x3e\x3c/div\x3e\x3cdiv class\x3d"rotationGuide"\x3e\x3c/div\x3e')});
f=$U.prototype;f.initialize=function(a){this.Zk=a.Zk;this.i=a.i;this.listenTo(this.model,{"page:change:selected":this.render});this.XA=this.XA.bind(this);this.CE=this.CE.bind(this);this.$E=this.$E.bind(this);this.Zk.$el.on("mousedown",this.XA);this.Zk.$el.on("touchstart",this.CE);this.Zk.$el.on("touchend",this.$E);this.$el.html(this.template());this.render();this.$el.prependTo(this.Zk.$el.children(".inner"))};f.HM=function(a){(a=$(a.target).parents(".element").last().data("toolbar"))&&jE(a)};
f.events=function(){this.HM=_.debounce(this.HM,100);return{'keydown [contenteditable\x3d"true"]':this.HM}};f.remove=function(){Backbone.View.prototype.remove.call(this);this.Zk.$el.off("mousedown",this.XA);this.Zk.$el.off("touchstart",this.CE);this.Zk.$el.off("touchend",this.$E)};f.render=function(){this.model.ia().forEach(function(a){a.te&&a.$a()});return this};f.CE=function(){this.oW=!0};f.$E=function(){this.oW=!1};
f.XA=function(a,b){function c(a){n||a.shiftKey||hh();n=!0;var b=e(a)-q;a=g(a)-u;0>b&&x.css("left",v+b);0>a&&x.css("top",z+a);x.css("display","").css("width",Math.abs(b)).css("height",Math.abs(a));$(E).each(function(a,b){JV.call(b)});return!1}function d(a){H.off("mousemove|touchmove",c).off("mouseup|touchend",d);$("#marquee").remove();a.shiftKey&&t.forEach(FV);n&&(a=K.Wa(),0===a.length?hh():1==a.length?(hh(),Bg(a[0])):NK(zc(h.i),Bc(h.i)))}function e(a){a=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;
return a-=p.left}function g(a){a=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;return a-=p.top}var h=this;if(h.oW||a.which==O.Mh||a.ctrlKey)return!0;var k=$(a.target).is("#content, #canvaDocument, #canvaDocument \x3e .inner, .bg, .elements"),l=$(a.target).is(".elements .background.image.element, .elements .background.image.element img"),m=$(a.target).closest(".elements .element").data("canvaElement"),m=m&&m.Hg();if(!(k||l||m||b))return!0;if($(".toolbar__item--submenuExpanded, .colorPalette.on.toolbar--overlay").length)return T.trigger("hideContextualControlsRequested"),
!0;var n=!1,p=$("#canvaDocument").offset(),q=e(a),u=g(a);b=document.getElementById("canvaDocument");var v=q+b.scrollLeft,z=u+b.scrollTop,t=K.Wa();$(a.target).is("input")||$("*:focus").blur();a.shiftKey||hh();var x=$('\x3cdiv id\x3d"marquee"\x3e\x3c/div\x3e');x.css("display","none").css("left",v).css("top",z).appendTo(this.$el);var H=new fp($(document));H.on("mousemove|touchmove",c).on("mouseup|touchend",d);var E=$("#content .element");b0(h.Zk);a.preventDefault()};function xaa(a){soy.asserts.assertType(goog.isString(a.qm)||a.qm instanceof goog.soy.data.SanitizedContent,"actionCopy",a.qm,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.rm)||a.rm instanceof goog.soy.data.SanitizedContent,"actionDelete",a.rm,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.sm)||a.sm instanceof goog.soy.data.SanitizedContent,"actionMoveDown",a.sm,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.tm)||
a.tm instanceof goog.soy.data.SanitizedContent,"actionMoveUp",a.tm,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(a.Gn)||1===a.Gn||0===a.Gn,"isFirst",a.Gn,"boolean");soy.asserts.assertType(goog.isBoolean(a.Hn)||1===a.Hn||0===a.Hn,"isLast",a.Hn,"boolean");soy.asserts.assertType(goog.isBoolean(a.Jn)||1===a.Jn||0===a.Jn,"isPageNumMax",a.Jn,"boolean");soy.asserts.assertType(goog.isNumber(a.tB),"pageNumber",a.tB,"number");soy.asserts.assertType(goog.isBoolean(a.Po)||1===
a.Po||0===a.Po,"toolbarDisabled",a.Po,"boolean");return soydata.VERY_UNSAFE.ordainSanitizedHtml(soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"crops"\x3e\x3cdiv class\x3d"tlcrop"\x3e\x3c/div\x3e\x3cdiv class\x3d"trcrop"\x3e\x3c/div\x3e\x3cdiv class\x3d"brcrop"\x3e\x3c/div\x3e\x3cdiv class\x3d"blcrop"\x3e\x3c/div\x3e\x3c/div\x3e')+Z0({v:"page__bleedAreaLine"})+'\x3cdiv class\x3d"page__clipRegion"\x3e\x3cdiv class\x3d"page__content"\x3e\x3cdiv class\x3d"page__elements elements"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"page__overlays"\x3e\x3cdiv class\x3d"page__furniture"\x3e\x3c/div\x3e'+
Z0({v:"page__safeAreaLine"})+'\x3c/div\x3e\x3cdiv class\x3d"page__editBlocker"\x3e\x3c/div\x3e'+yaa(a))}
function yaa(a){soy.asserts.assertType(goog.isString(a.qm)||a.qm instanceof goog.soy.data.SanitizedContent,"actionCopy",a.qm,"string|goog.soy.data.SanitizedContent");var b=a.qm;soy.asserts.assertType(goog.isString(a.rm)||a.rm instanceof goog.soy.data.SanitizedContent,"actionDelete",a.rm,"string|goog.soy.data.SanitizedContent");var c=a.rm;soy.asserts.assertType(goog.isString(a.sm)||a.sm instanceof goog.soy.data.SanitizedContent,"actionMoveDown",a.sm,"string|goog.soy.data.SanitizedContent");var d=a.sm;
soy.asserts.assertType(goog.isString(a.tm)||a.tm instanceof goog.soy.data.SanitizedContent,"actionMoveUp",a.tm,"string|goog.soy.data.SanitizedContent");var e=a.tm;soy.asserts.assertType(goog.isBoolean(a.Gn)||1===a.Gn||0===a.Gn,"isFirst",a.Gn,"boolean");var g=!!a.Gn;soy.asserts.assertType(goog.isBoolean(a.Hn)||1===a.Hn||0===a.Hn,"isLast",a.Hn,"boolean");var h=!!a.Hn;soy.asserts.assertType(goog.isBoolean(a.Jn)||1===a.Jn||0===a.Jn,"isPageNumMax",a.Jn,"boolean");var k=!!a.Jn;soy.asserts.assertType(goog.isNumber(a.tB),
"pageNumber",a.tB,"number");var l=a.tB;soy.asserts.assertType(goog.isBoolean(a.Po)||1===a.Po||0===a.Po,"toolbarDisabled",a.Po,"boolean");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cmenu class\x3d"pageToolbar '+soy.$$escapeHtmlAttribute(a.Po?"disabled":"")+'"\x3e\x3cli class\x3d"pageToolbarUp '+soy.$$escapeHtmlAttribute(g?"disabled":"enabled")+'"\x3e\x3ca href\x3d"#" title\x3d"'+soy.$$escapeHtmlAttribute(e)+'"\x3e'+soy.$$escapeHtml(e)+'\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"pageToolbarDown '+
soy.$$escapeHtmlAttribute(h?"disabled":"enabled")+'"\x3e\x3ca href\x3d"#" title\x3d"'+soy.$$escapeHtmlAttribute(d)+'"\x3e'+soy.$$escapeHtml(d)+'\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"pageToolbarCopy '+soy.$$escapeHtmlAttribute(k?"disabled":"enabled")+'"\x3e\x3ca href\x3d"#" title\x3d"'+soy.$$escapeHtmlAttribute(b)+'"\x3e'+soy.$$escapeHtml(b)+'\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"pageToolbarDelete '+soy.$$escapeHtmlAttribute(g&&h?"disabled":"enabled")+'"\x3e\x3ca href\x3d"#" title\x3d"'+soy.$$escapeHtmlAttribute(c)+
'"\x3e'+soy.$$escapeHtml(c)+'\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"pageNumber"\x3e'+soy.$$escapeHtml(l)+"\x3c/li\x3e\x3c/menu\x3e")}
function Z0(a){soy.asserts.assertType(goog.isString(a.v)||a.v instanceof goog.soy.data.SanitizedContent,"classes",a.v,"string|goog.soy.data.SanitizedContent");var b=a.v;soy.asserts.assertType(null==a.highlighted||goog.isBoolean(a.highlighted)||1===a.highlighted||0===a.highlighted,"highlighted",a.highlighted,"boolean|null|undefined");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"page__printLine'+(a.highlighted?" page__printLine--highlight":"")+" "+soy.$$escapeHtmlAttribute(b)+'"\x3e\x3cdiv class\x3d"page__printLineInner"\x3e\x3c/div\x3e\x3c/div\x3e')}
;function X_(){}X_=Backbone.View.extend({tagName:"section",className:"page"});X_.M2=function(){$(".pageToolbar").addClass("disabled").hide();$(".pageToolbarCopy").removeClass("enabled").addClass("disabled");X_.Z7=!0};f=X_.prototype;f.events=function(){return{"mousedown .page__elements":this.cO,"mouseout .pageToolbar":this.P4,"click .pageToolbarCopy.enabled":this.b2,"click .pageToolbarDelete.enabled":this.c2,"click .pageToolbarDown.enabled":this.d2,"click .pageToolbarUp.enabled":this.e2,click:this.T1}};
f.initialize=function(a){this.qP=null;this.Kq="";this.Us=a.Us;this.pP=a.pP;this.listenTo(T,"documentView:zoom",this.$K);this.listenTo(this.model,{change:this.m2,"change:background":this.jT,"change:selected":this.kZ,"change:preview":this.J8,"element:add":this.d3,"element:move":this.f3,"element:remove":this.g3,resize:this.u9,willchange:this.n2});this.listenTo(this.model.Fb,{"page:add":this.YK,"page:move":this.YK,"page:remove":this.YK});this.render()};
f.render=function(){var a=this.model.Fb,b=this.model.K();this.$el.html(xaa({qm:this.Us.qm(),rm:this.Us.rm(),sm:this.Us.sm(),tm:this.Us.tm(),tB:b+1,Gn:!!a&&0==b,Hn:!!a&&b==a.Gb().length-1,Jn:!!a&&a.Gb().length>=O.my,Po:!!X_.Z7}).toString());this.$K();this.kZ(0,Qp(a)===b);this.jT();return this};function RC(a){var b=parseFloat(a.$el.css("left"));a=a.$el.find(".page__content").position().left;return b+a}
function VC(a){var b=parseFloat(a.$el.css("top"));a=a.$el.find(".page__content").position().top;return b+a}f.lM=function(){return parseFloat(this.$el.css("left"))};function Y_(a,b){a.$el.css("top",b)}function f0(a,b,c){a.$el.css("left",b);Y_(a,c)}
f.cO=function(a){function b(a){var b=(void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX)-g;a=(void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY)-h;!k&&(Math.abs(b)>O.Hc||Math.abs(a)>O.Hc)&&(k=!0)}function c(){l.off("mousemove|touchmove",b).off("mouseup|touchend",c);if(!(k||0<e.Wa().length)){var a=Tp(e),d=xP(e);0!==d.length?Bg(d.pop()):0<a.length&&jL(a)}}function d(){var b=$(a.target).closest(".element.grid").data("canvaElement");return b&&b.Hg()}if(a.target===a.currentTarget||
0!==$(a.target).closest(".element.background.image").length||d()){var e=this.model;if(!(0<e.Wa().length)){var g=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,h=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,k=!1,l=new fp($(document));l.on("mousemove|touchmove",b).on("mouseup|touchend",c)}}};f.T1=function(a){if(!(0<$(a.target).parents(".pageToolbar").length)){a=this.model.Fb;var b=cp(a,this.model);Ip(a,b)}};
f.e2=function(){var a=this.model.Fb;if(a){var b=this.model.K();1>b||(Vp(a,this.model,b-1),M.register(new FO(5,{pageIndex:b-1,oldPageIndex:b})),b0(vb))}};f.d2=function(){var a=this.model.Fb;if(a){var b=this.model.K();b>=a.Gb().length-1||(Vp(a,this.model,b+1),M.register(new FO(5,{pageIndex:b+1,oldPageIndex:b})),b0(vb))}};
f.b2=function(){T.trigger("pageView:copyButton:click");var a=this.model.K(),b=this.model.clone();Vp(this.model.Fb,b,a+1);b=DO(this.model.serialize());b.pageIndex=a+1;M.register(new FO(1,b));b0(vb)};f.c2=function(){T.trigger("pageView:deleteButton:click");var a=this.model.K(),b=DO(this.model.serialize());b.pageIndex=a;this.model.remove();M.register(new FO(2,b));b0(vb)};f.P4=function(a){0==$(a.relatedTarget||a.toElement).closest(".pageToolbar").length&&T.trigger("pageView:toolbar:mouseout")};
f.n2=function(){this.Zs&&this.Zs.remove();this.Zs=this.$el.clone();this.Zs.addClass("doNotAnimate").insertAfter(this.$el)};f.m2=function(){var a=this;window.setTimeout(function(){a.$el.addClass("on").css("opacity","");a.Zs.remove()},800);this.Zs&&0<this.Zs.parents().length&&this.$el.css("opacity",1).removeClass("on").insertAfter(this.Zs)};f.jT=function(){this.model.If()?this.$el.addClass("dark"):this.$el.removeClass("dark")};f.kZ=function(a,b){this.$el.toggleClass("selected",b)};
f.d3=function(a,b,c,d){function e(){hh();g.removeClass("dropping");Bg(b);g.hasClass("text")&&UK(g,!0)}var g=b.C(),h=$0(this,b),h=h&&h.C();c&&(g.one("animationend",e),b.setPosition((a.l()-b.l())/2,(a.o()-b.o())/2),g.addClass("dropping"));d&&g.addClass("appearing");b instanceof DC?g.appendTo(this.$el.find(".page__furniture")):h&&h.closest(".page").length?g.insertBefore(h):g.appendTo(this.$el.find(".page__elements"));b.te=this.$el;b.ab()};
function $0(a,b){b=a.model.elements.indexOf(b);return a.model.ia().slice(b+1).filter(function(a){return!(a instanceof DC)&&!UC(a)})[0]}f.g3=function(a,b,c,d){var e=b.C();b.Ah();d?(e.addClass("disappearing"),P.delay(O.Da.oL).then(function(){e.remove()})):e.remove()};f.f3=function(a,b){UC(b)||(a=b.C(),(b=$0(this,b))?a.insertBefore(b.C()):a.appendTo(this.$el.find(".page__elements")))};
f.YK=function(){this.$(".pageNumber").text((this.model.K()+1).toString());this.$("li").removeClass("disabled").addClass("enabled");var a=this.model.Fb,b=this.model.K(),c=a&&0==b,a=a&&b==a.Gb().length-1;c&&this.$(".pageToolbarUp").removeClass("enabled").addClass("disabled");a&&this.$(".pageToolbarDown").removeClass("enabled").addClass("disabled");c&&a&&this.$(".pageToolbarDelete").removeClass("enabled").addClass("disabled");vb.model.Gb().length>=O.my&&this.$(".pageToolbarCopy").removeClass("enabled").addClass("disabled")};
f.$K=function(){a1(this);var a=this.model.o()*W,b=this.$(".pageToolbar");this.$el.find(".page__content").css("width",this.model.l()*W).css("height",a);if(a>O.N0){b.addClass("vertical");var c=a/2+Qb+O.M0;c>a?b.css("margin-top",+Qb-(c-a)):b.css("margin-top","")}else b.removeClass("vertical").css("margin-top","");b.data("leftOffset")||(a=this.model.lb(),a=sv(a)+vv(a)-this.model.l(),b.data("leftOffset",a));a=b.data("leftOffset");0<a&&b.css("margin-left",a*W)};
f.qa=function(){var a=this.$(".pageToolbar"),a=a.is(":visible")?Math.round(a.outerWidth(!0)):0;return Cm(Xg(this),a,0)};function g0(a){var b=a.$(".pageToolbar"),b=b.is(":visible")?Math.round(b.outerWidth(!0)):0;return Cm(h0(a),b,0)}function Xg(a){return new V(RC(a),VC(a),parseInt(a.$el.find(".page__content").css("width"),10),parseInt(a.$el.find(".page__content").css("height"),10))}
function h0(a){if(!a.model||!a.model.lb())return new V(0,0,0,0);var b=a.model.lb(),c=Rg(b.tb),d=vv(b)-c.l(),b=uv(b)-c.o(),d=parseInt(a.$el.find(".page__content").css("width"),10)+Math.round(d*W),b=parseInt(a.$el.find(".page__content").css("height"),10)+Math.round(b*W);if(isNaN(d)||!isFinite(d)||0>=d)d=c.l();if(isNaN(b)||!isFinite(b)||0>=b)b=c.o();return new V(RC(a),VC(a),d,b)}
X_.MJ=function(a,b,c){return b?(b=Rg(a.tb).o(),c=y(c,"Cannot draw print markings without a PaperSize"),c=X_.vT(b,c),a=uv(a)-b,b+Math.max(a,2*c.Br)):uv(a)};X_.prototype.u9=function(){this.$K();this.model.ia().forEach(function(a){a.ab()})};
X_.prototype.J8=function(){var a=this,b=this.Kq;(this.Kq=this.model.Kq)?this.$el.find(".page__content").css("background-image","url("+this.Kq+")").css("background-size","cover"):b?window.setTimeout(function(){a.$el.find(".page__content").css("background-image","none").css("background-size","")},300):this.$el.find(".page__content").css("background-image","none").css("background-size","")};
X_.prototype.zi=function(a){this.$el.toggleClass("page--printMarkingsEnabled",a);a&&y(this.qP,"Cannot enable print markings without print markings sizes");a1(this)};X_.prototype.Ew=function(){return this.$el.hasClass("page--printMarkingsEnabled")};X_.vT=function(a,b){a/=b.Yj;return{Br:a*X_.cJ,B9:a*X_.cJ}};
function a1(a){if(a.Ew()){var b=y(a.qP,"Cannot draw print markings without print markings sizes"),c=b.B9*W,b=b.Br*W;a.$el.find(".page__safeAreaLine").css("top",c+"px").css("right",c+"px").css("bottom",c+"px").css("left",c+"px");a.$el.find(".page__clipRegion").css("padding",b+"px");a.$el.find(".page__overlays").css("top",b+"px").css("right",b+"px").css("bottom",b+"px").css("left",b+"px")}else a.$el.find(".page__safeAreaLine").css("padding",""),a.$el.find(".page__clipRegion").css("padding",""),a.$el.find(".page__furniture").css("padding",
"")}function EN(a,b){a.$el.find(".page__elements").append(b)}function BV(a,b){a.$el.find(".page__elements").prepend(b)}function PV(a,b){a.$el.find(".page__content").append(b)}X_.prototype.aI=function(a){this.qP=X_.vT(this.model.o(),a);a1(this)};X_.cJ=3175;function zaa(a){soy.asserts.assertType(goog.isString(a.title)||a.title instanceof goog.soy.data.SanitizedContent,"title",a.title,"string|goog.soy.data.SanitizedContent");var b=a.title;soy.asserts.assertType(goog.isString(a.sg)||a.sg instanceof goog.soy.data.SanitizedContent,"subtitle",a.sg,"string|goog.soy.data.SanitizedContent");var c=a.sg;soy.asserts.assertType(goog.isString(a.Kx)||a.Kx instanceof goog.soy.data.SanitizedContent,"step1Label",a.Kx,"string|goog.soy.data.SanitizedContent");var d=a.Kx;
soy.asserts.assertType(a.xC instanceof soydata.SanitizedHtml||a.xC instanceof soydata.UnsanitizedText||goog.isString(a.xC),"step1Html",a.xC,"soydata.SanitizedHtml");var e=a.xC;soy.asserts.assertType(goog.isString(a.Lx)||a.Lx instanceof goog.soy.data.SanitizedContent,"step2Label",a.Lx,"string|goog.soy.data.SanitizedContent");var g=a.Lx;soy.asserts.assertType(a.Dt instanceof soydata.SanitizedHtml||a.Dt instanceof soydata.UnsanitizedText||goog.isString(a.Dt),"step2Html",a.Dt,"soydata.SanitizedHtml");
a=a.Dt;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cheader class\x3d"popupBlockedHeader"\x3e\x3ch1 class\x3d"popupBlockedTitle"\x3e'+soy.$$escapeHtml(b)+'\x3c/h1\x3e\x3ch2 class\x3d"popupBlockedSubTitle"\x3e'+soy.$$escapeHtml(c)+'\x3c/h2\x3e\x3c/header\x3e\x3col class\x3d"popupBlockedSteps"\x3e\x3cli class\x3d"popupBlockedStep"\x3e\x3ch3 class\x3d"popupBlockedStepLabel"\x3e'+soy.$$escapeHtml(d)+'\x3c/h3\x3e\x3cp class\x3d"popupBlockedStepDirections"\x3e'+soy.$$escapeHtml(e)+'\x3c/p\x3e\x3c/li\x3e\x3cli class\x3d"popupBlockedStep"\x3e\x3ch3 class\x3d"popupBlockedStepLabel"\x3e'+
soy.$$escapeHtml(g)+'\x3c/h3\x3e\x3cp class\x3d"popupBlockedStepDirections"\x3e'+soy.$$escapeHtml(a)+"\x3c/p\x3e\x3c/li\x3e\x3c/ol\x3e")};function FZ(){}FZ=kp.extend({className:"popupBlocked"});FZ.H0={Chrome:!0,IE:!0};FZ.A$=function(a){return a in FZ.H0};FZ.prototype.initialize=function(a){kp.prototype.initialize.call(this,{H:hl,jf:!1,Ho:!1});this.Bm=a.Bm;this.i=a.i};FZ.prototype.events=function(){return{"click .popupBlockedFileMenuLink":this.ok}};
FZ.prototype.render=function(){kp.prototype.render.call(this);var a,b;switch(this.Bm){case "Chrome":a=this.i.Ia("popupBlockedDialogChromeStep1Html");b="popupBlockedChrome";break;case "IE":a=this.i.Ia("popupBlockedDialogIeStep1Html");b="popupBlockedIE";break;default:throw Error('Unsupported browser "'+this.Bm+'"');}this.$(".content").html(zaa({title:this.i.title(),sg:this.i.sg(),Kx:this.i.Kx(),xC:a,Lx:this.i.Lx(),Dt:this.i.Dt()}).toString());this.$el.addClass(b);return this};
FZ.prototype.show=function(){kp.prototype.show.call(this);var a=this.$el.parent().prevAll(".modalContent:not(.modalContentPreviousSibling)");a.addClass("modalContentPreviousSibling");this.once("remove",function(){a.removeClass("modalContentPreviousSibling")});return this};function x0(){}
x0=Backbone.View.extend({id:"submitLayoutDialog",template:_.template('\x3cdiv class\x3d"dialog preparing"\x3e\x3cdiv class\x3d"flowProgress"\x3e\x3c/div\x3e\x3ch2 class\x3d"dialogTitle"\x3eSubmit your \x3c%\x3d typeDescription %\x3e\x3c/h2\x3e\x3cdiv class\x3d"content"\x3e\x3c/div\x3e\x3c/div\x3e'),K4:_.template('\x3cfieldset class\x3d"appears layoutMetadata"\x3e\x3clabel\x3eTitle of your \x3c%\x3d typeDescription %\x3e\x3c/label\x3e\x3cinput class\x3d"layoutMetadataTitle textInput" name\x3d"layoutTitle" value\x3d"\x3c%\x3d title %\x3e"\x3e\x3clabel\x3eKeywords (comma separated)\x3c/label\x3e\x3ctextarea class\x3d"layoutMetadataKeywords textInput" name\x3d"layoutKeywords" rows\x3d"3" placeholder\x3d"Help your \x3c%\x3d typeDescription %\x3e to be found when searching"\x3e\x3c%\x3d keywords %\x3e\x3c/textarea\x3e\x3clabel\x3eLocale\x3c/label\x3e\x3cdiv class\x3d"submitLayoutClear"\x3e\x3c/div\x3e\x3cspan class\x3d"select"\x3e\x3cselect class\x3d"layoutMetadataLocale"\x3e\x3c% locales.forEach(function(locale) { %\x3e\x3coption data-locale\x3d"\x3c%- locale.key %\x3e" \x3c%- locale.key \x3d\x3d\x3d documentLocale ? "selected" : "" %\x3e\x3e\x3c%- locale.description %\x3e\x3c/option\x3e\x3c% }); %\x3e\x3c/select\x3e\x3c/span\x3e\x3c/fieldset\x3e'),v1:_.template('\x3cfieldset class\x3d"appears elementMetadata"\x3e\x3cdiv class\x3d"thumb"\x3e\x3c%\x3d thumb %\x3e\x3c/div\x3e\x3cdiv class\x3d"labels"\x3e\x3clabel for\x3d"elementTitle\x3c%\x3d index %\x3e"\x3eTitle\x3c/label\x3e\x3clabel for\x3d"elementDescription\x3c%\x3d index %\x3e"\x3eDescription\x3c/label\x3e\x3clabel for\x3d"elementKeywords\x3c%\x3d index %\x3e"\x3eKeywords\x3c/label\x3e\x3c/div\x3e\x3cdiv class\x3d"inputs"\x3e\x3cinput type\x3d"hidden" class\x3d"elementMetadataMedia" name\x3d"elementMedia\x3c%\x3d index %\x3e" value\x3d"\x3c%\x3d media %\x3e" /\x3e\x3cinput type\x3d"hidden" class\x3d"elementMetadataVersion" name\x3d"elementVersion\x3c%\x3d index %\x3e" value\x3d"\x3c%\x3d version %\x3e" /\x3e\x3cinput class\x3d"elementMetadataTitle" name\x3d"elementTitle\x3c%\x3d index %\x3e" /\x3e\x3cinput class\x3d"elementMetadataDescription" name\x3d"elementDescription\x3c%\x3d index %\x3e" /\x3e\x3cinput class\x3d"elementMetadataKeywords" name\x3d"elementKeywords\x3c%\x3d index %\x3e" /\x3e\x3c/div\x3e\x3cspan class\x3d"select"\x3e\x3cselect class\x3d"elementMetadataPrice" name\x3d"elementPrice\x3c%\x3d index %\x3e" id\x3d"elementPriceSelect"\x3e\x3coption value\x3d"FREE"\x3eFREE\x3c/option\x3e\x3coption value\x3d"PAID"\x3ePAID\x3c/option\x3e\x3c/select\x3e\x3c/span\x3e\x3c/fieldset\x3e')});
f=x0.prototype;f.events=function(){return{"click .button.ok":this.ok,"click .button.reviewElements":this.cQ,"click .button.submitChildrenMetadata":this.v$,"click .button.submitMetadata":this.w$,"click .close":this.cancel}};f.remove=function(){var a=this;this.$(".dialog").addClass("disappearing");this.Qd.hide();this.trigger("hide");window.setTimeout(function(){a.trigger("remove",a);Backbone.View.prototype.remove.call(a)},300)};
f.initialize=function(a){function b(){c.Kh.cancel();c.off("hide",b)}var c=this;this.Qd=new oz({style:pz,H:hl});this.listenTo(this.Qd,"maskClick",this.cancel);this.document=a.document;this.Kh=a.workflow;this.Ux=a.typeDescription;this.GZ=a.showProgress;this.yd=a.keywords;this.on("hide",b);this.KW=new b1({s$:Object.freeze([{v:["pricing"],label:this.Ux},{v:["pricingChildren"],label:"Media"},{v:["complete"],label:"Complete"}])});this.listenTo(this.Kh,"change:state",this.w7);var d=a.availableLocales||{};
this.locales=Object.keys(d).sort().map(function(a){return{key:a,description:d[a]}});this.wg=a.userLocale};f.render=function(){this.$el.html(this.template({typeDescription:this.Ux}));return this};function c1(a,b,c){b=$('\x3cform class\x3d"metadataForm"\x3e'+b+"\x3c/form\x3e");a.$(".content").empty().append(b);d1(a);Aaa(a,c)}
function Baa(a){var b=a.document.qb(),c=a.yd&&0<a.yd.length?a.yd:a.document.Sj(),d=a.document.Df();0===c.length&&(c=cU(b));d||(d=a.wg?a.wg:a.locales[0].key);b=a.K4({title:b.ul(),typeDescription:a.Ux,keywords:c.join(", "),locales:a.locales,documentLocale:d});window.setTimeout(function(){a.$(".dialog").removeClass("preparing")},300);c1(a,b,"submitMetadata")}
function Caa(a){function b(a,b){var c=a.Ja(),l=c.ic()[wD],m=new V(0,0,l.l(),l.o());fh(m,e);m="width:"+m.l()+"px;height:"+m.o()+"px;margin-top:"+m.w()+"px;margin-left:"+m.F()+"px;";m=$('\x3cimg class\x3d"thumbImage" style\x3d"'+m+'"\x3e');m.attr("src",l.oa());return d.v1({media:a.u(),version:c.getVersion(),index:b,thumb:m.clone().wrap("\x3cdiv\x3e\x3c/div\x3e").parent().html()})}function c(){window.setTimeout(function(){d.$(".thumbImage").addClass("appeared")},1E3)}var d=a,e=new V(0,0,118,118);laa(a.Kh,
function(a){a&&0!==a.length?(d.$(".dialog").css("width","45em"),c1(d,a.map(b).join(""),"submitChildrenMetadata"),2<a.length&&(d.$(".metadataForm").css("height","24em").addClass("scrolling"),d.$(".content").prepend('\x3cp class\x3d"elementCount"\x3ePlease provide information for these '+a.length+" elements. Scroll down.\x3c/p\x3e")),c()):(a=d.Kh,a.UJ=[],a.qg.transition("price"))})}function d1(a){window.setTimeout(function(){a.$(".appears").addClass("appeared")},300)}
function Daa(a){a.$(".dialog").css("width","30em");a.$(".dialogTitle").text(a.Ux+" submitted!");a.$(".content").html('\x3cdiv class\x3d"reviewNotice"\x3e\x3cp\x3e\x3cstrong\x3eYour '+a.Ux+" has been submitted!\x3c/strong\x3e\x3cbr\x3e\x3c/p\x3e\x3c/div\x3e");window.setTimeout(function(){var b=$('\x3cdiv class\x3d"appears button ok awesome"\x3eAwesome!\x3c/div\x3e');a.$(".content").append(b);d1(a)},300)}
function Aaa(a,b){var c=$('\x3cdiv class\x3d"appears button forward '+b+'"\x3eNext \x26rarr;\x3c/div\x3e');window.setTimeout(function(){a.$(".content").append(c);d1(a)},300)}
f.w7=function(a,b){switch(b){case "pricing":Baa(this);break;case "pricingChildren":Caa(this);break;case "reviewingSubmission":a=this.Kh;a.qg.transition("submit");try{a.x$(a.UJ),a.qg.transition("success")}catch(c){throw a.qg.transition("error"),c;}break;case "submitted":this.$(".dialog").css("width","30em");this.$(".content").html('\x3cdiv class\x3d"reviewNotice"\x3e\x3cp\x3e\x3cstrong\x3eYour '+this.Ux+" is being packaged up for our reviewers.\x3c/strong\x3e\x3cbr\x3e\x3c/p\x3e\x3c/div\x3e");break;
case "completed":Daa(this);break;case "failed":this.$(".dialog").css("width","30em"),a=this.$(".content"),a.html('\x3cdiv class\x3d"reviewNotice"\x3e\x3cp\x3eSomething went wrong submitting your design.\x3cbr\x3e\x3cbr\x3ePlease try again later.\x3c/p\x3e\x3c/div\x3e'),a.find(".reviewNotice").css("text-align","center")}this.KW.render(b)};f.show=function(){this.render();this.Qd.show(this.el);this.GZ&&this.KW.show(this.$el.find(".flowProgress"));this.Kh.start()};f.cancel=function(){this.remove()};
f.ok=function(){this.remove()};f.w$=function(){var a=this;Eaa(this.$(".layoutMetadata"),function(b){kaa(a.Kh,b)})};f.cQ=function(){this.Kh.cQ()};f.v$=function(){var a=[],b=this,c=this.$(".elementMetadata"),d=_.after(c.length,function(){var c=b.Kh;c.UJ=a;c.qg.transition("price")});c.each(function(){var b=$(this);Faa(b,function(b){a.push(b);d()})})};
function Faa(a,b){var c=""+a.find(".elementMetadataMedia").val(),d=parseFloat(""+a.find(".elementMetadataVersion").val()),e=""+a.find(".elementMetadataTitle").val(),g=""+a.find(".elementMetadataDescription").val(),h=e1(""+a.find(".elementMetadataKeywords").val());a=a.find(".elementMetadataPrice").val();b({media:c,version:d,title:e,description:g,keywords:h,price:a})}
function Eaa(a,b){var c=a.find(".layoutMetadataTitle").val(),d=e1(""+a.find(".layoutMetadataKeywords").val());a=a.find(".layoutMetadataLocale :selected").data("locale");b({title:c,keywords:d,locale:a})}function e1(a){return a?a.split(/[,;]+/g).filter(Boolean).map(function(a){return a.trim()}):[]};function f1(a,b){b=b||{};soy.asserts.assertType(goog.isNumber(a.progress),"progress",a.progress,"number");var c=a.progress;soy.asserts.assertType(null==a.EB||a.EB instanceof goog.soy.data.SanitizedContent||goog.isString(a.EB),"progressSpeed",a.EB,"null|string|undefined");var d=a.EB;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");a=a.v;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"loadingBar'+
(a?" "+soy.$$escapeHtmlAttribute(a):"")+'"\x3e\x3cspan class\x3d"loadingBar__value" data-progress\x3d"'+soy.$$escapeHtmlAttribute(c)+'"'+(d?' data-progress-speed\x3d"'+soy.$$escapeHtmlAttribute(d)+'"':"")+' style\x3d"'+(b.Yb?"/*"+b.Yb+"*/":"")+"transform: translateX("+soy.$$escapeHtmlAttribute(soy.$$filterCssValue(100*c))+'%)"\x3e\x3c/span\x3e\x3c/div\x3e')};function g1(a){this.$el=a;this.value=a.find(".loadingBar__value")}r(g1,gc);function h1(a){var b=new g1(a);il(function(){b.Fw()});return b}g1.prototype.remove=function(){i1(this);gc.prototype.remove.call(this)};g1.prototype.tZ=function(a){a=Math.max(Math.min(a,1),0);i1(this);this.value.css("transition","none");this.lr(a);this.Fw()};g1.prototype.lr=function(a){this.value.attr("data-progress",a).css("transform","translateX("+100*a+"%)")};
g1.prototype.Fw=function(){var a=this;il(function(){a.value.css("transition","");var b=parseFloat(a.value.attr("data-progress")),c=.33*(.99-Math.min(.99,parseFloat(a.value.attr("data-progress"))));a.lr(b+c);Gaa(a)})};function Haa(a){a=a.value.attr("data-progress-speed")||j1;switch(a){case k1:return 5E3;case j1:return 3E3;case Iaa:return 1E3;default:throw Error("Expected LoadingBarView.ProgressSpeed, found "+a);}}
function Gaa(a){var b=window.setTimeout(function(){return a.Fw()},1.1*Haa(a));a.value.attr("data-timeout-id",b)}function i1(a){a=parseInt(a.value.attr("data-timeout-id"),10);window.clearTimeout(a)}var k1="SLOW",j1="NORMAL",Iaa="FAST";function l1(a){var b;soy.asserts.assertType(a.content instanceof soydata.SanitizedHtml||a.content instanceof soydata.UnsanitizedText||goog.isString(a.content),"content",a.content,"soydata.SanitizedHtml");var c=a.content;soy.asserts.assertType(goog.isString(a.heading)||a.heading instanceof goog.soy.data.SanitizedContent,"heading",a.heading,"string|goog.soy.data.SanitizedContent");var d=a.heading;soy.asserts.assertType(null==a.caption||a.caption instanceof goog.soy.data.SanitizedContent||goog.isString(a.caption),
"caption",a.caption,"null|string|undefined");var e=a.caption;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csection class\x3d"settingsGroup '+soy.$$escapeHtmlAttribute(null==(b=a.v)?"":b)+'"\x3e\x3ch2 class\x3d"settingsGroup__heading"\x3e'+soy.$$escapeHtml(d)+"\x3c/h2\x3e"+(e?'\x3cdiv class\x3d"settingsGroup__caption"\x3e'+soy.$$escapeHtml(e)+"\x3c/div\x3e":
"")+'\x3cdiv class\x3d"settingsGroup__content"\x3e'+soy.$$escapeHtml(c)+"\x3c/div\x3e\x3c/section\x3e")}
function m1(a){soy.asserts.assertType(a.content instanceof soydata.SanitizedHtml||a.content instanceof soydata.UnsanitizedText||goog.isString(a.content),"content",a.content,"soydata.SanitizedHtml");var b=a.content;soy.asserts.assertType(null==a.attributes||a.attributes instanceof soydata.SanitizedHtmlAttribute||a.attributes instanceof soydata.UnsanitizedText||goog.isString(a.attributes),"attributes",a.attributes,"?soydata.SanitizedHtmlAttribute|string|undefined");var c=a.attributes;soy.asserts.assertType(null==
a.caption||a.caption instanceof goog.soy.data.SanitizedContent||a.caption instanceof soydata.SanitizedHtml||a.caption instanceof soydata.UnsanitizedText||goog.isString(a.caption),"caption",a.caption,"?soydata.SanitizedHtml|string|undefined");var d=a.caption;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");var e=a.v;soy.asserts.assertType(null==a.Ua||goog.isBoolean(a.Ua)||1===a.Ua||0===a.Ua,"column",a.Ua,"boolean|null|undefined");
var g=a.Ua;soy.asserts.assertType(null==a.error||a.error instanceof goog.soy.data.SanitizedContent||a.error instanceof soydata.SanitizedHtml||a.error instanceof soydata.UnsanitizedText||goog.isString(a.error),"error",a.error,"?soydata.SanitizedHtml|string|undefined");var h=a.error;soy.asserts.assertType(null==a.label||a.label instanceof goog.soy.data.SanitizedContent||goog.isString(a.label),"label",a.label,"null|string|undefined");var k=a.label;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csection class\x3d"settingContainer'+
(g?" settingContainer--column":"")+(e?" "+soy.$$escapeHtmlAttribute(e):"")+(h?" settingContainer--error":"")+'"'+(c?" "+soy.$$filterHtmlAttributes(c):"")+'\x3e\x3cdiv class\x3d"settingContainer__settingInfo"\x3e'+(k?'\x3ch3 class\x3d"settingContainer__settingLabel"\x3e'+soy.$$escapeHtml(k)+"\x3c/h3\x3e":"")+(d?'\x3cdiv class\x3d"settingContainer__settingCaption"\x3e'+soy.$$escapeHtml(d)+"\x3c/div\x3e":"")+'\x3cdiv class\x3d"settingContainer__errorContainer"\x3e'+(h?Jaa(a):"")+'\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"settingContainer__settings"\x3e'+
soy.$$escapeHtml(b)+"\x3c/div\x3e\x3c/section\x3e")}function Jaa(a){soy.asserts.assertType(a.error instanceof goog.soy.data.SanitizedContent||a.error instanceof soydata.SanitizedHtml||a.error instanceof soydata.UnsanitizedText||goog.isString(a.error),"error",a.error,"!soydata.SanitizedHtml|string");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cspan class\x3d"settingContainer__error"\x3e'+soy.$$escapeHtml(a.error)+"\x3c/span\x3e")}
function n1(a){soy.asserts.assertType(a.input instanceof soydata.SanitizedHtml||a.input instanceof soydata.UnsanitizedText||goog.isString(a.input),"input",a.input,"soydata.SanitizedHtml");var b=a.input;soy.asserts.assertType(null==a.error||a.error instanceof goog.soy.data.SanitizedContent||a.error instanceof soydata.SanitizedHtml||a.error instanceof soydata.UnsanitizedText||goog.isString(a.error),"error",a.error,"?soydata.SanitizedHtml|string|undefined");var c=a.error;soy.asserts.assertType(null==
a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");var d=a.v;soy.asserts.assertType(null==a.lA||a.lA instanceof soydata.SanitizedHtml||a.lA instanceof soydata.UnsanitizedText||goog.isString(a.lA),"help",a.lA,"?soydata.SanitizedHtml|string|undefined");var e=a.lA;soy.asserts.assertType(null==a.info||a.info instanceof goog.soy.data.SanitizedContent||a.info instanceof soydata.SanitizedHtml||a.info instanceof soydata.UnsanitizedText||goog.isString(a.info),
"info",a.info,"?soydata.SanitizedHtml|string|undefined");var g=a.info;soy.asserts.assertType(null==a.label||a.label instanceof goog.soy.data.SanitizedContent||goog.isString(a.label),"label",a.label,"null|string|undefined");var h=a.label;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"settingContainer__input '+soy.$$escapeHtmlAttribute(null==d?"":d)+'"\x3e'+(h||e?'\x3cdiv class\x3d"settingContainer__inputAbove"\x3e'+(h?'\x3clabel class\x3d"settingContainer__inputLabel"\x3e'+soy.$$escapeHtml(h)+
"\x3c/label\x3e":"")+(e?'\x3cspan class\x3d"settingContainer__inputHelp"\x3e'+soy.$$escapeHtml(e)+"\x3c/span\x3e":"")+"\x3c/div\x3e":"")+soy.$$escapeHtml(b)+'\x3cdiv class\x3d"settingContainer__inputBelow"\x3e\x3cdiv class\x3d"settingContainer__inputErrorContainer"\x3e'+(c?o1(a):"")+"\x3c/div\x3e"+(g?'\x3cspan class\x3d"settingContainer__inputInfo"\x3e'+soy.$$escapeHtml(g)+"\x3c/span\x3e":"")+"\x3c/div\x3e\x3c/div\x3e")}
function o1(a){soy.asserts.assertType(a.error instanceof goog.soy.data.SanitizedContent||a.error instanceof soydata.SanitizedHtml||a.error instanceof soydata.UnsanitizedText||goog.isString(a.error),"error",a.error,"!soydata.SanitizedHtml|string");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cspan class\x3d"settingContainer__inputError"\x3e'+soy.$$escapeHtml(a.error)+"\x3c/span\x3e")}
function p1(a){var b;soy.asserts.assertType(a.content instanceof soydata.SanitizedHtml||a.content instanceof soydata.UnsanitizedText||goog.isString(a.content),"content",a.content,"soydata.SanitizedHtml");var c=a.content;soy.asserts.assertType(null==a.visible||goog.isBoolean(a.visible)||1===a.visible||0===a.visible,"visible",a.visible,"boolean|null|undefined");var d=a.visible;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");
return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"settingContainer__hiddenInputs'+(d?" settingContainer__hiddenInputs--visible":"")+" "+soy.$$escapeHtmlAttribute(null==(b=a.v)?"":b)+'"\x3e'+soy.$$escapeHtml(c)+"\x3c/div\x3e")}
function q1(a){soy.asserts.assertType(a.buttons instanceof soydata.SanitizedHtml||a.buttons instanceof soydata.UnsanitizedText||goog.isString(a.buttons),"buttons",a.buttons,"soydata.SanitizedHtml");var b=a.buttons;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");var c=a.v;soy.asserts.assertType(null==a.Ua||goog.isBoolean(a.Ua)||1===a.Ua||0===a.Ua,"column",a.Ua,"boolean|null|undefined");var d=a.Ua;soy.asserts.assertType(null==
a.error||a.error instanceof goog.soy.data.SanitizedContent||a.error instanceof soydata.SanitizedHtml||a.error instanceof soydata.UnsanitizedText||goog.isString(a.error),"error",a.error,"?soydata.SanitizedHtml|string|undefined");var e=a.error;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"settingsFormActions '+(d?" settingsFormActions--column":"")+" "+soy.$$escapeHtmlAttribute(null==c?"":c)+'"\x3e\x3cdiv class\x3d"settingsFormActions__errorContainer"\x3e'+(e?r1(a):"")+'\x3c/div\x3e\x3cdiv class\x3d"settingsFormActions__buttons"\x3e'+
soy.$$escapeHtml(b)+"\x3c/div\x3e\x3c/div\x3e")}function r1(a){soy.asserts.assertType(a.error instanceof goog.soy.data.SanitizedContent||a.error instanceof soydata.SanitizedHtml||a.error instanceof soydata.UnsanitizedText||goog.isString(a.error),"error",a.error,"!soydata.SanitizedHtml|string");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cspan class\x3d"settingsFormActions__error"\x3e'+soy.$$escapeHtml(a.error)+"\x3c/span\x3e")};function s1(a){gc.apply(this,arguments)}r(s1,gc);function t1(a){w(a.hasClass("settingContainer__input"),"the given element {} is not an input container",a.get(0));return new s1(a)}s1.prototype.xk=function(a){this.$el.addClass("settingContainer__input--error");var b=this.$el.find(".settingContainer__inputError");0<b.length?(b.removeClass("settingContainer__inputError--hidden"),b.html(a.toString())):(b=this.$el.find(".settingContainer__inputErrorContainer"),a=o1({error:a}).toString(),b.html(a))};
s1.prototype.lg=function(){this.$el.removeClass("settingContainer__input--error");var a=this.$el.find(".settingContainer__inputErrorContainer").find(".settingContainer__inputError");0<a.length&&(a.addClass("settingContainer__inputError--hidden"),Cf(a[0]).then(function(){a.hasClass("settingContainer__inputError--hidden")&&a.remove()}))};function u1(a){gc.apply(this,arguments)}r(u1,gc);u1.prototype.xk=function(a){a=r1({error:a}).toString();return this.$el.find(".settingsFormActions__errorContainer").html(a)};
u1.prototype.lg=function(){this.$el.find(".settingsFormActions__errorContainer").find(".settingsFormActions__error").addClass("settingsFormActions__error--hidden")};function v1(a,b){a=a.$el.find(".settingsFormActions__buttons");a.empty();a.append(b)};function w1(){return new Map([["AD","Andorra"],["AE","United Arab Emirates"],["AF","Afghanistan"],["AG","Antigua and Barbuda"],["AI","Anguilla"],["AL","Albania"],["AM","Armenia"],["AO","Angola"],["AQ","Antarctica"],["AR","Argentina"],["AS","American Samoa"],["AT","Austria"],["AU","Australia"],["AW","Aruba"],["AX","land Islands"],["AZ","Azerbaijan"],["BA","Bosnia and Herzegovina"],["BB","Barbados"],["BD","Bangladesh"],["BE","Belgium"],["BF","Burkina Faso"],["BG","Bulgaria"],["BH","Bahrain"],["BI",
"Burundi"],["BJ","Benin"],["BL","Saint Barthlemy"],["BM","Bermuda"],["BN","Brunei Darussalam"],["BO","Bolivia"],["BQ","Bonaire, Sint Eustatius and Saba"],["BR","Brazil"],["BS","Bahamas"],["BT","Bhutan"],["BV","Bouvet Island"],["BW","Botswana"],["BY","Belarus"],["BZ","Belize"],["CA","Canada"],["CC","Cocos (Keeling) Islands"],["CD","Congo, the Democratic Republic of the"],["CF","Central African Republic"],["CG","Congo"],["CH","Switzerland"],["CI","Cte d'Ivoire"],["CK","Cook Islands"],["CL","Chile"],
["CM","Cameroon"],["CN","China"],["CO","Colombia"],["CR","Costa Rica"],["CU","Cuba"],["CV","Cape Verde"],["CW","Curaao"],["CX","Christmas Island"],["CY","Cyprus"],["CZ","Czech Republic"],["DE","Germany"],["DJ","Djibouti"],["DK","Denmark"],["DM","Dominica"],["DO","Dominican Republic"],["DZ","Algeria"],["EC","Ecuador"],["EE","Estonia"],["EG","Egypt"],["EH","Western Sahara"],["ER","Eritrea"],["ES","Spain"],["ET","Ethiopia"],["FI","Finland"],["FJ","Fiji"],["FK","Falkland Islands (Malvinas)"],["FM","Micronesia, Federated States of"],
["FO","Faroe Islands"],["FR","France"],["GA","Gabon"],["GB","United Kingdom"],["GD","Grenada"],["GE","Georgia"],["GF","French Guiana"],["GG","Guernsey"],["GH","Ghana"],["GI","Gibraltar"],["GL","Greenland"],["GM","Gambia"],["GN","Guinea"],["GP","Guadeloupe"],["GQ","Equatorial Guinea"],["GR","Greece"],["GS","South Georgia and the South Sandwich Islands"],["GT","Guatemala"],["GU","Guam"],["GW","Guinea-Bissau"],["GY","Guyana"],["HK","Hong Kong"],["HM","Heard Island and McDonald Islands"],["HN","Honduras"],
["HR","Croatia"],["HT","Haiti"],["HU","Hungary"],["ID","Indonesia"],["IE","Ireland"],["IL","Israel"],["IM","Isle of Man"],["IN","India"],["IO","British Indian Ocean Territory"],["IQ","Iraq"],["IR","Iran"],["IS","Iceland"],["IT","Italy"],["JE","Jersey"],["JM","Jamaica"],["JO","Jordan"],["JP","Japan"],["KE","Kenya"],["KG","Kyrgyzstan"],["KH","Cambodia"],["KI","Kiribati"],["KM","Comoros"],["KN","Saint Kitts and Nevis"],["KP","North Korea"],["KR","South Korea"],["KW","Kuwait"],["KY","Cayman Islands"],
["KZ","Kazakhstan"],["LA","Laos"],["LB","Lebanon"],["LC","Saint Lucia"],["LI","Liechtenstein"],["LK","Sri Lanka"],["LR","Liberia"],["LS","Lesotho"],["LT","Lithuania"],["LU","Luxembourg"],["LV","Latvia"],["LY","Libya"],["MA","Morocco"],["MC","Monaco"],["MD","Moldova"],["ME","Montenegro"],["MF","Saint Martin"],["MG","Madagascar"],["MH","Marshall Islands"],["MK","Macedonia"],["ML","Mali"],["MM","Myanmar"],["MN","Mongolia"],["MO","Macao"],["MP","Northern Mariana Islands"],["MQ","Martinique"],["MR","Mauritania"],
["MS","Montserrat"],["MT","Malta"],["MU","Mauritius"],["MV","Maldives"],["MW","Malawi"],["MX","Mexico"],["MY","Malaysia"],["MZ","Mozambique"],["NA","Namibia"],["NC","New Caledonia"],["NE","Niger"],["NF","Norfolk Island"],["NG","Nigeria"],["NI","Nicaragua"],["NL","Netherlands"],["NO","Norway"],["NP","Nepal"],["NR","Nauru"],["NU","Niue"],["NZ","New Zealand"],["OM","Oman"],["PA","Panama"],["PE","Peru"],["PF","French Polynesia"],["PG","Papua New Guinea"],["PH","Philippines"],["PK","Pakistan"],["PL","Poland"],
["PM","Saint Pierre and Miquelon"],["PN","Pitcairn"],["PR","Puerto Rico"],["PS","Palestinian Territory"],["PT","Portugal"],["PW","Palau"],["PY","Paraguay"],["QA","Qatar"],["RE","Runion"],["RO","Romania"],["RS","Serbia"],["RU","Russia"],["RW","Rwanda"],["SA","Saudi Arabia"],["SB","Solomon Islands"],["SC","Seychelles"],["SD","Sudan"],["SE","Sweden"],["SG","Singapore"],["SH","Saint Helena, Ascension and Tristan da Cunha"],["SI","Slovenia"],["SJ","Svalbard and Jan Mayen"],["SK","Slovakia"],["SL","Sierra Leone"],
["SM","San Marino"],["SN","Senegal"],["SO","Somalia"],["SR","Suriname"],["SS","South Sudan"],["ST","Sao Tome and Principe"],["SV","El Salvador"],["SX","Sint Maarten"],["SY","Syria"],["SZ","Swaziland"],["TC","Turks and Caicos Islands"],["TD","Chad"],["TF","French Southern Territories"],["TG","Togo"],["TH","Thailand"],["TJ","Tajikistan"],["TK","Tokelau"],["TL","Timor-Leste"],["TM","Turkmenistan"],["TN","Tunisia"],["TO","Tonga"],["TR","Turkey"],["TT","Trinidad and Tobago"],["TV","Tuvalu"],["TW","Taiwan"],
["TZ","Tanzania"],["UA","Ukraine"],["UG","Uganda"],["UM","United States Minor Outlying Islands"],["US","United States"],["UY","Uruguay"],["UZ","Uzbekistan"],["VA","Holy See (Vatican City State)"],["VC","Saint Vincent and the Grenadines"],["VE","Venezuela"],["VG","Virgin Islands, British"],["VI","Virgin Islands, U.S."],["VN","Viet Nam"],["VU","Vanuatu"],["WF","Wallis and Futuna"],["WS","Samoa"],["YE","Yemen"],["YT","Mayotte"],["ZA","South Africa"],["ZM","Zambia"],["ZW","Zimbabwe"]])};function x1(a){switch(a){case "US":return new Map(Kaa);case "AU":return new Map(Laa);case "MX":return new Map(Maa);case "CA":return new Map(Naa);case "BR":return new Map(Oaa);case "IN":return new Map(Paa);default:return new Map}}
var Kaa=new Map([["US-AK","Alaska"],["US-AL","Alabama"],["US-AR","Arkansas"],["US-AS","American Samoa"],["US-AZ","Arizona"],["US-CA","California"],["US-CO","Colorado"],["US-CT","Connecticut"],["US-DC","District of Columbia"],["US-DE","Delaware"],["US-FL","Florida"],["US-GA","Georgia"],["US-GU","Guam"],["US-HI","Hawaii"],["US-IA","Iowa"],["US-ID","Idaho"],["US-IL","Illinois"],["US-IN","Indiana"],["US-KS","Kansas"],["US-KY","Kentucky"],["US-LA","Louisiana"],["US-MA","Massachusetts"],["US-MD","Maryland"],
["US-ME","Maine"],["US-MI","Michigan"],["US-MN","Minnesota"],["US-MO","Missouri"],["US-MP","Northern Mariana Islands"],["US-MS","Mississippi"],["US-MT","Montana"],["US-NC","North Carolina"],["US-ND","North Dakota"],["US-NE","Nebraska"],["US-NH","New Hampshire"],["US-NJ","New Jersey"],["US-NM","New Mexico"],["US-NV","Nevada"],["US-NY","New York"],["US-OH","Ohio"],["US-OK","Oklahoma"],["US-OR","Oregon"],["US-PA","Pennsylvania"],["US-PR","Puerto Rico"],["US-RI","Rhode Island"],["US-SC","South Carolina"],
["US-SD","South Dakota"],["US-TN","Tennessee"],["US-TX","Texas"],["US-UM","United States Minor Outlying Islands"],["US-UT","Utah"],["US-VA","Virginia"],["US-VI","Virgin Islands, U.S."],["US-VT","Vermont"],["US-WA","Washington"],["US-WI","Wisconsin"],["US-WV","West Virginia"],["US-WY","Wyoming"]]),Laa=new Map([["AU-NSW","New South Wales"],["AU-QLD","Queensland"],["AU-SA","South Australia"],["AU-TAS","Tasmania"],["AU-VIC","Victoria"],["AU-WA","Western Australia"],["AU-ACT","Australian Capital Territory"],
["AU-NT","Northern Territory"]]),Maa=new Map([["MX-CMX","Ciudad de Mxico"],["MX-AGU","Aguascalientes"],["MX-BCN","Baja California"],["MX-BCS","Baja California Sur"],["MX-CAM","Campeche"],["MX-COA","Coahuila"],["MX-COL","Colima"],["MX-CHP","Chiapas"],["MX-CHH","Chihuahua"],["MX-DUR","Durango"],["MX-GUA","Guanajuato"],["MX-GRO","Guerrero"],["MX-HID","Hidalgo"],["MX-JAL","Jalisco"],["MX-MEX","Estado de Mxico"],["MX-MIC","Michoacn"],["MX-MOR","Morelos"],["MX-NAY","Nayarit"],["MX-NLE","Nuevo Len"],
["MX-OAX","Oaxaca"],["MX-PUE","Puebla"],["MX-QUE","Quertaro"],["MX-ROO","Quintana Roo"],["MX-SLP","San Luis Potos"],["MX-SIN","Sinaloa"],["MX-SON","Sonora"],["MX-TAB","Tabasco"],["MX-TAM","Tamaulipas"],["MX-TLA","Tlaxcala"],["MX-VER","Veracruz"],["MX-YUC","Yucatn"],["MX-ZAC","Zacatecas"]]),Naa=new Map([["CA-AB","Alberta"],["CA-BC","British Columbia"],["CA-MB","Manitoba"],["CA-NB","New Brunswick"],["CA-NL","Newfoundland and Labrador"],["CA-NT","Northwest Territories"],["CA-NS","Nova Scotia"],["CA-NU",
"Nunavut"],["CA-ON","Ontario"],["CA-PE","Prince Edward Island"],["CA-QC","Quebec"],["CA-SK","Saskatchewan"],["CA-YT","Yukon"]]),Oaa=new Map([["BR-AC","Acre"],["BR-AL","Alagoas"],["BR-AP","Amap"],["BR-AM","Amazonas"],["BR-BA","Bahia"],["BR-CE","Cear"],["BR-DF","Distrito Federal"],["BR-ES","Esprito Santo"],["BR-GO","Gois"],["BR-MA","Maranho"],["BR-MT","Mato Grosso"],["BR-MS","Mato Grosso do Sul"],["BR-MG","Minas Gerais"],["BR-PR","Paran"],["BR-PB","Paraba"],["BR-PA","Par"],["BR-PE","Pernambuco"],
["BR-PI","Piau"],["BR-RN","Rio Grande do Norte"],["BR-RS","Rio Grande do Sul"],["BR-RJ","Rio de Janeiro"],["BR-RO","Rondnia"],["BR-RR","Roraima"],["BR-SC","Santa Catarina"],["BR-SE","Sergipe"],["BR-SP","So Paulo"],["BR-TO","Tocantins"]]),Paa=new Map([["IN-AP","Andhra Pradesh"],["IN-AR","Arunachal Pradesh"],["IN-AS","Assam"],["IN-BR","Bihar"],["IN-CT","Chhattisgarh"],["IN-GA","Goa"],["IN-GJ","Gujarat"],["IN-HR","Haryana"],["IN-HP","Himachal Pradesh"],["IN-JK","Jammu and Kashmir"],["IN-JH","Jharkhand"],
["IN-KA","Karnataka"],["IN-KL","Kerala"],["IN-MP","Madhya Pradesh"],["IN-MH","Maharashtra"],["IN-MN","Manipur"],["IN-ML","Meghalaya"],["IN-MZ","Mizoram"],["IN-NL","Nagaland"],["IN-OR","Odisha"],["IN-PB","Punjab"],["IN-RJ","Rajasthan"],["IN-SK","Sikkim"],["IN-TN","Tamil Nadu"],["IN-TG","Telangana"],["IN-TR","Tripura"],["IN-UP","Uttar Pradesh"],["IN-UT","Uttarakhand"],["IN-WB","West Bengal"],["IN-AN","Andaman and Nicobar Islands"],["IN-CH","Chandigarh"],["IN-DN","Dadra and Nagar Haveli"],["IN-DD","Daman and Diu"],
["IN-DL","Delhi"],["IN-LD","Lakshadweep"],["IN-PY","Puducherr"]]);function y1(a,b){a=[].concat(ma(a.entries())).sort(function(a,b){return a[1].localeCompare(b[1])}).map(function(a){return{selected:a[0]===b.qQ,text:a[1],value:a[0]}});return null!=b.Ng?[].concat([{selected:!b.qQ,text:b.Ng,value:b.ZO}],ma(a)):a}function z1(a){var b=w1();a.Wh&&(b=Array.from(b.entries()).filter(function(b){b=la(b).next().value;return a.Wh.has(b)}),b=new Map(b));return y1(b,{Ng:a.Ng,ZO:"ZZ",qQ:a.N9})}
function A1(a){var b=x1(a.sb);w(!a.SH||b.has(a.SH),'"{}" is not a valid subdivision code of the country "{}".',a.SH,a.sb);return y1(b,{Ng:a.Ng,ZO:a.ZO,qQ:a.SH})};var B1=new Ff("jv",!1),C1=["BR","CA","US"];function D1(a){this.Dj=a.Dj;this.D=a.D;this.Ed=a.Ed||void 0;this.Xe=a.Xe;this.nf=a.nf;this.view=a.view;this.listenTo(this.view,"input",this.Vn);this.listenTo(this.view,"requestSubmit",function(){this.trigger("requestSubmit")});this.G=a.G?a.G:Hf();this.Ya=a.Ya}function gV(a){var b=new E1({By:!1!==a.By,Ya:a.Ya,G:a.G,j:a.j});return{Db:new D1({Dj:a.Dj,D:a.D,Ed:a.Ed,Xe:a.Xe,nf:a.nf,G:a.G,Ya:a.Ya,view:b}),view:b}}f=D1.prototype;f.listenTo=Backbone.Events.listenTo;
f.off=Backbone.Events.off;f.on=Backbone.Events.on;f.once=Backbone.Events.once;f.stopListening=Backbone.Events.stopListening;f.trigger=Backbone.Events.trigger;f.refresh=function(){this.view.render();this.view.bx(this.Xe);this.Ed&&this.view.vk(this.Ed);return this};f.remove=function(){this.stopListening();this.view.remove()};f.vk=function(a){this.Ed=a;this.view.vk(a);return this};f.bx=function(a){this.Xe=a;this.view.bx(a);return this};
f.uM=P.method(function(a){function b(a){return a.Xh}return!this.Ed||this.view.Pu||a?(a=this.view.zF(),F1(a),this.daa(a).then(b).tap(this.vk.bind(this))):this.Ed});f.wV=P.method(function(a){if(this.Ed&&!this.view.Pu&&!a&&!this.view.Qu)return this.Ed;a=this.view.zF();if(this.view.Qu&&!this.view.Pu)return G1(this,a),this.caa(a);F1(a);G1(this,a);return this.zR(a).tap(this.vk.bind(this))});f.Vn=function(){this.Ed&&!this.view.zF()&&this.vk(this.Ed);this.trigger("input",this.view.Pu)};
f.daa=P.method(function(a){var b=this;return this.nf.createToken({Om:a.Om,GL:a.Wu,HL:a.Xu,vh:a.vh}).then(function(a){var d=b.Dj,e=b.D;return qj(d.N,"/billing/brands/"+encodeURIComponent(e)+"/account",{brand:e,stripeToken:a}).catch(rj).get(0).get("account").then(vh).catch(d.Cs,d.Xj)})});
f.zR=P.method(function(a){var b=this;return this.nf.createToken({Om:a.Om,GL:a.Wu,HL:a.Xu,vh:a.vh,gba:a.fc,hba:a.gf,iba:a.vf}).then(function(c){var d=b.Dj;return qj(d.N,"/billing/creditcards",Lh(new Kh({D:b.D,fR:c,Zg:a.fc?new Gh({Fh:a.gf,sb:a.fc,xw:a.vf}):void 0,ZP:!0}))).catch(rj).get(0).then(d.DV).get("creditCard").then(Ch).catch(d.Cs,d.Xj)})});f.caa=P.method(function(a){return this.Dj.zR(new Mh({aj:a.id,Zg:new Gh({Fh:a.gf,sb:a.fc,xw:a.vf})}))});
function F1(a){if(!a)throw new XT;if(!(a.Om&&3<=a.Om.length&&4>=a.Om.length))throw new NT;if(!function(){var b=a.Wu&&parseInt(a.Wu,10);return b&&1<=b&&12>=b}())throw new OT;if(!a.Xu||!parseInt(a.Xu,10))throw new PT;if(!function(){var b=a.vh&&a.vh.replace(/[\s-]+/g,"");return b&&13<=b.length&&19>=b.length}())throw new QT;}
function G1(a,b){if(a.G.get(B1)&&(!b.fc||"ZZ"==b.fc))throw new UT;var c;if(c=a.G.get(B1))c=ae(a.Ya),c=!(-1<C1.indexOf(b.fc)?b.gf&&b.gf!=c:1);if(c)throw new VT;if(a.G.get(B1)&&-1<C1.indexOf(b.fc)&&!b.vf)throw new WT;};function Qaa(a){soy.asserts.assertType(goog.isString(a.Pk)||a.Pk instanceof goog.soy.data.SanitizedContent,"cardNumberPlaceholder",a.Pk,"string|goog.soy.data.SanitizedContent");var b=a.Pk;soy.asserts.assertType(goog.isString(a.Xk)||a.Xk instanceof goog.soy.data.SanitizedContent,"cvcPlaceholder",a.Xk,"string|goog.soy.data.SanitizedContent");var c=a.Xk;soy.asserts.assertType(goog.isString(a.Hl)||a.Hl instanceof goog.soy.data.SanitizedContent,"monthPlaceholder",a.Hl,"string|goog.soy.data.SanitizedContent");
var d=a.Hl;soy.asserts.assertType(goog.isString(a.pm)||a.pm instanceof goog.soy.data.SanitizedContent,"yearPlaceholder",a.pm,"string|goog.soy.data.SanitizedContent");a=a.pm;return soydata.VERY_UNSAFE.ordainSanitizedHtml(H1({id:"ccNumber",name:"ccNumber",type:"text",placeholder:b,attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('pattern\x3d"[0-9]{4}([ -]+[0-9]{1,4}){3,5} ?" maxlength\x3d"23" autocomplete\x3d"cc-number" required')})+"\x3cspan class\x3d'creditCardExpiry'\x3e"+
H1({id:"expMonth",name:"expMonth",type:"text",placeholder:d,attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('pattern\x3d"[01]?[0-9]" maxlength\x3d"2" autocomplete\x3d"cc-exp-month" required')})+H1({id:"expYear",name:"expYear",type:"text",placeholder:a,attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('pattern\x3d"[0-3][0-9]" maxlength\x3d"2" autocomplete\x3d"cc-exp-year" required')})+"\x3c/span\x3e"+H1({id:"cvc",name:"cvc",type:"text",placeholder:c,
attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('pattern\x3d"[0-9]{3,4}" maxlength\x3d"4" autocomplete\x3d"cc-csc" required')}))}
function Raa(a){soy.asserts.assertType(goog.isString(a.Vo)||a.Vo instanceof goog.soy.data.SanitizedContent,"zipCodePlaceholder",a.Vo,"string|goog.soy.data.SanitizedContent");var b=a.Vo,c=goog.asserts.assertArray(a.bE,"expected parameter 'countryOptions' of type list\x3c[disabled: bool|null, selected: bool|null, text: string, value: null|string]\x3e.");a=goog.asserts.assertArray(a.Et,"expected parameter 'subdivisionOptions' of type list\x3c[disabled: bool|null, selected: bool|null, text: string, value: null|string]\x3e.");
return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"creditCardAddressLine1"\x3e'+v_({id:"country",options:c,disabled:1>=c.length})+'\x3c/div\x3e\x3cdiv class\x3d"creditCardAddressLine2 hidden"\x3e'+(a?v_({id:"region",options:a}):"")+H1({id:"zipcode",name:"zipcode",type:"text",placeholder:b})+"\x3c/div\x3e")};var Saa=new Ff("jv",!1);function E1(a){Backbone.View.call(this,{className:"creditCardEditor"});this.Qu=this.Pu=!1;this.Ya=a.Ya;this.By=a.By;this.G=a.G?a.G:Hf();this.j=a.j}r(E1,Backbone.View);f=E1.prototype;f.events=function(){return{"input #ccNumber":this.h5,"keydown #expMonth":this.N6,"input #expMonth":this.M6,input:this.Vn,"keydown input":this.wO,"focus input:not([readonly])":this.Dq,"blur input":this.aB,"change #country":this.X5,"change #region":this.f7,"change #zipcode":this.I7}};
f.zF=function(){var a={id:this.$("#creditCardId").val()?this.$("#creditCardId").val().trim():"",Om:this.$("#cvc").val().trim(),Wu:this.$("#expMonth").val().trim(),Xu:this.$("#expYear").val().trim(),vh:this.$("#ccNumber").val().trim(),fc:this.$("#country").val()?this.$("#country").val().trim():void 0,gf:this.$("#region").val()?this.$("#region").val().trim():void 0,vf:this.$("#zipcode").val()?this.$("#zipcode").val().trim():void 0};return a.Om.length||a.Wu.length||a.Xu.length||a.vh.length||a.fc.length||
a.gf.length||a.vf.length?a:null};f.vk=function(a){this.$el.addClass("prefilled");this.$("#creditCardId").val(a.id);this.$("#ccNumber").val("").attr("placeholder",""+a.Qv);this.$("#expMonth").val("").attr("placeholder","");this.$("#expYear").val("").attr("placeholder","");this.$("#cvc").val("").attr("placeholder","");a.Zg&&(this.$("#country").val(a.Zg.sb).change(),this.$("#region").val(a.Zg.Fh),this.$("#zipcode").val(a.Zg.xw));this.Qu=this.Pu=!1;this.$("#ccNumber").removeAttr("autofocus")};
f.bx=function(a){this.$("input").prop("readonly",!a);this.$("select").attr("disabled",!a)};
f.render=function(){var a;a={Gj:this.Ya.Gj(),ou:this.Ya.ou(),Pk:this.Ya.Pk(),Hl:this.Ya.Hl(),pm:this.Ya.pm(),Xk:this.Ya.Xk(),Vo:this.Ya.Vo(),bE:z1({Ng:this.Ya.format("creditCardCountryPlaceholder")}),Et:A1({Ng:ae(this.Ya),sb:"ZZ"}),pC:this.G.get(Saa)};soy.asserts.assertType(goog.isString(a.Gj)||a.Gj instanceof goog.soy.data.SanitizedContent,"creditCardLabel",a.Gj,"string|goog.soy.data.SanitizedContent");var b=a.Gj;soy.asserts.assertType(goog.isString(a.ou)||a.ou instanceof goog.soy.data.SanitizedContent,
"billingAddressLabel",a.ou,"string|goog.soy.data.SanitizedContent");var c=a.ou;soy.asserts.assertType(goog.isString(a.Pk)||a.Pk instanceof goog.soy.data.SanitizedContent,"cardNumberPlaceholder",a.Pk,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Xk)||a.Xk instanceof goog.soy.data.SanitizedContent,"cvcPlaceholder",a.Xk,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Hl)||a.Hl instanceof goog.soy.data.SanitizedContent,"monthPlaceholder",
a.Hl,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.pm)||a.pm instanceof goog.soy.data.SanitizedContent,"yearPlaceholder",a.pm,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Vo)||a.Vo instanceof goog.soy.data.SanitizedContent,"zipCodePlaceholder",a.Vo,"string|goog.soy.data.SanitizedContent");goog.asserts.assertArray(a.bE,"expected parameter 'countryOptions' of type list\x3c[disabled: bool|null, selected: bool|null, text: string, value: null|string]\x3e.");
goog.asserts.assertArray(a.Et,"expected parameter 'subdivisionOptions' of type list\x3c[disabled: bool|null, selected: bool|null, text: string, value: null|string]\x3e.");soy.asserts.assertType(goog.isBoolean(a.pC)||1===a.pC||0===a.pC,"showBillingAddressFields",a.pC,"boolean");var d=!!a.pC;soy.asserts.assertType(null==a.oE||a.oE instanceof goog.soy.data.SanitizedContent||goog.isString(a.oE),"creditCardId",a.oE,"null|string|undefined");var e=a.oE;a=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3ch3 class\x3d"creditCardLabel"\x3e'+
soy.$$escapeHtml(b)+'\x3c/h3\x3e\x3cdiv class\x3d"creditCardEditView creditCardInput"\x3e\x3cinput type\x3d"hidden" id\x3d"creditCardId" value\x3d"'+soy.$$escapeHtmlAttribute(e)+'"/\x3e'+Qaa(a)+"\x3c/div\x3e"+(d?'\x3ch3 class\x3d"billingAddressLabel"\x3e'+soy.$$escapeHtml(c)+'\x3c/h3\x3e\x3cdiv class\x3d"creditCardAddress"\x3e'+Raa(a)+"\x3c/div\x3e":""));this.$el.html(a.toString());Taa(this);return this};
function Taa(a){var b=0===a.$("input").filter(function(){return this.readOnly}).length,c=a.$("#ccNumber");a.By&&b?c.prop("autofocus",!0):c.removeAttr("autofocus")}f.Vn=function(a){var b;b=$(a.target);var c=b.data("oldValue"),d=b.val();c!==d?(b.data("oldValue",d),b=!0):b=!1;b&&"country"!==a.target.id&&"region"!==a.target.id&&"zipcode"!==a.target.id&&(this.$el.removeClass("prefilled"),this.Pu=!0,this.trigger("input"))};f.wO=function(a){13===a.keyCode&&(this.trigger("requestSubmit"),a.preventDefault())};
f.Dq=function(a){this.$el.addClass("focused");"zipcode"!=a.target.id&&(this.$("#ccNumber").attr("placeholder",this.Ya.Pk()),this.$("#expMonth").attr("placeholder",this.Ya.Hl()),this.$("#expYear").attr("placeholder",this.Ya.pm()),this.$("#cvc").attr("placeholder",this.Ya.Xk()))};f.aB=function(){this.$el.removeClass("focused")};
f.h5=function(a){if("IE"!=UAParser().browser.name){a=a.target;var b=a.selectionEnd,c=a.value.length;a.value=a.value.replace(/[^\d]/g,"").replace(/(.{4})/g,"$1 ").trim();var d=c!==a.value.length,c=" "===a.value.charAt(c-1);a.selectionEnd=b+(" "===a.value.charAt(b-1)&&c&&d?1:0)}};
f.X5=function(a){a=A1({Ng:ae(this.Ya),sb:a.target.value});1===a.length?(this.$el.find(".creditCardAddressLine2").hide(),this.$el.find("#country").removeClass("countrySharpBottomCorners"),this.$el.find("#country").addClass("countryRoundBottomCorners"),this.$el.find(".creditCardAddressLine2 select").removeAttr("value")):(this.$el.find(".creditCardAddressLine2").show(),this.$el.find("#country").removeClass("countryRoundBottomCorners"),this.$el.find("#country").addClass("countrySharpBottomCorners"),a=
$(v_({options:a,id:"region"}).toString()),this.$el.find(".creditCardAddressLine2 select").replaceWith(a.children()[0]));this.$el.find(".creditCardAddressLine2 input").removeAttr("value");this.Qu=!0;this.j.wa(X(new Zl("credit_card_country_changed"),"location","billing_admin_card_dialog"))};f.f7=function(){this.Qu=!0};f.I7=function(){this.Qu=!0};
f.N6=function(a){var b=this.$("#expMonth"),c=b.val(),d=this.$("#expYear"),e=String.fromCharCode(a.which);""===c&&e.match(/[2-9]/)?(a.preventDefault(),b.val("0"+e),d.focus()):-1<[191,32,9].indexOf(a.which)&&(a.preventDefault(),1===c.length&&b.val("0"+c),d.focus())};f.M6=function(){2===this.$("#expMonth").val().length&&this.$("#expYear").focus()};function v_(a){soy.asserts.assertType(null==a.block||goog.isBoolean(a.block)||1===a.block||0===a.block,"block",a.block,"boolean|null|undefined");var b=a.block;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");var c=a.v;soy.asserts.assertType(null==a.disabled||goog.isBoolean(a.disabled)||1===a.disabled||0===a.disabled,"disabled",a.disabled,"boolean|null|undefined");var d=a.disabled;soy.asserts.assertType(null==
a.id||a.id instanceof goog.soy.data.SanitizedContent||goog.isString(a.id),"id",a.id,"null|string|undefined");var e=a.id;soy.asserts.assertType(null==a.name||a.name instanceof goog.soy.data.SanitizedContent||goog.isString(a.name),"name",a.name,"null|string|undefined");var g=a.name;a=goog.asserts.assertArray(a.options,"expected parameter 'options' of type list\x3c[disabled: bool|null, selected: bool|null, text: string, value: null|string]\x3e.");d='\x3cspan class\x3d"select'+(b?" selectBlock":"")+(c?
" "+soy.$$escapeHtmlAttribute(c):"")+'"\x3e\x3cselect '+(d?" disabled":"")+(e?' id\x3d"'+soy.$$escapeHtmlAttribute(e)+'"':"")+(g?' name\x3d"'+soy.$$escapeHtmlAttribute(g)+'"':"")+"\x3e";b=a.length;for(c=0;c<b;c++){var h=a[c];soy.asserts.assertType(null==h.disabled||goog.isBoolean(h.disabled)||1===h.disabled||0===h.disabled,"disabled",h.disabled,"boolean|null|undefined");e=h.disabled;soy.asserts.assertType(null==h.selected||goog.isBoolean(h.selected)||1===h.selected||0===h.selected,"selected",h.selected,
"boolean|null|undefined");g=h.selected;soy.asserts.assertType(goog.isString(h.text)||h.text instanceof goog.soy.data.SanitizedContent,"text",h.text,"string|goog.soy.data.SanitizedContent");var k=h.text;soy.asserts.assertType(null==h.value||h.value instanceof goog.soy.data.SanitizedContent||goog.isString(h.value),"value",h.value,"null|string|undefined");h=h.value;e=soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3coption "+(e?" disabled":"")+(g?" selected":"")+(h||""==h?' value\x3d"'+soy.$$escapeHtmlAttribute(h)+
'"':"")+"\x3e"+soy.$$escapeHtml(k)+"\x3c/option\x3e");d+=e}return soydata.VERY_UNSAFE.ordainSanitizedHtml(d+"\x3c/select\x3e\x3c/span\x3e")};function I1(a){soy.asserts.assertType(goog.isString(a.title)||a.title instanceof goog.soy.data.SanitizedContent,"title",a.title,"string|goog.soy.data.SanitizedContent");return soydata.VERY_UNSAFE.ordainSanitizedHtml(soy.$$escapeHtml(a.title))}
function Uaa(a){var b;b=b||{};soy.asserts.assertType(goog.isString(a.Zo)||a.Zo instanceof goog.soy.data.SanitizedContent,"actionCloseHint",a.Zo,"string|goog.soy.data.SanitizedContent");var c=a.Zo;soy.asserts.assertType(goog.isString(a.Wg)||a.Wg instanceof goog.soy.data.SanitizedContent,"actionClose",a.Wg,"string|goog.soy.data.SanitizedContent");a=a.Wg;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"dialog fluidDialog preparing"\x3e\x3ch2 class\x3d"center"\x3e\x3c/h2\x3e\x3cdiv class\x3d"content"\x3e\x3c/div\x3e\x3cdiv class\x3d"dialog__footer" style\x3d"'+
(b.Yb?"/*"+b.Yb+"*/":"")+'display: none;"\x3e\x3cdiv class\x3d"dialog__footer__content"\x3e\x3c/div\x3e\x3c/div\x3e\x3ca class\x3d"close" href\x3d"#" title\x3d"'+soy.$$escapeHtmlAttribute(c)+'"\x3e'+soy.$$escapeHtml(a)+"\x3c/a\x3e\x3c/div\x3e")};function J1(a){var b=this;Backbone.View.call(this,{id:a.id,className:a.className,events:{"click .close":function(){b.trigger("cancel")}}});this.Qd=a.Qd;this.H=a.H;this.xK=this.Ag=null;this.DY=0;this.Qd.on("maskClick",function(){b.trigger("cancel")})}r(J1,Backbone.View);f=J1.prototype;f.P5=function(){this.trigger("ok")};f.mO=function(){this.trigger("retry")};
function Vaa(a,b){var c=b.vl?b.vl():b;if(c===a.Ag)return P.resolve(!1);a.Ag&&a.stopListening(a.Ag);a.Ag=c;a.xK=b;a.listenTo(a.Ag,"contentResize",a.yu);a.listenTo(a.Ag,"done",a.P5);a.listenTo(a.Ag,"retry",a.mO);return a.xK.refresh().return(!0)}f.render=function(a){this.$el.html(Uaa(a).toString());return this};
function K1(a,b){return new P(function(c){var d=a.$(".dialog");d.hasClass("preparing")&&(a.Qd.show(a.el),a.H.requestAnimationFrame(function(){d.removeClass("preparing")}));a.$el.queue("pageQueue",function(e){Vaa(a,b).then(function(b){Waa(a);var h=d.find(".content"),k=null;h.is(":empty")?h.append(a.Ag.$el):b&&(k=$('\x3cdiv class\x3d"content new"\x3e').append(a.Ag.$el));a.yu(k).then(c);a.H.setTimeout(function(){a.DY--;e()},1E3)})});1==++a.DY&&a.$el.dequeue("pageQueue")})}
function Waa(a){var b=a.Ag.rp(a.xK.vn());a.$(".dialog \x3e h2").html(b)}function L1(a,b){a.$(".dialog__footer__content").html(b)}f.nA=function(){this.$(".dialog__footer").addClass("dialog__footer--hide").removeClass("dialog__footer--appear");this.yu()};f.wx=function(){this.$(".dialog__footer").show().removeClass("dialog__footer--hide").addClass("dialog__footer--appear");this.yu()};
f.yu=function(a){var b=this.$(".dialog__footer"),c=!1;b.hasClass("dialog__footer--appear")?b.hasClass("dialog__footer--pinned")&&(c=!0,b.removeClass("dialog__footer--pinned")):b.addClass("dialog__footer--pinned");a=Xaa(this,a).then(function(){b.hasClass("dialog__footer--appear")&&b.addClass("dialog__footer--pinned")});b.hasClass("dialog__footer--appear")?c&&b.addClass("dialog__footer--pinned"):b.removeClass("dialog__footer--pinned");return a};
function Xaa(a,b){return new P(function(c){var d=a.$(".dialog");if(!(0<d.find(".content.replacing").length)||b){var e=d.outerHeight();d.css({transition:"none",height:"auto"});var g;g=b?Yaa(a,b):d.outerHeight();var h=Cf(d[0]);d.css({height:e});Bf(d);d.css({transition:"",height:g});c(h)}})}
function Yaa(a,b){var c=a.$(".dialog"),d=c.find(".content");a=d.outerHeight();var e=$('\x3cdiv class\x3d"content new"\x3e');b.insertBefore(d);d.addClass("onTop beingReplaced");var c=c.outerHeight(),g=b.outerHeight(!0);b.addClass("onTop");e.insertAfter(d).css("height",a);Bf(e);Cf(e[0]).then(function(){d.remove();e.remove();b.removeClass("onTop")});e.css("height",g);il(function(){b.removeClass("new");e.removeClass("new")});return c}
f.remove=function(){var a=this;return new P(function(b){a.Qd.hide();a.$el.children(".dialog").addClass("disappearing");a.H.setTimeout(function(){Backbone.View.prototype.remove.call(a);b()},kp.sS)})};function M1(a){Backbone.View.apply(this,arguments)}r(M1,Backbone.View);M1.prototype.rp=function(){return""};Object.defineProperties(M1,{extend:{configurable:!0,enumerable:!0,get:function(){return Backbone.View.extend.bind(M1)}}});function N1(a){this.j=a.j;this.$m=a.$m}N1.prototype.PC=function(a){this.track("close",{action:a})};N1.prototype.track=function(a,b){this.j.track("publish_flow_"+a,_.extend(this.hM(),b))};N1.prototype.hM=function(){return{fileFormat:this.$m}};function O1(a){soy.asserts.assertType(goog.isBoolean(a.ie)||1===a.ie||0===a.ie,"showOneTimeUse",a.ie,"boolean");var b=!!a.ie;soy.asserts.assertType(null==a.md||a.md instanceof goog.soy.data.SanitizedContent||goog.isString(a.md),"oneTimeUse",a.md,"null|string|undefined");var c=a.md;soy.asserts.assertType(null==a.Nc||a.Nc instanceof goog.soy.data.SanitizedContent||goog.isString(a.Nc),"oneTimeUseDescription",a.Nc,"null|string|undefined");var d=a.Nc;soy.asserts.assertType(goog.isBoolean(a.je)||1===a.je||
0===a.je,"showRoyaltyFree",a.je,"boolean");var e=!!a.je;soy.asserts.assertType(null==a.Fc||a.Fc instanceof goog.soy.data.SanitizedContent||goog.isString(a.Fc),"royaltyFree",a.Fc,"null|string|undefined");var g=a.Fc;soy.asserts.assertType(null==a.Qc||a.Qc instanceof goog.soy.data.SanitizedContent||goog.isString(a.Qc),"royaltyFreeDescription",a.Qc,"null|string|undefined");var h=a.Qc;soy.asserts.assertType(goog.isBoolean(a.Rg)||1===a.Rg||0===a.Rg,"showExtended",a.Rg,"boolean");var k=!!a.Rg;soy.asserts.assertType(null==
a.Id||a.Id instanceof goog.soy.data.SanitizedContent||goog.isString(a.Id),"extended",a.Id,"null|string|undefined");var l=a.Id;soy.asserts.assertType(null==a.Yd||a.Yd instanceof goog.soy.data.SanitizedContent||goog.isString(a.Yd),"extendedDescription",a.Yd,"null|string|undefined");var m=a.Yd;soy.asserts.assertType(goog.isString(a.be)||a.be instanceof goog.soy.data.SanitizedContent,"noLicenseOptionDescription",a.be,"string|goog.soy.data.SanitizedContent");a=a.be;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"licensesDescription"\x3e\x3cdiv class\x3d"licensesDescription__options"\x3e'+
(b||e||k?(b?'\x3cdiv class\x3d"licensesDescription__option licensesDescription__option--oneTime"\x3e\x3ch3\x3e'+soy.$$escapeHtml(c)+"\x3c/h3\x3e\x3cp\x3e"+soy.$$escapeHtml(d)+"\x3c/p\x3e\x3c/div\x3e":"")+(e?'\x3cdiv class\x3d"licensesDescription__option licensesDescription__option--royaltyFree"\x3e\x3ch3\x3e'+soy.$$escapeHtml(g)+"\x3c/h3\x3e\x3cp\x3e"+soy.$$escapeHtml(h)+"\x3c/p\x3e\x3c/div\x3e":"")+(k?'\x3cdiv class\x3d"licensesDescription__option licensesDescription__option--extended"\x3e\x3ch3\x3e'+
soy.$$escapeHtml(l)+"\x3c/h3\x3e\x3cp\x3e"+soy.$$escapeHtml(m)+"\x3c/p\x3e\x3c/div\x3e":""):'\x3cdiv class\x3d"licensesDescription__noOption"\x3e'+soy.$$escapeHtml(a)+"\x3c/div\x3e")+"\x3c/div\x3e\x3c/div\x3e")};function P1(a){this.$el=a}r(P1,gc);P1.prototype.show=function(){if(this.sh())return P.resolve();var a=Cf(this.$el[0]);this.$el.addClass("paymentRestrictedOverlay--visible");return a};P1.prototype.hide=function(){if(this.sh()){var a=Cf(this.$el[0]);this.$el.removeClass("paymentRestrictedOverlay--visible");return a}return P.resolve()};P1.prototype.sh=function(){return this.$el.hasClass("paymentRestrictedOverlay--visible")};function hV(a){var b=this;M1.call(this,{className:"payment",events:{"change input[name\x3dpurchaseCreditPack]":function(a){a="yes"==$(a.target).val();var d=b.$(".creditPackOptions option:selected").val();b.trigger("creditPackChange",a,d)},"change .price select":function(a){a=$(a.target);var d=a.closest(".license").index();b.trigger("priceChange",d,a.val())},"click .licensesMore":function(){return b.lO()},"click .creditPackOptions select":function(a){return Q1(b,a)},"change .creditPackOptions select":function(a){return Q1(b,
a)},"submit .publishPagePaymentForm":function(a){a.preventDefault();b.trigger("submitPayment")},"click .draft":function(){b.trigger("clickDraft")},"click .paymentRestrictedOverlay__cancelButton":function(){b.trigger("done")},"click .paymentRestrictedOverlay__downloadDraftButton":function(){b.trigger("clickOverlayDraftButton")}}});this.wd=a.wd;this.bj=a.bj;this.gR=this.eo=null}r(hV,M1);f=hV.prototype;f.uM=function(){return this.wd.wV()};
f.render=function(a){var b=this.el,c;c=c||{};soy.asserts.assertType(goog.isString(a.Im)||a.Im instanceof goog.soy.data.SanitizedContent,"creditAvailable",a.Im,"string|goog.soy.data.SanitizedContent");var d=a.Im;soy.asserts.assertType(a.OC instanceof soydata.SanitizedHtml||a.OC instanceof soydata.UnsanitizedText||goog.isString(a.OC),"totalCost",a.OC,"soydata.SanitizedHtml");var e=a.OC;soy.asserts.assertType(a.Gq instanceof soydata.SanitizedHtml||a.Gq instanceof soydata.UnsanitizedText||goog.isString(a.Gq),
"payOption",a.Gq,"soydata.SanitizedHtml");var g=a.Gq;soy.asserts.assertType(goog.isString(a.Kd)||a.Kd instanceof goog.soy.data.SanitizedContent,"free",a.Kd,"string|goog.soy.data.SanitizedContent");var h=a.Kd;soy.asserts.assertType(goog.isString(a.ft)||a.ft instanceof goog.soy.data.SanitizedContent,"purchased",a.ft,"string|goog.soy.data.SanitizedContent");var k=a.ft;soy.asserts.assertType(goog.isString(a.Rv)||a.Rv instanceof goog.soy.data.SanitizedContent,"layoutTitle",a.Rv,"string|goog.soy.data.SanitizedContent");
var l=a.Rv;soy.asserts.assertType(goog.isString(a.iI)||a.iI instanceof goog.soy.data.SanitizedContent,"specialOffer",a.iI,"string|goog.soy.data.SanitizedContent");var m=a.iI;soy.asserts.assertType(a.xA instanceof soydata.SanitizedHtml||a.xA instanceof soydata.UnsanitizedText||goog.isString(a.xA),"introHtml",a.xA,"soydata.SanitizedHtml");var n=a.xA;soy.asserts.assertType(goog.isString(a.Qf)||a.Qf instanceof goog.soy.data.SanitizedContent,"purchaseButton",a.Qf,"string|goog.soy.data.SanitizedContent");
var p=a.Qf;soy.asserts.assertType(goog.isString(a.so)||a.so instanceof goog.soy.data.SanitizedContent,"restrictedOverlayHeading",a.so,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Og)||a.Og instanceof goog.soy.data.SanitizedContent,"restrictedOverlayMessage",a.Og,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.ro)||a.ro instanceof goog.soy.data.SanitizedContent,"restrictedOverlayDraftButton",a.ro,"string|goog.soy.data.SanitizedContent");
soy.asserts.assertType(goog.isString(a.qo)||a.qo instanceof goog.soy.data.SanitizedContent,"restrictedOverlayCancelButton",a.qo,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(a.kf)||1===a.kf||0===a.kf,"showDraft",a.kf,"boolean");var q=goog.asserts.assertArray(a.ri,"expected parameter 'purchaseLicenses' of type list\x3c[contributedBy: string, expirationLabel: null|string, hasPaidLicense: bool, isFree: bool, isLayout: bool, paidLicenseTypeLabel: string, purchaseOptions: list\x3c[disabled: null, selected: bool, text: string, value: string]\x3e, thumbnailClass: string, thumbnailUrl: string, title: string]\x3e."),
u=goog.asserts.assertArray(a.Yy,"expected parameter 'creditPacks' of type list\x3c[disabled: null, selected: null, text: string, value: string]\x3e.");soy.asserts.assertType(goog.isString(a.so)||a.so instanceof goog.soy.data.SanitizedContent,"restrictedOverlayHeading",a.so,"string|goog.soy.data.SanitizedContent");var v=a.so;soy.asserts.assertType(goog.isString(a.Og)||a.Og instanceof goog.soy.data.SanitizedContent,"restrictedOverlayMessage",a.Og,"string|goog.soy.data.SanitizedContent");var z=a.Og;
soy.asserts.assertType(goog.isString(a.ro)||a.ro instanceof goog.soy.data.SanitizedContent,"restrictedOverlayDraftButton",a.ro,"string|goog.soy.data.SanitizedContent");var t=a.ro;soy.asserts.assertType(goog.isString(a.qo)||a.qo instanceof goog.soy.data.SanitizedContent,"restrictedOverlayCancelButton",a.qo,"string|goog.soy.data.SanitizedContent");var x=a.qo;soy.asserts.assertType(goog.isBoolean(a.kf)||1===a.kf||0===a.kf,"showDraft",a.kf,"boolean");a=!!a.kf;n=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"paymentRestrictedOverlay"\x3e\x3csection class\x3d"paymentRestrictedOverlay__inner"\x3e\x3cspan class\x3d"paymentRestrictedOverlay__icon"\x3e'+
RX()+"\x3c/span\x3e\x3ch2\x3e"+soy.$$escapeHtml(v)+"\x3c/h2\x3e\x3cp\x3e"+soy.$$escapeHtml(z)+'\x3c/p\x3e\x3cdiv class\x3d"paymentRestrictedOverlay__buttons"\x3e'+(a?w_({v:"paymentRestrictedOverlay__downloadDraftButton",text:t}):"")+w_({v:soydata.$$markUnsanitizedTextForInternalBlocks((a?"buttonSecondary ":"")+"paymentRestrictedOverlay__cancelButton"),text:x})+"\x3c/div\x3e\x3c/section\x3e\x3c/div\x3e")+'\x3csection class\x3d"info"\x3e\x3cp class\x3d"intro"\x3e'+soy.$$escapeHtml(n)+'\x3c/p\x3e\x3c/section\x3e\x3csection class\x3d"itemList"\x3e\x3ctable id\x3d"itemList"\x3e';
v=q.length;for(z=0;z<v;z++)t=q[z],n+='\x3ctr class\x3d"license"\x3e\x3ctd class\x3d"thumbnail"\x3e\x3cdiv class\x3d"inner '+soy.$$escapeHtmlAttribute(t.I$)+'" style\x3d"'+(c.Yb?"/*"+c.Yb+"*//*"+c.Yb+"*/":"")+"background-image: url('"+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeMediaUri(t.ug))+'\');"\x3e\x3c/div\x3e\x3c/td\x3e\x3ctd class\x3d"info"\x3e'+(t.jG?'\x3cdiv class\x3d"title"\x3e'+soy.$$escapeHtml(l)+"\x3c/span\x3e\x3c/div\x3e":'\x3cdiv class\x3d"title"\x3e'+soy.$$escapeHtml(t.title)+'\x3c/div\x3e\x3cdiv class\x3d"by"\x3e'+
soy.$$escapeHtml(t.Kr)+"\x3c/div\x3e")+'\x3c/td\x3e\x3ctd class\x3d"price"\x3e'+(t.Hv?soy.$$escapeHtml(h):t.yn?'\x3cdiv class\x3d"state"\x3e'+soy.$$escapeHtml(k)+'\x3c/div\x3e\x3cdiv class\x3d"type"\x3e'+soy.$$escapeHtml(t.kH)+(t.xz?" - "+soy.$$escapeHtml(t.xz):"")+"\x3c/div\x3e":1==t.et.length?soy.$$escapeHtml(t.et[0].text):1<t.et.length?'\x3cdiv class\x3d"select"\x3e'+v_({options:t.et})+"\x3c/div\x3e":"")+"\x3c/tr\x3e";n+='\x3c/table\x3e\x3c/section\x3e\x3csection class\x3d"total"\x3e\x3cp class\x3d"creditRemaining"\x3e'+
soy.$$escapeHtml(d)+'\x3c/p\x3e\x3cp class\x3d"amount"\x3e\x3cspan class\x3d"totalCost"\x3e'+soy.$$escapeHtml(e)+'\x3c/span\x3e\x3c/p\x3e\x3c/section\x3e\x3csection class\x3d"creditPacks"\x3e\x3cform\x3e\x3cdiv class\x3d"prepay"\x3e\x3clabel\x3e\x3cinput type\x3d"radio" name\x3d"purchaseCreditPack" value\x3d"yes"\x3e '+soy.$$escapeHtml(m)+':\x3c/label\x3e\x3cdiv class\x3d"creditPackOptions"\x3e'+v_({options:u})+'\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"prepay"\x3e\x3clabel\x3e\x3cinput type\x3d"radio" name\x3d"purchaseCreditPack" value\x3d"no" checked\x3d"checked"\x3e \x3cspan class\x3d"payOption"\x3e'+
soy.$$escapeHtml(g)+'\x3c/span\x3e\x3c/label\x3e\x3c/div\x3e\x3c/form\x3e\x3c/section\x3e\x3csection class\x3d"simpleTotal"\x3e\x3cdiv class\x3d"simpleTotalPayOption"\x3e'+soy.$$escapeHtml(g)+'\x3c/div\x3e\x3c/section\x3e\x3cform class\x3d"publishPagePaymentForm"\x3e\x3cdiv class\x3d"creditCardContainer"\x3e\x3c/div\x3e\x3cdiv class\x3d"savedTeamCard"\x3e\x3c/div\x3e\x3cdiv class\x3d"actions"\x3e'+w_({v:"paymentPageSubmitButton buttonSubmittable",type:"submit",text:p})+"\x3c/div\x3e\x3c/div\x3e";
c=soydata.VERY_UNSAFE.ordainSanitizedHtml(n);b.innerHTML=c;this.wd.refresh();this.$(".creditCardContainer").html(this.bj.$el);this.eo=this.$(".publishPagePaymentForm");this.gR=this.eo.find("button[type\x3dsubmit]");return this};f.remove=function(){this.wd.remove()};function Q1(a,b){a.trigger("creditPackSelect",$(b.target).val())}f.lO=function(){this.trigger("licensesMore")};function R1(a){a.$(".creditPacks").hide();a.trigger("contentResize")}
function Zaa(a){a.$(".creditPacks").show();a.trigger("contentResize")}function S1(a){a.$(".simpleTotal").hide();a.trigger("contentResize")}function $aa(a){a.$(".simpleTotal").show();a.trigger("contentResize")}function T1(a){a.$(".creditCardContainer").hide();a.$(".publishPagePaymentForm").attr("novalidate","");a.trigger("contentResize")}function aba(a){a.$(".creditCardContainer").show();a.$(".publishPagePaymentForm").removeAttr("novalidate");a.trigger("contentResize")}
function bba(a){a=a.$(".paymentRestrictedOverlay");return(new P1(a)).show()}f.NQ=function(a){var b=this.$(".licensesMore");a.Bi(b)};function cba(a,b){a.$(".totalCost").html(b)}function dba(a,b){a.$(".payOption").text(b);a.$(".simpleTotalPayOption").text(b)}function eba(a,b){a.$(".creditPackOptions option").each(function(a,d){a=$(d);d=a.val();a.toggle(0<=b.indexOf(d))})}function fba(a,b){a.$(".creditPackOptions select").val(b)}
function U1(a){a.$("input[name\x3dpurchaseCreditPack][value\x3dyes]").prop("checked",!0)}function V1(a,b){$('\x3cp class\x3d"errorMessage"\x3e').html(b).insertBefore(a.eo);a.trigger("contentResize")}function W1(a,b){a.$(".savedTeamCard").text(b).show();a.trigger("contentResize")}function X1(a){a.$(".savedTeamCard").hide();a.trigger("contentResize")}function gba(a){a.eo.prev(".errorMessage").remove();a.trigger("contentResize")}f.rp=function(a){return I1(a).toString()};
function Y1(a){var b=a.Q_;soy.asserts.assertType(goog.isBoolean(b.ie)||1===b.ie||0===b.ie,"showOneTimeUse",b.ie,"boolean");soy.asserts.assertType(goog.isString(b.md)||b.md instanceof goog.soy.data.SanitizedContent,"oneTimeUse",b.md,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(b.Nc)||b.Nc instanceof goog.soy.data.SanitizedContent,"oneTimeUseDescription",b.Nc,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(b.je)||1===b.je||0===b.je,"showRoyaltyFree",
b.je,"boolean");soy.asserts.assertType(goog.isString(b.Fc)||b.Fc instanceof goog.soy.data.SanitizedContent,"royaltyFree",b.Fc,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(b.Qc)||b.Qc instanceof goog.soy.data.SanitizedContent,"royaltyFreeDescription",b.Qc,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(b.Rg)||1===b.Rg||0===b.Rg,"showExtended",b.Rg,"boolean");soy.asserts.assertType(goog.isString(b.Id)||b.Id instanceof goog.soy.data.SanitizedContent,
"extended",b.Id,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(b.Yd)||b.Yd instanceof goog.soy.data.SanitizedContent,"extendedDescription",b.Yd,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(b.be)||b.be instanceof goog.soy.data.SanitizedContent,"noLicenseOptionDescription",b.be,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(b.Pj instanceof soydata.SanitizedHtml||b.Pj instanceof soydata.UnsanitizedText||goog.isString(b.Pj),
"fullInformationHtml",b.Pj,"soydata.SanitizedHtml");var c=b.Pj,b=soydata.VERY_UNSAFE.ordainSanitizedHtml(O1(b)+'\x3cp class\x3d"licensesDetails__fullInformation outro"\x3e'+soy.$$escapeHtml(c)+"\x3c/p\x3e"),b=$(b.toString());Az.call(this,{className:"licensesPopOver",content:b,We:a.Q_.confirm,position:xp})}r(Y1,Az);var hba=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3ca href\x3d"https://about.canva.com/license-agreements/" target\x3d"_blank"\x3eabout.canva.com/license-agreements\x3c/a\x3e');function iV(a){this.view=a.view;this.j=a.j;this.na=a.na;this.va=a.va;this.qT=null;this.aa=a.aa;this.Z=a.Z;this.ub=a.ub;this.Xb=a.Xb;this.Yy=[];this.Aa=Tc(a.i);this.Ya=cd(a.i);this.Oa=Vc(a.i);this.kf=a.kf;this.Qf=a.Qf;this.Og=a.Og;this.Rb=a.Rb;this.pb=a.pb||null;this.cf=a.cf;this.aC=null;this.fa=a.fa||null;this.kq=!1}f=iV.prototype;
f.init=function(){var a=this;this.view.on("creditPackChange",function(b,c){a.aC=b?c:null});this.view.on("creditPackSelect",function(b){a.aC=b;U1(a.view)});this.view.on("priceChange",function(b,c){a.Rb.ri[b].cC=c;Z1(a)});this.view.on("licensesMore",function(){var b={confirm:We(a.Aa),ie:a.Rb.In("ONE_USE"),md:a.Oa.md(),Nc:a.Oa.Nc(),je:a.Rb.In("ROYALTY_FREE"),Fc:a.Oa.Fc(),Qc:a.Oa.Qc(),Rg:a.Rb.In("EXTENDED"),Id:a.Oa.Id(),Yd:a.Oa.Yd(),be:a.Oa.be(),Pj:Xe(a.Oa,hba)};a.view.NQ(new Y1({Q_:b}))});this.view.on("submitPayment",
function(){return iba(a)});this.view.on("clickDraft",function(){a.trigger("clickDraft")});this.view.on("clickOverlayDraftButton",function(){a.j.wa(X(X(X(new Zl("publish_restricted_download_draft"),"section","editor"),"subsection","publish_dialog"),"location","payment_page"));a.trigger("clickDraft")});null!=this.Xb&&lN(this.Xb,"contextTipRoyaltyFreePaymentOption",function(){var b;a.Rb.In("ROYALTY_FREE")?(b=a.view.$el.find(".license .select").first(),1!==b.length?b=null:(b=b.get(0).getBoundingClientRect(),
b={x:Number(b.right)+10,y:Number(b.top)})):b=null;return b});return this};f.vl=function(){return this.view};f.remove=function(){this.view.remove()};f.refresh=function(){var a=this,b=Lw(this.Z,this.na),c=P.resolve([{da:10,Mr:11,name:"PACK_10"},{da:20,Mr:22,name:"PACK_20"},{da:50,Mr:55,name:"PACK_50"},{da:100,Mr:110,name:"PACK_100"}]);return P.all([c,b]).then(function(b){var c=la(b);b=c.next().value;c=c.next().value;a.qT=c.pV()[a.va]||null;a.Yy=b;a.view.render(a.wn());Z1(a)})};
f.wn=function(){var a=this,b=null!=this.fa&&this.fa.Zv||0,c=sU(this.Rb),d=Math.max(c-b,0),e=this.kf?Ue(this.Aa)+this.Aa.Ia("paymentPageLicensingIntroDraft"):Ue(this.Aa);return{Im:this.Aa.Im(b),OC:soydata.VERY_UNSAFE.ordainSanitizedHtml(this.Aa.total(c)),Gq:soydata.VERY_UNSAFE.ordainSanitizedHtml(this.Aa.Gq(d)),Kd:this.Aa.Kd(),ft:this.Aa.ft(),Rv:this.Aa.Rv(),iI:this.Aa.format("paymentPageSpecialOfferLabel"),xA:soydata.VERY_UNSAFE.ordainSanitizedHtml(e),Qf:this.Qf||this.Aa.Qf(),ri:this.Rb.EF().map(function(b){return jba(a,
b)}),Yy:this.Yy.map(function(b){return{text:a.Aa.format("paymentPageCreditPackOffer",b.da,b.Mr,parseInt(100*(b.Mr/b.da-1),10)),value:b.name}}),so:this.Aa.so(),Og:this.Og||this.Aa.Og(),ro:this.Aa.ro(),qo:this.Aa.qo(),kf:this.kf}};function jba(a,b){return{yn:b.yn(),jG:b.jG(),Hv:b.Hv(),ug:b.tn(),I$:b.nN()?"cover":"contain",title:b.qb(),Kr:a.Aa.Kr(b.bh),kH:$1(a,iU(b)),xz:kba(a,kU(b)),et:hU(b).map(function(b){var d=a.Aa.Al(b.da),e=$1(a,b.dk);return{selected:b.Jf,text:e+" - "+d,value:b.dk}})}}
function kba(a,b){if(Infinity===b)return null;var c=moment.duration(b);b=Math.floor(c.asHours());c=c.minutes();return b?a.Aa.format("paymentPageLicenseRemainingHours",b):Ve(a.Aa,c)}function $1(a,b){switch(b){case "ONE_USE":return a.Oa.md();case "ROYALTY_FREE":return a.Oa.Fc();case "EXTENDED":return a.Oa.Id();default:return null}}
function a2(a){var b=null!=a.fa&&a.fa.CP;return b&&0<b.length&&!b.some(function(b){return b===a.qT})?(a.j.wa(X(X(X(new Zl("publish_download_restricted"),"section","editor"),"subsection","publish_dialog"),"location","payment_page")),bba(a.view).then(function(){return!0})):P.resolve(!1)}
function Z1(a){var b=null!=a.fa&&a.fa.Zv||0,c=sU(a.Rb),b=Math.max(c-b,0),d=lba(a,b);cba(a.view,a.Aa.total(c));dba(a.view,a.Aa.Gq(b));eba(a.view,d.map(function(a){return a.name}));b2(a)?(Zaa(a.view),S1(a.view),aba(a.view),0<d.length?(d.some(function(b){return b.name===a.aC})||fba(a.view,d[0].name),null!=a.aC?U1(a.view):a.view.$("input[name\x3dpurchaseCreditPack][value\x3dno]").prop("checked",!0)):(R1(a.view),$aa(a.view)),c2(a)?(a.view.wd.bx(!0),a.cf?X1(a.view):W1(a.view,a.Aa.gQ())):(c=a.fa.Xh,null!=
c&&a.view.wd.vk(c),a.cf?(a.view.wd.bx(!1),X1(a.view)):(T1(a.view),c=a.Aa.format("paymentPageSavedTeamCard",c.Qv),W1(a.view,c)))):(R1(a.view),S1(a.view),T1(a.view),X1(a.view))}function lba(a,b){return a.Yy.filter(function(a){return a.Mr>=b})}function d2(a){return a.kq||0<sU(a.Rb)?P.reject():e2(a,!0)}
function iba(a){a.kq||(gba(a.view),a.view.gR.addClass("submitting"),a.MN().then(function(){return e2(a,!1)}).catch(TT,function(){return a.fA()}).catch(oj,function(b){return a.Xj(b)}).catch(function(){return a.fA()}).finally(function(){a.view.gR.removeClass("submitting")}))}function e2(a,b){a.kq=!0;return mba(a).then(function(){return b?f2(a):a.lF()}).then(function(b){a.trigger("paymentComplete",b);return b}).finally(function(){a.kq=!1})}
f.MN=function(){this.j.wa(X(X(X(new Zl("credit_card_submitted"),"section","editor"),"subsection","publish_dialog"),"location","payment_page"));return b2(this)&&c2(this)?this.view.uM():P.resolve()};function mba(a){return uU(a.Rb,a.va,a.pb,a.aC).reduce(function(b,c){return b.then(function(){return a.aa.hE(c)}).then(function(b){return a.pH(b.Je)})},P.resolve())}f.pH=function(a){return xj(this.aa,new gi({Je:a,action:"PAY_SYNCHRONOUS",no:!1}))};
f.lF=function(){var a=this,b=new TE({types:["ONE_USE"],status:["ACTIVATED"],D:this.va,document:this.pb,media:rU(this.Rb).map(function(a){return a.Qp()}),limit:100});return this.ub.lF(b).then(function(b){return f2(a,b.Bc.map(function(a){return a.yz}),b.Wl)}).catch(function(){return f2(a)})};
function f2(a,b,c){b=void 0===b?[]:b;c=void 0===c?0:c;var d=[].concat(ma(new Set(rU(a.Rb).map(function(a){return a.cC}))));return{Ct:Math.min.apply(Math,[].concat(ma([].concat([tU(a.Rb)],ma(b.map(function(a){return(a||Infinity)-c})))))),df:d}}function c2(a){if(!a.fa)return!0;a=a.fa.Xh;if(!a)return!0;var b=new Date,c=b.getUTCMonth()+1,b=b.getUTCFullYear();return a.Vu<b||a.Vu==b&&a.dF<c}function b2(a){return!a.fa||sU(a.Rb)>(a.fa.Zv||0)}f.fA=function(){V1(this.view,Te(this.Aa).toString())};
f.Xj=function(a){V1(this.view,ZT(this.Ya,a))};f.vn=function(){return{title:this.Aa.format("paymentPagePurchaseTitle")}};f.on=Backbone.Events.on;f.once=Backbone.Events.once;f.off=Backbone.Events.off;f.trigger=Backbone.Events.trigger;function g2(a){this.view=a.view;this.Ga=a.Ga;this.hF="EXPORTING";this.H=a.H;this.vC=0;this.aR=-1}f=g2.prototype;f.vl=function(){return this.view};f.remove=function(){this.view.remove();this.H.clearTimeout(this.aR)};f.refresh=function(){this.view.render();this.H.clearTimeout(this.aR);this.vC=0;var a=this.view,b=a.$(".progressValue");b.css("transition","none");a.lr(0);b.width();b.css("transition","");this.Fw();return P.resolve()};
f.vn=function(){switch(this.hF){case "EXPORTING":return{title:this.Ga.format("publishViewTitlePreparingDesign")};case "SAVING":return{title:this.Ga.format("publishViewSavingTitle")};default:throw Error("unexpected exporting state: "+this.hF);}};f.Fw=function(){var a=this;this.vC+=33*(99-this.vC)/99;this.view.tZ(this.vC);this.aR=this.H.setTimeout(function(){return a.Fw()},1.1*3E3)};function h2(){M1.call(this,{className:"exporting"})}r(h2,M1);
h2.prototype.render=function(){this.el.innerHTML=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"progress"\x3e\x3cspan class\x3d"progressValue"\x3e\x3cspan class\x3d"text"\x3e\x3c/span\x3e\x3c/span\x3e\x3c/div\x3e');return this};h2.prototype.tZ=function(a){var b=this;this.$(".progressValue").delay().queue(function(c){b.lr(a);c()})};h2.prototype.lr=function(a){this.$(".progressValue").width(a+"%").children(".text").text(a+"%")};h2.prototype.rp=function(a){return I1(a).toString()};function i2(a){this.quotes=[a.format("quoteAlbertEinstein"),a.format("quoteRobertGreene"),a.format("quoteHenriMatisse"),a.format("quoteSteveJobs"),a.format("quoteAndyWarhol"),a.format("quoteEleanorRoosevelt"),a.format("quoteAbrahamLincoln"),a.format("quoteThomasWatsonJr"),a.format("quotePaulRand"),a.format("quoteNelsonMandela"),a.format("quotePabloPicasso"),a.format("quoteMiltonGlaser"),a.format("quoteMaryLouCook"),a.format("quoteDrEdwinLand"),a.format("quoteAlexanderIsley"),a.format("quoteJoeMansueto"),
a.format("quoteCharlesEames"),a.format("quoteMihnDTran"),a.format("quoteAntoineDeSaintExupery")]}i2.prototype.next=function(){var a=soydata.VERY_UNSAFE.ordainSanitizedHtml(this.quotes[Math.floor(Math.random()*this.quotes.length)]);soy.asserts.assertType(a instanceof soydata.SanitizedHtml||a instanceof soydata.UnsanitizedText||goog.isString(a),"quote",a,"soydata.SanitizedHtml");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cp class\x3d"designQuote"\x3e'+soy.$$escapeHtml(a)+"\x3c/p\x3e").toString()};function w_(a){var b;soy.asserts.assertType(null==a.attributes||a.attributes instanceof soydata.SanitizedHtmlAttribute||a.attributes instanceof soydata.UnsanitizedText||goog.isString(a.attributes),"attributes",a.attributes,"?soydata.SanitizedHtmlAttribute|string|undefined");var c=a.attributes;soy.asserts.assertType(null==a.block||goog.isBoolean(a.block)||1===a.block||0===a.block,"block",a.block,"boolean|null|undefined");var d=a.block;soy.asserts.assertType(null==a.type||a.type instanceof goog.soy.data.SanitizedContent||
goog.isString(a.type),"type",a.type,"null|string|undefined");var e=a.type;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");var g=a.v;soy.asserts.assertType(null==a.disabled||goog.isBoolean(a.disabled)||1===a.disabled||0===a.disabled,"disabled",a.disabled,"boolean|null|undefined");var h=a.disabled;soy.asserts.assertType(null==a.href||a.href instanceof goog.soy.data.SanitizedContent||goog.isString(a.href),"href",
a.href,"null|string|undefined");var k=a.href;soy.asserts.assertType(null==a.id||a.id instanceof goog.soy.data.SanitizedContent||goog.isString(a.id),"id",a.id,"null|string|undefined");var l=a.id;soy.asserts.assertType(null==a.small||goog.isBoolean(a.small)||1===a.small||0===a.small,"small",a.small,"boolean|null|undefined");var m=a.small;soy.asserts.assertType(null==a.tagName||a.tagName instanceof goog.soy.data.SanitizedContent||goog.isString(a.tagName),"tagName",a.tagName,"null|string|undefined");
var n=a.tagName;soy.asserts.assertType(goog.isString(a.text)||a.text instanceof goog.soy.data.SanitizedContent,"text",a.text,"string|goog.soy.data.SanitizedContent");a=a.text;var p=null==(b=n)?"button":b,c=""+("\x3c"+soy.$$filterHtmlElementName(p)+" "+(c?" "+soy.$$filterHtmlAttributes(c):"")+' type\x3d"'+soy.$$escapeHtmlAttribute(null==(b=e)?"button":b)+'" class\x3d"button'+(d?" buttonBlock":"")+(g?" "+soy.$$escapeHtmlAttribute(g):"")+(h&&"a"==n?" disabled":"")+(m?" buttonSmall":"")+'"'+(k?' href\x3d"'+
soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(k))+'"':"")+(l?' id\x3d"'+soy.$$escapeHtmlAttribute(l)+'"':"")+(h&&"a"!=n?" disabled":"")+"\x3e"+soy.$$escapeHtml(a)+"\x3c/"+soy.$$filterHtmlElementName(p)+"\x3e");return soydata.VERY_UNSAFE.ordainSanitizedHtml(c)};function H1(a){a=a||{};soy.asserts.assertType(null==a.attributes||a.attributes instanceof soydata.SanitizedHtmlAttribute||a.attributes instanceof soydata.UnsanitizedText||goog.isString(a.attributes),"attributes",a.attributes,"?soydata.SanitizedHtmlAttribute|string|undefined");soy.asserts.assertType(null==a.block||goog.isBoolean(a.block)||1===a.block||0===a.block,"block",a.block,"boolean|null|undefined");soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),
"classes",a.v,"null|string|undefined");soy.asserts.assertType(null==a.disabled||goog.isBoolean(a.disabled)||1===a.disabled||0===a.disabled,"disabled",a.disabled,"boolean|null|undefined");soy.asserts.assertType(null==a.id||a.id instanceof goog.soy.data.SanitizedContent||goog.isString(a.id),"id",a.id,"null|string|undefined");soy.asserts.assertType(null==a.name||a.name instanceof goog.soy.data.SanitizedContent||goog.isString(a.name),"name",a.name,"null|string|undefined");soy.asserts.assertType(null==
a.placeholder||a.placeholder instanceof goog.soy.data.SanitizedContent||goog.isString(a.placeholder),"placeholder",a.placeholder,"null|string|undefined");soy.asserts.assertType(null==a.tagName||a.tagName instanceof goog.soy.data.SanitizedContent||goog.isString(a.tagName),"tagName",a.tagName,"null|string|undefined");var b=a.tagName;soy.asserts.assertType(null==a.type||a.type instanceof goog.soy.data.SanitizedContent||goog.isString(a.type),"type",a.type,"null|string|undefined");soy.asserts.assertType(null==
a.small||goog.isBoolean(a.small)||1===a.small||0===a.small,"small",a.small,"boolean|null|undefined");soy.asserts.assertType(null==a.value||a.value instanceof goog.soy.data.SanitizedContent||goog.isString(a.value),"value",a.value,"null|string|undefined");var c=a.value,b=null==b?"input":b;a=""+("textarea"==b?"\x3ctextarea "+j2(a)+"\x3e"+(c?soy.$$escapeHtmlRcdata(c):"")+"\x3c/textarea\x3e":"\x3c"+soy.$$filterHtmlElementName(b)+" "+j2(a)+"\x3e");return soydata.VERY_UNSAFE.ordainSanitizedHtml(a)}
function j2(a){a=a||{};soy.asserts.assertType(null==a.attributes||a.attributes instanceof soydata.SanitizedHtmlAttribute||a.attributes instanceof soydata.UnsanitizedText||goog.isString(a.attributes),"attributes",a.attributes,"?soydata.SanitizedHtmlAttribute|string|undefined");var b=a.attributes;soy.asserts.assertType(null==a.block||goog.isBoolean(a.block)||1===a.block||0===a.block,"block",a.block,"boolean|null|undefined");var c=a.block;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||
goog.isString(a.v),"classes",a.v,"null|string|undefined");var d=a.v;soy.asserts.assertType(null==a.disabled||goog.isBoolean(a.disabled)||1===a.disabled||0===a.disabled,"disabled",a.disabled,"boolean|null|undefined");var e=a.disabled;soy.asserts.assertType(null==a.id||a.id instanceof goog.soy.data.SanitizedContent||goog.isString(a.id),"id",a.id,"null|string|undefined");var g=a.id;soy.asserts.assertType(null==a.name||a.name instanceof goog.soy.data.SanitizedContent||goog.isString(a.name),"name",a.name,
"null|string|undefined");var h=a.name;soy.asserts.assertType(null==a.placeholder||a.placeholder instanceof goog.soy.data.SanitizedContent||goog.isString(a.placeholder),"placeholder",a.placeholder,"null|string|undefined");var k=a.placeholder;soy.asserts.assertType(null==a.tagName||a.tagName instanceof goog.soy.data.SanitizedContent||goog.isString(a.tagName),"tagName",a.tagName,"null|string|undefined");var l=a.tagName;soy.asserts.assertType(null==a.type||a.type instanceof goog.soy.data.SanitizedContent||
goog.isString(a.type),"type",a.type,"null|string|undefined");var m=a.type;soy.asserts.assertType(null==a.small||goog.isBoolean(a.small)||1===a.small||0===a.small,"small",a.small,"boolean|null|undefined");var n=a.small;soy.asserts.assertType(null==a.value||a.value instanceof goog.soy.data.SanitizedContent||goog.isString(a.value),"value",a.value,"null|string|undefined");a=a.value;return soydata.VERY_UNSAFE.ordainSanitizedHtmlAttribute((b?" "+soy.$$filterHtmlAttributes(b):"")+' class\x3d"textInput'+
(c?" textInputBlock":"")+(d?" "+soy.$$escapeHtmlAttribute(d):"")+(n?" textInputSmall":"")+'"'+(e?" disabled":"")+(g?' id\x3d"'+soy.$$escapeHtmlAttribute(g)+'"':"")+(h?' name\x3d"'+soy.$$escapeHtmlAttribute(h)+'"':"")+(k?' placeholder\x3d"'+soy.$$escapeHtmlAttribute(k)+'"':"")+("textarea"!=l?' type\x3d"'+soy.$$escapeHtmlAttribute(null==m?"text":m)+'"'+(a?' value\x3d"'+soy.$$escapeHtmlAttribute(a)+'"':""):""))};_.template('\n  \x3cspan class\x3d"findUserInput"\x3e\x3cinput type\x3d"text" class\x3d"textInput" placeholder\x3d"\x3c%- inputPlaceholder %\x3e" /\x3e\x3c/span\x3e\n');_.template('\n  \x3cimg class\x3d"avatar" src\x3d"\x3c%- avatarURL %\x3e" /\x3e\n  \x3cdiv class\x3d"findUser__right"\x3e\n    \x3cspan class\x3d"lead"\x3e\x3c%- lead %\x3e\x3c/span\x3e\n    \x3cspan class\x3d"desc"\x3e\x3c%- desc %\x3e\x3c/span\x3e\n  \x3c/div\x3e\n');_.template('\n  \x3cspan class\x3d"desc"\x3e\x3c%\x3d message %\x3e\x3c/span\x3e\n');function k2(a){var b=this;hc.call(this,a);this.$el.on("click",".tagListInput__tagRemoveButton",function(a){a=new l2($(a.target).closest(".tagListInput__tag"));b.trigger(m2,a)});this.$el.on("keydown",".tagListInput__input",function(a){return b.Ll(a)});this.$el.on("keyup",".tagListInput__input",function(){return b.trigger(n2)});this.$el.on("click",function(){return b.trigger(o2)});this.$el.on("blur",".tagListInput__input",function(){return b.trigger(p2)});this.Qn=null}r(k2,hc);f=k2.prototype;
f.Ll=function(a){nba.has(a.which)?(this.trigger(q2),a.preventDefault()):oba.has(a.which)?null==this.Qn&&(this.trigger(q2),a.preventDefault()):8===a.which&&this.trigger(r2)};function s2(a,b){a.$el.find(".tagListInput__input").attr("placeholder",b)}f.ul=function(){return String(this.$el.find(".tagListInput__input").val())};
f.tD=function(a){t2(this);var b=this.$el.find(".tagListInput__input"),c=$,d;soy.asserts.assertType(goog.isString(a.text)||a.text instanceof goog.soy.data.SanitizedContent,"text",a.text,"string|goog.soy.data.SanitizedContent");d=a.text;soy.asserts.assertType(goog.isBoolean(a.valid)||1===a.valid||0===a.valid,"valid",a.valid,"boolean");var e=!!a.valid;soy.asserts.assertType(null==a.ji||goog.isNumber(a.ji),"modelId",a.ji,"null|number|undefined");a=a.ji;d=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"tagListInput__tag'+
(e?"":" tagListInput__tag--invalid")+'"'+(null!=a?' data-model-id\x3d"'+soy.$$escapeHtmlAttribute(a)+'"':"")+'\x3e\x3cdiv class\x3d"tagListInput__tagText"\x3e'+soy.$$escapeHtml(d)+'\x3c/div\x3e\x3cdiv class\x3d"tagListInput__tagRemoveButton"\x3e\x3cdiv class\x3d"tagListInput__tagRemoveIcon"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e');c=c(d.toString());(new l2(c)).$el.insertBefore(b)};f.Xp=function(){return this.$el.find(".tagListInput__tag").toArray().map(function(a){return new l2($(a))})};
f.focus=function(){this.$el.find(".tagListInput__input").focus()};function t2(a){a.Qn&&(a.Qn.view.remove(),a.Qn=null)}function pba(a,b){t2(a);a.Qn=UQ({elements:b,Iu:0});a.$el.append(a.Qn.view.$el);a.Qn.on({select:function(c){a.trigger(u2,b[c].element.data("model-id"))},cancel:function(){t2(a)}})}function l2(a){gc.apply(this,arguments)}r(l2,gc);l2.prototype.isValid=function(){return!this.$el.hasClass("tagListInput__tag--invalid")};l2.prototype.tc=function(){return String(this.$el.find(".tagListInput__tagText").text())};
l2.prototype.qv=function(){var a=parseInt(this.$el.data("model-id"),10);return isNaN(a)?void 0:a};var m2="REMOVE_TAG",q2="SUBMIT",r2="BACKSPACE",o2="FOCUS",p2="BLUR",n2="KEY_UP",u2="SELECT_MENULIST_ELEMENT",oba=new Set([13]),nba=new Set([32,188,59,186]);function v2(a,b){var c=this;this.view=b;this.HI=a.HI;this.QR=a.QR;this.GO=null;this.QN=a.QN;this.vq=null;this.cX=!1;this.RN=a.RN;this.PN=a.PN;this.sL=a.sL;this.gO=a.gO;this.FE=a.FE;this.AW="";this.view.on(q2,function(){return w2(c)});this.view.on(r2,function(){if(0===c.view.ul().length){var a=c.view.Xp();0<a.length&&x2(c,a[a.length-1])}});this.view.on(m2,function(a){return x2(c,a)});this.view.on(o2,function(){c.view.focus();a.Dq&&a.Dq()});this.view.on(p2,function(){var a=c.view;null!=a.Qn&&a.Qn.view.$("li").hasClass("hovering")||
t2(c.view)});this.view.on(n2,function(){var a=c.view.ul();c.AW!==a&&(c.AW=a,c.GO&&c.GO(),y2(c))});this.view.on(u2,function(a){return qba(c,a)})}function w2(a){var b=a.view.ul();return 0===b.length?P.resolve():a.HI.validate(b,null).then(function(c){c=c.valid;var d=void 0;if(c){var e=z2(a,b);1===e.length&&(b=a.FE(e[0].data),d=e[0].ji)}a.tD({text:b,valid:c,ji:d})})}v2.prototype.tD=function(a){this.view.tD(a);s2(this.view,this.gO);this.view.$el.find(".tagListInput__input").val("")};
function x2(a,b){b.remove();a.view.focus();0===a.view.Xp().length&&s2(a.view,a.sL)}function rba(a,b){a.GO=b}function sba(a){return a.view.Xp().filter(function(a){return a.isValid()}).map(function(b){var c=b.qv();return null!=c&&0<=c&&c<a.vq.length?a.vq[c]:b.tc()})}function tba(a){return a.view.Xp().filter(function(a){return!a.isValid()}).map(function(a){return a.tc()})}function uba(a){a.QN.then(function(b){a.vq=b;a.cX=!1;y2(a)})}
function z2(a,b){return a.vq.map(function(a,b){return{data:a,ji:b}}).filter(function(c){return a.RN(b,c.data)}).slice(0,4)}function y2(a){if(a.vq||a.cX){var b=a.view.ul();0!==b.length&&a.vq?(b=z2(a,b).map(function(b){return a.PN(b.data,b.ji)}),b.length?pba(a.view,b):t2(a.view)):t2(a.view)}else uba(a)}function qba(a,b){Fa(b<a.vq.length,"Invalid tag list model ID");var c=a.vq[b],d=a.QR(c);a.HI.validate(d,null).then(function(d){d=d.valid;var g=a.FE(c);a.tD({text:g,valid:d,ji:b})})}
var vba=new Ff("mg",!0);function A2(a){this.view=a.view;this.Ga=Rc(a.i);this.Oa=Vc(a.i);this.hR=a.hR}f=A2.prototype;f.init=function(){var a=this;this.view.on("remove",function(){a.trigger("complete")});this.view.on("clickConfirm",function(){a.view.$(".paymentOnboarding__button").addClass("disabled");a.view.remove()});return this};f.In=function(a){return 0<=this.hR.indexOf(a)};
f.show=function(){var a=this.wn(),b=this.view,c=$,d;soy.asserts.assertType(goog.isString(a.before)||a.before instanceof goog.soy.data.SanitizedContent,"before",a.before,"string|goog.soy.data.SanitizedContent");d=a.before;soy.asserts.assertType(goog.isString(a.after)||a.after instanceof goog.soy.data.SanitizedContent,"after",a.after,"string|goog.soy.data.SanitizedContent");var e=a.after;soy.asserts.assertType(goog.isString(a.title)||a.title instanceof goog.soy.data.SanitizedContent,"title",a.title,
"string|goog.soy.data.SanitizedContent");var g=a.title;soy.asserts.assertType(goog.isString(a.WF)||a.WF instanceof goog.soy.data.SanitizedContent,"headline",a.WF,"string|goog.soy.data.SanitizedContent");var h=a.WF;soy.asserts.assertType(goog.isBoolean(a.ie)||1===a.ie||0===a.ie,"showOneTimeUse",a.ie,"boolean");var k=!!a.ie;soy.asserts.assertType(goog.isString(a.md)||a.md instanceof goog.soy.data.SanitizedContent,"oneTimeUse",a.md,"string|goog.soy.data.SanitizedContent");var l=a.md;soy.asserts.assertType(goog.isString(a.Nc)||
a.Nc instanceof goog.soy.data.SanitizedContent,"oneTimeUseDescription",a.Nc,"string|goog.soy.data.SanitizedContent");var m=a.Nc;soy.asserts.assertType(goog.isBoolean(a.je)||1===a.je||0===a.je,"showRoyaltyFree",a.je,"boolean");var n=!!a.je;soy.asserts.assertType(goog.isString(a.Fc)||a.Fc instanceof goog.soy.data.SanitizedContent,"royaltyFree",a.Fc,"string|goog.soy.data.SanitizedContent");var p=a.Fc;soy.asserts.assertType(goog.isString(a.Qc)||a.Qc instanceof goog.soy.data.SanitizedContent,"royaltyFreeDescription",
a.Qc,"string|goog.soy.data.SanitizedContent");var q=a.Qc;soy.asserts.assertType(goog.isString(a.be)||a.be instanceof goog.soy.data.SanitizedContent,"noLicenseOptionDescription",a.be,"string|goog.soy.data.SanitizedContent");var u=a.be;soy.asserts.assertType(goog.isString(a.fd)||a.fd instanceof goog.soy.data.SanitizedContent,"buttonText",a.fd,"string|goog.soy.data.SanitizedContent");a=a.fd;d=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"paymentOnboarding__header"\x3e\x3cdiv class\x3d"paymentOnboarding__headerState" data-title\x3d"'+
soy.$$escapeHtmlAttribute(d)+'"\x3e\x3c/div\x3e\x3cdiv class\x3d"paymentOnboarding__headerState" data-title\x3d"'+soy.$$escapeHtmlAttribute(e)+'"\x3e\x3c/div\x3e\x3c/div\x3e\x3ch2 class\x3d"center"\x3e'+soy.$$escapeHtml(g)+'\x3c/h2\x3e\x3cp class\x3d"paymentOnboarding__headline"\x3e'+soy.$$escapeHtml(h)+"\x3c/p\x3e"+O1({ie:k,md:l,Nc:m,je:n,Fc:p,Qc:q,Rg:!1,Id:null,Yd:null,be:u})+'\x3cdiv class\x3d"paymentOnboarding__footer"\x3e'+w_({v:"paymentOnboarding__button",text:a})+"\x3c/div\x3e");b.content=
c(d.toString());this.view.show()};f.remove=function(){this.view.remove()};f.wn=function(){return{before:this.Ga.format("publishViewOnboardingBefore"),after:this.Ga.format("publishViewOnboardingAfter"),title:this.Ga.format("publishViewOnboardingTitle"),WF:this.Ga.format("publishViewOnboardingHeadline"),ie:this.In("ONE_USE"),md:this.Oa.md(),Nc:this.Oa.Nc(),je:this.In("ROYALTY_FREE"),Fc:this.Oa.Fc(),Qc:this.Oa.Qc(),be:this.Oa.be(),fd:this.Ga.format("publishViewOnboardingConfirm")}};f.on=Backbone.Events.on;
f.once=Backbone.Events.once;f.off=Backbone.Events.off;f.trigger=Backbone.Events.trigger;function B2(a){kp.call(this,{className:"paymentOnboarding",H:a.H,jf:!1,Gr:!0,Re:!0})}r(B2,kp);B2.prototype.events=function(){var a=this;return _.extend(kp.prototype.events.call(this),{"click .paymentOnboarding__button":function(){a.trigger("clickConfirm")}})};B2.prototype.Rp=function(){return AX};
B2.prototype.render=function(){kp.prototype.render.call(this);this.$(".dialog .content").html(this.content);this.delegateEvents();return this};function C2(a){this.view=a.view;this.Gp=null;this.Ga=a.Ga;this.Gw=null}f=C2.prototype;f.init=function(){var a=this;this.view.on("done",function(){a.trigger("done")});this.view.on("retry",function(){a.view.$(".button").prop("disabled",!0);a.trigger("retry")});return this};f.vl=function(){return this.view};f.remove=function(){this.view.remove()};f.refresh=function(){y(this.Gw);this.view.render(this.wn());this.view.delegateEvents();null!=this.Gp&&this.view.sZ(this.Gp);return P.resolve()};
f.wn=function(){return{message:soydata.VERY_UNSAFE.ordainSanitizedHtml(this.Gw.message),Zt:this.Ga.Zt(),$t:this.Ga.$t(),Ki:this.Gw.Ki||!1,Qt:this.Gw.Qt||!1}};f.vn=function(){return{title:this.Gw.title}};f.sZ=function(a){this.Gp=a};
function wba(a,b){switch(b){case "EMPTY_DOC":return{message:a.Ga.format("publishViewErrorEmptyDesign"),title:a.Ga.format("publishViewErrorEmptyDesignTitle"),Ki:!0};case "SAVING":return{message:a.Ga.format("publishViewErrorSavingDesign"),title:a.Ga.format("publishViewErrorSavingDesignTitle"),Qt:!0};case "VERSION_CONFLICT":return{message:a.Ga.format("publishViewErrorVersionConflict"),title:a.Ga.format("publishViewErrorVersionConflictTitle"),Ki:!0};case "UPLOADING":return{message:a.Ga.format("publishViewErrorUploading"),
title:a.Ga.format("publishViewErrorUploadingTitle"),Ki:!0};case "EXPORTING":case "BACKGROUND_PAYMENT":return{message:a.Ga.format("publishViewErrorPageHtml","http://status.canva.com"),title:a.Ga.format("publishViewTitleErrorPage"),Ki:!0};case "BACKGROUND":return{message:a.Ga.format("publishViewErrorBackgroundTaskHtml","http://status.canva.com"),title:a.Ga.format("publishViewErrorBackgroundTaskTitle"),Ki:!0};case "LICENSE_NO_OPTIONS":return{message:a.Ga.format("publishViewErrorLicenseNoOptionsHtml",
"http://status.canva.com"),title:a.Ga.format("publishViewErrorLicenseNoOptionsTitle"),Ki:!0};case "URL_MINTING":return{message:a.Ga.format("publishViewErrorUrlMinting","http://status.canva.com"),title:a.Ga.format("publishViewErrorUrlMintingTitle"),Ki:!0};default:throw Error("unexpected publish error type: "+b);}}f.on=Backbone.Events.on;f.off=Backbone.Events.off;f.trigger=Backbone.Events.trigger;
function D2(){var a=this;M1.call(this,{className:"error",events:{"click .done":function(){a.trigger("done")},"click .retry":function(){return a.mO()}}})}r(D2,M1);D2.prototype.mO=function(){this.trigger("retry")};D2.prototype.sZ=function(a){$('\x3cp class\x3d"errorMessage"\x3e'+a+"\x3c/p\x3e").insertBefore(this.$(".buttonContainer"))};
D2.prototype.render=function(a){var b=this.el,c;soy.asserts.assertType(a.message instanceof soydata.SanitizedHtml||a.message instanceof soydata.UnsanitizedText||goog.isString(a.message),"message",a.message,"soydata.SanitizedHtml");c=a.message;soy.asserts.assertType(goog.isBoolean(a.Ki)||1===a.Ki||0===a.Ki,"useOK",a.Ki,"boolean");var d=!!a.Ki;soy.asserts.assertType(goog.isBoolean(a.Qt)||1===a.Qt||0===a.Qt,"useRetry",a.Qt,"boolean");var e=!!a.Qt;soy.asserts.assertType(goog.isString(a.Zt)||a.Zt instanceof
goog.soy.data.SanitizedContent,"actionOK",a.Zt,"string|goog.soy.data.SanitizedContent");var g=a.Zt;soy.asserts.assertType(goog.isString(a.$t)||a.$t instanceof goog.soy.data.SanitizedContent,"actionRetry",a.$t,"string|goog.soy.data.SanitizedContent");a=a.$t;c=soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3cp\x3e"+soy.$$escapeHtml(c)+'\x3c/p\x3e\x3cp class\x3d"buttonContainer"\x3e'+(d?'\x3cbutton class\x3d"button done"\x3e'+soy.$$escapeHtml(g)+"\x3c/button\x3e":"")+(e?'\x3cbutton class\x3d"button retry"\x3e'+
soy.$$escapeHtml(a)+"\x3c/button\x3e":"")+"\x3c/p\x3e");b.innerHTML=c;return this};D2.prototype.rp=function(a){return I1(a).toString()};function xba(a){soy.asserts.assertType(goog.isString(a.message)||a.message instanceof goog.soy.data.SanitizedContent,"message",a.message,"string|goog.soy.data.SanitizedContent");var b=a.message;soy.asserts.assertType(goog.isString(a.Wg)||a.Wg instanceof goog.soy.data.SanitizedContent,"actionClose",a.Wg,"string|goog.soy.data.SanitizedContent");a=a.Wg;return soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3cp\x3e"+soy.$$escapeHtml(b)+'\x3c/p\x3e\x3cp class\x3d"useExportButton"\x3e\x3ca class\x3d"button" tabindex\x3d"0"\x3e'+
soy.$$escapeHtml(a)+"\x3c/a\x3e\x3c/p\x3e")};function E2(a){this.j=a}E2.prototype.Rj=function(){return this.j.Rj()};E2.prototype.wa=function(a){return this.j.wa(a)};function F2(a,b){a.j.track("post_publish_dialog_shown",{type:b})}function G2(a,b,c,d){b={type:b};location&&(b.section=c);d&&Object.assign(b,d);a.j.track("post_publish_dialog_clicked",b)}function H2(a,b,c,d){a.j.track("mobile_dialogue_submit",{type:b,location:"publish_flow_complete",value:c,status:d?"success":"fail"})};function I2(a){soy.asserts.assertType(a.mb instanceof soydata.SanitizedHtml||a.mb instanceof soydata.UnsanitizedText||goog.isString(a.mb),"headingHtml",a.mb,"soydata.SanitizedHtml");var b=a.mb;soy.asserts.assertType(goog.isString(a.jk)||a.jk instanceof goog.soy.data.SanitizedContent,"overviewSubheading",a.jk,"string|goog.soy.data.SanitizedContent");var c=a.jk;soy.asserts.assertType(goog.isString(a.Mc)||a.Mc instanceof goog.soy.data.SanitizedContent,"iphoneLabel",a.Mc,"string|goog.soy.data.SanitizedContent");
var d=a.Mc;soy.asserts.assertType(goog.isString(a.Ic)||a.Ic instanceof goog.soy.data.SanitizedContent,"androidLabel",a.Ic,"string|goog.soy.data.SanitizedContent");a=a.Ic;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"experimentsPhoneDialog__heading"\x3e'+soy.$$escapeHtml(b)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__content"\x3e'+soy.$$escapeHtml(c)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__options"\x3e\x3cdiv class\x3d"experimentsPhoneDialog__optionsIphone"\x3e'+
soy.$$escapeHtml(d)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__optionsAndroid"\x3e'+soy.$$escapeHtml(a)+"\x3c/div\x3e\x3c/div\x3e")}
function yba(a){soy.asserts.assertType(a.mb instanceof soydata.SanitizedHtml||a.mb instanceof soydata.UnsanitizedText||goog.isString(a.mb),"headingHtml",a.mb,"soydata.SanitizedHtml");var b=a.mb;soy.asserts.assertType(goog.isString(a.Gv)||a.Gv instanceof goog.soy.data.SanitizedContent,"iphoneSubheading",a.Gv,"string|goog.soy.data.SanitizedContent");var c=a.Gv;soy.asserts.assertType(goog.isString(a.Yw)||a.Yw instanceof goog.soy.data.SanitizedContent,"sendButtonLabel",a.Yw,"string|goog.soy.data.SanitizedContent");
var d=a.Yw;soy.asserts.assertType(goog.isString(a.qj)||a.qj instanceof goog.soy.data.SanitizedContent,"phoneInputPlaceholder",a.qj,"string|goog.soy.data.SanitizedContent");a=a.qj;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"experimentsPhoneDialog__back"\x3e\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__heading"\x3e'+soy.$$escapeHtml(b)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__grid"\x3e\x3cdiv class\x3d"experimentsPhoneDialog__coverIphone"\x3e\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__aside"\x3e\x3cdiv class\x3d"experimentsPhoneDialog__subheading"\x3e'+
soy.$$escapeHtml(c)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__input"\x3e\x3cinput class\x3d"experimentsPhoneDialog__inputField experimentsPhoneDialog__inputField--iphone" type\x3d"text" placeholder\x3d"'+soy.$$escapeHtmlAttribute(a)+'"\x3e\x3cdiv class\x3d"experimentsPhoneDialog__inputButton experimentsPhoneDialog__inputButton--iphone"\x3e'+soy.$$escapeHtml(d)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__inputError experimentsPhoneDialog__inputError--iphone"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')}
function zba(a){soy.asserts.assertType(a.mb instanceof soydata.SanitizedHtml||a.mb instanceof soydata.UnsanitizedText||goog.isString(a.mb),"headingHtml",a.mb,"soydata.SanitizedHtml");var b=a.mb;soy.asserts.assertType(goog.isString(a.hu)||a.hu instanceof goog.soy.data.SanitizedContent,"androidSubheading",a.hu,"string|goog.soy.data.SanitizedContent");var c=a.hu;soy.asserts.assertType(goog.isString(a.Jw)||a.Jw instanceof goog.soy.data.SanitizedContent,"registerButtonLabel",a.Jw,"string|goog.soy.data.SanitizedContent");
var d=a.Jw;soy.asserts.assertType(goog.isString(a.qj)||a.qj instanceof goog.soy.data.SanitizedContent,"phoneInputPlaceholder",a.qj,"string|goog.soy.data.SanitizedContent");a=a.qj;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"experimentsPhoneDialog__back"\x3e\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__heading"\x3e'+soy.$$escapeHtml(b)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__grid"\x3e\x3cdiv class\x3d"experimentsPhoneDialog__coverAndroid"\x3e\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__aside"\x3e\x3cdiv class\x3d"experimentsPhoneDialog__subheading"\x3e'+
soy.$$escapeHtml(c)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__input"\x3e\x3cinput class\x3d"experimentsPhoneDialog__inputField experimentsPhoneDialog__inputField--android" type\x3d"text" placeholder\x3d"'+soy.$$escapeHtmlAttribute(a)+'"\x3e\x3cdiv class\x3d"experimentsPhoneDialog__inputButton experimentsPhoneDialog__inputButton--android"\x3e'+soy.$$escapeHtml(d)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__inputError experimentsPhoneDialog__inputError--android"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')}
;function J2(a){var b=this;hc.call(this,a);a.on("click",".experimentsPhoneDialog__back",function(){return b.trigger(K2)});a.on("click",".experimentsPhoneDialog__optionsIphone",function(){return b.trigger(L2)});a.on("click",".experimentsPhoneDialog__optionsAndroid",function(){return b.trigger(M2)});a.on("click",".experimentsPhoneDialog__inputButton--android",function(){return b.trigger(N2)});a.on("click",".experimentsPhoneDialog__inputButton--iphone",function(){return b.trigger(O2)})}r(J2,hc);f=J2.prototype;
f.zo=function(a){return this.$el.find(".experimentsPhoneDialog__container").html(a)};function P2(a){a=a.$el.find(".experimentsPhoneDialog__inputField");if(0===a.size())throw Error("Input field could not be found");return a}function Q2(a){a=a.$el.find(".experimentsPhoneDialog__inputButton");if(0===a.size())throw Error("Input button could not be found");return a}f.vt=function(a){this.$el.find(".experimentsPhoneDialog__inputError").text(a)};f.AF=function(){return P2(this).val().toString()};
f.BQ=function(){this.Qq();P2(this).addClass("experimentsPhoneDialog__inputField--loading");Q2(this).addClass("experimentsPhoneDialog__inputButton--loading")};f.gx=function(a){this.Qq();P2(this).addClass("experimentsPhoneDialog__inputField--error");Q2(this).addClass("experimentsPhoneDialog__inputButton--error");this.vt(a)};f.ZH=function(){this.Qq();P2(this).addClass("experimentsPhoneDialog__inputField--success");Q2(this).addClass("experimentsPhoneDialog__inputButton--success");this.vt("Success!")};
f.Qq=function(){this.vt("");P2(this).removeClass("experimentsPhoneDialog__inputField--error").removeClass("experimentsPhoneDialog__inputField--loading").removeClass("experimentsPhoneDialog__inputField--success");Q2(this).removeClass("experimentsPhoneDialog__inputButton--error").removeClass("experimentsPhoneDialog__inputButton--loading").removeClass("experimentsPhoneDialog__inputButton--success")};var K2="BACK",N2="SEND_ANDROID",O2="SEND_IPHONE",M2="GOTO_ANDROID",L2="GOTO_IPHONE";function R2(a,b){var c=this;this.view=b;this.j=a.j;this.yc=a.yc;this.i=a.i;this.view.on(K2,function(){var a={mb:soydata.VERY_UNSAFE.ordainSanitizedHtml(c.i.mb()),jk:c.i.jk(),Mc:c.i.Mc(),Ic:c.i.Ic()};c.view.zo(I2(a).toString())});this.view.on(O2,function(){return Aba(c)});this.view.on(N2,function(){var a;a=c.view.AF();/^(?=.*[0-9])[- +()0-9]+$/g.test(a)?(c.j.wa(S2(a,!0)),c.view.ZH(),a=void 0):(c.j.wa(S2(a,!1)),a=c.view.gx(c.i.gG()));return a});this.view.on(L2,function(){var a={mb:soydata.VERY_UNSAFE.ordainSanitizedHtml(c.i.mb()),
Gv:c.i.Gv(),Yw:c.i.Yw(),qj:c.i.qj()};c.view.zo(yba(a).toString());G2(c.j,"app_download","os_select",{os:"ios"})});this.view.on(M2,function(){var a={mb:soydata.VERY_UNSAFE.ordainSanitizedHtml(c.i.mb()),hu:c.i.hu(),Jw:c.i.Jw(),qj:c.i.qj()};c.view.zo(zba(a).toString());G2(c.j,"app_download","os_select",{os:"android"})})}R2.prototype.Me=function(){this.j.wa(X(new Zl("mobile_dialogue_loaded"),"location","publish_flow_complete"))};R2.prototype.destroy=function(){this.view.remove()};
function Aba(a){var b=a.view.AF();if(!/^(?=.*[0-9])[- +()0-9]+$/g.test(b))return a.view.gx(a.i.gG());a.view.BQ();a.yc.send(b,{feature:"TextMeTheApp",channel:"webapp",campaign:"publish_dialog",stage:"control"}).then(function(){a.view.ZH();a.j.wa(T2(b,!0))}).catch(function(){a.view.gx(a.i.YQ());a.j.wa(T2(b,!1))})}function S2(a,b){b=b?"success":"fail";return X(X(X(X(new Zl("mobile_dialogue_submit"),"type","android"),"location","publish_flow_complete"),"value",a),"status",b)}
function T2(a,b){b=b?"success":"fail";return X(X(X(X(new Zl("mobile_dialogue_submit"),"type","ios"),"location","publish_flow_complete"),"value",a),"status",b)};function U2(a){soy.asserts.assertType(goog.isString(a.Mc)||a.Mc instanceof goog.soy.data.SanitizedContent,"iphoneLabel",a.Mc,"string|goog.soy.data.SanitizedContent");var b=a.Mc;soy.asserts.assertType(goog.isString(a.Ic)||a.Ic instanceof goog.soy.data.SanitizedContent,"androidLabel",a.Ic,"string|goog.soy.data.SanitizedContent");var c=a.Ic;soy.asserts.assertType(goog.isString(a.td)||a.td instanceof goog.soy.data.SanitizedContent,"submitButtonLabel",a.td,"string|goog.soy.data.SanitizedContent");var d=
a.td;soy.asserts.assertType(goog.isString(a.Pg)||a.Pg instanceof goog.soy.data.SanitizedContent,"selectDeviceText",a.Pg,"string|goog.soy.data.SanitizedContent");var e=a.Pg;soy.asserts.assertType(goog.isString(a.ni)||a.ni instanceof goog.soy.data.SanitizedContent,"phoneInputCTAText",a.ni,"string|goog.soy.data.SanitizedContent");a=a.ni;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"experimentsMobileAppsDialog__step"\x3e'+soy.$$escapeHtml(e)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__choiceForm" action\x3d""\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__radioInputContainer"\x3e\x3cinput type\x3d"radio" id\x3d"experimentsMobileAppsDialog__choice--iphone" class\x3d"experimentsMobileAppsDialog__choice" name\x3d"mobileType" value\x3d"iphone" checked\x3e\x3clabel class\x3d"experimentsMobileAppsDialog__choiceLabel" for\x3d"experimentsMobileAppsDialog__choice--iphone"\x3e'+
soy.$$escapeHtml(b)+'\x3c/label\x3e\x3c/div\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__radioInputContainer"\x3e\x3cinput type\x3d"radio" id\x3d"experimentsMobileAppsDialog__choice--android" class\x3d"experimentsMobileAppsDialog__choice" name\x3d"mobileType" value\x3d"android"\x3e\x3clabel class\x3d"experimentsMobileAppsDialog__choiceLabel" for\x3d"experimentsMobileAppsDialog__choice--android"\x3e'+soy.$$escapeHtml(c)+'\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__step experimentsMobileAppsDialog__step--phoneInputCTA"\x3e'+
soy.$$escapeHtml(a)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__phoneNumberInputContainer"\x3e\x3cinput type\x3d"text" class\x3d"experimentsMobileAppsDialog__phoneNumberInputField"/\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__phoneNumberInputSubmit"\x3e'+soy.$$escapeHtml(d)+'\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__result"\x3e\x3c/div\x3e')};function V2(a){var b=this;hc.call(this,a);this.Wo=a.find(".experimentsMobileAppsDialog__phoneNumberInputField");this.fD=a.find(".experimentsMobileAppsDialog__phoneNumberInputSubmit");a.find(".experimentsMobileAppsDialog__step--phoneInputCTA");this.Wo.intlTelInput({utilsScript:"https://static.canva.com/static/lib/intlTelInput/utils-12.1.0.min.js"});a.on("click",".experimentsMobileAppsDialog__phoneNumberInputSubmit",function(){return b.trigger(W2)});a.on("input",".experimentsMobileAppsDialog__phoneNumberInputField",function(){return b.trigger(X2)})}
r(V2,hc);f=V2.prototype;f.vt=function(a){this.$el.find(".experimentsMobileAppsDialog__result").text(a)};f.AF=function(){return String(this.Wo.intlTelInput("getNumber"))};f.rZ=function(a){this.Wo.intlTelInput("setCountry",a)};f.BQ=function(){this.Qq();this.Wo.addClass("experimentsMobileAppsDialog__phoneNumberInputField--loading");this.fD.addClass("experimentsMobileAppsDialog__phoneNumberInputSubmit--loading")};
f.gx=function(a){this.Qq();this.Wo.addClass("experimentsMobileAppsDialog__phoneNumberInputField--error");this.fD.addClass("experimentsMobileAppsDialog__phoneNumberInputSubmit--error");this.vt(a)};f.ZH=function(a){this.Qq();this.Wo.addClass("experimentsMobileAppsDialog__phoneNumberInputField--success");this.fD.addClass("experimentsMobileAppsDialog__phoneNumberInputSubmit--success");this.vt(a)};
f.Qq=function(){this.vt("");this.Wo.removeClass("experimentsMobileAppsDialog__phoneNumberInputField--error").removeClass("experimentsMobileAppsDialog__phoneNumberInputField--loading").removeClass("experimentsMobileAppsDialog__phoneNumberInputField--success");this.fD.removeClass("experimentsMobileAppsDialog__phoneNumberInputSubmit--error").removeClass("experimentsMobileAppsDialog__phoneNumberInputSubmit--loading").removeClass("experimentsMobileAppsDialog__phoneNumberInputSubmit--success")};
var W2="SUBMIT",X2="PHONE_NUMBER_CHANGED";function Y2(a,b){var c=this;this.view=b;this.j=a.j;this.yc=a.yc;this.Qm=a.Qm;this.i=a.i;this.view.on(W2,function(){return c.Ml()});this.view.on(X2,function(){return c.view.Qq()})}Y2.prototype.Me=function(){F2(this.j,"app_download");var a=this.j.Rj();a&&this.view.rZ(a)};Y2.prototype.destroy=function(){this.view.remove()};
Y2.prototype.Ml=function(){if(this.view.Wo.intlTelInput("isValidNumber")){G2(this.j,"app_download","phone_number_submit");var a=this.view.$el.find(".experimentsMobileAppsDialog__choice:checked").val().toString();switch(a){case "iphone":Z2(this,"iphone");break;case "android":Z2(this,"android");break;default:throw Error("UNKNOWN_DEVICE_TYPE: "+a);}}else this.view.gx(this.i.gG())};
function Z2(a,b){var c=a.view.AF();a.view.BQ();a.yc.send(c,{feature:"TextMeTheApp",channel:"webapp",campaign:"publish_dialog",stage:a.Qm}).then(function(){a.view.ZH(a.i.success());H2(a.j,b,c,!0)}).catch(function(){a.view.gx(a.i.YQ());H2(a.j,b,c,!1)})};function $2(a){var b=this;hc.call(this,a);this.$el.on("click",".experimentsPrintPublishDialog__printButton",function(){return b.trigger(a3)})}r($2,hc);var a3="PRINT_CLICK";function b3(a,b){var c=this;this.view=b;this.CO=a.CO;this.j=a.j;this.view.on(a3,function(){G2(c.j,"print_upsell");c.CO()})}
function Bba(a){var b=a.Tl.format("publishDialogPrintDialogPrintButtonLabel"),c=a.Tl.format("publishDialogPrintDialogSubtitle"),d=soydata.VERY_UNSAFE.ordainSanitizedHtml(a.Tl.format("publishDialogPrintDialogTitleHtml")),e=$;soy.asserts.assertType(d instanceof soydata.SanitizedHtml||d instanceof soydata.UnsanitizedText||goog.isString(d),"titleHtml",d,"soydata.SanitizedHtml");soy.asserts.assertType(goog.isString(c)||c instanceof goog.soy.data.SanitizedContent,"subtitle",c,"string|goog.soy.data.SanitizedContent");
soy.asserts.assertType(goog.isString(b)||b instanceof goog.soy.data.SanitizedContent,"printButtonLabel",b,"string|goog.soy.data.SanitizedContent");b=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"experimentsPrintPublishDialog"\x3e\x3cdiv class\x3d"experimentsPrintPublishDialog__container"\x3e\x3cdiv class\x3d"experimentsPrintPublishDialog__printIcon"\x3e\x3c/div\x3e\x3cdiv class\x3d"experimentsPrintPublishDialog__title"\x3e'+soy.$$escapeHtml(d)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsPrintPublishDialog__subTitle"\x3e'+
soy.$$escapeHtml(c)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsPrintPublishDialog__printButtonContainer"\x3e\x3cbutton class\x3d"experimentsPrintPublishDialog__printButton"\x3e'+soy.$$escapeHtml(b)+"\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e");e=e(b.toString());e=new $2(e);return{Db:new b3(a,e),view:e}}b3.prototype.Me=function(){F2(this.j,"print_upsell")};b3.prototype.destroy=function(){this.view.remove()};function c3(a,b){hc.call(this,a);this.mR=b}r(c3,hc);function d3(a,b,c){var d=this;this.view=b;this.IC=c;this.j=a.j;this.Gt=a.Gt;e3(this.IC,function(b){return f3(d.Gt,b).then(function(){b.forEach(function(a){return d.j.wa(sm(a,"export_dialog"))});G2(d.j,"team_member_invite","team_invite_submit");a.vO()})})}
function Cba(a){var b=a.Tl.format("publishDialogTeamInviteDialogTitle"),c=a.Tl.format("publishDialogTeamInviteDialogSubheading"),d={td:a.rf.td(),Kj:a.rf.Kj(),dW:g3(a.kj),mr:a.rf.mr(),ap:a.rf.ap()},e=$;soy.asserts.assertType(goog.isString(b)||b instanceof goog.soy.data.SanitizedContent,"title",b,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(c)||c instanceof goog.soy.data.SanitizedContent,"subheading",c,"string|goog.soy.data.SanitizedContent");d=goog.asserts.assertObject(d,
"expected parameter 'teamInviteFormModel' of type [addAnotherButtonClasses: null|string, addAnotherButtonLabel: string, classes: null|string, emailInputPlaceholder: string, inputModel: list\x3c[modelId: float|int]\x3e, listItemClasses: null|string, submitButtonClasses: null|string, submitButtonLabel: string, upgradeMessage: string].");b=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"teamInviteDialog"\x3e\x3cdiv class\x3d"teamInviteDialog__header"\x3e\x3cdiv class\x3d"teamInviteDialog__title"\x3e'+
soy.$$escapeHtml(b)+'\x3c/div\x3e\x3cdiv class\x3d"teamInviteDialog__subheading"\x3e'+soy.$$escapeHtml(c)+'\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"teamInviteDialog__wrapper"\x3e\x3cdiv class\x3d"teamInviteDialog__pane teamInviteDialog__imageWrapper"\x3e\x3cimg class\x3d"teamInviteDialog__image" src\x3d"https://static.canva.com/static/images/experiments/publish_dialog_invite/team.png"\x3e\x3c/div\x3e\x3cdiv class\x3d"teamInviteDialog__pane teamInviteDialog__inviteForm"\x3e'+h3(soy.$$assignDefaults({BC:"teamInviteDialog__submitButton"},
d))+"\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e");e=e(b.toString());b=new i3(e.find(".teamInviteForm"));e=new c3(e,b);b=a.tK(e.mR);a=new d3(a,e,b);return{view:e,Db:a}}d3.prototype.Me=function(){this.IC.Me();F2(this.j,"team_member_invite")};d3.prototype.destroy=function(){this.view.remove()};function F0(a){this.aO=a.aO;this.aa=a.aa;this.qr=a.qr;this.uE=a.uE;this.Z=a.Z;this.cc=a.cc;this.jp=a.jp;this.rg=a.rg;this.D=a.D}function f3(a,b){return 0===b.length?P.resolve():a.FR().then(function(){return Dba(a,b)})}function Dba(a,b){b=b.map(function(b){return Object.freeze(Df(Sx,{email:b,role:a.uE}))});b=Ux(Vx((new Tx).zj(a.D.u()),"brand_page_Invite_Accept_Invitation"),b);return a.Z.nZ(b)}
F0.prototype.FR=function(){var a=this;if(!this.D.hi())return P.resolve();var b=Ox(Nx((new Mx).Uo(this.D.u()),Eba(this)));return Pw(this.Z,b).then(function(b){var d;try{d=b.Lp().hn().Gg}catch(e){d=null}b=Rw({brandColor:d,brandname:b.yF(),contributor:b.iW(),displayName:b.Jb(),id:b.u(),layoutContributor:b.nW(),personal:b.hi(),thirdParty:b.qW()});a.D=b;py(a.cc);qy(a.cc)})};function Eba(a){var b=a.D.Jb();a.D.hi()&&(b=a.jp.format("brandTeamMembersDefaultTeamDisplayName",b||a.qr));return b||""};function E0(a,b){var c=this;this.view=b;this.YE=a.YE;this.hj=a.hj;this.rf=a.rf;this.fI=void 0===a.fI||a.fI;this.kj=a.kj;this.Ml=a.Ml;this.view.on(j3,function(a){return c.rO(a)});this.view.on(k3,function(a){var b=l3(c.view),g;for(g=0;g<b.length;g++){var h=b[g];if(a.qv()===h.qv())break}g+1<b.length&&b[g+1].focus()});this.view.on(m3,function(a){return c.qO(a)});this.view.on(n3,function(){return Fba(c)});this.view.on(o3,function(){l3(c.view).length<c.kj.xG&&(Gba(c.view,{yr:!0,yl:c.rf.Kj(),ji:p3++}),q3(c))})}
f=E0.prototype;f.destroy=function(){this.view.remove()};f.Me=function(){q3(this)};function e3(a,b){a.Ml=b}function q3(a){var b=l3(a.view).length,c=b+a.kj.zK>=a.kj.Cl;b>=a.kj.xG||c?(r3(a.view,!1),c&&a.fI&&s3(a.view,!0)):(s3(a.view,!1),r3(a.view,!0))}f.rO=function(a){t3(a).lg()};f.qO=function(a){var b=l3(this.view);b[b.length-1].qv()===a.qv()&&u3(this.view,!0)};f.Kt=function(a){this.view.Kt(a);v3(this.view,a);l3(this.view).forEach(function(b){return b.Kt(a)})};
function Fba(a){a.Kt(!0);var b=l3(a.view).filter(function(a){return 0<a.tc().length});w3(Hba(a,b)).then(function(c){c?(c=b.map(function(a){return a.tc()}),y(a.Ml)(c).catch(function(b){return a.view.lf(b)}).finally(function(){return a.Kt(!1)})):a.Kt(!1)})}function Hba(a,b){return b.map(function(b){return{Op:function(){return t3(b)},Pp:function(){return b.tc()},sr:[a.YE]}})}
f.reset=function(){var a=this;r3(this.view,!0);v3(this.view,!1);u3(this.view,!1);s3(this.view,!1);l3(this.view).forEach(function(b,c){c<x3(a.kj)?b.Ak(""):b.remove()})};function g3(a){a=x3(a);return Iba(a)}function x3(a){Fa(a.GK<=a.xG);return Math.min(a.GK,Math.max(a.Cl-a.zK,0))}function Iba(a){return Array(Math.max(a,0)).fill(null).map(function(){return{ji:p3++}})}var p3=1;function i3(a){var b=this;hc.call(this,a);this.$el.on("click",".teamInviteForm__submitButton",function(){b.trigger(n3)});this.$el.on("input",".teamInviteForm__textInput",function(a){return b.rO(a)});this.$el.on("keyup",".teamInviteForm__textInput",function(a){13===a.keyCode&&(a=$(a.target).closest(".teamInviteForm__emailListItem"),b.trigger(k3,new y3(a)))});this.$el.on("focus",".teamInviteForm__textInput",function(a){return b.qO(a)});this.$el.on("click",".teamInviteForm__addAnother",function(){return b.trigger(o3)})}
r(i3,hc);function Gba(a,b){var c=Jba(b);a.$el.find(".teamInviteForm__emailList").append(c.$el);b.yr&&il(function(){c.$el.addClass("teamInviteForm__emailListItem--visible");c.focus()})}function l3(a){return a.$el.find(".teamInviteForm__emailListItem").toArray().map(function(a){return new y3($(a))})}f=i3.prototype;f.lf=function(a){this.$el.find(".teamInviteForm__error").addClass("teamInviteForm__error--visible").text(a)};f.lg=function(){this.$el.find(".teamInviteForm__error").removeClass("teamInviteForm__error--visible")};
f.Kt=function(a){this.$el.find(".teamInviteForm__submitButton").toggleClass("teamInviteForm__submitButton--submitting",a)};function v3(a,b){a.$el.find(".teamInviteForm__addAnother").toggleClass("teamInviteForm__addAnother--disabled",b)}function s3(a,b){a.$el.find(".teamInviteForm__upgradeMessage").toggleClass("teamInviteForm__upgradeMessage--visible",b)}function r3(a,b){a.$el.find(".teamInviteForm__addAnother").toggleClass("teamInviteForm__addAnother--hidden",!b)}
function u3(a,b){a.$el.find(".teamInviteForm__addAnother").toggleClass("teamInviteForm__addAnother--highlighted",b)}f.rO=function(a){a=$(a.target).closest(".teamInviteForm__emailListItem");this.trigger(j3,new y3(a))};f.qO=function(a){a=$(a.target).closest(".teamInviteForm__emailListItem");this.trigger(m3,new y3(a))};var j3="FIELD_INPUT",k3="FIELD_ENTER",m3="FIELD_FOCUS",n3="SUBMIT_CLICK",o3="ADD_ANOTHER";function y3(a){gc.apply(this,arguments)}r(y3,gc);
function Jba(a){a=$(z3(a).toString());return new y3(a)}f=y3.prototype;f.tc=function(){return String(this.$el.find(".teamInviteForm__textInput").val())};f.Ak=function(a){this.$el.find(".teamInviteForm__textInput").val(a)};function t3(a){return t1($(a.$el.find(".teamInviteForm__inputContainer")))}f.qv=function(){return Number(this.$el.data("model-id"))};f.Kt=function(a){this.$el.find(".teamInviteForm__textInput").toggleClass("teamInviteForm__textInput--submitting",a)};f.focus=function(){this.$el.find(".teamInviteForm__textInput").focus()};function h3(a){soy.asserts.assertType(goog.isString(a.Kj)||a.Kj instanceof goog.soy.data.SanitizedContent,"emailInputPlaceholder",a.Kj,"string|goog.soy.data.SanitizedContent");var b=a.Kj;soy.asserts.assertType(goog.isString(a.td)||a.td instanceof goog.soy.data.SanitizedContent,"submitButtonLabel",a.td,"string|goog.soy.data.SanitizedContent");var c=a.td;soy.asserts.assertType(goog.isString(a.ap)||a.ap instanceof goog.soy.data.SanitizedContent,"addAnotherButtonLabel",a.ap,"string|goog.soy.data.SanitizedContent");
var d=a.ap,e=goog.asserts.assertArray(a.dW,"expected parameter 'inputModel' of type list\x3c[modelId: float|int]\x3e.");soy.asserts.assertType(goog.isString(a.mr)||a.mr instanceof goog.soy.data.SanitizedContent,"upgradeMessage",a.mr,"string|goog.soy.data.SanitizedContent");var g=a.mr;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");var h=a.v;soy.asserts.assertType(null==a.sG||a.sG instanceof goog.soy.data.SanitizedContent||
goog.isString(a.sG),"listItemClasses",a.sG,"null|string|undefined");var k=a.sG;soy.asserts.assertType(null==a.BC||a.BC instanceof goog.soy.data.SanitizedContent||goog.isString(a.BC),"submitButtonClasses",a.BC,"null|string|undefined");var l=a.BC;soy.asserts.assertType(null==a.rD||a.rD instanceof goog.soy.data.SanitizedContent||goog.isString(a.rD),"addAnotherButtonClasses",a.rD,"null|string|undefined");a=a.rD;for(var h='\x3cdiv class\x3d"teamInviteForm'+(h?" "+soy.$$escapeHtmlAttribute(h):"")+'"\x3e\x3cul class\x3d"teamInviteForm__emailList"\x3e',
m=e.length,n=0;n<m;n++)h+=z3(soy.$$assignDefaults({v:k,yl:b},e[n]));h+='\x3c/ul\x3e\x3cdiv class\x3d"teamInviteForm__infoContainer"\x3e\x3cbutton class\x3d"teamInviteForm__addAnother'+(a?" "+soy.$$escapeHtmlAttribute(a):"")+'"\x3e+ '+soy.$$escapeHtml(d)+'\x3c/button\x3e\x3cdiv class\x3d"teamInviteForm__upgradeMessage"\x3e'+soy.$$escapeHtml(g)+'\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"teamInviteForm__error"\x3e\x3c/div\x3e\x3cbutton type\x3d"submit" class\x3d"teamInviteForm__submitButton '+(l?soy.$$escapeHtmlAttribute(l)+
" ":"")+'"\x3e'+soy.$$escapeHtml(c)+"\x3c/button\x3e\x3c/div\x3e";return soydata.VERY_UNSAFE.ordainSanitizedHtml(h)}
function z3(a){soy.asserts.assertType(goog.isString(a.yl)||a.yl instanceof goog.soy.data.SanitizedContent,"inputPlaceholder",a.yl,"string|goog.soy.data.SanitizedContent");var b=a.yl;soy.asserts.assertType(goog.isNumber(a.ji),"modelId",a.ji,"number");var c=a.ji;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");var d=a.v;soy.asserts.assertType(null==a.yr||goog.isBoolean(a.yr)||1===a.yr||0===a.yr,"animated",a.yr,
"boolean|null|undefined");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cli class\x3d"teamInviteForm__emailListItem'+(a.yr?" teamInviteForm__emailListItem--animated":"")+(d?" "+soy.$$escapeHtmlAttribute(d):"")+'" data-model-id\x3d"'+soy.$$escapeHtmlAttribute(c)+'"\x3e'+n1({v:"teamInviteForm__inputContainer",input:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+H1({placeholder:b,v:"teamInviteForm__textInput"}))})+"\x3c/li\x3e")};function A3(a,b){this.view=b;this.VD=a.VD;this.TJ=a.TJ}f=A3.prototype;f.vl=function(){return this.view};f.remove=function(){this.TJ.destroy();this.view.remove()};f.vn=function(){return{title:""}};f.refresh=function(){this.view.render();return P.resolve()};f.AQ=function(){};f.DQ=function(){};function B3(a){M1.call(this,{className:"",events:{}});this.SD=a.SD}r(B3,M1);B3.prototype.render=function(){$(this.el).append(this.SD.$el);return this};B3.prototype.remove=function(){this.SD.remove();M1.prototype.remove.call(this)};function C3(a){this.G=a.G;this.vd=a.vd;this.i=a.i;this.j=a.j;this.yc=a.yc}C3.prototype.dN=function(){return this.yc&&"X"!==this.G.get(D3)?this.vd.getItem(E3).then(function(a){return!a}):P.resolve(!1)};
C3.prototype.render=function(){var a=this.G.get(D3),b;if("A"===a){b=new E2(this.j);var c=y(this.yc),a=this.i;a.aL||(a.aL=new yf(a.config));b={j:b,yc:c,i:a.aL};a={mb:soydata.VERY_UNSAFE.ordainSanitizedHtml(b.i.mb()),jk:b.i.jk(),Mc:b.i.Mc(),Ic:b.i.Ic()};c=$;soy.asserts.assertType(a.mb instanceof soydata.SanitizedHtml||a.mb instanceof soydata.UnsanitizedText||goog.isString(a.mb),"headingHtml",a.mb,"soydata.SanitizedHtml");soy.asserts.assertType(goog.isString(a.jk)||a.jk instanceof goog.soy.data.SanitizedContent,
"overviewSubheading",a.jk,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Mc)||a.Mc instanceof goog.soy.data.SanitizedContent,"iphoneLabel",a.Mc,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Ic)||a.Ic instanceof goog.soy.data.SanitizedContent,"androidLabel",a.Ic,"string|goog.soy.data.SanitizedContent");a=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"experimentsPhoneDialog"\x3e\x3cdiv class\x3d"experimentsPhoneDialog__closeButton"\x3e\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__container"\x3e'+
I2(a)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__iphonePage"\x3e\x3c/div\x3e\x3cdiv class\x3d"experimentsPhoneDialog__androidPage"\x3e\x3c/div\x3e\x3c/div\x3e');c=c(a.toString());c=new J2(c);b={Db:new R2(b,c),view:c}}else{b=new E2(this.j);var c=y(this.yc),d=this.i;d.cL||(d.cL=new Af(d.config));d=d.cL;a:switch(a){case "B":a="visual";break a;case "C":a="textual";break a;default:throw Error("UNKNOWN_VARIANT: "+a);}b={j:b,yc:c,i:d,Qm:a};c=b.i;a=b.Qm;a={heading:c.heading(),Di:c.Di(),Qm:a,Mc:c.Mc(),
Ic:c.Ic(),td:c.td(),Pg:c.Pg(),ni:c.format("downloadMobileAppDialogPhoneInputCTA"),tT:[c.format("downloadMobileAppDialogBullet1"),c.format("downloadMobileAppDialogBullet2"),c.format("downloadMobileAppDialogBullet3")]};c=$;soy.asserts.assertType(goog.isString(a.Qm)||a.Qm instanceof goog.soy.data.SanitizedContent,"dialogLayout",a.Qm,"string|goog.soy.data.SanitizedContent");d=a.Qm;soy.asserts.assertType(goog.isString(a.heading)||a.heading instanceof goog.soy.data.SanitizedContent,"heading",a.heading,
"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Di)||a.Di instanceof goog.soy.data.SanitizedContent,"subheading",a.Di,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Pg)||a.Pg instanceof goog.soy.data.SanitizedContent,"selectDeviceText",a.Pg,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.ni)||a.ni instanceof goog.soy.data.SanitizedContent,"phoneInputCTAText",a.ni,"string|goog.soy.data.SanitizedContent");
goog.asserts.assertArray(a.tT,"expected parameter 'bulletPoints' of type list\x3cstring\x3e.");soy.asserts.assertType(goog.isString(a.Mc)||a.Mc instanceof goog.soy.data.SanitizedContent,"iphoneLabel",a.Mc,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Ic)||a.Ic instanceof goog.soy.data.SanitizedContent,"androidLabel",a.Ic,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.td)||a.td instanceof goog.soy.data.SanitizedContent,"submitButtonLabel",
a.td,"string|goog.soy.data.SanitizedContent");var e='\x3cdiv class\x3d"experimentsMobileAppsDialog"\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__container experimentsMobileAppsDialog__container--'+soy.$$escapeHtmlAttribute(d)+'"\x3e';switch(goog.isObject(d)?d.toString():d){case "visual":d=e;soy.asserts.assertType(goog.isString(a.heading)||a.heading instanceof goog.soy.data.SanitizedContent,"heading",a.heading,"string|goog.soy.data.SanitizedContent");e=a.heading;soy.asserts.assertType(goog.isString(a.Di)||
a.Di instanceof goog.soy.data.SanitizedContent,"subheading",a.Di,"string|goog.soy.data.SanitizedContent");var g=a.Di;soy.asserts.assertType(goog.isString(a.Mc)||a.Mc instanceof goog.soy.data.SanitizedContent,"iphoneLabel",a.Mc,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Ic)||a.Ic instanceof goog.soy.data.SanitizedContent,"androidLabel",a.Ic,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Pg)||a.Pg instanceof goog.soy.data.SanitizedContent,
"selectDeviceText",a.Pg,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.ni)||a.ni instanceof goog.soy.data.SanitizedContent,"phoneInputCTAText",a.ni,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.td)||a.td instanceof goog.soy.data.SanitizedContent,"submitButtonLabel",a.td,"string|goog.soy.data.SanitizedContent");a=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"experimentsMobileAppsDialog__contentWrapper experimentsMobileAppsDialog__contentWrapper--visual"\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__column experimentsMobileAppsDialog__column--withImage"\x3e\x3cimg src\x3d"https://static.canva.com/static/images/experiments/mobile_app_download/iphone.png" class\x3d"experimentsMobileAppsDialog__heroImage" /\x3e\x3c/div\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__column"\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__heading experimentsMobileAppsDialog__heading--visual"\x3e'+
soy.$$escapeHtml(e)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__subheading experimentsMobileAppsDialog__subheading--viusual"\x3e'+soy.$$escapeHtml(g)+"\x3c/div\x3e"+U2(a)+"\x3c/div\x3e\x3c/div\x3e");e=d+a;break;case "textual":d=e;soy.asserts.assertType(goog.isString(a.heading)||a.heading instanceof goog.soy.data.SanitizedContent,"heading",a.heading,"string|goog.soy.data.SanitizedContent");g=a.heading;soy.asserts.assertType(goog.isString(a.Di)||a.Di instanceof goog.soy.data.SanitizedContent,
"subheading",a.Di,"string|goog.soy.data.SanitizedContent");var h=a.Di;soy.asserts.assertType(goog.isString(a.Mc)||a.Mc instanceof goog.soy.data.SanitizedContent,"iphoneLabel",a.Mc,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Ic)||a.Ic instanceof goog.soy.data.SanitizedContent,"androidLabel",a.Ic,"string|goog.soy.data.SanitizedContent");e=goog.asserts.assertArray(a.tT,"expected parameter 'bulletPoints' of type list\x3cstring\x3e.");soy.asserts.assertType(goog.isString(a.Pg)||
a.Pg instanceof goog.soy.data.SanitizedContent,"selectDeviceText",a.Pg,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.ni)||a.ni instanceof goog.soy.data.SanitizedContent,"phoneInputCTAText",a.ni,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.td)||a.td instanceof goog.soy.data.SanitizedContent,"submitButtonLabel",a.td,"string|goog.soy.data.SanitizedContent");a='\x3cdiv class\x3d"experimentsMobileAppsDialog__heading experimentsMobileAppsDialog__heading--textual"\x3e'+
soy.$$escapeHtml(g)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__subheading experimentsMobileAppsDialog__subheading--textual"\x3e'+soy.$$escapeHtml(h)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__contentWrapper experimentsMobileAppsDialog__contentWrapper--textual"\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__column experimentsMobileAppsDialog__column"\x3e'+U2(a)+'\x3c/div\x3e\x3cdiv class\x3d"experimentsMobileAppsDialog__column"\x3e\x3cul class\x3d"experimentsMobileAppsDialog__bulletPoints"\x3e';
g=e.length;for(h=0;h<g;h++)a+='\x3cli class\x3d"experimentsMobileAppsDialog__bulletPoint"\x3e\x3cimg src\x3d"https://static.canva.com/static/images/experiments/success.svg" class\x3d"experimentsMobileAppsDialog__bulletPointImage" /\x3e\x3cspan\x3e'+soy.$$escapeHtml(e[h])+"\x3c/span\x3e\x3c/li\x3e";a=soydata.VERY_UNSAFE.ordainSanitizedHtml(a+"\x3c/ul\x3e\x3c/div\x3e\x3c/div\x3e");e=d+a}a=soydata.VERY_UNSAFE.ordainSanitizedHtml(e+"\x3c/div\x3e\x3c/div\x3e");c=c(a.toString());c=new V2(c);b={Db:new Y2(b,c),view:c}}return b};
C3.prototype.EO=function(){this.vd.setItem(E3,!0)};C3.prototype.jM=function(){var a=this.G.get(D3);return"A"===a?"dialog--phone dialog--phoneA":"dialog--phone2 dialog--phoneVariant"+a};var D3=new Ff("jm","C");var E3="seenMobileExpDialog";function Kba(a){this.pU=a}function Lba(a){var b=[],c=a.vd;c&&(b=[new C3({j:a.j,G:a.G,i:a.i,yc:a.yc,vd:c}),new F3({i:a.i,j:a.j,document:a.document,G:a.G,Na:a.Na,vd:c}),new G3({aa:a.aa,G:a.G,i:a.i,pd:a.pd,Z:a.Z,Ka:a.Ka,cc:a.cc,j:a.j,W:a.W,vd:c})]);return new Kba(b)}function Mba(a,b){return Nba(a).then(function(a){a&&a.EO();var d;if(a){var e=a.render(b);d=e.Db;a={SD:e.view,TJ:d,VD:a.jM()};e=new B3(a);a=new A3(a,e);d.Me();d=a}else d=null;return d})}
function Nba(a){return P.all(a.pU.map(function(a){return a.dN()})).then(function(b){b=b.map(function(b,d){return{m3:b,Ab:a.pU[d]}}).filter(function(a){return a.m3}).map(function(a){return a.Ab});return 0===b.length?null:b[0]})};function F3(a){this.G=a.G;this.document=a.document;this.j=a.j;this.vd=a.vd;this.Na=a.Na;this.i=a.i}F3.prototype.dN=function(){var a=this;return this.G.get(Oba)&&0<$(".editorActionPrint").length?this.vd.getItem("spped").then(function(a){return a&&P.reject(new H3)}).then(function(){return Pba(a,a.document)}).then(function(a){return!a&&P.reject(new H3)}).then(function(){return!0}).catch(H3,function(){return!1}):P.resolve(!1)};
function Pba(a,b){var c=y(b.lb().u());return Qba(a).then(function(a){return a?null!=I3(a.id,c):!1})}function Qba(a){return J3(a.Na).then(function(a){return 0<a.KB.length?a.KB[0]:null}).catch(function(){return null})}F3.prototype.render=function(a){return Bba({Tl:Id(this.i),CO:function(){W0().sh()||$(".editorActionPrint").click();a.sU()},j:new E2(this.j)})};F3.prototype.EO=function(){this.vd.setItem("spped",!0)};F3.prototype.jM=function(){return"dialog--printPublish"};var Oba=new Ff("jl",!0);
function H3(){}r(H3,Error);function G3(a){this.vd=a.vd;this.G=a.G;this.i=a.i;this.pd=a.pd;this.Ka=a.Ka;this.aa=a.aa;this.cc=a.cc;this.Z=a.Z;this.j=a.j;this.W=a.W}G3.prototype.dN=function(){return!this.G.get(Rba)||K3(this)>=this.W.G.get(Wf)?P.resolve(!1):this.vd.getItem("seenInviteExpDialog").then(function(a){return!a})};
G3.prototype.render=function(a){var b=ad(this.i),c=new I0,d=new H0({Zd:b}),e=Gd(this.i),b=Id(this.i),g=new F0({aO:G0(this.pd),rg:ky(this.Ka).getSubscription(),aa:this.aa,D:ky(this.Ka).ka(),qr:ly(this.Ka).Jb(),uE:tm,Z:this.Z,cc:this.cc,jp:Zc(this.i)}),h={GK:3,xG:3,Cl:this.W.G.get(Wf),zK:K3(this)};return Cba({rf:e,Tl:b,j:new E2(this.j),kj:h,Gt:g,vO:function(){return a.sU()},tK:function(a){return new E0({YE:d,hj:c,rf:e,kj:h},a)}})};function K3(a){a=ky(a.Ka);return my(a)+ny(a)}
G3.prototype.EO=function(){this.vd.setItem("seenInviteExpDialog",!0)};G3.prototype.jM=function(){return"dialog--teamInvite"};var Rba=new Ff("jk",!0);function Sba(){window.hasOwnProperty("grecaptchaPromise")||(window.grecaptchaPromise=new P(function(a,b){window.grecaptchaOnload=a;a=document.createElement("script");a.onerror=b;a.src="https://www.google.com/recaptcha/api.js?onload\x3dgrecaptchaOnload\x26render\x3dexplicit";document.head.appendChild(a)}));return window.grecaptchaPromise};function L3(a,b){hc.call(this,a);this.ZC=null;this.UQ=b}r(L3,hc);L3.prototype.Me=function(){var a=this;this.ZC=window.grecaptcha.render(this.$el[0],{callback:function(){return a.trigger(M3)},"expired-callback":function(){return a.trigger(N3)},sitekey:this.UQ})};L3.prototype.reset=function(){Fa(null!=this.ZC,"reCAPTCHA widgetId has not been set, has #onAttach been called?");window.grecaptcha.reset(this.ZC)};
function Tba(a){Fa(null!=a.ZC,"reCAPTCHA widgetId has not been set, has #onAttach been called?");a=window.grecaptcha.getResponse(a.ZC);Fa(a.length,"No response token from reCAPTCHA widget, has it been completed (or has it expired)?");return a}var M3="COMPLETE",N3="EXPIRED";
function raa(a){return Sba().then(function(){y(window.grecaptcha,"reCAPTCHA API is not available, make sure it has been loaded by calling RecaptchaLoader.load()");var b=$('\x3cdiv class\x3d"grecaptchaWidget"\x3e\x3c/div\x3e');return new L3(b,a)})};function O3(a,b){var c=this;hc.call(this,a);this.className=b.className;this.options=b.options;a.on("click",function(){return c.Lf()})}r(O3,hc);function P3(a){w(a.options.some(function(a){return a.selected}),"options must have a selected element");var b=a.options.filter(function(a){return a.selected})[0],b=$(Uba({text:b.nC||b.text,disabled:a.disabled}).toString());return new O3(b,a)}
O3.prototype.Lf=function(){var a=this,b=new Q3({className:this.className,options:this.options});b.on(R3,function(b){return a.FO(b)});b.Bi(this.$el)};O3.prototype.FO=function(a){this.options.filter(function(a){return a.selected})[0].selected=!1;var b=this.options.filter(function(b){return b.value===a})[0];b.selected=!0;this.$el.text(b.nC||b.text);this.trigger(S3,a)};var S3="SELECT";function Uba(a){soy.asserts.assertType(goog.isString(a.text)||a.text instanceof goog.soy.data.SanitizedContent,"text",a.text,"string|goog.soy.data.SanitizedContent");var b=a.text;soy.asserts.assertType(null==a.disabled||goog.isBoolean(a.disabled)||1===a.disabled||0===a.disabled,"disabled",a.disabled,"boolean|null|undefined");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cbutton type\x3d"button" class\x3d"selectView" '+(a.disabled?'disabled\x3d"disabled"':"")+"\x3e"+soy.$$escapeHtml(b)+"\x3c/button\x3e")}
;function Q3(a){Az.call(this,a)}r(Q3,Az);f=Q3.prototype;f.initialize=function(a){this.options=a.options;Az.prototype.initialize.call(this,{content:this.QP(),vx:!1,qw:!0,Ho:!1})};f.events=function(){return{"click .selectView__option":this.FO}};f.Rp=function(){return AX};
f.QP=function(){var a=$,b;b='\x3cdiv class\x3d"selectView__menu"\x3e';for(var c=goog.asserts.assertArray(this.options,"expected parameter 'options' of type list\x3c[disabled: bool|null, selected: bool, text: string, value: string]\x3e."),d=c.length,e=0;e<d;e++){var g=c[e];b+='\x3cdiv class\x3d"selectView__option'+(g.selected?" selected":"")+(g.disabled?" selectView__option--disabled":"")+'" data-value\x3d"'+soy.$$escapeHtmlAttribute(g.value)+'"\x3e'+soy.$$escapeHtml(g.text)+"\x3c/div\x3e"}b=soydata.VERY_UNSAFE.ordainSanitizedHtml(b+
"\x3c/div\x3e");return a(b.toString())};f.FO=function(a){a=$(a.target);a.hasClass("selectView__option--disabled")||(this.trigger(R3,a.data("value")),this.remove())};var R3="SELECT";function T3(a){var b=this;this.pb=a.pb;this.Zb=a.Zb;this.uz=a.uz;this.su=a.su;this.uf=a.uf;this.D=a.D;this.j=a.j;this.Co=a.Co;this.i=a.i;this.Ra=a.Ra;this.Z=a.Z;this.dc=a.dc;this.xd=a.xd;this.cc=a.cc;this.RQ=a.RQ;this.Cl=a.Cl;this.Ro=a.Ro;this.Wr=a.Wr;this.lC=a.lC;this.rJ=a.rJ;this.wr=a.wr;this.Pe=a.Pe;this.YP=a.YP;this.sj=a.sj;this.MO=null;this.yK={};this.LW=a.wr?fr:br;this.UB={};this.hp=new Map;this.SC=a.SC;this.view=a.view;this.Hw=a.Hw;this.QA=a.QA;this.mo=null;this.HN=a.HN;this.G=a.G;this.wu=
a.wu;this.ua=a.ua;this.IZ=!1;this.Dp=null;this.nx=a.nx;this.Xn=a.Xn;this.Cp=a.Cp;this.W=new If(this.G);this.nx.on(U3,function(){var a=b.view;a.Qd.show(a.$el);a.delegateEvents()});this.nx.on(V3,function(){return b.view.ok()});this.listenTo(this.view,{roleChange:this.k7,linkRoleChange:this.xO,linkCopy:this.K6,tabChanged:this.z7,embedCopy:this.Q$,submit:this.Ml,social:this.p7,makePublic:this.L6,nativeShare:this.W6,nativeSharePlatform:this.AX,oauthResp:this.Z6,viewWebsite:this.H7});rba(this.Cp,function(){var a=
b.view;a.bX||a.$(".shareDialog__inviteButton").text(a.X.format("shareDesignDialogSendInvites"))})}
function qaa(a){var b=ZV(a.pb,a.Ro,"sharebutton","link"),c;a.R_?(c=a.pb,c=XV(c,"share")+"?role\x3dVIEWER\x26token\x3d"+encodeURIComponent(a.R_)+"\x26"+$V(c,"sharebutton","link")):c=null;var d;a.Wr?(d=a.pb,d=XV(d,"share")+"?role\x3dEDITOR\x26token\x3d"+encodeURIComponent(a.Wr)+"\x26"+$V(d,"sharebutton","link")):d=null;var e=YV(a.pb,a.Ro)+"?website",g=Pc(a.i),g=[g.format("shareDesignDialogTweet1"),g.format("shareDesignDialogTweet2"),g.format("shareDesignDialogTweet3"),g.format("shareDesignDialogTweet4")],
h=ly(a.Ka),k=ky(a.Ka),l=my(k)+ny(k),l=a.n4&&null===k.getSubscription()&&l<a.Cl,m=new i2(Xc(a.i)),m=Vba({pb:a.pb,Zb:a.Zb,na:h.u(),D:k.ka(),j:a.j,aa:a.aa,Z:a.Z,fb:a.fb,dc:a.dc,ub:a.ub,i:a.i,H:a.H,Fd:a.Fd,gt:m,$N:new W3,G:a.G});return new T3({pb:a.pb,Zb:a.Zb,uz:a.uz,uf:h,D:k.ka(),j:a.j,Ra:a.Ra,Z:a.Z,dc:a.dc,xd:a.xd,cc:a.cc,su:a.su,Co:a.Co,RQ:l,Cl:a.Cl,Ro:a.Ro,Wr:a.Wr,lC:b,rJ:c,wr:d,YP:e,Pe:a.Pe,sj:a.sj,SC:g,i:a.i,H:a.H,wu:a.wu,ua:a.ua,nx:m,view:a.view,Hw:a.Hw,QA:a.QA,HN:Wba,G:a.G,Xn:a.Xn,Cp:a.Cp})}
f=T3.prototype;
f.show=function(){this.view.show();var a=this.view,b=this.rJ,c=!this.wr;a.$(".shareDialog__hiddenViewLink").val(b);a.$(".shareDialog__linkRole select").prop("disabled",c);X3(this.view,this.wr||this.lC);this.G.get(Xba)&&!this.uf.kW()?(Y3(this.view,!1),a=this.view,b=a.X.Ia("shareDesignDialogUnverifiedEmailWarning","/account"),a.lf(Yba,WZ,b)):this.uz&&(Y3(this.view,!1),a=this.view,Y3(a,!1),b=a.X.format("shareDesignDialogEmptyDesignWarning"),a.lf(Zba,WZ,b));if(this.Pe){var c=this.sj.kt?this.sj.MI?Pc(this.i).format("shareDesignDialogRenderWebsiteWarning"):
Pc(this.i).format("shareDesignDialogRenderWebsiteBeta"):Pc(this.i).format("shareDesignDialogRenderWebsiteWarningUnrenderable"),a=this.view,d=this.YP,b=this.sj.kt,e=a.X.format("shareDesignDialogRenderWebsiteInstruction"),g=a.zq.Sn();soy.asserts.assertType(goog.isString(g)||g instanceof goog.soy.data.SanitizedContent,"newLabel",g,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(e)||e instanceof goog.soy.data.SanitizedContent,"instruction",e,"string|goog.soy.data.SanitizedContent");
soy.asserts.assertType(goog.isString(d)||d instanceof goog.soy.data.SanitizedContent,"url",d,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(c)||c instanceof goog.soy.data.SanitizedContent,"warning",c,"string|goog.soy.data.SanitizedContent");c=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cspan class\x3d"newFeatureLabel shareDialog__websiteAnnouncementNewLabel"\x3e'+soy.$$escapeHtml(g)+'\x3c/span\x3e\x3cdiv class\x3d"shareDialog__websiteAnnouncementInstruction"\x3e'+soy.$$escapeHtml(e)+
'\x3c/div\x3e\x3ca class\x3d"shareDialog__websiteAnnouncementLink" target\x3d"_blank" href\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(d))+'"\x3e'+soy.$$escapeHtml(d)+'\x3c/a\x3e\x3cdiv class\x3d"shareDialog__websiteAnnouncementWarning"\x3e'+soy.$$escapeHtml(c)+"\x3c/div\x3e").toString();TZ({type:b?VZ:WZ,xb:!1,small:!0,message:soydata.VERY_UNSAFE.ordainSanitizedHtml(c)}).$el.appendTo(a.$(".shareDialog__websiteAnnouncement"))}$ba(this);aca(this)};
function aca(a){uq(a.Ra,a.pb).then(function(b){var c=bca(b);a.MO=c.qd.La();a.su&&cca(a,b);if(c.qd.ka()===a.D.u())return dca(a).then(function(c){if(1!=c)return eca(a,b).then(function(c){return fca(a,c,b.Qj().rules)})})}).catch(function(b){var c=a.view,d=c.X.format("shareDesignDialogLoadError");c.lf(gca,XZ,d);throw b;})}function $ba(a){By(a.dc,new lz({Zw:a.uf.u()})).then(function(b){a.Dp=b.Dp})}
function hca(a,b){function c(a){return{displayName:a.Jb()||a.qh(),username:a.qh()}}return b===a.uf.u()?P.resolve(c(a.uf.NC())):a.Z.La(b).then(function(a){return c(a)})}function cca(a,b){var c=b.Ae.rules.some(function(a){if("DEFAULT"===a.type)return a.Pc!==Xq});b=a.MO;y(b,"ownerId not found");hca(a,b).then(function(b){b=a.su(b.displayName,b.username);Z3(a.view,c,b)})}
function bca(a){var b=null;a.Ae.rules.some(function(a){if(a.Pc===$q)return b=a,!0});y(b,"document acl must specify an owner");return b}function dca(a){var b=cy((new $x).zj(a.D.u()));return a.Z.Iz(b).then(function(a){return a.getCount()})}
function eca(a,b){b=b.Ae.rules.reduce(function(b,d){"USER"!==d.type||d.qd.D!==a.D.u()||null!=d.origin&&"MANUAL"!==d.origin.type||b.push(d.qd.user);return b},[]);return 0<b.length?(b=by(ay(dy((new $x).zj(a.D.u()),b.slice(0,100)).Vg(100))),a.Z.Iz(b).then(function(a){return a.FF()})):P.resolve([])}
function fca(a,b,c){var d,e={},g=[],h={};b.forEach(function(a){return e[a.La().u()]=a});c.forEach(function(b){b.origin&&"FOLDER"===b.origin.type?b.Pc!==Xq&&(h[b.origin.id]=!0):"BRAND"===b.type&&b.qd.D===a.D.u()?(d={D:a.D,ED:b},a.yK[a.D.u()]=b.Pc):"USER"===b.type&&e.hasOwnProperty(b.qd.user)&&(g.push({TA:e[b.qd.user],ED:b,disabled:!(b.qd.user!==a.uf.u()&&b.Pc!==$q)}),a.yK[b.qd.user]=b.Pc)});d||(d={D:a.D,ED:new $s({type:"BRAND",qd:new jr({D:a.D.u(),user:null}),Pc:Xq})});ica(a.view,d,g,Object.keys(h).length)}
f.k7=function(a,b){this.UB[a]=b};f.xO=function(a){a===br?X3(this.view,this.lC):a===fr&&this.wr&&X3(this.view,this.wr);this.LW=a};f.K6=function(){var a=X(X(X(new Zl("design_shared"),"location","sharebutton"),"medium","link"),"access_level",$3(this.LW));Ql(this.j,a)};function $3(a){return a===$q||a===fr?"edit":a===dr||a===br?"view":"none"}
f.p7=function(a){a===a4?(a=this.SC[Math.floor(Math.random()*this.SC.length)],a="https://twitter.com/intent/tweet?url\x3d"+encodeURIComponent(ZV(this.pb,this.Ro,"sharebutton","twitter"))+"\x26text\x3d"+encodeURIComponent(a),this.view.openWindow(a,420,550),this.view.ok(),Ql(this.j,b4("TWITTER"))):a===c4&&(a="https://www.facebook.com/sharer/sharer.php?u\x3d"+encodeURIComponent(ZV(this.pb,this.Ro,"sharebutton","facebook")),this.view.openWindow(a,420,550),this.view.ok(),Ql(this.j,b4("FACEBOOK")));d4(this)};
f.L6=function(){var a=this;this.Ra.dt(this.pb).then(function(){Z3(a.view,!0,null);a.Co.trigger(X0)}).catch(function(){var b=a.view;b.$(".shareDialog__embedError").text(b.X.format("shareDesignDialogEmbedError"))})};f.W6=function(a){var b=[];this.hp.forEach(function(a,d){return a.enabled&&b.push(d)});this.j.wa(jca(!!a,b));this.nx.show(a,b);this.view.hide()};
function T0(a){if(!a.IZ){a.IZ=!0;var b=["TWITTER"].map(function(b){return a.ua&&Co(a.ua,"CANVA_SD_NS_"+b)?a.AX(b,!0).finally(function(){return P.resolve()}):P.resolve()});P.all([].concat([a.HN()],ma(b))).then(function(){a.view.$(".shareDialog__nativeSocialButton").prop("disabled",!1);a.view.v_=window.twttr.txt});kca(a.nx)}}
f.AX=function(a,b){var c=this;return this.hp.has(a)?(this.hp.get(a).enabled=!this.hp.get(a).enabled,e4(this,a),P.resolve()):Zw(this.Z,new hx({user:this.uf.u(),platform:a})).then(function(d){d.summary.valid&&-1<d.summary.vv.indexOf("PUBLISH")?(c.hp.set(a,{enabled:!0,username:d.summary.username}),e4(c,a)):b||(d=-1<d.summary.Ku.indexOf("PUBLISH"),f4(c,a,d))}).catch(function(){return f4(c,a,!1)})};
function f4(a,b,c){var d=lca(a.view,b);mca(a.wu,function(){var d=Aw("platform",b),g=["GET_BASIC_PROFILE","PUBLISH"].map(Cw.bind(null,"permission")),d="/oauth/authorize/"+encodeURIComponent(d)+("?permissions\x3d"+encodeURIComponent(g.join(",")))+(c?"\x26reRequest\x3dtrue":"");a.view.openWindow(d,600,550);a.j.wa(nca(b))});oca(a.wu,d)}
f.Z6=function(a){a.OR?(this.hp.delete(a.platform),this.j.wa(pca(a.platform))):(this.hp.set(a.platform,{enabled:!0,username:a.username}),this.j.wa(qca(a.platform)));e4(this,a.platform)};f.H7=function(){this.j.track("design_website_viewed")};
function rca(a){null!==a.mo?(a.mo.reset(),P.resolve()):a.Hw?a.QA(a.Hw).then(function(b){g4(a.view).toggleClass("shareDialog__captchaContainer--hidden",!1);sca(a.view);a.mo=b;a.mo.on(M3,function(){Y3(a.view,!0);a.view.lg(h4)});a.mo.on(N3,function(){Y3(a.view,!1)});a.mo.$el.appendTo(g4(a.view));a.mo.Me()}).catch(function(b){Y3(a.view,!1);i4(a.view);throw b;}):(i4(a.view),P.reject(Error("reCAPTCHA requested but no siteKey provided")))}
function e4(a,b){var c=a.hp.get(b),d=!(!c||!c.enabled),c=c?c.username:null;if("TWITTER"===b){c&&(c="@"+c);var e=a.view;(e.AZ=d)?e.Vn():e.$(".shareDialog__characterCount").empty()}d?a.ua&&Ko(a.ua,"CANVA_SD_NS_"+b):a.ua&&a.ua.removeItem("CANVA_SD_NS_"+b);a=a.view;a.$(".shareDialog__"+b.toLowerCase()).toggleClass("shareDialog__nativeSocialButton--selected",d);e=0===a.$(".shareDialog__nativeSocialButton--selected").length;a.$(".shareDialog__shareButton").prop("disabled",e);b=a.$(".shareDialog__"+b.toLowerCase()+
" .shareDialog__tooltip");d?(y(c,"enabled platform must provide a tooltip"),b.text(c),a.Vn()):b.text(b.data("tooltip"))}f.Ml=function(a){var b=this;w2(this.Cp).then(function(){var c=tba(b.Cp);0<c.length?(j4(b.view),k4(b.view,c)):tca(b,sba(b.Cp),a)})};
function tca(a,b,c){var d=[],e=[],g=[];b.forEach(function(b){if(b instanceof Yx){var k=b.La().u();k!==a.MO&&k!==a.uf.u()&&d.push(hr(k,a.D.u(),gr(c)));b.fi()&&e.push(b.fi())}else g.push.apply(g,[].concat(ma(b.split(",").map(function(a){return a.trim()}).filter(function(a){return""!==a}))))});uca(a,g)&&vca(a,g)?(Object.keys(a.UB).forEach(function(b){b===a.D.u()?d.push(hr(null,b,gr(a.UB[b]))):d.push(hr(b,a.D.u(),gr(a.UB[b])));b=X(X(X(X(new Zl("access_level_change"),"location","sharebutton"),"medium",
"share_dialog"),"from_access_level",$3(a.yK[b])),"to_access_level",$3(a.UB[b]));Ql(a.j,b)}),P.all([wca(a,d),xca(a,e,g,c)]).then(function(b){b=la(b);b.next();if(b.next().value.some(function(a){return!!a.GP}))Y3(a.view,!1),j4(a.view),rca(a);else if(0<g.length&&a.RQ){b=yca(a.view,g,a.Cl);var c=X(X(new Zl("team_invites_shown"),"location","sharebutton"),"medium","share_dialog");a.j.wa(c);zca({D:a.D,j:a.j,Z:a.Z,cc:a.cc,qr:a.uf.Jb(),JG:g.length,X:Pc(a.i),Xn:function(){return a.Xn()}},b)}else a.view.ok()}).catch(function(b){j4(a.view);
Y3(a.view,!1);throw b;})):j4(a.view)}function uca(a,b){a.view.lg(l4);b=b.filter(function(a){return!DI(a)});return b.length?(j4(a.view),k4(a.view,b),!1):!0}function vca(a,b){a.view.lg(m4);return null!=a.Dp&&b.length>a.Dp?(b=a.view,a=a.Dp,a=0===a?b.X.Ia("shareDesignDialogEmailQuotaReached",b.sI):b.X.Ia("shareDesignDialogEmailQuotaLimited",a,b.sI),b.lf(m4,XZ,a),!1):!0}function wca(a,b){return 0===b.length?P.resolve():wq(a.Ra,new Zt({document:a.pb,oP:b})).catch(function(b){n4(a.view);throw b;})}
f.z7=function(a){Nl(this.j,a,"share_dialog");"socialTab"===a&&(Ql(this.j,new Zl("social_share_flow_start")),T0(this))};f.Q$=function(){Ml(this.j,"embed_copy",null,null,"share_dialog")};
function xca(a,b,c,d){var e=[],g=a.mo&&Tba(a.mo);0<b.length&&e.push(yy(a.dc,new jz({DH:g,pb:a.pb,va:a.D.u(),mode:d===br?"viewer":"editor",Xr:b,XC:"sharebutton"})));0<c.length&&e.push(yy(a.dc,new jz({DH:g,pb:a.pb,mode:d===br?"default":"editor",Ye:d===br?a.Ro:a.Wr,Xr:c,XC:"shareButton"})));var h=$3(d);b.forEach(function(){return o4(a,h,!0)});c.forEach(function(){return o4(a,h,!1)});return P.all(e).then(function(b){b.length&&d4(a);return b}).catch(function(b){g?i4(a.view):n4(a.view);throw b;})}
function o4(a,b,c){b=X(X(X(X(new Zl("design_shared"),"location","sharebutton"),"medium","share_dialog"),"access_level",b),"on_team",c);Ql(a.j,b)}function d4(a){Bq(a.Ra,new cu({ag:a.pb,version:-1,ct:"MEDIUM"}))}f.listenTo=Backbone.Events.listenTo;f.off=Backbone.Events.off;f.on=Backbone.Events.on;f.stopListening=Backbone.Events.stopListening;f.trigger=Backbone.Events.trigger;var Xba=new Ff("fm",!1);function Aca(a){soy.asserts.assertType(goog.isString(a.qH)||a.qH instanceof goog.soy.data.SanitizedContent,"peopleTabLabel",a.qH,"string|goog.soy.data.SanitizedContent");var b=a.qH;soy.asserts.assertType(goog.isString(a.gI)||a.gI instanceof goog.soy.data.SanitizedContent,"socialTabLabel",a.gI,"string|goog.soy.data.SanitizedContent");var c=a.gI;soy.asserts.assertType(goog.isString(a.qG)||a.qG instanceof goog.soy.data.SanitizedContent,"linkTabLabel",a.qG,"string|goog.soy.data.SanitizedContent");var d=
a.qG;soy.asserts.assertType(goog.isString(a.ZE)||a.ZE instanceof goog.soy.data.SanitizedContent,"embedTabLabel",a.ZE,"string|goog.soy.data.SanitizedContent");var e=a.ZE;soy.asserts.assertType(a.Lj instanceof soydata.SanitizedHtml||a.Lj instanceof soydata.UnsanitizedText||goog.isString(a.Lj),"embedDescription",a.Lj,"soydata.SanitizedHtml");soy.asserts.assertType(goog.isString(a.Um)||a.Um instanceof goog.soy.data.SanitizedContent,"embedLabelHTML",a.Um,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Vm)||
a.Vm instanceof goog.soy.data.SanitizedContent,"embedLabeloEmbed",a.Vm,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(a.Tm)||1===a.Tm||0===a.Tm,"embedEnabled",a.Tm,"boolean");var g=!!a.Tm;soy.asserts.assertType(null==a.ih||a.ih instanceof goog.soy.data.SanitizedContent||goog.isString(a.ih),"embedCode",a.ih,"null|string|undefined");soy.asserts.assertType(goog.isString(a.Xm)||a.Xm instanceof goog.soy.data.SanitizedContent,"embedPublic",a.Xm,"string|goog.soy.data.SanitizedContent");
soy.asserts.assertType(goog.isString(a.Wm)||a.Wm instanceof goog.soy.data.SanitizedContent,"embedMakePublic",a.Wm,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Fn)||a.Fn instanceof goog.soy.data.SanitizedContent,"inviteLabel",a.Fn,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.En)||a.En instanceof goog.soy.data.SanitizedContent,"inviteButton",a.En,"string|goog.soy.data.SanitizedContent");goog.asserts.assertObject(a.Cx,"expected parameter 'socialButtons' of type map\x3cstring,string\x3e.");
soy.asserts.assertType(goog.isBoolean(a.hm)||1===a.hm||0===a.hm,"socialTabEnabled",a.hm,"boolean");var h=!!a.hm;soy.asserts.assertType(goog.isString(a.Do)||a.Do instanceof goog.soy.data.SanitizedContent,"shareLabel",a.Do,"string|goog.soy.data.SanitizedContent");goog.asserts.assertObject(a.hw,"expected parameter 'nativeSocialButtons' of type map\x3cstring,string\x3e.");soy.asserts.assertType(goog.isString(a.Rn)||a.Rn instanceof goog.soy.data.SanitizedContent,"messagePlaceholder",a.Rn,"string|goog.soy.data.SanitizedContent");
soy.asserts.assertType(goog.isString(a.Bo)||a.Bo instanceof goog.soy.data.SanitizedContent,"shareButton",a.Bo,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Ln)||a.Ln instanceof goog.soy.data.SanitizedContent,"linkLabel",a.Ln,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.dh)||a.dh instanceof goog.soy.data.SanitizedContent,"copyButton",a.dh,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(a.Pe)||1===a.Pe||
0===a.Pe,"renderAccessModeEnabled",a.Pe,"boolean");var k=!!a.Pe;soy.asserts.assertType(goog.isString(a.Sn)||a.Sn instanceof goog.soy.data.SanitizedContent,"newLabel",a.Sn,"string|goog.soy.data.SanitizedContent");var l=a.Sn;soy.asserts.assertType(null==a.nc||a.nc instanceof goog.soy.data.SanitizedContent||goog.isString(a.nc),"initialTab",a.nc,"null|string|undefined");var m=a.nc,n=goog.asserts.assertObject(a.E$,"expected parameter 'tabs' of type [EMBED: string, LINK: string, PEOPLE: string, SOCIAL: string].");
return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"shareDialog__tabWrapper"\x3e\x3cdiv class\x3d"shareDialog__tab'+(m&&m!=n.iJ?"":" shareDialog__tab--on")+'" data-id\x3d"'+soy.$$escapeHtmlAttribute(n.iJ)+'"\x3e'+soy.$$escapeHtml(b)+"\x3c/div\x3e"+(h?'\x3cdiv class\x3d"shareDialog__tab'+(m==n.kJ?" shareDialog__tab--on":"")+'" data-id\x3d"'+soy.$$escapeHtmlAttribute(n.kJ)+'"\x3e'+soy.$$escapeHtml(c)+'\x3cspan class\x3d"newFeatureLabel"\x3e'+soy.$$escapeHtml(l)+"\x3c/span\x3e\x3c/div\x3e":
"")+'\x3cdiv class\x3d"shareDialog__tab'+(m==n.LINK?" shareDialog__tab--on":"")+'" data-id\x3d"'+soy.$$escapeHtmlAttribute(n.LINK)+'"\x3e'+soy.$$escapeHtml(d)+(k?'\x3cspan class\x3d"newFeatureLabel"\x3e'+soy.$$escapeHtml(l)+"\x3c/span\x3e":"")+"\x3c/div\x3e"+(g?'\x3cdiv class\x3d"shareDialog__tab'+(m==n.EMBED?" shareDialog__tab--on":"")+'" data-id\x3d"'+soy.$$escapeHtmlAttribute(n.EMBED)+'"\x3e'+soy.$$escapeHtml(e)+"\x3c/div\x3e":"")+'\x3c/div\x3e\x3cdiv class\x3d"shareDialog__tabContainer"\x3e'+
Bca(soy.$$assignDefaults({Se:n.iJ},a))+(h?Cca(soy.$$assignDefaults({Se:n.kJ},a)):"")+Dca(soy.$$assignDefaults({Se:n.LINK},a))+(g?Eca(soy.$$assignDefaults({Se:n.EMBED},a)):"")+"\x3c/div\x3e")}
function Bca(a){soy.asserts.assertType(goog.isString(a.Fn)||a.Fn instanceof goog.soy.data.SanitizedContent,"inviteLabel",a.Fn,"string|goog.soy.data.SanitizedContent");var b=a.Fn;soy.asserts.assertType(goog.isString(a.En)||a.En instanceof goog.soy.data.SanitizedContent,"inviteButton",a.En,"string|goog.soy.data.SanitizedContent");var c=a.En;soy.asserts.assertType(goog.isBoolean(a.hm)||1===a.hm||0===a.hm,"socialTabEnabled",a.hm,"boolean");var d=!!a.hm,e=goog.asserts.assertObject(a.Cx,"expected parameter 'socialButtons' of type map\x3cstring,string\x3e.");
soy.asserts.assertType(null==a.nc||a.nc instanceof goog.soy.data.SanitizedContent||goog.isString(a.nc),"initialTab",a.nc,"null|string|undefined");var g=a.nc;soy.asserts.assertType(goog.isString(a.Se)||a.Se instanceof goog.soy.data.SanitizedContent,"tabId",a.Se,"string|goog.soy.data.SanitizedContent");a=a.Se;b='\x3cdiv class\x3d"shareDialog__tabContent'+(g&&g!=a?"":" shareDialog__tabContent--on")+'" data-id\x3d"'+soy.$$escapeHtmlAttribute(a)+'"\x3e\x3cdiv class\x3d"shareDialog__acl"\x3e\x3c/div\x3e\x3cdiv\x3e'+
soy.$$escapeHtml(b)+'\x3c/div\x3e\x3cdiv class\x3d"shareDialog__members"\x3e\x3cdiv class\x3d"shareDialog__inviteRole"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"shareDialog__folders"\x3e\x3c/div\x3e\x3cdiv class\x3d"shareDialog__error"\x3e\x3c/div\x3e\x3cdiv class\x3d"shareDialog__captchaContainer shareDialog__captchaContainer--hidden"\x3e\x3c/div\x3e\x3cdiv class\x3d"shareDialog__buttons"\x3e'+w_({v:"shareDialog__inviteButton buttonSubmittable",text:c});if(!d){b+='\x3cspan class\x3d"shareDialog__socialButtons"\x3e';
d=soy.$$getMapKeys(e);c=d.length;for(g=0;g<c;g++)a=d[g],b+=w_({v:a,text:e[a]});b+="\x3c/span\x3e"}return soydata.VERY_UNSAFE.ordainSanitizedHtml(b+"\x3c/div\x3e\x3c/div\x3e")}
function p4(a){var b;a=a||{};soy.asserts.assertType(null==a.email||a.email instanceof goog.soy.data.SanitizedContent||goog.isString(a.email),"email",a.email,"null|string|undefined");var c=a.email;soy.asserts.assertType(null==a.name||a.name instanceof goog.soy.data.SanitizedContent||goog.isString(a.name),"name",a.name,"null|string|undefined");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"shareDialog__aclMember"\x3e\x3cdiv class\x3d"shareDialog__aclMemberAvatar"\x3e\x3c/div\x3e\x3cdiv class\x3d"shareDialog__aclMemberNameEmail"\x3e\x3cspan class\x3d"shareDialog__aclMemberName"\x3e'+
soy.$$escapeHtml(null==(b=a.name)?"":b)+'\x3c/span\x3e\x3cspan class\x3d"shareDialog__aclMemberEmail"\x3e'+soy.$$escapeHtml(null==(b=c)?"":b)+'\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"shareDialog__aclMemberRole"\x3e\x3c/div\x3e\x3c/div\x3e')}
function Dca(a){soy.asserts.assertType(goog.isString(a.Ln)||a.Ln instanceof goog.soy.data.SanitizedContent,"linkLabel",a.Ln,"string|goog.soy.data.SanitizedContent");var b=a.Ln;soy.asserts.assertType(goog.isString(a.dh)||a.dh instanceof goog.soy.data.SanitizedContent,"copyButton",a.dh,"string|goog.soy.data.SanitizedContent");var c=a.dh;soy.asserts.assertType(null==a.nc||a.nc instanceof goog.soy.data.SanitizedContent||goog.isString(a.nc),"initialTab",a.nc,"null|string|undefined");var d=a.nc;soy.asserts.assertType(goog.isString(a.Se)||
a.Se instanceof goog.soy.data.SanitizedContent,"tabId",a.Se,"string|goog.soy.data.SanitizedContent");a=a.Se;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"shareDialog__tabContent'+(d==a?" shareDialog__tabContent--on":"")+'" data-id\x3d"'+soy.$$escapeHtmlAttribute(a)+'"\x3e\x3cdiv\x3e'+soy.$$escapeHtml(b)+'\x3c/div\x3e\x3cdiv class\x3d"shareDialog__linkInputContainer"\x3e'+H1({v:"shareDialog__link",id:"shareDialog__shareLink",attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks("readonly")})+
H1({v:"shareDialog__hiddenViewLink",type:"hidden",attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('readonly tabindex\x3d"-1"')})+'\x3cdiv class\x3d"shareDialog__linkRole"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"shareDialog__buttons"\x3e'+w_({v:"shareDialog__copyButton shareDialog__linkCopy",text:c,attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('data-clipboard-target\x3d"shareDialog__shareLink" data-event\x3d"linkCopy"')})+'\x3c/div\x3e\x3cdiv class\x3d"shareDialog__websiteAnnouncement"\x3e\x3c/div\x3e\x3c/div\x3e')}
function Eca(a){soy.asserts.assertType(a.Lj instanceof soydata.SanitizedHtml||a.Lj instanceof soydata.UnsanitizedText||goog.isString(a.Lj),"embedDescription",a.Lj,"soydata.SanitizedHtml");var b=a.Lj;soy.asserts.assertType(goog.isString(a.dh)||a.dh instanceof goog.soy.data.SanitizedContent,"copyButton",a.dh,"string|goog.soy.data.SanitizedContent");var c=a.dh;soy.asserts.assertType(null==a.ih||a.ih instanceof goog.soy.data.SanitizedContent||goog.isString(a.ih),"embedCode",a.ih,"null|string|undefined");
var d=a.ih;soy.asserts.assertType(goog.isString(a.Jl)||a.Jl instanceof goog.soy.data.SanitizedContent,"oEmbedCode",a.Jl,"string|goog.soy.data.SanitizedContent");var e=a.Jl;soy.asserts.assertType(goog.isString(a.Xm)||a.Xm instanceof goog.soy.data.SanitizedContent,"embedPublic",a.Xm,"string|goog.soy.data.SanitizedContent");var g=a.Xm;soy.asserts.assertType(goog.isString(a.Wm)||a.Wm instanceof goog.soy.data.SanitizedContent,"embedMakePublic",a.Wm,"string|goog.soy.data.SanitizedContent");var h=a.Wm;soy.asserts.assertType(goog.isString(a.Um)||
a.Um instanceof goog.soy.data.SanitizedContent,"embedLabelHTML",a.Um,"string|goog.soy.data.SanitizedContent");var k=a.Um;soy.asserts.assertType(goog.isString(a.Vm)||a.Vm instanceof goog.soy.data.SanitizedContent,"embedLabeloEmbed",a.Vm,"string|goog.soy.data.SanitizedContent");var l=a.Vm;soy.asserts.assertType(null==a.nc||a.nc instanceof goog.soy.data.SanitizedContent||goog.isString(a.nc),"initialTab",a.nc,"null|string|undefined");var m=a.nc;soy.asserts.assertType(goog.isString(a.Se)||a.Se instanceof
goog.soy.data.SanitizedContent,"tabId",a.Se,"string|goog.soy.data.SanitizedContent");a=a.Se;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"shareDialog__tabContent'+(m==a?" shareDialog__tabContent--on":"")+'" data-id\x3d"'+soy.$$escapeHtmlAttribute(a)+'"\x3e\x3cdiv class\x3d"shareDialog__embeddable"\x3e'+soy.$$escapeHtml(b)+'\x3cdiv class\x3d"shareDialog__embedOverlayContainer"\x3e\x3cp\x3e'+soy.$$escapeHtml(k)+'\x3c/p\x3e\x3cdiv class\x3d"shareDialog__comboRow"\x3e\x3cinput type\x3d"text" id\x3d"shareDialog__shareEmbed" class\x3d"shareDialog__shareEmbed" value\x3d"'+
soy.$$escapeHtmlAttribute(null==d?"":d)+'"\x3e'+w_({v:"shareDialog__copyButton shareDialog__copyButton--embed",text:c,attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('data-clipboard-target\x3d"shareDialog__shareEmbed"')})+"\x3c/div\x3e\x3cp\x3e"+soy.$$escapeHtml(l)+'\x3c/p\x3e\x3cdiv class\x3d"shareDialog__comboRow"\x3e\x3cinput type\x3d"text" id\x3d"shareDialog__shareOEmbed" class\x3d"shareDialog__shareOEmbed" value\x3d"'+soy.$$escapeHtmlAttribute(e)+'"\x3e'+w_({v:"shareDialog__copyButton shareDialog__copyButton--embed",
text:c,attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('data-clipboard-target\x3d"shareDialog__shareOEmbed"')})+'\x3c/div\x3e\x3cdiv class\x3d"shareDialog__embedOverlay"\x3e\x3cp\x3e'+soy.$$escapeHtml(g)+"\x3c/p\x3e"+w_({v:"shareDialog__publicButton",text:h})+'\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"shareDialog__embedError"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')}
function Cca(a){soy.asserts.assertType(goog.isString(a.Do)||a.Do instanceof goog.soy.data.SanitizedContent,"shareLabel",a.Do,"string|goog.soy.data.SanitizedContent");var b=a.Do,c=goog.asserts.assertObject(a.hw,"expected parameter 'nativeSocialButtons' of type map\x3cstring,string\x3e.");soy.asserts.assertType(goog.isString(a.Rn)||a.Rn instanceof goog.soy.data.SanitizedContent,"messagePlaceholder",a.Rn,"string|goog.soy.data.SanitizedContent");var d=a.Rn;soy.asserts.assertType(goog.isString(a.Bo)||
a.Bo instanceof goog.soy.data.SanitizedContent,"shareButton",a.Bo,"string|goog.soy.data.SanitizedContent");var e=a.Bo;soy.asserts.assertType(null==a.nc||a.nc instanceof goog.soy.data.SanitizedContent||goog.isString(a.nc),"initialTab",a.nc,"null|string|undefined");var g=a.nc;soy.asserts.assertType(goog.isString(a.Se)||a.Se instanceof goog.soy.data.SanitizedContent,"tabId",a.Se,"string|goog.soy.data.SanitizedContent");a=a.Se;b='\x3cdiv class\x3d"shareDialog__tabContent'+(g==a?" shareDialog__tabContent--on":
"")+'" data-id\x3d"'+soy.$$escapeHtmlAttribute(a)+'"\x3e\x3cdiv\x3e\x3cdiv class\x3d"shareDialog__social"\x3e\x3cspan class\x3d"shareDialog__shareLabel"\x3e'+soy.$$escapeHtml(b)+"\x3c/span\x3e";g=soy.$$getMapKeys(c);a=g.length;for(var h=0;h<a;h++)var k=g[h],b=b+('\x3cbutton class\x3d"shareDialog__nativeSocialButton '+soy.$$escapeHtmlAttribute(k)+'" disabled\x3e\x3cspan class\x3d"shareDialog__tooltip" data-tooltip\x3d"'+soy.$$escapeHtmlAttribute(c[k])+'"\x3e'+soy.$$escapeHtml(c[k])+"\x3c/span\x3e\x3c/button\x3e");
b+='\x3c/div\x3e\x3ctextarea class\x3d"shareDialog__shareMessage" placeholder\x3d"'+soy.$$escapeHtmlAttribute(d)+'"\x3e\x3c/textarea\x3e\x3cdiv class\x3d"shareDialog__socialFooter"\x3e\x3cdiv class\x3d"shareDialog__buttons"\x3e'+w_({v:"shareDialog__shareButton",text:e,disabled:!0})+'\x3c/div\x3e\x3cspan class\x3d"shareDialog__characterCount"\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e';return soydata.VERY_UNSAFE.ordainSanitizedHtml(b)};function q4(a){kp.call(this,{className:"shareDialog",H:a.H,title:a.X.title()});this.sI="https://support.canva.com/troubleshooting/sharing-your-design/";this.sz=a.sz;this.Tm=a.Tm;this.ih=a.ih;this.Jl=a.Jl;this.XQ=a.XQ;this.Pe=a.Pe;this.X=a.X;this.xu=a.xu;this.zq=a.zq;this.bX=!1;this.gW=er;this.AZ=!1;this.Cx={};this.Cx[a4]=this.X.format("shareDesignDialogTwitterLabel");this.Cx[c4]=this.X.format("shareDesignDialogFacebookLabel");this.hw={};this.hw.shareDialog__twitter=this.X.format("shareDesignDialogTwitterTooltip");
this.hw.shareDialog__facebook=this.X.format("shareDesignDialogFacebookTooltipWarning");this.v_=null;this.z9=[{value:er,text:Oe(this.X),nC:Pe(this.X),selected:!0},{value:ar,text:Qe(this.X),nC:Re(this.X),selected:!1}];this.C4=[{value:er,text:Oe(this.X),nC:Pe(this.X),selected:!0},{value:ar,text:Qe(this.X),nC:Re(this.X),selected:!1}];this.nc=a.nc;this.FX=this.X3.bind(this);this.vy=a.vy;this.HC=a.HC}r(q4,kp);
function paa(a){return new q4({H:a.H,sz:a.sz,xu:a.xu,Tm:a.W.G.get(dg),ih:a.ih,Jl:a.Jl,XQ:a.W.G.get(jg),Pe:a.W.Pe(),X:Pc(a.i),zq:sd(a.i),nc:a.nc,vy:a.vy,HC:a.HC})}f=q4.prototype;
f.events=function(){var a=this;return _.extend(kp.prototype.events.call(this),{"click .shareDialog__tab":this.A7,"click .shareDialog__inviteButton":this.z6,"click .shareDialog__link":function(a){return $(a.target).select()},"click .shareDialog__publicButton":function(){return a.trigger("makePublic")},"click .shareDialog__copyButton--embed":function(){return a.trigger("embedCopy")},"copy #shareDialog__shareEmbed":function(){return a.trigger("embedCopy")},"cut #shareDialog__shareEmbed":function(){return a.trigger("embedCopy")},
"click #shareDialog__shareEmbed":function(a){return $(a.target).select()},"click .shareDialog__shareButton":function(){return a.trigger("nativeShare",a.$(".shareDialog__shareMessage").val())},"click .buttonTwitter":function(){return a.trigger("social",a4)},"click .shareDialog__twitter":function(){return a.trigger("nativeSharePlatform","TWITTER")},"input .shareDialog__shareMessage":this.Vn,"click .shareDialog__websiteAnnouncementLink":function(){return a.trigger("viewWebsite")}})};
f.A7=function(a){var b=this.$(".dialog");b.css("top",b.offset().top+"px");b.addClass("shareDialog--fixed");this.$(".shareDialog__tab").removeClass("shareDialog__tab--on");a=$(a.target);a.addClass("shareDialog__tab--on");this.$(".shareDialog__tabContent").removeClass("shareDialog__tabContent--on").find(".selectView, input:not(:hidden), button").prop("tabIndex",-1);a=a.data("id");this.$('.shareDialog__tabContent[data-id\x3d"'+a+'"]').addClass("shareDialog__tabContent--on").find(".selectView, input:not(:hidden), button").prop("tabIndex",
0);this.trigger("tabChanged",a)};function X3(a,b){a.$(".shareDialog__link").val(b)}function r4(a,b,c){a.$(".shareDialog__inviteButton").text(a.X.format("shareDesignDialogSaveChanges"));a.bX=!0;a.trigger("roleChange",b,c)}f.xO=function(a){this.trigger("linkRoleChange",a);this.$(".shareDialog__tabContent--on").find(".textInput").focus().select();this.$(".shareDialog__linkCopy").text(this.X.dh())};f.z6=function(a){$(a.target).toggleClass("submitting",!0);this.trigger("submit",this.gW)};
f.openWindow=function(a,b,c){window.open(a,"","scrollbars\x3dyes,resizable\x3dyes,toolbar\x3dno,location\x3dyes,width\x3d"+b+",height\x3d"+c+",left\x3d445,top\x3d240")};
function Fca(a){var b=document.queryCommandSupported("copy");if(b)try{document.execCommand("copy")}catch(c){b=!1}a.$(".shareDialog__copyButton").each(function(c,d){if(b)$(d).on("click",function(b){try{document.execCommand("copy",!1,a.$("#"+$(b.target).attr("data-clipboard-target")).select()),s4(a,b)}catch(c){}});else new ZeroClipboard(d),$(d).on("click",function(b){return s4(a,b)})})}
function s4(a,b){b=$(b.target);b.text(a.X.format("shareDesignDialogCopiedButton"));(b=b.data("event"))&&a.trigger(b)}f.Vn=function(){if(this.AZ){var a=this.$(".shareDialog__shareMessage").val(),a=a?this.v_.getTweetLength(a):0;this.$(".shareDialog__characterCount").text(this.X.format("shareDesignDialogCharacterCount",a));a=140<a;this.$el.toggleClass("shareDialog--withTwitterWarning",a);this.$(".shareDialog__shareButton").prop("disabled",a)}};
f.render=function(){var a=this;kp.prototype.render.call(this);this.$(".content").html(Aca({qH:this.X.format("shareDesignDialogPeople"),gI:this.X.m$(),qG:this.X.link(),ZE:this.X.format("shareDesignDialogEmbed"),Lj:this.X.Lj(),ih:this.ih,Jl:this.Jl,Tm:this.Tm,Xm:this.X.Xm(),Wm:this.X.Wm(),Um:this.X.Um(),Vm:this.X.Vm(),Fn:this.X.Fn(),En:this.X.En(),Cx:this.Cx,hm:this.XQ,Do:this.X.Do(),hw:this.hw,Rn:this.X.Rn(),Bo:this.X.Bo(),Ln:this.X.Ln(),dh:this.X.dh(),Pe:this.Pe,Sn:this.zq.Sn(),nc:this.nc,E$:Gca}).toString());
var b=P3({className:"shareDialog",options:this.z9});b.on(S3,function(b){a.gW=b;a.$(".shareDialog__tabContent--on").find(".textInput").focus()});var c=this.$(".shareDialog__inviteRole");c.append(b.$el);c.before(this.sz.$el);b=P3({className:"shareDialog",options:this.C4});b.on(S3,function(b){return a.xO(b)});this.$(".shareDialog__linkRole").append(b.$el);this.$(".shareDialog__tabContent").not("[data-id\x3dpeopleTab]").find("select, input, button").prop("tabIndex",-1);Fca(this);return this};
f.show=function(){window.addEventListener("message",this.FX);this.xu.$el.appendTo($("body"));return kp.prototype.show.call(this)};f.remove=function(){window.removeEventListener("message",this.FX);this.xu.remove();kp.prototype.remove.call(this)};f.hide=function(){this.Qd.hide()};f.X3=function(a){var b=a.data&&void 0!==a.data.oauthResp;a.origin&&a.origin===window.location.origin&&b&&(a=Oa(Hw,"oauthResp",a.data),this.trigger("oauthResp",a))};
function Y3(a,b){a.$(".shareDialog__inviteButton").prop("disabled",!b);a.$(".shareDialog__inviteRole \x3e button").prop("disabled",!b)}function g4(a){return a.$(".shareDialog__captchaContainer")}function sca(a){var b=a.X.format("shareDesignDialogCaptchaMessage");a.lf(h4,WZ,b)}function i4(a){var b=a.X.Ia("shareDesignDialogCaptchaFailure",a.sI);a.lf(Hca,XZ,b)}
function ica(a,b,c,d){var e=a.$(".shareDialog__acl"),g=$(p4({email:a.X.format("shareDesignDialogAllMembers"),name:b.D.Jb()||a.X.format("shareDesignDialogDefaultBrandName")}).toString()),h=t4({D:b.D,size:40});g.find(".shareDialog__aclMemberAvatar").append(h.render().$el);h=P3({className:"shareDialog",options:u4(a,b.ED.ts())});h.on(S3,function(c){return r4(a,b.D.u(),c)});g.find(".shareDialog__aclMemberRole").append(h.$el);e.append(g);c.forEach(function(b){var c=$(p4({email:b.TA.fi(),name:b.TA.La().Jb()||
b.TA.La().qh()}).toString()),d=v4({user:b.TA.La(),size:40});c.find(".shareDialog__aclMemberAvatar").append(d.render().$el);d=P3({className:"shareDialog",options:u4(a,b.ED.ts()),disabled:b.disabled});d.on(S3,function(c){return r4(a,b.TA.La().u(),c)});c.find(".shareDialog__aclMemberRole").append(d.$el);e.append(c)});0<d&&a.$(".shareDialog__folders").text(a.X.Yc(d))}
function Z3(a,b,c){null!=c&&a.$(".shareDialog__shareEmbed").val(c);b?a.$(".shareDialog__embedOverlay").removeClass("shareDialog__embedOverlay--visible"):a.$(".shareDialog__embedOverlay").addClass("shareDialog__embedOverlay--visible")}
function yca(a,b,c){kp.prototype.X9.call(a,a.X.format("shareDesignDialogInviteMembersTitle"));var d=[a.X.format("shareDesignDialogInviteMemberBenefit1"),a.X.format("shareDesignDialogInviteMemberBenefit2"),a.X.format("shareDesignDialogInviteMemberBenefit3")];b=Ica({Bs:soydata.VERY_UNSAFE.ordainSanitizedHtml(a.X.Bs(c,"/brand/members")),Ev:a.vy?a.X.format("shareDesignDialogInviteMemberButtonAlternate"):a.X.Ev(),Fv:a.X.Fv(),Dv:a.X.Dv(),o4:a.HC?d:[],zg:Rx.sizes.get("50").oa(),Xr:b});b.on(w4,function(){return a.ok()});
a.$(".content").html(b.$el);return b}function n4(a){var b=a.X.format("shareDesignDialogUpdateError");a.lf(Jca,XZ,b)}function lca(a,b){var c=".shareDialog__"+b.toLowerCase(),d=a.$el.find(c);y(d,"{}'s button isn't present",b);a=a.$el.find(c).offset();return{x:a.left,y:a.top}}function k4(a,b){var c=b.join(", ");b=a.X.format("shareDesignDialogValidateEmailError",b.length,c);a.lf(l4,XZ,b)}function j4(a){a.$(".buttonSubmittable").toggleClass("submitting",!1)}
function u4(a,b){return b===$q?[{value:$q,text:a.X.format("shareDesignDialogOwnerRole"),selected:!0}]:[{value:fr,text:Oe(a.X),selected:b===fr},{value:br,text:Qe(a.X),selected:qr[b]>=qr[br]&&qr[b]<qr[fr]},{value:Xq,text:a.X.format("shareDesignDialogNoneRole"),selected:b===Xq}]}f.lf=function(a,b,c){this.lg(a);TZ({message:c,type:b,v:a.za,xb:!1}).$el.prependTo(this.$(".shareDialog__error"))};f.lg=function(a){a=this.$("."+a.za);a.length&&UZ(a).remove()};
var Zba={za:"shareDialog__emptyDesignError"},h4={za:"shareDialog__captchaMessageWarning"},Hca={za:"shareDialog__captchaFailError"},Yba={za:"shareDialog__emailInvalidError"},l4={za:"shareDialog__emailInvalidError"},m4={za:"shareDialog__emailQuotaError"},gca={za:"shareDialog__loadError"},Jca={za:"shareDialog__updateError"},a4="buttonTwitter",c4="buttonFacebook",S0="socialTab",Gca={iJ:"peopleTab",kJ:S0,LINK:"linkTab",EMBED:"embedTab"};function x4(){}f=x4.prototype;f.listenTo=Backbone.Events.listenTo;f.off=Backbone.Events.off;f.on=Backbone.Events.on;f.stopListening=Backbone.Events.stopListening;f.trigger=Backbone.Events.trigger;var X0="UPDATE_PUBLIC_PERMISSIONS";function nca(a){return X(new Zl("social_share_flow_load_authorisation_dialog"),"medium",a.toString().toLowerCase())}function qca(a){return X(new Zl("social_share_flow_load_authorise_confirm"),"medium",a.toString().toLowerCase())}function pca(a){return X(new Zl("social_share_flow_load_authorise_cancel"),"medium",a.toString().toLowerCase())}function jca(a,b){return X(X(X(new Zl("social_share_flow_share_now"),"message",a),"facebook",-1<b.indexOf("FACEBOOK")),"twitter",-1<b.indexOf("TWITTER"))}
function Kca(a){return X(new Zl("social_share_flow_payment"),"amount",a)}function b4(a){return X(X(X(new Zl("design_shared"),"location","sharebutton"),"access_level","view"),"medium",a.toString().toLowerCase())}function y4(a){return X(new Zl("social_share_flow_view_social_media"),"medium",a.toString().toLowerCase())};function z4(a,b){this.na=a.na;this.D=a.D;this.i=a.i;this.aa=a.aa;this.Z=a.Z;this.fb=a.fb;this.dc=a.dc;this.ub=a.ub;this.j=a.j;this.H=a.H;this.gt=a.gt;this.Ga=Rc(a.i);this.Rb=new oU;this.Fd=a.Fd;this.qk=this.ox=null;this.vK=b;this.SL=this.O=null;this.$N=a.$N;this.ZN=null;this.L_=a.G.get(Lca);this.W=new If(a.G);this.view=null;this.G=a.G}f=z4.prototype;f.LJ=function(){var a=this,b=this.vK();b.on("ok",function(){return a.mw()});b.on("cancel",function(){return a.mw()});return b};
function Mca(a){var b=gV({D:a.D.u(),Dj:a.aa,nf:a.fb,Xe:!1,Ya:cd(a.i),G:a.G,j:a.j}),c=Pc(a.i),b={Mg:(new iV({j:a.j,na:a.na,va:a.D.u(),aa:a.aa,Z:a.Z,ub:a.ub,i:a.i,kf:!1,Qf:c.Qf(),Og:c.Og(),view:new hV({wd:b.Db,bj:b.view}),Rb:a.Rb,pb:A4(a.Fd).pb,cf:a.D.hi()})).init(),Z9:new B4({H:a.H,Ga:Rc(a.i),X:c,view:new h2}),complete:Nca({j:a.j,X:c}),error:Oca({j:a.j,X:c})};b.error.on("back",function(){a.trigger(U3);a.remove()});b.Mg.on("paymentComplete",function(){return C4(a)});b.Mg.on("paymentError",function(){return D4(a,
E4)});return b}function Vba(a){return Pca(a,function(){return new J1({Qd:new oz({style:pz,H:a.H}),H:a.H,id:"exportDialog"})})}function Pca(a,b){return new z4(a,b)}f.show=function(a,b){this.ox=a;this.qk=b;this.O=Mca(this);this.view=this.LJ();Qca(this);this.view.render({Zo:this.Ga.Zo(),Wg:this.Ga.Wg()})};
function Qca(a){var b=["ONE_USE","ROYALTY_FREE","EXTENDED"];Rca(a,b).then(function(){var c=a.aa.Pz(a.D.u()).catch(Nk,function(){return null}).catch(function(){throw F4;}),d=A4(a.Fd),d=uj(a.aa,new Ej({document:d.pb,Zb:d.Zb,O:[1],bG:!0,cG:!0})).catch(function(a){if(a instanceof Ok)throw G4;throw F4;});P.all([c,d]).spread(function(c,d){a.O.Mg.fa=c;d.SB&&pU(a.Rb,{items:d.items,df:b,Uv:d.Wl,om:!!a.W.G.get(og)});Sca(a,d.SB)}).catch(function(b){D4(a,b)})}).catch(function(){return D4(a,H4)})}
function kca(a){if(a.L_){var b=new gz({user:a.na,D:a.D.u(),limit:Object.keys(zw).length});a.SL=wy(a.dc,b).then(function(a){return a.Ft});a.ZN=a.$N.load()}}function Tca(a,b){y(a.ZN,"MomentTimezone must've been loaded");return a.ZN.then(function(){var c=moment.tz.guess();y(c,"failed to guess timezone");return ty(a.dc,new ez({user:a.na,D:a.D.u(),platform:b,qf:"DEFAULT",timeZone:c})).then(function(a){return a.Ox})})}
function Uca(a,b){y(a.SL,"target queues must've been fetched on init");return a.SL.then(function(c){var d=c.map(function(a){return a.platform}),e=b.filter(function(a){return!d.some(function(b){return b===a})}).map(function(b){return Tca(a,b)});return P.all(e).then(function(a){return a.concat(c)})})}function Rca(a,b){return I4(a.Fd,b).then(function(){return J_(a.Fd)})}function Sca(a,b){Vca(a,b).then(function(){return C4(a)})}
function Vca(a,b){return b?(0<sU(a.Rb)?(K1(a.view,a.O.Mg).then(function(){return a2(a.O.Mg)}),a.j.wa(Kca(sU(a.Rb)))):d2(a.O.Mg),P.reject()):P.resolve()}
function C4(a){y(a.ox,"shareMessage must be defined when sharing");y(a.qk,"platforms must be defined when sharing");K1(a.view,a.O.Z9);L1(a.view,a.gt.next());a.view.wx();var b=A4(a.Fd);(a.L_?Uca(a,a.qk).then(function(c){return new Wy({user:a.na,D:a.D.u(),document:b.pb,Zb:b.Zb,message:""===a.ox?null:a.ox,action:"UPLOAD_NOW",Ft:c.map(function(a){return a.id}),rI:!1})}):P.resolve(new Wy({user:a.na,D:a.D.u(),document:b.pb,Zb:b.Zb,message:""===a.ox?null:a.ox,action:"UPLOAD_NOW",HK:a.qk.map(function(a){return new My({platform:a,
qf:"DEFAULT"})}),rI:!1}))).then(function(b){var d=a.dc;return qj(d.N,d.url,Xy(b)).get(0).then(La).then($y)}).then(function(b){return J4(a,b.id,1E3)}).then(function(b){if(b.length===a.qk.length)a.onComplete(b);else if(b.length){var d=a.qk.filter(function(a){return!b.some(function(b){return b.platform===a})});D4(a,K4,d,b)}else D4(a,H4)}).catch(function(){return D4(a,H4)})}
function J4(a,b,c){var d=new cz({id:b,Uba:!1});return P.delay(c).then(function(){return a.dc.AM(d)}).then(function(d){var g=!0,h=[];d.fm.Xx.forEach(function(a){"NEW"===a.status||"IN_PROGRESS"===a.status?g=!1:"SUCCESS"===a.status&&h.push({platform:a.platform,url:a.url})});return g?P.resolve(h):J4(a,b,Math.min(1.6*c,3E4))})}f.onComplete=function(a){var b=this;this.O.complete.qk=a;K1(this.view,this.O.complete);this.j.wa(new Zl("social_share_flow_complete"));a.forEach(function(a){return Ql(b.j,b4(a.platform))})};
function D4(a,b,c,d){y(a.qk);Wca(a.O.error,b,c||a.qk,d);K1(a.view,a.O.error);a.view.nA();a.j.wa(new Zl("social_share_flow_error"))}f.mw=function(){this.trigger(V3);this.remove();this.j.wa(new Zl("social_share_flow_close"))};f.remove=function(){var a=this;this.view.remove().then(function(){_.values(a.O).forEach(function(a){return a.remove()})})};f.on=Backbone.Events.on;f.off=Backbone.Events.off;f.trigger=Backbone.Events.trigger;var U3="BACK",V3="CLOSE",Lca=new Ff("gl",!1);function W3(){}W3.prototype.load=function(){return window.hasOwnProperty("moment")&&window.moment.tz?P.resolve():P.resolve($.ajax({dataType:"script",cache:!0,url:"https://static.canva.com/static/lib/moment-timezone-with-data-0.5.13.min.js"})).return()};function L4(a,b){var c=this;this.qk=[];this.j=a.j;this.X=a.X;this.view=b;this.view.on("viewSocialMedia",function(a){return c.j.wa(y4(a))})}function Nca(a){var b=new M4;return new L4(a,b)}L4.prototype.vl=function(){return this.view};L4.prototype.remove=function(){this.view.remove()};
L4.prototype.refresh=function(){var a=this;this.view.render({buttons:this.qk.map(function(b){switch(b.platform){case "FACEBOOK":return{v:"buttonFacebook",text:Je(a.X),url:b.url};case "TWITTER":return{v:"buttonTwitter",text:Ke(a.X),url:b.url}}})});return P.resolve()};L4.prototype.vn=function(){return{title:this.X.format("shareDesignDialogCompleteTitle")}};
function M4(){var a=this;M1.call(this,{className:"shareDialog",events:{"click .buttonFacebook":function(){return a.trigger("viewSocialMedia","FACEBOOK")},"click .buttonTwitter":function(){return a.trigger("viewSocialMedia","TWITTER")}}})}r(M4,M1);
M4.prototype.render=function(a){var b=this.el,c;c='\x3cdiv class\x3d"shareDialog__socialCompleteButtons"\x3e';a=goog.asserts.assertArray(a.buttons,"expected parameter 'buttons' of type list\x3c[classes: string, text: string, url: string]\x3e.");for(var d=a.length,e=0;e<d;e++){var g=a[e];c+=w_({tagName:"a",attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('target\x3d"_blank"'),v:g.v,text:g.text,href:g.url})}c=soydata.VERY_UNSAFE.ordainSanitizedHtml(c+"\x3c/div\x3e");b.innerHTML=
c;return this};M4.prototype.rp=function(a){return I1(a).toString()};var E4="PAYMENT",H4="SHARING",K4="PLATFORM",G4="VERSION_CONFLICT",F4="UNKNOWN";function N4(a,b){var c=this;this.j=a.j;this.X=a.X;this.model=null;this.view=b;this.view.on("back",function(){return c.trigger("back")});this.view.on("viewSocialMedia",function(a){return c.j.wa(y4(a))})}function Oca(a){var b=new O4;return new N4(a,b)}f=N4.prototype;f.vl=function(){return this.view};f.remove=function(){this.view.remove()};
function Wca(a,b,c,d){c=P4(c);switch(b){case E4:a.model={title:a.X.format("shareDesignDialogPaymentErrorTitle"),message:a.X.format("shareDesignDialogPaymentError"),fd:a.X.Cq(),$g:"shareDialog__doneButton"};break;case H4:a.model={title:Le(a.X),message:soydata.VERY_UNSAFE.ordainSanitizedHtml(Me(a.X,c)),fd:Ne(a.X),$g:"shareDialog__backButton"};break;case K4:y(d);b=P4(d.map(function(a){return a.platform}));a.model={title:Le(a.X),message:soydata.VERY_UNSAFE.ordainSanitizedHtml(Me(a.X,c)),CC:a.X.format("shareDesignDialogPlatformSuccess",
b),fd:Ne(a.X),$g:"shareDialog__backButton buttonSecondary",pI:d.map(function(b){switch(b.platform){case "FACEBOOK":return{v:"buttonFacebook",text:Je(a.X),url:b.url};case "TWITTER":return{v:"buttonTwitter",text:Ke(a.X),url:b.url}}})};break;case G4:a.model={title:Le(a.X),message:a.X.format("shareDesignDialogVersionConflictError"),fd:a.X.Cq(),$g:"shareDialog__doneButton"};break;case F4:a.model={title:Le(a.X),message:soydata.VERY_UNSAFE.ordainSanitizedHtml(Me(a.X,c)),fd:a.X.Cq(),$g:"shareDialog__doneButton"};
break;default:throw new TypeError("unexpected SocialErrorType: "+b);}}function P4(a){return a.map(function(a){a:switch(a){case "FACEBOOK":a="Facebook";break a;case "TWITTER":a="Twitter";break a;default:throw new TypeError("unexpected Platform: "+a);}return a}).join(", ")}f.refresh=function(){y(this.model);this.view.render(this.model);return P.resolve()};f.vn=function(){return{title:this.model.title}};f.on=Backbone.Events.on;f.off=Backbone.Events.off;f.trigger=Backbone.Events.trigger;
function O4(){var a=this;M1.call(this,{className:"shareDialog error",events:{"click .shareDialog__doneButton":function(){return a.trigger("done")},"click .shareDialog__backButton":function(){return a.trigger("back")},"click .buttonFacebook":function(){return a.trigger("viewSocialMedia","FACEBOOK")},"click .buttonTwitter":function(){return a.trigger("viewSocialMedia","TWITTER")}}})}r(O4,M1);
O4.prototype.render=function(a){var b=this.el;soy.asserts.assertType(a.message instanceof soydata.SanitizedHtml||a.message instanceof soydata.UnsanitizedText||goog.isString(a.message),"message",a.message,"soydata.SanitizedHtml");var c=a.message;soy.asserts.assertType(null==a.CC||a.CC instanceof goog.soy.data.SanitizedContent||goog.isString(a.CC),"successMessage",a.CC,"null|string|undefined");var d=a.CC;soy.asserts.assertType(goog.isString(a.fd)||a.fd instanceof goog.soy.data.SanitizedContent,"buttonText",
a.fd,"string|goog.soy.data.SanitizedContent");var e=a.fd;soy.asserts.assertType(goog.isString(a.$g)||a.$g instanceof goog.soy.data.SanitizedContent,"buttonClasses",a.$g,"string|goog.soy.data.SanitizedContent");var g=a.$g;soy.asserts.assertType(null==a.pI||goog.isArray(a.pI),"successButtons",a.pI,"?Array\x3c{classes: string, text: string, url: string}\x3e|undefined");a=a.pI;c="\x3cp"+(d?' class\x3d"shareDialog__socialError"':"")+"\x3e"+soy.$$escapeHtml(c)+"\x3c/p\x3e"+(d?"\x3cp\x3e"+soy.$$escapeHtml(d)+
"\x3c/p\x3e":"")+'\x3cdiv class\x3d"shareDialog__socialCompleteButtons"\x3e'+w_({v:g,text:e});if(a)for(d=a.length,e=0;e<d;e++)g=a[e],c+=w_({tagName:"a",attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('target\x3d"_blank"'),v:g.v,text:g.text,href:g.url});a=soydata.VERY_UNSAFE.ordainSanitizedHtml(c+"\x3c/div\x3e");b.innerHTML=a;return this};O4.prototype.rp=function(a){return I1(a).toString()};function B4(a){g2.call(this,a);this.X=a.X}r(B4,g2);B4.prototype.vn=function(){return{title:this.X.format("shareDesignDialogSharingTitle")}};function Q4(a){var b=this;hc.call(this,a);a.on("click",".shareDialog__inviteMemberButton",function(a){a=$(a.target).closest(".shareDialog__inviteMemberContainer");a=(new R4(a)).fi();b.trigger(S4,a)})}r(Q4,hc);
function Ica(a){var b=$,c;soy.asserts.assertType(a.Bs instanceof soydata.SanitizedHtml||a.Bs instanceof soydata.UnsanitizedText||goog.isString(a.Bs),"inviteMembersHtml",a.Bs,"soydata.SanitizedHtml");var d=a.Bs;soy.asserts.assertType(goog.isString(a.Ev)||a.Ev instanceof goog.soy.data.SanitizedContent,"inviteMemberButton",a.Ev,"string|goog.soy.data.SanitizedContent");var e=a.Ev;soy.asserts.assertType(goog.isString(a.Fv)||a.Fv instanceof goog.soy.data.SanitizedContent,"inviteMemberError",a.Fv,"string|goog.soy.data.SanitizedContent");
var g=a.Fv;soy.asserts.assertType(goog.isString(a.Dv)||a.Dv instanceof goog.soy.data.SanitizedContent,"inviteMemberBenefitsTitle",a.Dv,"string|goog.soy.data.SanitizedContent");var h=a.Dv;c=goog.asserts.assertArray(a.o4,"expected parameter 'inviteMemberBenefits' of type list\x3cstring\x3e.");soy.asserts.assertType(goog.isString(a.zg)||a.zg instanceof goog.soy.data.SanitizedContent,"avatarUrl",a.zg,"string|goog.soy.data.SanitizedContent");var k=a.zg;a=goog.asserts.assertArray(a.Xr,"expected parameter 'emails' of type list\x3cstring\x3e.");
for(var d='\x3cdiv class\x3d"shareDialog__inviteMembersView"\x3e\x3cdiv class\x3d"shareDialog__inviteMembersLabel"\x3e'+soy.$$escapeHtml(d)+'\x3c/div\x3e\x3cdiv class\x3d"shareDialog__inviteMembers"\x3e',l=a.length,m=0;m<l;m++)var n=a[m],d=d+('\x3cdiv class\x3d"shareDialog__inviteMemberContainer" data-email\x3d"'+soy.$$escapeHtmlAttribute(n)+'"\x3e\x3cdiv class\x3d"shareDialog__inviteMember"\x3e\x3cimg class\x3d"avatar" src\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeMediaUri(k))+'"/\x3e\x3cspan class\x3d"shareDialog__inviteMemberEmail"\x3e'+
soy.$$escapeHtml(n)+"\x3c/span\x3e"+w_({v:"shareDialog__inviteMemberButton buttonSubmittable",text:e})+'\x3c/div\x3e\x3cdiv class\x3d"shareDialog__inviteMemberError" data-error\x3d'+soy.$$escapeHtmlAttributeNospace(g)+"\x3e\x3c/div\x3e\x3c/div\x3e");d+="\x3c/div\x3e";if(0<c.length){d+='\x3cdiv class\x3d"shareDialog__inviteBenefitsContainer"\x3e\x3cdiv class\x3d"shareDialog__inviteBenefitsTitle"\x3e'+soy.$$escapeHtml(h)+'\x3c/div\x3e\x3cdiv class\x3d"shareDialog__inviteBenefitList"\x3e';e=c.length;
for(g=0;g<e;g++)d+='\x3cdiv class\x3d"shareDialog__inviteBenefit"\x3e'+soy.$$escapeHtml(c[g])+"\x3c/div\x3e";d+="\x3c/div\x3e\x3c/div\x3e"}c=soydata.VERY_UNSAFE.ordainSanitizedHtml(d+"\x3c/div\x3e");b=b(c.toString());return new Q4(b)}function Xca(a,b,c){a=T4(a,b);a.ZI.empty();a.mx(!0,c);a.dD.prop("disabled",!0)}function Yca(a,b,c,d){T4(a,b).mx(!1,c);d&&window.setTimeout(function(){return a.trigger(w4)},1E3)}
function T4(a,b){a=a.$el.find('.shareDialog__inviteMemberContainer[data-email\x3d"'+b+'"]');return new R4(a)}var S4="INVITE_MEMBER",w4="OK";function R4(a){this.$el=a;this.dD=a.find(".shareDialog__inviteMemberButton");this.ZI=a.find(".shareDialog__inviteMemberError")}r(R4,gc);R4.prototype.fi=function(){return this.$el.data("email")};R4.prototype.mx=function(a,b){b&&this.dD.text(b);this.dD.toggleClass("submitting",a)};R4.prototype.lf=function(){this.ZI.text(this.ZI.data("error").toString())};function U4(a,b){var c=this;this.D=a.D;this.j=a.j;this.Z=a.Z;this.cc=a.cc;this.qr=a.qr;this.X=a.X;this.JG=a.JG;this.Xn=a.Xn;this.view=b;this.view.on(S4,function(a){return Zca(c,a)})}function zca(a,b){new U4(a,b)}
function Zca(a,b){Xca(a.view,b,a.X.format("shareDesignDialogiInviteMemberInvitingButton"));a.FR().then(function(){var c=Ux(Vx((new Tx).zj(a.D.u()),"Shared_Design_Invite_Accept_Invitation"),[Object.freeze(Df(Sx,{email:b,role:tm}))]);c.resend=!0;return a.Z.nZ(c)}).tap(function(){a.j.wa(sm(b,"design_shared_dialog"))}).then(function(){a.JG--;Yca(a.view,b,a.X.format("shareDesignDialogInviteMemberSentButton"),0===a.JG);a.Xn()}).catch(function(){var c=T4(a.view,b);c.lf();c.mx(!1);c.dD.prop("disabled",!1)})}
U4.prototype.FR=function(){var a=this;if(!this.D.hi())return P.resolve();var b=Ox((new Mx).Uo(this.D.u()));this.D.Jb()||Nx(b,this.qr+"s team");return Pw(this.Z,b).tap(function(){return py(a.cc)}).tap(function(){return qy(a.cc)})};function Wba(){return window.twttr&&window.twttr.txt?P.resolve():P.resolve($.ajax({dataType:"script",cache:!0,url:"https://static.canva.com/static/lib/twitter-text-1.9.4.min.js"}))};function V4(a){this.$el=a}r(V4,gc);function W4(a){w(a.hasClass("mask2"),'$el must have "mask2" in its classList');return new V4(a)}V4.prototype.show=function(){this.xt(!0);this.$el.hasClass("mask2--blur")&&X4(this,!0)};V4.prototype.hide=function(){this.xt(!1);this.$el.hasClass("mask2--blur")&&X4(this,!1);return Cf(this.$el[0])};V4.prototype.xt=function(a){this.$el.toggleClass("mask2--visible",a);$("body").toggleClass("mask2Visible",a)};V4.prototype.sh=function(){return this.$el.hasClass("mask2--visible")};
function X4(a,b){a.$el.siblings(".mask2Background").toggleClass("mask2Background--blurred",b)};function d_(a,b){var c=this;hc.call(this,a);this.eD=b;this.uX=this.j6.bind(this);this.$el.on("click",function(a){return c.Lf(a)});this.eD.on("keyup",this.uX)}r(d_,hc);f=d_.prototype;f.remove=function(){hc.prototype.remove.call(this);this.eD.off("keyup",this.uX)};f.show=function(){var a=this;il(function(){return W4(a.$el).show()})};f.hide=function(){return W4(this.$el).hide()};f.sh=function(){return W4(this.$el).sh()};f.Lf=function(a){!$(a.target).closest(".dialog2__content").length&&Y4(this)&&this.trigger(l_)};
f.j6=function(a){27===a.keyCode&&Y4(this)&&this.trigger(l_)};function Y4(a){return!!a.$el.find(".dialog2__closeButton").length}var l_="CLOSE";function Z4(a){var b;soy.asserts.assertType(a.content instanceof soydata.SanitizedHtml||a.content instanceof soydata.UnsanitizedText||goog.isString(a.content),"content",a.content,"soydata.SanitizedHtml");var c=a.content;soy.asserts.assertType(null==a.visible||goog.isBoolean(a.visible)||1===a.visible||0===a.visible,"visible",a.visible,"boolean|null|undefined");var d=a.visible;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");
var e=a.v;soy.asserts.assertType(null==a.Pm||goog.isBoolean(a.Pm)||1===a.Pm||0===a.Pm,"dark",a.Pm,"boolean|null|undefined");var g=a.Pm;soy.asserts.assertType(null==a.blur||goog.isBoolean(a.blur)||1===a.blur||0===a.blur,"blur",a.blur,"boolean|null|undefined");a=a.blur;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"mask2'+(d?" mask2--visible":"")+(null==(b=g)||b?" mask2--dark":"")+(null==(b=a)||b?" mask2--blur":"")+(e?" "+soy.$$escapeHtmlAttribute(e):"")+'"\x3e'+soy.$$escapeHtml(c)+
"\x3c/div\x3e")}
function c_(a){var b;a=a||{};soy.asserts.assertType(null==a.content||a.content instanceof soydata.SanitizedHtml||a.content instanceof soydata.UnsanitizedText||goog.isString(a.content),"content",a.content,"?soydata.SanitizedHtml|string|undefined");var c=a.content;soy.asserts.assertType(null==a.visible||goog.isBoolean(a.visible)||1===a.visible||0===a.visible,"visible",a.visible,"boolean|null|undefined");var d=a.visible;soy.asserts.assertType(null==a.cD||goog.isBoolean(a.cD)||1===a.cD||0===a.cD,"withShadow",
a.cD,"boolean|null|undefined");var e=a.cD;soy.asserts.assertType(null==a.bD||goog.isBoolean(a.bD)||1===a.bD||0===a.bD,"withRoundedCorners",a.bD,"boolean|null|undefined");var g=a.bD;soy.asserts.assertType(null==a.aD||goog.isBoolean(a.aD)||1===a.aD||0===a.aD,"withCloseButton",a.aD,"boolean|null|undefined");var h=a.aD;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");var k=a.v;soy.asserts.assertType(null==a.$D||
a.$D instanceof goog.soy.data.SanitizedContent||goog.isString(a.$D),"contentClasses",a.$D,"null|string|undefined");a=a.$D;return soydata.VERY_UNSAFE.ordainSanitizedHtml(Z4({visible:d,v:soydata.$$markUnsanitizedTextForInternalBlocks("dialog2"+(k?" "+k:"")),content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks('\x3cdiv class\x3d"dialog2__container"\x3e\x3cdiv class\x3d"dialog2__box'+(null==(b=e)||b?" dialog2__box--withShadow":"")+(null==(b=g)||b?" dialog2__box--withRoundedBorders":"")+
(a?" "+soy.$$escapeHtmlAttribute(a):"")+'"\x3e'+(null==(b=h)||b?'\x3cbutton class\x3d"dialog2__closeButton"\x3e'+soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg viewBox\x3d"0 0 24 24" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cg fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3crect fill-opacity\x3d".2" fill\x3d"#000" width\x3d"24" height\x3d"24" rx\x3d"12"/\x3e\x3cpath d\x3d"M4 4h16v16H4"/\x3e\x3cpath fill\x3d"#FFF" d\x3d"M16.5 8.406l-.906-.906L12 11.094 8.406 7.5l-.906.906L11.094 12 7.5 15.594l.906.906L12 12.906l3.594 3.594.906-.906L12.906 12"/\x3e\x3c/g\x3e\x3c/svg\x3e')+
"\x3c/button\x3e":"")+'\x3cdiv class\x3d"dialog2__content"\x3e'+soy.$$escapeHtml(null==(b=c)?"":b)+"\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e")}))};function $4(a){var b=this;this.view=a;this.view.on(l_,function(){return b.mw()})}$4.prototype.mw=function(){this.close()};$4.prototype.close=function(){var a=this;return this.view.hide().then(function(){return a.view.remove()})};function a5(a){this.user=a.user;this.profiles=a.profiles;this.ua=a.ua;this.kp=this.user.OF()}a5.prototype.getItem=function(a){var b=this;return this.kp&&this.kp[a]?P.resolve(this.kp[a]):this.OF().then(function(c){var d=null;c[a]||(d=b.ua&&b.ua.getItem(b.user.u()+"_"+a));return c[a]||d&&JSON.parse(d)||null})};a5.prototype.setItem=function(a,b){this.ua&&this.ua.setItem(this.user.u()+"_"+a,b);this.kp&&(this.kp[a]=b);return Ow(this.profiles,a,b)};
a5.prototype.removeItem=function(a){this.ua&&this.ua.removeItem(this.user.u()+"_"+a);this.kp&&delete this.kp[a];return Ow(this.profiles,a,null)};a5.prototype.OF=function(){var a=this;return Nw(this.profiles).then(function(b){return a.kp=b})};function $ca(a){this.view=a.view;this.Db=a.Db}
function oaa(a){var b=new H0({Zd:a.Zd}),c=Ie(a.X),d=$;soy.asserts.assertType(goog.isString(c)||c instanceof goog.soy.data.SanitizedContent,"emptyPlaceholder",c,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString("shareDialog__emailInput"),"classes","shareDialog__emailInput","null|string|undefined");c=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"tagListInput '+soy.$$escapeHtmlAttribute("shareDialog__emailInput")+'"\x3e\x3cdiv class\x3d"tagListInput__inputContainerWrapper"\x3e\x3cinput type\x3d"text" class\x3d"tagListInput__input" placeholder\x3d"'+
soy.$$escapeHtmlAttribute(c)+'" autocomplete\x3d"off" autocorrect\x3d"off" autocapitalize\x3d"off" spellcheck\x3d"false" /\x3e\x3c/div\x3e\x3c/div\x3e');d=d(c.toString());d=new k2(d);c=a.G.get(vba)?a.X.format("shareDesignDialogInviteEmailPlaceholder"):"";a={HI:b,QR:ada,QN:bda(a.va,a.Z),RN:cda,PN:dda,FE:eda,sL:Ie(a.X),gO:c,Dq:a.Dq};a=new v2(a,d);return new $ca({view:d,Db:a})}function ada(a){return a.fi()||""}
function cda(a,b){function c(a,b){return-1!==b.toLowerCase().replace(/ |@/g,"").indexOf(a.toLowerCase().replace(/ |@/g,""))}return c(a,b.La().qh())||c(a,b.La().Jb())||c(a,b.fi())}function bda(a,b){var c=null,d=by(ay((new $x).zj(a))).Vg(100);return b.Iz(d).then(function(a){c=a.FF();if(a.Mb())return b.Iz(d.Aj(a.Mb()))}).then(function(a){a&&(c=c.concat(a.FF()));return c})}
function dda(a,b){var c=$,d=a.La().Jb()||"",e=a.fi()||"";a=a.La().gv()&&a.La().gv().sizes.get("50").oa()||"";soy.asserts.assertType(goog.isString(a)||a instanceof goog.soy.data.SanitizedContent,"avatarUrl",a,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(d)||d instanceof goog.soy.data.SanitizedContent,"lead",d,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(e)||e instanceof goog.soy.data.SanitizedContent,"desc",e,"string|goog.soy.data.SanitizedContent");
soy.asserts.assertType(goog.isNumber(b),"modelId",b,"number");b=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"menuListElement" data-model-id\x3d"'+soy.$$escapeHtmlAttribute(b)+'"\x3e\x3cimg class\x3d"avatar" src\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeMediaUri(a))+'" /\x3e\x3cdiv class\x3d"menuListElement__right"\x3e\x3cspan class\x3d"lead"\x3e'+soy.$$escapeHtml(d)+'\x3c/span\x3e\x3cspan class\x3d"desc"\x3e'+soy.$$escapeHtml(e)+"\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e");c=
c(b.toString());return new QQ(c,!0,!1)}function eda(a){return a&&a.La().Jb()||""};function fda(a){var b=this;this.view=a;this.eK=null;a.on(b5,function(){Fa(null!=b.eK,"A callback must be provided");b.eK();b.view.hide()});a.on(c5,function(){return a.hide()})}
function naa(a){var b=a.i.format("shareDesignDialogConnectYourAccount"),c=a.i.format("shareDesignDialogConnectYourAccountButton");a=$;soy.asserts.assertType(goog.isString(b)||b instanceof goog.soy.data.SanitizedContent,"connectAccountMessage",b,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(c)||c instanceof goog.soy.data.SanitizedContent,"connectButtonLabel",c,"string|goog.soy.data.SanitizedContent");b=soydata.VERY_UNSAFE.ordainSanitizedHtml(Z4({content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks('\x3cdiv class\x3d"connectAccountPopup"\x3e'+
soy.$$escapeHtml(b)+w_({text:c,v:"connectAccountPopup__connectButton",block:!0})+"\x3c/div\x3e"),Pm:!1}));b=a(b.toString());b=new d5(b);return{Db:new fda(b),view:b}}function oca(a,b){a.view.setPosition(b);a.view.show()}function mca(a,b){a.eK=b};function d5(a){var b=this;hc.call(this,a);a.on("click",".connectAccountPopup__connectButton",function(){return b.trigger(b5)});a.on("click",function(a){return b.Lf(a)})}r(d5,hc);d5.prototype.setPosition=function(a){this.$el.find(".connectAccountPopup").css({left:a.x,top:a.y})};d5.prototype.show=function(){W4(this.$el).show()};d5.prototype.hide=function(){W4(this.$el).hide()};d5.prototype.Lf=function(a){!$(a.target).closest(".connectAccountPopup").length&&this.trigger(c5)};var b5="CONNECT",c5="CLOSE";function e5(a,b,c){hc.call(this,a);this.Sr=b;this.mR=c}r(e5,hc);function f5(a,b,c,d){var e=this;this.view=b;this.Ab=c;this.IC=d;this.j=a.j;this.Gt=a.Gt;e3(this.IC,function(a){return f3(e.Gt,a).then(function(){return e.vO(a)})})}
function maa(a){var b=a.X.format("shareDesignDialogTeamInvitesTitle"),c={Kj:a.rf.Kj(),td:a.rf.td(),mr:a.rf.mr(),dW:g3(a.kj),ap:a.rf.ap()},d=$;soy.asserts.assertType(goog.isString(b)||b instanceof goog.soy.data.SanitizedContent,"title",b,"string|goog.soy.data.SanitizedContent");c=goog.asserts.assertObject(c,"expected parameter 'teamInviteFormModel' of type [addAnotherButtonLabel: string, emailInputPlaceholder: string, inputModel: list\x3c[modelId: float|int]\x3e, submitButtonLabel: string, upgradeMessage: string].");b=
soydata.VERY_UNSAFE.ordainSanitizedHtml(c_({v:"shareTeamInvitesDialog",content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks('\x3cdiv class\x3d"shareTeamInvitesDialog__content"\x3e\x3cdiv class\x3d"shareTeamInvitesDialog__title"\x3e'+soy.$$escapeHtml(b)+"\x3c/div\x3e"+h3(c)+"\x3c/div\x3e")}));d=d(b.toString());b=new d_(d,$(document));c=new i3(d.find(".teamInviteForm"));d=new e5(d,b,c);b=new $4(d.Sr);c=a.tK(d.mR);a=new f5(a,d,b,c);return{view:d,Db:a}}
f5.prototype.show=function(){this.j.wa(new Zl("team_invites_dialog_freeform_shown"));this.view.Sr.show()};f5.prototype.Me=function(){this.IC.Me()};f5.prototype.vO=function(a){var b=this;a.forEach(function(a){return b.j.wa(sm(a,"design_shared_dialog_freeform"))});this.view.Sr.hide().then(function(){return b.view.Sr.remove()})};function g5(a){this.km=a.km;this.fq=!1}g5.prototype.send=function(a,b){return this.init().then(function(c){return new P(function(d,e){c.sendSMS(a,b,{},function(a){if(a)return e(a instanceof Error?a:Error(a));d()})})})};g5.prototype.init=function(){var a=this;return this.fq?P.resolve(h5()):gda().then(function(b){return new P(function(c,d){b.init(a.km,{},function(e){if(e)return d(e instanceof Error?e:Error(e));a.fq=!0;c(b)})})})};
function gda(){return document.getElementById("branch_snippet")?P.resolve(h5()):new P(function(a,b){var c=document.createElement("script");c.id="branch_snippet";c.src="https://cdn.branch.io/branch-latest.min.js";c.async=!0;c.onload=function(){return a(h5())};c.onerror=function(){b(Error("Unable to load the branch API"))};document.body.appendChild(c)})}function h5(){Fa("undefined"!==typeof window.branch);return window.branch};function hda(a){this.document=a.document;this.Ib=a.Ib;this.bS=a.bS}function K0(a){return new hda({document:a.document,Ib:a.Ib,bS:qA})}function I4(a,b){var c;a.document.isEmpty()?c="EMPTY_DOC":a.Ib.Nv()?bq(a.document)?c="UPLOADING":0===b.length&&(c="LICENSE_NO_OPTIONS"):c="SAVING";return c?P.reject(c):P.resolve()}function J_(a){if(!a.Ib.ij())return P.resolve();a.Ib.save();return a.bS(O.ny).bind(a).catch(function(){throw this.Ib.Nv()?"SAVING":"VERSION_CONFLICT";})}
function A4(a){return{pb:a.Ib.hc(),Zb:a.Ib.fe()}};function i5(a){this.view=a.view;this.H=a.H;this.BN=a.BN;this.Ga=Rc(a.i);this.gt=a.gt;this.GG=P.resolve();this.Xb=a.Xb;this.lP=a.lP;this.he=a.he||!1;this.Ka=a.Ka;this.ua=a.ua;this.document=a.document;this.Ib=a.Ib;this.Rb=a.Rb;this.Ct=Infinity;this.sq=this.tq=!1;this.ne=a.ne;this.xd=a.xd;this.j=a.j;this.zP=a.zP;this.Sl=null;this.Z=a.Z;this.aa=a.aa;this.df=a.df;this.gu=a.gu;this.Fd=a.Fd;this.O={error:a.O.error,Mg:a.O.Mg,Ip:a.O.Ip,t3:null};this.KL=a.KL;this.bK=this.Oj=this.zz=null;this.W=a.W;this.G=a.G;
this.yc=a.yc;this.view.on("cancel",this.cancel.bind(this));this.view.on("ok",this.ok.bind(this));this.view.on("retry",this.aW.bind(this))}
function M_(a){function b(){return new j5({dc:a.dc,G:a.G,j:a.j,Ib:a.Ib,i:a.i,he:!!a.he,Nl:a.Nl,H:a.H,W:a.W})}var c=Rc(a.i),d=cd(a.i),e=(new J1({Qd:new oz({style:pz,H:a.H}),H:a.H,id:"exportDialog"})).render({Zo:c.Zo(),Wg:c.Wg()}),g=["ONE_USE","ROYALTY_FREE","EXTENDED"],h=ky(a.Ka).ka().u(),k=new oU,d=gV({D:h,Dj:a.aa,Xe:!1,nf:a.fb,Ya:d,j:a.j}),h={error:(new C2({Ga:c,view:new D2})).init(),Mg:(new iV({j:a.j,aa:a.aa,Z:a.Z,ub:a.ub,Xb:a.Xb,i:a.i,na:ly(a.Ka).u(),va:h,kf:!0,view:new hV({wd:d.Db,bj:d.view}),
Rb:k,pb:a.Ib.hc(),cf:ky(a.Ka).ka().hi(),G:a.G,yc:a.yc})).init(),Ip:new g2({H:a.H,Ga:c,view:new h2})},l=Lba(a);return new i5({view:e,i:a.i,j:a.j,Ib:a.Ib,document:a.document,Ka:a.Ka,dc:a.dc,xd:a.xd,aa:a.aa,Z:a.Z,fb:a.fb,ub:a.ub,H:a.H,ua:a.ua,he:a.he,BN:function(){return new A2({i:a.i,view:new B2({H:a.H}),hR:g})},Xb:a.Xb,zP:function(b){return new N1({j:a.j,$m:b})},df:g,gt:new i2(Xc(a.i)),ne:a.ne,Rb:k,Fd:a.Fd,O:h,KL:function(d){return a.lW?P.resolve(new k5({iN:"PDF"===a.ne.format,Ga:c})):d.tq||d.sq?P.resolve(b()):
Mba(l,{sU:function(){d.ok()}}).then(function(a){return a||b()})},k6:a.k6,lP:!!a.lW,gu:a.gu,W:a.W,G:a.G,yc:a.yc})}f=i5.prototype;f.remove=function(){this.zz&&this.zz.cancel();this.view.remove().bind(this).then(function(){_.values(this.O).forEach(function(a){a&&a.remove()})})};f.tR=function(a){this.lP||(1>$("#canvaDownloadIframe").length&&$("\x3ciframe /\x3e",{id:"canvaDownloadIframe"}).appendTo("body"),$("#canvaDownloadIframe").attr("src",a),this.he&&Rl(this.j,"download","export_dialog","first_time_publish"))};
f.wx=function(){var a;if(Infinity>this.Ct){var b=moment.duration(this.Ct);a=Math.floor(b.asHours());b=b.minutes();a=0<a?this.Ga.format("publishViewExportingHoursRemainingLicenseHeader",a,b):this.Ga.format("publishViewExportingMinutesRemainingLicenseHeader",b);b=this.Ga.format("publishViewExportingLicensePurchaseDetails");soy.asserts.assertType(goog.isString(a)||a instanceof goog.soy.data.SanitizedContent,"title",a,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(b)||b instanceof
goog.soy.data.SanitizedContent,"message",b,"string|goog.soy.data.SanitizedContent");a=soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3ch3\x3e"+soy.$$escapeHtml(a)+"\x3c/h3\x3e\x3cp\x3e"+soy.$$escapeHtml(b)+"\x3c/p\x3e").toString()}else a=this.gt.next();L1(this.view,a);this.GG.then(this.view.wx.bind(this.view))};f.nA=function(){this.GG.then(this.view.nA.bind(this.view))};
f.start=function(){return new P(function(a){this.Oj=null;this.bK=a;this.Sl=this.zP(this.ne.format);this.GG=new P(function(a){this.H.setTimeout(a,650)}.bind(this));this.aW()}.bind(this))};f.aW=function(){I4(this.Fd,this.df).bind(this).then(this.V3).then(this.l4).then(this.u1).then(this.Q3).then(this.OZ.bind(this,"PRINT")).catch(this.MQ)};f.V3=function(){if(!this.Ib.ij())return P.resolve();this.O.Ip.hF="SAVING";K1(this.view,this.O.Ip);this.Sl.track("save");return J_(this.Fd)};
f.l4=function(){this.O.Ip.hF="EXPORTING";K1(this.view,this.O.Ip);this.Sl.track("prepare")};f.MQ=function(a){this.nA();var b=this.O.error;b.Gw=wba(b,a);K1(this.view,this.O.error);this.Sl.track("error",{errorType:a})};f.N1=function(){this.Ct=Infinity;this.wx();K1(this.view,this.O.Ip);this.OZ("SCREEN").bind(this).catch(this.MQ)};
f.u1=function(){var a=this.Ib.fe(),b=new Ej({document:this.Ib.hc(),Zb:a,O:this.ne.O,bG:!0,cG:!0}),c=ky(this.Ka).ka().u(),b=uj(this.aa,b).catch(function(a){if(a instanceof Ok)throw"VERSION_CONFLICT";throw"BACKGROUND";}),c=tj(this.aa,new qi({Am:[c],Y:null,limit:1})).catch(function(){throw"BACKGROUND";});return P.all([b,c]).bind(this).spread(function(b,c){if(b.Zb!==a)throw"VERSION_CONFLICT";pU(this.Rb,{items:b.items,df:this.df,Uv:b.Wl,om:!!this.W.G.get(og)});this.Ct=tU(this.Rb);this.O.Mg.fa=0<c.Yt.length?
c.Yt[0]:null;return b.SB})};f.Q3=function(a){return a?(0<sU(this.Rb)?ida(this):jda(this)).bind(this).then(function(a){this.tq=0<=a.df.indexOf("ROYALTY_FREE");this.sq=0<=a.df.indexOf("EXTENDED");this.Ct=a.Ct}).then(this.g$):(this.wx(),P.resolve())};function jda(a){Fa(0===sU(a.Rb),"cannot purchase premium elements in background");return d2(a.O.Mg).bind(a).catch(function(){this.MQ("BACKGROUND_PAYMENT")})}
function ida(a){return new P(function(a){pZ(this.Xb,"contextTipRoyaltyFreePaymentOption");this.nA();kda(this).bind(this).then(function(){K1(this.view,this.O.Mg).bind(this).then(function(){return a2(this.O.Mg)}).then(function(a){a||mZ(this.Xb,"contextTipRoyaltyFreePaymentOption")});this.Sl.track("payment");this.O.Mg.once("clickDraft",this.N1.bind(this));this.O.Mg.once("paymentComplete",a)})}.bind(a))}f.g$=function(){this.wx();K1(this.view,this.O.Ip)};
function kda(a){return lda(a).bind(a).then(function(a){if(a)return mda(this).bind(this).then(this.F4)})}function l5(a){return"hasSeenPublishPaymentLicensesOnboarding:"+ly(a.Ka).u()}function lda(a){var b=l5(a),c=!!ly(a.Ka).OF().hasSeenPublishPaymentLicensesOnboarding,b=a.ua&&!!Co(a.ua,b);return P.resolve(!c&&!b&&0<sU(a.Rb))}f.F4=function(){var a=l5(this);this.ua&&Ko(this.ua,a);Ow(this.Z,"hasSeenPublishPaymentLicensesOnboarding",!0)};
function mda(a){return new P(function(a){this.Sl.track("onboard_licenses");this.GG.bind(this).then(function(){var c=this.BN().init();c.show();c.on("complete",a)})}.bind(a))}
f.OZ=function(a){var b=this.Ib.hc(),c=this.Ib.fe();this.Sl.track("export",{exportType:a});var d=this.ne.format,e=this.ne.Is,g;a:switch(a){case "SCREEN":case "CUSTOM":g="SCREEN";break a;case "PRINT":g="PRINT";break a;default:throw Error("unknown export type: "+a);}var h=new gw({type:a,format:d,Is:e,SA:g,qu:!!this.ne.qu,Or:!!this.ne.Or,it:!!this.ne.it,Nx:this.ne.Nx,O:this.ne.O}),k=h.SA===Lg;a=new Tv({Yh:b,RK:c,ZQ:h,Bh:"WEB_1"});Fa(null==this.zz);return this.zz=this.xd.eE(a).bind(this).tap(function(a){0<
a.rB.fF.length&&(this.Oj=a.rB.fF[0].url,this.KL(this).bind(this).then(function(a){a.AQ(this.Oj);a.DQ(this.tq,this.sq);this.view.$el.toggleClass("exportDialog--exportComplete",!0);K1(this.view,a);if(a.VD){var b=a.VD;this.view.$(".dialog").addClass(b)}this.Sl.track("complete");this.tR(this.Oj);var b=this.j,c=Gl("Download Design",{format:h.format,watermark:k,destination:"download",design:b.Ee,template:b.dj,transparent_background:h.it,crop_marks:h.Or,page_count:h.O.length,is_print_pdf:this.gu.pW});b.track("design_publish",
c);this.O.t3=a}))}).catch(P.CancellationError,function(){}).finally(function(){this.zz=null}).catch(function(){return P.reject("EXPORTING")})};f.eI=function(){(this.tq||this.sq)&&oZ(this.Xb)};f.cancel=function(){this.Sl.PC("cancel");this.finally()};f.ok=function(){this.Sl.PC("ok");this.finally()};f.finally=function(){Fa(null!=this.bK);this.bK(this.Oj);this.eI();this.remove()};function j5(){}j5=M1.extend({className:"exporting complete"});f=j5.prototype;
f.events=function(){return{"click .openUploadsTab":this.Q5,"click .button--homepageHint":this.L5}};f.initialize=function(a){this.dc=a.dc;this.G=a.G;this.i=a.i;this.Ga=Rc(a.i);this.Oa=Vc(a.i);this.j=a.j;this.sq=this.tq=!1;this.Oj=null;this.he=a.he;this.Nl=a.Nl;this.H=a.H;this.W=a.W;var b=W_,c=a.Ib;a=a.i;a.Sf||(a.Sf=new Fe(a.config));this.IQ=new b({location:"publish",Ib:c,Sf:a.Sf});this.listenTo(this.IQ,{shareClicked:this.HQ,emailSend:this.i3,shareViewResize:this.yu})};
f.refresh=function(){this.render();return P.resolve()};
f.render=function(){var a=this.el,b,c=this.wn();soy.asserts.assertType(c.mz instanceof soydata.SanitizedHtml||c.mz instanceof soydata.UnsanitizedText||goog.isString(c.mz),"downloadStartedHtml",c.mz,"soydata.SanitizedHtml");b=c.mz;soy.asserts.assertType(goog.isBoolean(c.qC)||1===c.qC||0===c.qC,"showLicenseHint",c.qC,"boolean");var d=!!c.qC;soy.asserts.assertType(c.LA instanceof soydata.SanitizedHtml||c.LA instanceof soydata.UnsanitizedText||goog.isString(c.LA),"licenseHint",c.LA,"soydata.SanitizedHtml");
var e=c.LA;soy.asserts.assertType(goog.isBoolean(c.he)||1===c.he||0===c.he,"showHomepageHints",c.he,"boolean");var g=!!c.he;soy.asserts.assertType(goog.isString(c.zv)||c.zv instanceof goog.soy.data.SanitizedContent,"hintSeeAllDesigns",c.zv,"string|goog.soy.data.SanitizedContent");c=c.zv;b=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cp class\x3d"intro"\x3e'+soy.$$escapeHtml(b)+"\x3c/p\x3e"+(g?"":'\x3cdiv class\x3d"socialShare"\x3e\x3c/div\x3e')+(d?'\x3cp class\x3d"feedback feedback--success"\x3e'+
soy.$$escapeHtml(e)+"\x3c/p\x3e":"")+(g?w_({tagName:"a",href:"/",v:"button--homepageHint",text:c}):""));a.innerHTML=b;this.$(".socialShare").html(this.IQ.render().el);return this};f.AQ=function(a){this.Oj=a};f.DQ=function(a,b){this.tq=a;this.sq=b};f.Q5=function(){XM.call($("#objectPanel .uploads a"),this.i);this.close()};f.L5=function(){Rl(this.j,"see_your_designs","export_complete_dialog","first_time_publish")};f.yu=function(){this.trigger("contentResize")};
f.close=function(){this.trigger("done");this.he&&Sl(this.j,"export_complete","export_dialog","first_time_publish")};f.HQ=function(){Fa(null!=this.Nl);this.close();this.H.setTimeout(this.Nl,300)};
f.i3=function(a){var b=this;this.$(".shareViaEmailForm button").addClass("sending");Pl(this.j);yy(this.dc,new jz({pb:wb.hc(),mode:a.mode,Ye:a.Ye,Xr:a.h3,XC:"publish"})).bind(this).finally(function(){this.$(".shareViaEmailForm button").removeClass("sending")}).then(function(){this.$(".shareViaEmailForm button").addClass("sent");this.H.setTimeout(this.trigger.bind(this,"done"),600)}).catch(function(){this.IQ.trigger("emailSendingError",b.Ga.format("publishViewEmailSendingError"))})};f.rp=function(a){return I1(a).toString()};
f.vn=function(){return{title:this.Ga.format("publishViewDesignReady")}};
f.wn=function(){if(null==this.Oj)throw Error("export url must be set");var a="";if(this.tq&&this.sq)var a=this.Oa.Id(),b=this.Oa.Fc(),a=this.Ga.format("publishViewUnlimitedUseCombinedHint",a,b);else this.tq?a=Se(this.Ga,this.Oa.Fc()):this.sq&&(a=Se(this.Ga,this.Oa.Id()));return{mz:soydata.VERY_UNSAFE.ordainSanitizedHtml(this.Ga.format("publishViewDownloadStarted",this.Oj)),qC:!!a,LA:soydata.VERY_UNSAFE.ordainSanitizedHtml(a),he:this.he,zv:this.Ga.zv()}};function k5(){}k5=M1.extend({className:"exporting complete"});
f=k5.prototype;f.initialize=function(a){this.Ga=a.Ga;this.Oj=null;this.iN=a.iN};f.AQ=function(a){this.Oj=a};f.DQ=function(){};f.refresh=function(){this.render();return P.resolve()};f.render=function(){this.el.innerHTML=xba(this.wn());window.setTimeout(function(){this.trigger("done")}.bind(this),1E3);return this};f.events=function(){return{"click .useExportButton":function(){this.trigger("done")}}};f.wn=function(){return{message:this.Ga.format("publishViewExportCompleteEmbedded"),Wg:this.Ga.Wg()}};
f.rp=function(a){return I1(a).toString()};f.vn=function(){return{title:this.iN?this.Ga.format("publishViewExportCompletePdf"):this.Ga.format("publishViewExportCompleteImage")}};function wX(a,b){this.OO=a.OO;this.Z=a.Z;this.i=a.i;this.view=b}
wX.prototype.confirm=function(){var a=this;return new P(function(b,c){if(!a.OO)return b(!0);Nw(a.Z).then(function(d){if(d.neverShowReplacePageContentWarning)return b(!0);np(a.view).then(function(c){if(a.view.HG){Ow(a.Z,"neverShowReplacePageContentWarning",!0);var d=$("#documentFileMenuUndoButton"),h=d.offset();(new jZ({af:$(document),Te:$("body"),Sy:a.i.format("editorReplaceContentContextTipText"),fd:a.i.format("editorReplaceContentContextTipButtonText"),width:265,style:"contextTipOnboarding topArrow"})).sx(h.left-
4,h.top+ +d.height()+4,!1)}b(2===c)}).catch(function(a){return c(a)})})})};function vX(a){kp.call(this,{className:"replaceContentDialog",H:a.H,jf:!1,title:a.$R});this.HG=!1;var b=$,c;c=a.Q2;var d=a.Z4,e=a.p9;a=a.ZR;soy.asserts.assertType(goog.isString(c)||c instanceof goog.soy.data.SanitizedContent,"doNotReplaceButton",c,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(d)||d instanceof goog.soy.data.SanitizedContent,"neverShowAgainLabel",d,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(e)||e instanceof goog.soy.data.SanitizedContent,
"replaceButton",e,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a)||a instanceof goog.soy.data.SanitizedContent,"warningText",a,"string|goog.soy.data.SanitizedContent");c=soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3cp\x3e"+soy.$$escapeHtml(a)+"\x3c/p\x3e"+w_({v:"replaceContentDialog__cancelButton buttonSecondary",text:c})+w_({v:"replaceContentDialog__replaceButton",text:e})+'\x3cdiv\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox" /\x3e'+soy.$$escapeHtml(d)+"\x3c/label\x3e\x3c/div\x3e");
this.content=b(c.toString())}r(vX,kp);vX.prototype.events=function(){return _.extend(kp.prototype.events.call(this),{"click .replaceContentDialog__replaceButton":this.ok,"click .replaceContentDialog__cancelButton":this.cancel,'click input[type\x3d"checkbox"]':this.M$})};vX.prototype.render=function(){kp.prototype.render.call(this);return this};vX.prototype.M$=function(a){this.HG=a.target.checked};function b1(){}b1=Backbone.View.extend({className:"linearProgress"});f=b1.prototype;
f.LJ=function(a){this.MZ=(100/a.length).toFixed(4)+"%";return $("\x3cul\x3e"+a.map(function(a){return'\x3cli class\x3d"stage '+a.v.join(" ")+'"\x3e\x3cspan class\x3d"label"\x3e\x3cspan class\x3d"text"\x3e'+a.label+'\x3c/span\x3e\x3c/span\x3e\x3cspan class\x3d"wipe"\x3e\x3cspan class\x3d"inner"\x3e\x3c/span\x3e\x3c/span\x3e\x3cspan class\x3d"bar"\x3e\x3c/span\x3e\x3cspan class\x3d"light"\x3e\x3c/span\x3e\x3c/li\x3e'}).join("")+"\x3c/ul\x3e")};f.initialize=function(a){this.MZ="0%";this.$el.html(this.LJ(a.s$))};
f.render=function(a){if("error"===a)return this.$el.addClass("out"),this.$el.addClass("error"),this;var b=this.$el.find(".stage."+a);if(b.hasClass("active"))return this;b.addClass("preparing");window.setTimeout(function(){b.addClass("active").removeClass("preparing")},800);b.prevAll().addClass("past").removeClass("active");return this};
f.show=function(a){a.append(this.$el);var b=this;this.$(".stage:first-child").addClass("appear").addClass("preparing");window.setTimeout(function(){b.$(".stage:first-child").addClass("active").removeClass("preparing")},1E3);this.$(".stage:not(:first-child)").each(function(a){var d=$(this);d.css("width",b.MZ);window.setTimeout(function(){d.addClass("appear")},100*a)})};f.remove=function(){};function ES(){}ES=Backbone.View.extend({tagName:"div",className:"fxPanel"});f=ES.prototype;f.events=function(){var a={};a["click .preset"]=this.V1;a["click .presets .scrollLeft"]=this.E9;a["click .presets .scrollRight"]=this.F9;a["input .range .trackContainer \x3e input[type\x3drange]"]=this.xX;a["change .range .trackContainer \x3e input[type\x3drange]"]=this.xX;a["click .hex"]=this.P1;a["click .toggleAdvanced"]=this.L$;return a};
f.initialize=function(a){this.iP=a.iP;this.pD=this.model.filter.name;this.IH=null;this.cN=!1;this.qY={};this.cS=this.lo=0;this.Af=a.Af;this.listenTo(this.model,"change",this.refresh);this.listenTo(M,"beforeOperationStackPop",this.LB);this.listenTo(T,"hideContextualControlsRequested",this.remove);this.render()};
f.render=function(){var a=this;$("#editorLogo").addClass("noAnimate");$(".imageToolbarCrop").removeClass("enabled").addClass("disabled");this.$el.html(this.template({advancedOptionsMsg:he(this.Af),filterCodeMsg:this.Af.format("editorToolbarFilterCode")}));this.$el.addClass("toolbar--fx");tJ(this.model);window.setTimeout(function(){nda(a);oda(a);m5(a);a.refresh()},300);this.IH=this.model.WQ;return this};
f.remove=function(){$("#editorLogo").removeClass("noAnimate");this.LB();$(".imageToolbarCrop").removeClass("disabled").addClass("enabled");this.model&&AD(this.model);Backbone.View.prototype.remove.call(this)};function FS(a,b){a.$el.css("top",b.bottom+23).css("left",b.left)}
f.refresh=function(){this.pD=this.model.filter.name;this.zba||pda(this);qda(this);n5(this);var a="Normal"==this.model.filter.name,b=!this.model.jN();this.$el.toggleClass("hideIntensity",a);this.$el.toggleClass("disableIntensity",b);this.$el.find(".range_intensity .sliderInput").prop("disabled",b||a);m5(this)};function o5(){return"intensity brightness contrast saturation tint blur x-process vignette".split(" ")}
function nda(a){var b=a.$el.find(".presets .presetsButtons");b.empty();$("#editorLogo").addClass("noAnimate");var c=a.model.Kc();if(c){var c=c[wD].oa(),d=$(_.template('\x3cli class\x3d"preset preset_Normal"\x3e\x3cdiv class\x3d"image"\x3e\x3cdiv class\x3d"inner"\x3e\x3cimg\x3e\x3c/div\x3e\x3c/div\x3e\x3cspan class\x3d"title"\x3e\x3c%- label %\x3e\x3c/span\x3e\x3c/li\x3e')({label:ie(a.Af,"Normal")})),e=d.find("img");e.css("opacity",0);e.one("load",function(){var a=$(e).get(0).naturalWidth,b=$(e).get(0).naturalHeight,
a=new V(0,0,a,b);Em(a,new V(0,0,60,60));e.css(a.serialize());e.css("opacity",1)});jD(kD,e,c);b.append(d);b.find("."+p5(a.pD)).addClass("active")}a.iP.sort(function(b,c){b=ie(a.Af,b.name);c=ie(a.Af,c.name);return b<c?-1:1}).forEach(function(c,d){var e=$('\x3cli class\x3d"preset '+rda(a,c)+'"\x3e\x3c/li\x3e');b.append(e);window.setTimeout(function(){sda(a,e,c)},300*d)})}
function sda(a,b,c){a.model.gL(c,!0,function(d){var e=$('\x3cimg src\x3d"'+d.src+'" /\x3e');e.css("opacity",0);e.one("load",function(){var a=$(e).get(0).naturalWidth,b=$(e).get(0).naturalHeight,a=new V(0,0,a,b);Em(a,new V(0,0,60,60));e.css(a.serialize());e.css("opacity",1)});var g=$('\x3cdiv class\x3d"inner"\x3e\x3c/div\x3e'),h=$('\x3cdiv class\x3d"vignette"\x3e\x3c/div\x3e'),k=$('\x3cdiv class\x3d"image"\x3e\x3c/div\x3e');h.css("background-image","radial-gradient("+d.maa+")");k.append(g);g.append(e);
g.append(h);b.append(k);b.append($('\x3cspan class\x3d"title"\x3e\x3c/span\x3e').text(ie(a.Af,c.name)));c.name===a.pD&&b.addClass("active")})}
function n5(a){var b=a.$el.find(".presets .presetsButtons");b.find(".preset").removeClass("active");b.find("."+p5(a.pD)).addClass("active");0===a.lo?a.$el.find(".scrollLeft").addClass("disabled"):a.$el.find(".scrollLeft").removeClass("disabled");a.lo===a.$el.find(".preset").length-5?a.$el.find(".scrollRight").addClass("disabled"):a.$el.find(".scrollRight").removeClass("disabled")}
function oda(a){function b(a){var b=0,c=100;"vignette"!==a&&"intensity"!==a&&(b=-100,c=100);return $('\x3cinput class\x3d"sliderInput" type\x3d"range" step\x3d"1" min\x3d"'+b+'" max\x3d"'+c+'" value\x3d"0" /\x3e')}var c=a.$el.find(".ranges");c.empty();o5().forEach(function(d){var e=je(a.Af,d),e=$(_.template('\x3cli class\x3d"range \x3c%- rangeClass %\x3e"\x3e\x3clabel\x3e\x3c%- rangeName %\x3e\x3c/label\x3e\x3c/li\x3e')({rangeClass:q5(d),rangeName:e})),g=b(d),h=$("\x3cspan\x3e").addClass("rangeTrack"),
k=$('\x3cspan class\x3d"valueDisplay"\x3e0\x3c/span\x3e'),l=$('\x3cdiv class\x3d"trackContainer"\x3e\x3c/div\x3e');l.append(g);l.append(h);("vignette"!=d?[0]:[]).forEach(function(a){var b=$('\x3cspan class\x3d"snapGuide"\x3e\x3c/span\x3e');b.css("margin-left",a);l.append(b)});e.append(l);e.append(k);c.append(e)})}function pda(a){var b=a.$el.find(".ranges");o5().forEach(function(c){b.find("."+q5(c)+" input").val(a.model.getByName(c.replace(/[^a-z]/gi,""))||0)})}
function qda(a){var b=a.$el.find(".ranges");o5().forEach(function(c){var d=b.find("."+q5(c)+" .valueDisplay");c=parseInt(a.model.getByName(c.replace(/[^a-z]/gi,"")),10);isNaN(c)&&(c=0);d.html(0<c?"+"+c:""+c)})}function m5(a){a.$el.find("input.hex").val(a.model.filter.ra())}function rda(a,b){var c=p5(b.name);a.qY[c]=b;return c}function p5(a){return"preset_"+a.replace(/[^a-z0-9]/gi,"")}function q5(a){return"range_"+a.replace(/[^a-z0-9]/gi,"")}
f.V1=function(a){var b=this,c=$(a.target);c.hasClass("preset")||(c=c.parents(".preset").first());c.hasClass("active")||(c.addClass("transitioning"),window.setTimeout(function(){c.removeClass("transitioning").addClass("active")},50));a=c.attr("class").split(/\s+/).filter(function(a){return/preset_[a-z0-9]+/gi.test(a)});if(1===a.length){a=a[0];if("preset_Normal"==a)xJ(this.model);else{var d=this.qY[a];window.setTimeout(function(){wJ(b.model,d)},150)}window.clearTimeout(this.cS)}};
f.xX=function(a){function b(){$.data(d,"FxPanelView:snapRange",0);$.data(d,"FxPanelView:snapReset",0)}var c=this,d=a.target;a=d.valueAsNumber;var e=/(?:^|\s)range_(\S+)/.exec(d.parentNode.parentNode.className),g=$.data(d,"FxPanelView:snapRange")||0,h=$.data(d,"FxPanelView:snapReset")||0;0<a*g&&14>=a*g?(a=0,d.value=a,0==h&&(h=window.setTimeout(b,750),$.data(d,"FxPanelView:snapReset",h))):0!=a&&$.data(d,"FxPanelView:snapRange",0>a?1:-1);e&&(this.model.VH(e[1],a),window.clearTimeout(this.cS),this.cS=
window.setTimeout(function(){c.model.update(!0)},400))};f.P1=function(){function a(){d.off("blur");d.off("keypress");var a=d.val().replace(/[^a-z0-9]/gi,"");d.val(a).blur();var b=c.model,a=hJ(a);isNaN(a.blur*a.brightness*a.contrast*a.saturation*a.sf*a.vignette*a.Zf)||(b.filter=a,b.Ij=!0,b.update(!0));c.cN=!1}function b(b){13==b.which&&a()}if(!this.cN){this.cN=!0;var c=this,d=this.$el.find("input.hex");d.val(this.model.ra()).select().focus();d.on("blur",a);d.on("keypress",b)}};
f.E9=function(){0!==this.lo&&(this.lo-=3,r5(this))};f.F9=function(){var a=parseInt($(".preset").length,10);this.lo<a-5&&(this.lo+=3,r5(this))};function r5(a){var b=-72*a.lo;a.$el.find(".preset").css("-webkit-transform","translateX("+b+"px)").css("transform","translateX("+b+"px)");n5(a)}
f.L$=function(){var a=this;this.$el.hasClass("showAdvanced")?(this.$el.find(".toggleAdvanced .text").text(he(this.Af)),this.$el.find(".filterCode").removeClass("big").addClass("compact"),this.$el.removeClass("in").removeClass("showAdvanced")):(this.$el.find(".toggleAdvanced .text").text(this.Af.format("editorToolbarFilterOptionSimpler")),this.$el.addClass("showAdvanced"),P.delay(300).then(function(){a.$el.addClass("in")}),this.$el.find(".filterCode").removeClass("compact").addClass("big"))};
f.LB=function(){var a=K.Ea().Wa()[0],b=this.model.WQ,c=!a,d=_.isEqual(b,this.IH);c||d||(a={placeholderIndex:a.Jc(),elementIndex:a.K(),pageIndex:cp(K,a.R()),"new":{filter:b},old:{filter:this.IH}},M.register(new Y(11,a)),this.IH=b)};f.template=_.template('\x3cul class\x3d"presets"\x3e\x3cli class\x3d"scrollLeft"\x3e\x26#xe000;\x3c/li\x3e\x3cli class\x3d"presets_container"\x3e\x3cul class\x3d"presetsButtons"\x3e\x3c/ul\x3e\x3c/li\x3e\x3cli class\x3d"scrollRight"\x3e\x26#xe000;\x3c/li\x3e\x3c/ul\x3e\x3cdiv class\x3d"rangesContainer"\x3e\x3cul class\x3d"ranges"\x3e\x3c/ul\x3e\x3cdiv\x3e\x3cdiv class\x3d"toggleAdvanced"\x3e\x3cspan class\x3d"text"\x3e\x3c%- advancedOptionsMsg %\x3e\x3c/span\x3e \x3cspan class\x3d"arrow"\x3e\x26#xe000;\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"filterCode compact"\x3e\x3cspan class\x3d"text"\x3e\x3c%- filterCodeMsg %\x3e #\x3c/span\x3e\x3cinput name\x3d"hex" class\x3d"hex" maxlength\x3d"16"/\x3e\x3c/div\x3e');function s5(a){return("YEARLY"===a.Ej?1:12)*a.da}function tda(){this.pd=window.pricingPlans}function G0(a){return aj(a.pd.paidMonthly)}var R0=0;function P0(a){var b=Map,c=R0,d;d=[G0(a),aj(a.pd.paidYearly)];c=[c,d];a=[aj(a.pd.paidMonthlyImagesPro),aj(a.pd.paidYearlyImagesPro)];return new b([c,[1,a]])};function uda(a){this.plan=a.io;this.title=a.title;this.pricePerMonthText=a.K8;this.summaryText=a.y$;this.billingCycleText=a.m1}
function t5(a,b){function c(a,c){if("MONTHLY"===c)return b.format("canvaForWorkUpgradePlanSummaryMonthlyPerUser",a);if("YEARLY"===c)return b.format("canvaForWorkUpgradePlanSummaryYearlyPerUser",a);throw Error("unrecognised BillingInterval");}var d=a.slice(0).sort(function(a,b){return s5(b)-s5(a)})[0];return a.map(function(a){var g;if("MONTHLY"===a.Ej)g=b.format("canvaForWorkUpgradePlanMonthly");else if("YEARLY"===a.Ej)g=b.format("canvaForWorkUpgradePlanYearly");else throw Error("unrecognised plan billing interval");
var h=c(Math.round(a.da/("YEARLY"===a.Ej?12:1)*100)/100,"MONTHLY"),k;k="YEARLY"===a.Ej?b.format("canvaForWorkUpgradePlanPercentSaving",((s5(d)-s5(a))/s5(d)*100).toFixed(0)/100):c(s5(a),"YEARLY");return new uda({io:a,title:g,K8:h,y$:k,m1:"YEARLY"===a.Ej?b.format("canvaForWorkUpgradePlanBilledYearly",a.da):""})})};function u5(){}u5=Backbone.View.extend({className:"priceOptions",tagName:"ul"});f=u5.prototype;f.initialize=function(a){this.wb=a.wb};f.events=function(){return{click:this.Q1}};f.render=function(){this.$el.html(this.wb.map(this.L8).join(""));return this};f.Q1=function(a){a=$(a.target).closest("li");v5(this,a.index())};
function v5(a,b){a.$(".priceOption--selected").removeClass("priceOption--selected");0<=b&&b<a.wb.length&&(a.$("li").eq(b).addClass("priceOption--selected"),a.$("li").eq(b).find("input").prop("checked",!0),a.trigger("selectPlan",a.wb[b].plan))}f.RH=function(){function a(a){switch(a.Ej){case "MONTHLY":return a.da;case "YEARLY":return s5(a);default:throw Error("unknown billing interval");}}var b=[].concat(this.wb).sort(function(b,d){return a(b.plan)-a(d.plan)}),b=this.wb.indexOf(b[0]);v5(this,b)};
f.EQ=function(a){this.wb=a;this.render();this.RH()};f.L8=_.template('\x3cli class\x3d"priceOption"\x3e\x3cinput name\x3d"priceOptionPlan" type\x3d"radio"\x3e\x3cspan class\x3d"priceOptionTitle"\x3e\x3c%- title %\x3e\x3c/span\x3e\x3cspan class\x3d"priceOptionPricePerMonth"\x3e\x3c%- pricePerMonthText %\x3e\x3c/span\x3e\x3cspan class\x3d"priceOptionSummary"\x3e\x3c%- summaryText %\x3e\x3c/span\x3e\x3cspan class\x3d"priceOptionBillingCycle"\x3e\x3c%- billingCycleText %\x3e\x3c/span\x3e\x3c/li\x3e');function w5(a){this.F3=a.E3;this.y4=a.x4;this.fr=a.NZ.map(function(a){return new x5(a)});this.fr.forEach(function(a){this.listenTo(a,{willAdvance:this.OV,advance:this.r7,finish:this.t7,reset:this.u7,die:this.s7})},this);this.dP=a.dP.map(function(a){return _.defaults({},a,{position:"leftTop",oi:0})});this.CY=!1;this.jI=new y5({hO:a.NZ.length,xe:a.xe})}f=w5.prototype;f.on=Backbone.Events.on;f.once=Backbone.Events.once;f.off=Backbone.Events.off;f.listenTo=Backbone.Events.listenTo;f.listenToOnce=Backbone.Events.listenToOnce;
f.stopListening=Backbone.Events.stopListening;f.trigger=Backbone.Events.trigger;
function Bp(a){var b=[],c=[],d=a.xe;b.push([{le:"#documentFileMenuButton",Xg:10},{le:".dropdownMenuPopoverContainer .documentResizePaneButton",rU:!0,oi:500,ym:305,Xg:18}]);c.push({le:".documentResizeButton",vD:-170,oi:500,text:d.format("starOnboardingStepResizingText"),title:d.format("starOnboardingStepResizingTitle"),We:jf(d)});b.push([{le:"#objectPanel menu .uploads a",Ar:"#objectPanel.stage6",ym:15,Xg:15},{le:"#resultsUpload .newUploadsFolder",zs:"#objectPanel:not(.stage6)",jP:function(){$("#objectPanel").find(".uploadsFolder[data-system-folder\x3dUNFOLDERED].uploadsFolderOpen .uploadsFolderThumbnail").first().click()},
oi:500}]);c.push({le:"#resultsUpload .newUploadsFolderThumbnail",oi:500,text:d.format("starOnboardingStepPhotoFoldersText"),title:d.format("starOnboardingStepPhotoFoldersTitle"),We:jf(d)});a.fz&&(b.push([{le:"#objectPanel menu .layout a",Ar:"#objectPanel.stage2",ym:15,Xg:15},{le:"#resultsLayout .layoutsControls .tabDropdown",Xg:10,zs:"#objectPanel:not(.stage2)",oi:500},{le:".layoutsTabMenu__item--teamTemplates",zs:"#objectPanel:not(.stage2)",ym:22,Xg:16,oi:100}]),c.push({le:".layoutsTabMenu__item--teamTemplates",
lca:100,text:d.format("starOnboardingStepTeamTemplatesText"),title:d.format("starOnboardingStepTeamTemplatesTitle"),We:jf(d)}));b.push([{le:"#objectPanel menu .backgrounds a",Ar:"#objectPanel.stage5",ym:15,Xg:15},{le:"#resultsBackground .pinnedPalette .colorPaletteEntry:eq(0)",aM:!0,zs:"#objectPanel:not(.stage5)",GN:!0,oi:500}]);c.push({le:"#resultsBackground .pinnedPalette .colorPaletteEntry",text:d.format("starOnboardingStepBrandKitText"),title:d.format("starOnboardingStepBrandKitTitle"),We:jf(d)});
b.push([{le:"#objectPanel menu .uploads a",Ar:"#objectPanel.stage6",ym:15,Xg:15},{le:"#resultsUpload .uploadsFolder[data-system-folder\x3dLOGOS] .uploadsFolderThumbnail",zs:"#objectPanel:not(.stage6)",jP:function(){$("#objectPanel").find(".uploadsFolder[data-system-folder\x3dUNFOLDERED].uploadsFolderOpen .uploadsFolderThumbnail").first().click()},oi:500}]);c.push({le:"#resultsUpload .uploadsFolder[data-system-folder\x3dLOGOS] .uploadsFolderThumbnail",oi:500,text:d.format("starOnboardingStepLogoText"),
title:d.format("starOnboardingStepLogoTitle"),We:jf(d)});a.W8&&(b.push([{le:".publishToStreamSwitch",ym:5,Xg:5,aM:!0},{le:".switchPublishTemplate",oi:500}]),c.push({le:".docPublisherPopOver .switchPublishTemplate",position:"rightTop",text:d.format("starOnboardingStepTemplatifyText"),title:d.format("starOnboardingStepTemplatifyTitle"),We:jf(d)}));var e="C4W_UPGRADED_USER"===a.wh;a=e?[d.format("starOnboardingActionSetupTeam"),hf(d)]:[d.format("starOnboardingActionGotoTeamSpace"),hf(d)];b=new w5({E3:{uT:[d.format("starOnboardingActionFindTheStars")],
sg:d.format("starOnboardingFirstScreenSubtitle"),title:d.format("starOnboardingFirstScreenTitle"),hQ:"",xe:d},x4:{uT:a,sg:d.format("starOnboardingLastScreenSubtitle"),title:d.format("starOnboardingLastScreenTitle"),hQ:e?"starFinderSplashScreenNewUser":void 0,xe:d},NZ:b,dP:c,xe:d});b.once("finish",function(a){"solo"===a?(null!=U&&U.track("upgrade_onboarding_finish_solo"),window.location="/brand/create/featuredoc"):"team"===a?(null!=U&&U.track("upgrade_onboarding_finish_team"),window.location="/brand/members"):
"stream"===a?(null!=U&&U.track("upgrade_onboarding_finish_invited"),window.location="/team-stream"):"play"===a&&null!=U&&U.track("upgrade_onboarding_finish_invited")});return b}f.start=function(){var a=this;vda(this).then(function(){a.jI.render().$el.appendTo(document.body);wda(a)})};f.remove=function(){this.stopListening();this.jI.remove();this.fr.forEach(function(a){a.remove()})};f.OV=function(a){this.fr.forEach(function(b){b!==a&&b.toggle(!1)})};
f.r7=function(a){this.OV(a);this.CY||(this.CY=!0,z5(a.gh))};f.t7=function(a){function b(){a.toggle(!1);A5(d.jI)}function c(){B5(d)}var d=this,e=this.fr.indexOf(a),g=this.dP[e];P.delay(g.oi).then(function(){var a=new C5(g);a.Bi($(g.le));d.listenToOnce(a,"hide",b);d.listenToOnce(a,"remove",c)});D5(this)};function B5(a){a.fr.every(function(a){return E5(a)})?xda(a).then(a.remove.bind(a)):F5(a)}f.u7=function(){F5(this)};f.s7=function(){A5(this.jI);B5(this)};
function F5(a){a.fr.forEach(function(a){E5(a)||a.toggle(!0)})}function D5(a){a.fr.filter(function(a){return!E5(a)}).forEach(function(a,c){a.iC(2*c+1)})}function wda(a){D5(a);a.fr.forEach(function(a){a.start()})}function vda(a){var b=new G5(a.F3);b.render().show();a.listenToOnce(b,"next",function(){b.remove()});return new P(function(c){a.listenToOnce(b,"remove",function(){null!=U&&U.track("upgrade_onboarding_start_stars");c()})})}
function xda(a){var b,c=new G5(a.y4);c.render().show();a.listenToOnce(c,"next",function(a){b=a;c.remove()});return new P(function(d){a.listenToOnce(c,"remove",function(){a.trigger("finish",b);d()})})};function C5(){}C5=Az.extend({className:"starFinderPopOver"});C5.prototype.initialize=function(a){a=_.defaults({},a,{vD:0,ym:0,We:a.We});Az.prototype.initialize.call(this,a);this.options=a};C5.prototype.Rp=function(){return AX};C5.prototype.render=function(){Az.prototype.render.call(this);this.$(".buttonContainer .buttonBlock").removeClass("buttonBlock");this.$(".content").prepend($("\x3cp\x3e").text(this.options.text));return this};
C5.prototype.nm=function(){Az.prototype.nm.call(this);var a=this.$(".dialog");a.css("left",parseInt(a.css("left"),10)+this.options.vD).css("top",parseInt(a.css("top"),10)+this.options.Xg);return this};function y5(){}y5=Backbone.View.extend({className:"starFinderProgress"});y5.prototype.initialize=function(a){this.hO=a.hO;this.xe=a.xe};y5.prototype.render=function(){this.$el.html(this.template({progressTitle:this.xe.Q8()}));for(var a=0;a<this.hO;a++)this.$(".starFinderProgressList").append(this.t4());return this};function A5(a){a.$("li:not(.starFinderProgressItemOn)").first().addClass("starFinderProgressItemOn")}y5.prototype.t4=_.template('\x3cli class\x3d"starFinderProgressItem"\x3e\x26starf;\x3c/li\x3e');
y5.prototype.template=_.template('\x3ch2 class\x3d"starFinderProgressTitle"\x3e\x3c%- progressTitle %\x3e\x3c/h2\x3e\x3col class\x3d"starFinderProgressList"\x3e\x3c/ol\x3e');function G5(){}G5=Backbone.View.extend({className:"starFinderSplashScreen"});f=G5.prototype;f.events=function(){return{"click .buttonNext":this.O5}};f.initialize=function(a){this.H=hl;this.options=a;this.Qd=new oz({H:this.H,style:pz});this.sg=a.sg;this.title=a.title;this.xe=a.xe};
f.render=function(){var a=$(this.e1());this.$el.html(this.template(this.wi()));this.$(".starFinderAstronautPlaceholder").replaceWith(a);this.options.uT.forEach(function(a,c){a=$(this.o1({text:a}));a.toggleClass("buttonSecondary",0<c);this.$(".starFinderButtonWrapper").append(a)},this);this.options.hQ&&this.$el.addClass(this.options.hQ);return this};
f.show=function(){var a=this,b=zD(kD,this.$(".starFinderStarImage img").prop("src")),c=zD(kD,this.$(".starFinderAstronaut img").prop("src"));this.Qd.show(this.$el);P.all([b,c]).then(function(){a.$(".starFinderStarAndAstronaut").addClass("loaded")})};f.remove=function(){var a=this;this.$el.addClass("starFinderSplashScreenDisappearing");this.Qd.hide();this.H.setTimeout(function(){a.trigger("remove");Backbone.View.prototype.remove.call(a)},300)};
f.wi=function(){return{subtitle:this.options.sg,title:this.options.title,specialInstructionsTitle:this.xe.p$(),specialInstructionsHtml:this.xe.n$(),specialInstructionsQuestionText:this.xe.o$(),responseSolo:this.xe.format("starOnboardingSpecialInstructionsResponseSolo"),responseTeam:this.xe.format("starOnboardingSpecialInstructionsResponseTeam"),brandMembersPath:"/brand/members"}};
f.O5=function(a){var b=$(a.target),c;b.hasClass("starFinderSplashScreenButton")&&b.hasClass("buttonSecondary")?c="play":b.hasClass("starFinderSplashScreenButton")?c="stream":b.hasClass("starOnboardingUserSoloButton")?c="solo":b.hasClass("starOnboardingUserTeamButton")&&(c="team");this.trigger("next",c);a.preventDefault()};f.e1=_.template('\x3cdiv class\x3d"starFinderStarAndAstronaut"\x3e\x3cdiv class\x3d"starFinderStarOuter"\x3e\x3cdiv class\x3d"starFinderStarInner"\x3e\x3cdiv class\x3d"sparkle"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"sparkle"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"sparkle"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"sparkle"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"sparkle"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"starFinderStarImage"\x3e\x3cimg src\x3d"https://static.canva.com/static/images/onboarding/star.png"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"starFinderAstronaut"\x3e\x3cimg src\x3d"https://static.canva.com/static/images/onboarding/astronaut.png"\x3e\x3c/div\x3e\x3c/div\x3e');
f.o1=_.template('\x3cbutton class\x3d"button buttonNext starFinderSplashScreenButton"\x3e\x3c%- text %\x3e\x3c/button\x3e');f.template=_.template('\x3cdiv class\x3d"starFinderBackground"\x3e\x3c/div\x3e\x3cdiv class\x3d"starFinderContent"\x3e\x3cdiv class\x3d"starFinderAstronautPlaceholder"\x3e\x3c/div\x3e\x3ch2 class\x3d"starFinderTitle"\x3e\x3c%- title %\x3e\x3c/h2\x3e\x3cp class\x3d"starFinderSubtitle"\x3e\x3c%- subtitle %\x3e\x3c/p\x3e\x3cdiv class\x3d"starFinderButtonWrapper"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"starFinderSpecialInstructions"\x3e\x3ch2\x3e\x3c%- specialInstructionsTitle %\x3e\x3c/h2\x3e\x3cp\x3e\x3c%\x3d specialInstructionsHtml %\x3e\x3c/p\x3e\x3cdiv class\x3d"starFinderSpecialInstructionsUserSelect"\x3e\x3ch3\x3e\x3c%- specialInstructionsQuestionText %\x3e\x3c/h3\x3e\x3cul\x3e\x3cli class\x3d"starOnboardingUserSolo"\x3e\x3ca href\x3d"/brand/create/featuredoc" class\x3d"button buttonNext starOnboardingUserSoloButton"\x3e\x3c%- responseSolo %\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"starOnboardingUserTeam"\x3e\x3ca href\x3d"\x3c%- brandMembersPath %\x3e" class\x3d"button buttonNext starOnboardingUserTeamButton"\x3e\x3c%- responseTeam %\x3e\x3c/a\x3e\x3c/li\x3e\x3c/ul\x3e\x3c/div\x3e\x3c/div\x3e');function x5(a){this.active=!1;this.Km=0;this.gh=new H5(a[0]);I5(this);this.BP=0;this.wC=a;this.cl=new CP({attributes:!0,attributeFilter:["class","style"],childList:!0,characterData:!1,subtree:!0});a=_.throttle(this.b6.bind(this),100,{trailing:!1});this.cl.on("attrModified",a);this.cl.on("subtreeModified",a)}f=x5.prototype;f.on=Backbone.Events.on;f.off=Backbone.Events.off;f.listenTo=Backbone.Events.listenTo;f.listenToOnce=Backbone.Events.listenTo;f.stopListening=Backbone.Events.stopListening;
f.trigger=Backbone.Events.trigger;f.start=function(){this.gh.show();this.active=!0};f.remove=function(){this.stopListening();EP(this.cl);this.gh.remove();this.active=!1};function E5(a){return a.Km===a.wC.length}f.iC=function(a){this.BP=a;0===this.Km&&this.gh.iC(a)};function I5(a){a.listenTo(a.gh,"advance",a.q7);a.listenTo(a.gh,"die",a.v7)}f.toggle=function(a){E5(this)||(this.active=a,this.gh.toggle(a))};
f.q7=function(){function a(){c.cl.observe(document.body)}function b(){c.active?c.trigger("advance",c):c.reset(!0)}if(this.active){var c=this;EP(this.cl);this.Km++;this.gh.remove();E5(this)?this.trigger("finish",this):(this.trigger("willAdvance",this),J5(this).then(b).then(a).catch(function(){}))}};f.v7=function(){this.active&&(EP(this.cl),this.gh.remove(),this.toggle(!1),this.Km=this.wC.length,this.trigger("die",this))};
f.b6=function(){var a;if(a=this.active&&0<this.Km){var b=K5(this.gh);if(E5(this)||!b.is(":visible"))a=!1;else if(a=this.wC[this.Km].zs)a=0<$(a).length?!1:!0;else{a=b.get(0);var b=b.offset(),b=document.elementFromPoint(b.left,b.top),c=this.gh.el;a=a===b||c===b||b&&$.contains(a,b)||b&&$.contains(c,b)}a=!a}a&&this.reset()};f.reset=function(a){EP(this.cl);this.Km=0;this.gh.remove();J5(this);a||this.trigger("reset",this)};
function J5(a){var b=_.extend({},a.wC[a.Km],{filled:a.Km===a.wC.length-1});a.gh=new H5(b);I5(a);a.BP&&a.iC(a.BP);return a.gh.show()};function H5(){}H5=Backbone.View.extend({className:"starFinderStarContainer starFinderStarHidden starFinderStarInactive"});H5.prototype.events=function(){return{"click .starFinderStar":this.Lf}};H5.prototype.initialize=function(a){a=_.defaults({},a,{vD:0,ym:0,Xg:0,rU:!1,filled:!1,aM:!1,GN:!1,position:3,oi:0});this.kN=!1;this.options=a;this.zH=0;this.Ps=this.Ps.bind(this);this.$A=this.$A.bind(this);this.ow=_.throttle(this.ow.bind(this),100);$(document).on("click",this.ow);$(window).on("resize",this.ow)};
H5.AS=1600;H5.lJ=500;f=H5.prototype;f.render=function(){this.$el.toggleClass("starFinderStarInert",this.options.rU);this.$el.toggleClass("starFinderStarFilled",this.options.filled);this.$el.html(this.template({filled:this.options.filled}));return this};
f.YY=function(){function a(){var a=d.outerWidth();if(-1<[2,0].indexOf(c.options.position))return Math.round(e.left-a+c.options.vD);if(-1<[3,1].indexOf(c.options.position))return Math.round(e.left+d.outerWidth()-c.options.ym)}function b(){var a=d.outerHeight();if(-1<[2,3].indexOf(c.options.position))return Math.round(e.top+c.options.Xg);if(-1<[0,1].indexOf(c.options.position))return Math.round(e.top+a/2+c.options.Xg)}var c=this,d=K5(this),e=d.offset();0<d.length&&this.$(".starFinderStar").css("left",
a()).css("top",b())};f.remove=function(){$(document).off("click",this.ow);$(window).off("resize",this.ow);K5(this).off("click",this.Ps).off("mousedown",this.$A);window.clearInterval(this.zH);Backbone.View.prototype.remove.call(this)};
f.show=function(){this.render().$el.appendTo(document.body);if(this.options.zs&&0<$(this.options.zs).length)return P.resolve();this.$el.toggleClass("starFinderStarInactive",!1);return P.delay(this.options.oi).then(function(){this.options.jP&&this.options.jP();if(0===K5(this).length)return this.trigger("die",this),P.reject();L5(this,!0);this.YY();if(this.options.GN)K5(this).off("mousedown",this.$A).on("mousedown",this.$A);else K5(this).off("click",this.Ps).on("click",this.Ps);this.options.Ar&&0<$(this.options.Ar).length&&
this.trigger("advance",this)}.bind(this))};f.iC=function(a,b){function c(){z5(e)}function d(){z5(e);e.iC(a,e.kN)}var e=this,g=0!==this.zH,h=1E3*a;this.kN=!!b;window.clearInterval(this.zH);this.zH=g?window.setInterval(c,h+(H5.AS+(b?2*H5.lJ:0))):window.setTimeout(d,h)};
function z5(a){function b(){d.$el.addClass("starFinderPulsate");return P.delay(H5.AS).then(function(){d.$el.removeClass("starFinderPulsate")})}function c(){L5(d,!1);return P.delay(H5.lJ)}var d=a;a.kN?(L5(d,!0),P.delay(H5.lJ).then(b).then(c)):b()}f.toggle=function(a){this.$el.toggleClass("starFinderStarInactive",!a);L5(this,a);this.options.Ar&&0<$(this.options.Ar).length&&this.trigger("advance",this)};function K5(a){return $(a.options.le)}
function L5(a,b){a.$el.toggleClass("starFinderStarHidden",!b)}f.Ps=function(){this.trigger("advance",this)};f.$A=function(){var a=this;K5(this).one("mouseup",function(){a.Ps()})};f.Lf=function(){function a(a){var d=K5(b).offset();a=new jQuery.Event(a);a.clientX=d.left;a.clientY=d.top;return a}var b=this;this.options.aM?(K5(b).trigger(a("mousedown")).trigger(a("mouseup")),b.options.GN||b.Ps()):K5(this).click()};f.ow=function(){P.delay(300).bind(this).then(this.YY)};f.template=_.template('\x3cdiv class\x3d"starFinderStar"\x3e\x3c%\x3d filled ? "\x26starf;" : "\x26star;" %\x3e\x3c/div\x3e');function yda(){}function MM(a){return Object.freeze(Df(yda,a))}function TN(a){if(a.magic)return Object.freeze(Df(M5,a.magic))}function M5(){}M5.prototype.Lb=function(){return this.color};M5.prototype.re=function(){return this.thumbnail};function EW(a,b,c){function d(){return b.map(function(b){return EW(a,b,c)})}function e(){return Object.keys(b).reduce(function(a,d){a[d]=EW(d,b[d],c);return a},{})}return Array.isArray(b)?d():"object"===typeof b&&null!==b?e():a&&-1<a.toLowerCase().indexOf("color")&&"string"===typeof b?c[b]||b:b};function QV(a,b){(b=b.serialize())&&N5(a,b)}function N5(a,b){_.each(a,function(a){"object"===typeof a&&null!==a&&N5(a,b)});"mediaId"in a&&"mediaVersion"in a&&(a.origin=b)};function O5(){}O5=kp.extend({className:"createTeamDialog"});O5.prototype.events=function(){return _.extend(kp.prototype.events.call(this),{"click .createTeamDialogCreate":this.trigger.bind(this,"createTeam")})};O5.prototype.initialize=function(a){this.pd=a.pd;this.iS=aj(this.pd.pd.paidYearly);this.Ek=a.Ek;kp.prototype.initialize.call(this,{H:hl,jf:!0,Gr:!0,Re:!0})};
O5.prototype.render=function(){kp.prototype.render.call(this);var a=moment().add(this.iS.Vf,"days").format("LL"),b=(s5(this.iS)/12).toFixed(2),c=this.iS.Vf;this.$(".dialog").html(this.gK({createTeamWelcomeDescription:this.Ek.u2(b),createTeamWelcomeTitleHtml:this.Ek.v2(c),createTrialPeriodPoint1Html:ef(this.Ek),createTrialPeriodPoint2Html:ff(this.Ek,a),createTrialPeriodPoint3Html:gf(this.Ek),createYourTeam:this.Ek.w2()}));return this};O5.prototype.gK=_.template('\x3cdiv class\x3d"createTeamContent"\x3e\x3ch2\x3e\x3c%\x3d createTeamWelcomeTitleHtml %\x3e\x3c/h2\x3e\x3cp\x3e\x3c%- createTeamWelcomeDescription %\x3e\x3c/p\x3e\x3cul\x3e\x3cli\x3e\x3c%\x3d createTrialPeriodPoint1Html %\x3e\x3c/li\x3e\x3cli\x3e\x3c%- createTrialPeriodPoint2Html %\x3e\x3c/li\x3e\x3cli\x3e\x3c%\x3d createTrialPeriodPoint3Html %\x3e\x3c/li\x3e\x3c/ul\x3e\x3c/div\x3e\x3cdiv class\x3d"createTeamActions"\x3e\x3cbutton class\x3d"button createTeamDialogCreate"\x3e\x3c%- createYourTeam %\x3e\x3c/button\x3e\x3c/div\x3e');function P5(a){w(0<a.size,"invalid avatar size {}",a.size);Backbone.View.call(this,{className:"avatar"});this.zg=a.zg||null;this.Gs=a.Gs||null;this.yb=a.yb||null;this.size=a.size;this.$p=!!a.$p;this.Hq=!!a.Hq;this.So=!!a.So;this.vp=!!a.vp}r(P5,Backbone.View);
P5.prototype.render=function(){var a=this.zg&&this.Gs,b=!!this.Gs;this.$el.css({width:this.size+"px",height:this.size+"px",lineHeight:this.size/2+"px"});this.zg&&this.$el.css("backgroundImage","url("+this.zg+")");a?(this.$el.addClass("avatar--composite"),this.$el.css("fontSize",this.size/4+"px")):b&&(this.$el.addClass("avatar--brand"),this.$el.css("fontSize",this.size/2+"px"));this.Gs&&this.$el.attr("data-letter",this.Gs);this.yb&&(this.$el.css("backgroundColor",this.yb.ra()),208<this.yb.hv()&&this.$el.addClass("avatar--light"));
this.$el.toggleClass("avatar--whiteBorder",this.So);this.$el.toggleClass("avatar--darkBorder",this.vp);this.$el.toggleClass("avatar--glow",this.$p);this.$el.toggleClass("avatar--pointer",this.Hq);return this};function Q5(a){return(a.Jb()||"Brand").toUpperCase().trim().replace(/^THE\s+/,"").charAt(0)}function R5(a){a=a.hn();return yn(a?"#"+a:"#b0b0b0")}
function S5(a,b){a=a.gv().sizes;Fa(0<a.size,"avatar bundle is empty");var c=b*(window.devicePixelRatio||1);return _.chain([].concat(ma(a.values()))).sortBy(function(a){return Math.abs(a.Wp()-c)}).sortBy(function(a){return a.Wp()<c}).first().value().oa()}function v4(a){var b=S5(a.user,a.size);a=new P5({zg:b,size:a.size,$p:a.$p,Hq:a.Hq,So:a.So,vp:a.vp});a.render();return a}function t4(a){var b=Q5(a.D),c=R5(a.D);a=new P5({Gs:b,yb:c,size:a.size,$p:a.$p,Hq:a.Hq,So:a.So,vp:a.vp});a.render();return a};function T5(a){this.ZF=a.ZF;this.Z=a.Z;this.xL=a.xL}T5.prototype.create=function(a){return qj(this.ZF,"/teams",{displayName:a}).spread(function(a){return Rw(a.brand)})};function U5(a){Backbone.View.call(this,{className:"active brand"});this.Td=a.Td;var b;b={D:a.D,user:a.user,size:60,So:!0};if(b.D.hi())b=v4(b);else{var c=S5(b.user,b.size),d=Q5(b.D),e=R5(b.D);b=new P5({zg:c,Gs:d,yb:e,size:b.size,$p:b.$p,Hq:b.Hq,So:b.So,vp:b.vp});b.render()}this.zJ=b;this.D=a.D;this.user=a.user;this.$G=!!a.$G;this.iz=a.iz}r(U5,Backbone.View);
U5.prototype.render=function(){var a=this.el,b;b=this.D.Jb()||this.Td.AB();var c=this.user.Jb(),d=this.iz?void 0:"/"+this.user.qh(),e=this.Td.Cca(),g=this.Td.Yca(),h=this.$G;soy.asserts.assertType(null==d||d instanceof goog.soy.data.SanitizedContent||goog.isString(d),"profilePageUrl",d,"null|string|undefined");soy.asserts.assertType(null==c||c instanceof goog.soy.data.SanitizedContent||goog.isString(c),"displayName",c,"null|string|undefined");soy.asserts.assertType(null==b||b instanceof goog.soy.data.SanitizedContent||
goog.isString(b),"brandName",b,"null|string|undefined");soy.asserts.assertType(goog.isString(e)||e instanceof goog.soy.data.SanitizedContent,"settings",e,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(g)||g instanceof goog.soy.data.SanitizedContent,"viewProfile",g,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(h)||1===h||0===h,"openInNewTab",h,"boolean");h=!!h;b=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"activeUser"\x3e\x3cdiv class\x3d"userDisplayName"\x3e'+
soy.$$escapeHtml(c)+'\x3c/div\x3e\x3cdiv class\x3d"teamDisplayName"\x3e'+soy.$$escapeHtml(b)+'\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"userMenuBrandActions"\x3e\x3ca href\x3d"/account"'+(h?' target\x3d"_blank"':"")+"\x3e"+soy.$$escapeHtml(e)+"\x3c/a\x3e"+(d?'\x3ca href\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(d))+'"'+(h?' target\x3d"_blank"':"")+"\x3e"+soy.$$escapeHtml(g)+"\x3c/a\x3e":"")+"\x3c/div\x3e");a.innerHTML=b;this.$el.children().first().append(this.zJ.$el);return this};function V5(){}V5=Backbone.View.extend({tagName:"li",className:"brand"});V5.prototype.initialize=function(a){this.zJ=a.Cr.D.hi()?v4({user:a.user,size:36}):t4({D:a.Cr.D,size:36});this.Cr=a.Cr;this.Td=a.Td};V5.prototype.render=function(){this.$el.html(this.template({personal:this.Cr.D.hi(),personalLabel:this.Td.hca(),displayName:this.Cr.D.Jb(),url:this.Cr.url}));this.$(".left").append(this.zJ.$el);return this};V5.prototype.template=_.template('\x3ca href\x3d"\x3c%- url %\x3e"\x3e\x3cdiv class\x3d"left"\x3e\x3c/div\x3e\x3cdiv class\x3d"right"\x3e\x3c% if (personal) { %\x3e\x3c%- personalLabel %\x3e\x3c% } else { %\x3e\x3c%- displayName %\x3e\x3c% } %\x3e\x3c/div\x3e\x3c/a\x3e');function W5(){}W5=Backbone.View.extend({className:"brandListWrapper"});W5.prototype.initialize=function(a){this.Am=a.Am;this.user=a.user;this.Td=a.Td};W5.prototype.render=function(){var a=$('\x3cul class\x3d"brandList"\x3e');this.$el.html(a);this.Am.forEach(function(b){(new V5({Cr:b,user:this.user,Td:this.Td})).render().$el.appendTo(a)}.bind(this));return this};function X5(){}X5=Backbone.View.extend({className:"actions",tagName:"ul"});X5.prototype.initialize=function(a){this.Td=a.Td;this.rC=!!a.rC};X5.prototype.render=function(){this.$el.toggleClass("singleAction",!this.rC);this.$el.html(this.template({showUpgradeButton:this.rC,upgrade:this.Td.UC(),signOut:this.Td.signOut()}));return this};X5.prototype.events=function(){return{"click #upgrade":this.trigger.bind(this,"upgrade")}};X5.prototype.template=_.template('\x3c% if (showUpgradeButton) { %\x3e\x3ca class\x3d"button buttonSmall" id\x3d"upgrade"\x3e\x3c%- upgrade %\x3e\x3c/a\x3e\x3c% } %\x3e\x3ca class\x3d"button buttonLink" href\x3d"/logout"\x3e\x3c%- signOut %\x3e\x3c/a\x3e');function Y5(){}Y5=Az.extend({className:"userMenuContainer"});
Y5.prototype.initialize=function(a){this.Uh=a.Uh;this.user=a.user;this.Td=a.Td;this.PS=a.PS;this.zZ=a.zZ;this.W0=new U5({Td:a.Td,D:this.PS.D,user:a.user,$G:a.$G,iz:a.iz});this.nT=null;var b=$("\x3cdiv\x3e\x3c/div\x3e");b.append(this.W0.render().$el);var c=new X5({Td:a.Td,rC:a.rC});this.listenTo(c,{remove:this.remove,upgrade:this.trigger.bind(this,"upgrade")});this.zZ&&(this.nT=$('\x3cspan class\x3d"brandListLoadingSpinner"\x3e'),b.append(this.nT));b.append(c.render().$el);Az.prototype.initialize.call(this,
{content:b,position:["leftTop",xp],Of:a.Of})};Y5.prototype.show=function(){this.Uh.now();return Az.prototype.show.call(this)};function Z5(a,b){this.k8=(this.iT="PUBLIC"!==a)?a:"*";this.F$=b}Z5.prototype.init=function(a){window.addEventListener("message",function(b){b=b.data;b.isCanvaApi&&(a[b.type]||$.noop)(b)},!1);this.sendMessage({type:"Init",authenticated:this.iT})};Z5.prototype.sendMessage=function(a){a.isCanvaApi=!0;this.F$.postMessage(a,this.k8)};function zda(a,b,c,d,e,g,h){function k(a){a.preventDefault();hh();fa?(N.sendMessage({type:"PublishRequested",designId:wb.hc(),untouched:q()}),u()):p()}var l=window.CANVA_EMBED,m=Jb,n=Lb;function p(){var a=!1,b=new kp({H:hl,Gr:!1,content:$('\x3cdiv class\x3d"progress"\x3e\x3cspan class\x3d"progressValue autoIncrement"\x3e\x3cspan class\x3d"text"\x3e5%\x3c/span\x3e\x3cspan class\x3d"inner"\x3e\x3c/span\x3e\x3c/span\x3e\x3c/div\x3e'),jf:!1,Re:!1,title:"Saving your design..."});!fa&&wb.ij()&&(b.show(),
a=!0);qA(2E4).then(function(){a&&b.remove();N.sendMessage({type:"Close",designId:wb.hc(),untouched:q()})},function(){var c=new kp({H:hl,title:"Saving failed",content:$('\x3cp\x3eSorry, but we had some trouble saving your design. You may still be in the middle of uploading some images, someone else might be editing your design at the moment, or our servers might be having issues. Please try again.\x3c/p\x3e\x3cp class\x3d"buttonContainer"\x3e\x3cbutton class\x3d"button done"\x3eOk\x3c/button\x3e\x3c/p\x3e')});
a&&b.remove();c.show()})}function q(){return 1===wb.fe()&&K.isEmpty()}function u(){$(document.body).addClass("modalContentVisible modalContentBlurAndDarkenVisible")}function v(){$(document.body).removeClass("modalContentVisible modalContentBlurAndDarkenVisible")}function z(a){var c=a.layout;return c?b.lb(new Jv({id:c,bq:!1})).then(function(a){return a.vc},function(){return t(a)}):t(a)}function t(a){a=a.pages&&a.pages[0];return nv(a?a.width:0,a?a.height:0,"PIXELS")}function x(a){return new P(function(b){var c=
(Array.isArray(a)&&a||[]).map(La).map(Ym),c=eM(Hb,c);IL(yb,c,!1,b)})}function H(){var k=new T5({ZF:Ib,Z:Eb,xL:Jb.G.get(Sf)});return B0(a,{config:a,Uk:Mb,W:Jb,j:U,document:K,getSession:function(){return wb},Ka:J,mc:ac,xd:Cb,aa:Bb,Z:Eb,Ra:Ab,ej:b,Na:c,cc:Gb,dc:d,ub:e,ef:yb,fb:Q,i:Lb,H:hl,pd:g,G$:k,ua:L,Xb:Za,nu:ta,Co:new x4,G:h,yc:null,vd:null})}function E(){var a={O:_.range(1,K.jc()+1),format:ha?"PDF":"PNG",Is:96};M_({i:n,W:Jb,j:U,Ib:wb,document:K,Ka:J,dc:d,xd:Cb,aa:Bb,Z:Eb,cc:Gb,fb:Q,ub:e,pd:g,H:hl,
ua:L,Xb:Za,ne:a,lW:!0,Fd:K0({document:K,Ib:wb}),G:h,gu:{pW:!1},yc:null,vd:null,Na:c}).start().then(function(a){null!=a&&N.sendMessage({type:"Published",designId:wb.hc(),exportUrl:a,untouched:q()})}).finally(v)}var L=null;try{L=jm()}catch(qa){}var J=hy(),Q=$T(),S=a.Pz(),N=new Z5(l.embedDomain,window.parent),ha=!1,fa=!0,ta=window.availableLocales||{};N.init({setDoneButtonText:function(a){var b=$(".editorActionExport");0!==b.length&&b.text(a.text)},blur:u,close:p,focus:v,publish:function(){try{E()}catch(a){v()}},
loadDocumentFromJson:function(b){var c;try{c=JSON.parse(b.text)}catch(d){return}var g="object"===typeof c&&c||{},k=So(),l=new Jw(Ib);P.all([z(g),x(g.media)]).spread(function(c){var d=ly(J).NC();(new sp({Bp:k,Wc:Mb,Xb:Za,Z:l,W:m,G:h,i:n,j:U,Oe:T,ua:L,Wk:d,Cu:Iz,ub:e,fb:Q,Ka:J,fa:S})).go(g,c,a,null,H,null);!0===b.killInterface&&(mA=!0,$("#objectPanel").css("display","none"),$("#editorControls").css("display","none"),$("#canvaDocument").css("left","0"))})},setExportEnabled:function(a){fa=!!a.enabled},
setMultipagePdf:function(a){a.enabled?ha=!0:(X_.M2(),YU.L2())},setStaticTitle:function(a){jP.W9(a.title)},upload:function(a){XM.call($("#objectPanel .uploads a"),n);YL(new UL({source:"third_party_editor",J:lc(n),YG:function(a){var d=K.Ea().l(),e=K.Ea().o(),g=b,h=c,k=g/h;e<h&&(h=e,g*=k);d<g&&(g=d,h*=k);a={type:"image",isBackground:!1,isRecolorable:!1,mediaId:a.u(),mediaVersion:a.Ja().getVersion(),isCutout:!1,width:g,height:h};yg(a).dl(K.Ea());N.sendMessage({type:"Upload",status:"done"})},progress:(new QL).Uo("third_party_editor")}),
a.dataUri);var b=a.width,c=a.height}});wb?N.sendMessage({type:"Editor",designId:wb.hc()}):N.sendMessage({type:"Editor"});$(".homeLink").click(function(a){a.preventDefault();p()});$("#editorLogo").click(function(a){window.open("https://www.canva.com/about");a.preventDefault();a.stopPropagation();return!1});jP.qU();jP.N2();$("#documentMenuUpgrade").remove();var Za=function(){return new lZ({Z:Eb,i:n,Rk:["contextTipRoyaltyFreePaymentOption"],fE:function(a){return kZ({key:a,i:od(n),af:$(document),Te:$("body")})},
root:$("body")})}();C0.EXPORT=function(){var a=new Backbone.View({tagName:"button",className:"button editorActionExport",events:{click:k}});a.$el.text("Publish");return a}};function Ada(a){soy.asserts.assertType(goog.isString(a.JI)||a.JI instanceof goog.soy.data.SanitizedContent,"videoId",a.JI,"string|goog.soy.data.SanitizedContent");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3ca class\x3d"presentationLightbox__close" title\x3d"Close" alt\x3d"Close"\x3eClose\x3c/a\x3e\x3ciframe class\x3d"presentationLightbox__video" src\x3d"//www.youtube.com/embed/'+soy.$$escapeHtmlAttribute(a.JI)+'?rel\x3d0\x26autoplay\x3d1\x26modestbranding\x3d1\x26fs\x3d0\x26showinfo\x3d0" frameborder\x3d"0"\x3e\x3c/iframe\x3e')}
function Bda(a){soy.asserts.assertType(goog.isString(a.jo)||a.jo instanceof goog.soy.data.SanitizedContent,"postUrl",a.jo,"string|goog.soy.data.SanitizedContent");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3ca class\x3d"presentationLightbox__close" title\x3d"Close" alt\x3d"Close"\x3eClose\x3c/a\x3e\x3cdiv class\x3d"presentationLightbox__facebookPost presentationLightbox__social"\x3e\x3cdiv class\x3d"presentationLightbox__inner"\x3e\x3cdiv class\x3d"fb-post" data-href\x3d"'+soy.$$escapeHtmlAttribute(a.jo)+
'"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')}
function Cda(a){var b;b=b||{};soy.asserts.assertType(goog.isString(a.jo)||a.jo instanceof goog.soy.data.SanitizedContent,"postUrl",a.jo,"string|goog.soy.data.SanitizedContent");var c=a.jo;soy.asserts.assertType(goog.isNumber(a.width),"width",a.width,"number");a=a.width;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3ca class\x3d"presentationLightbox__close" title\x3d"Close" alt\x3d"Close"\x3eClose\x3c/a\x3e\x3ciframe class\x3d"presentationLightbox__video" src\x3d"https://www.facebook.com/plugins/video.php?href\x3d'+soy.$$escapeUri(c)+
"\x26show_text\x3d0\x26width\x3d"+soy.$$escapeUri(a)+'" style\x3d"'+(b.Yb?"/*"+b.Yb+"*/":"")+'border:none;overflow:hidden" scrolling\x3d"yes" frameborder\x3d"0" allowTransparency\x3d"true"\x3e\x3c/iframe\x3e')};function $5(a,b){b=void 0===b?$("body"):b;Backbone.View.call(this,{className:"presentationLightbox"});this.Ve=b;this.H=a}r($5,Backbone.View);f=$5.prototype;f.events=function(){return{"click .presentationLightbox__close":this.YJ}};
f.show=function(){var a=this;this.trigger("show");this.Ve.addClass("modalContentVisible modalContentBlurAndDarkenVisible");this.SF=this.SF.bind(this);this.Ve.on("keyup",this.SF);this.$el.appendTo(this.Ve);this.H.requestAnimationFrame(function(){$("\x3e .mask",a.Ve).addClass("on").on("click",function(){return a.YJ()});a.$el.addClass("playing")})};f.SF=function(a){27===a.which&&(a.stopPropagation(),a.preventDefault(),this.Ve.off("keyup",this.SF),this.YJ())};
f.YJ=function(){var a=this;this.trigger("close");var b=$("\x3e .mask",this.Ve);this.$el.addClass("disappearing");this.H.setTimeout(function(){a.$el.remove()},500);this.Ve.removeClass("modalContentVisible modalContentBlurAndDarkenVisible");b.addClass("off");this.H.setTimeout(function(){b.removeClass("on off white")},500);b.off("click")};f.jf=function(){this.$el.find(".presentationLightbox__close").addClass("presentationLightbox__close--fadeIn")};
f.render=function(a,b){var c=this,d,e=500;switch(a){case "video":this.el.innerHTML=Ada({JI:b});this.H.setTimeout(function(){return c.jf()},e);break;case "facebookPost":this.el.innerHTML=Bda({jo:b});d=Date.now();FB.XFBML.parse(this.el,function(){var a=c.$el.find(".presentationLightbox__social");e=Math.max(d+2E3-Date.now(),0);c.H.setTimeout(function(){a.addClass("presentationLightbox__social--loaded");c.jf()},e)});break;case "facebookVideo":a=parseInt(.7*$(window).outerWidth(),10);this.el.innerHTML=
Cda({jo:b,width:a});this.H.setTimeout(function(){return c.jf()},e);break;case "tweet":this.el.innerHTML=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3ca class\x3d"presentationLightbox__close" title\x3d"Close" alt\x3d"Close"\x3eClose\x3c/a\x3e\x3cdiv class\x3d"presentationLightbox__tweet presentationLightbox__social"\x3e\x3cdiv class\x3d"presentationLightbox__inner"\x3e\x3c/div\x3e\x3c/div\x3e');var g=this.$el.find(".presentationLightbox__social");d=Date.now();twttr.ready(function(a){function b(){e=
Math.max(d+2E3-Date.now(),0);c.H.setTimeout(function(){g.addClass("presentationLightbox__social--loaded");c.jf()},e);a.events.unbind("rendered",b)}a.events.bind("rendered",b)});$.ajax({url:"https://publish.twitter.com/oembed?url\x3d"+b+"\x26maxwidth\x3d500",dataType:"jsonp",success:function(a){a.html&&g.find(".presentationLightbox__inner").html(a.html)}})}return this};var IC={Wt:/^#(video-)([a-z0-9-]+)$/,Saa:/^(?:https?:\/\/)?support\.canva\.com\/.+/,KS:/(?:https?:\/\/)?(?:www\.)?youtu(?:be\.com\/watch\?(?:.*?&)?v=|\.be\/)([\w\-]+)(?:&?[\w\?=]*)?/,rS:/^(?:https?:\/\/)?www\.facebook\.com\/.+/,t0:/^(?:https?:\/\/)?www\.facebook\.com\/.+\/videos\/.+/,GS:/^(?:https?:\/\/)?(?:www\.)?twitter\.com\/.+/,URL:/^(?:https?:\/\/|[\-0-9a-z]+\.)\S+$/i};function a6(a){this.WU=this.u_=!1;this.wL=!!a;this.xv=this.xv.bind(this)}f=a6.prototype;f.toggle=function(a,b){var c=this;b.filter(this.Z3).forEach(function(b){a?(b6(c,b),b.C().on("mousedown",c.xv).on("touchstart",c.xv).on("mouseenter",c.IU).on("mouseleave",c.JU).attr("data-has-link","true")):b6(c,b)})};function b6(a,b){b.C().off("mousedown",a.xv).off("touchstart",a.xv).off("mouseenter",a.IU).off("mouseleave",a.JU).attr("data-has-link","")}f.Z3=function(a){a=a.mn();return IC.Wt.test(a)||IC.URL.test(a)};
f.xv=function(a){a.stopPropagation();a.preventDefault();a=$(a.currentTarget).data("canvaElement").mn();if(IC.GS.test(a)&&!this.u_){if(!window.twttr){var b=document.createElement("script");b.innerHTML='window.twttr \x3d (function(d, s, id) {\n          var js, fjs \x3d d.getElementsByTagName(s)[0],\n            t \x3d window.twttr || {};\n          if (d.getElementById(id)) return t;\n          js \x3d d.createElement(s);\n          js.id \x3d id;\n          js.src \x3d "https://platform.twitter.com/widgets.js";\n          fjs.parentNode.insertBefore(js, fjs);\n         \n          t._e \x3d [];\n          t.ready \x3d function(f) {\n            t._e.push(f);\n          };\n         \n          return t;\n        }(document, "script", "twitter-wjs"));';
document.body.appendChild(b)}this.u_=!0}else IC.rS.test(a)&&!this.WU&&(window.FB||(0===$("#fb-root").length&&$("body").append($('\x3cdiv id\x3d"fb-root"\x3e\x3c/div\x3e')),b=document.createElement("script"),b.innerHTML="(function(d, s, id) {\n        var js, fjs \x3d d.getElementsByTagName(s)[0];\n        if (d.getElementById(id)) return;\n        js \x3d d.createElement(s); js.id \x3d id;\n        js.src \x3d \"//connect.facebook.net/en_US/sdk.js#xfbml\x3d1\x26amp;version\x3dv2.5\";\n        fjs.parentNode.insertBefore(js, fjs);\n      }(document, 'script', 'facebook-jssdk'));",
document.body.appendChild(b)),this.WU=!0);switch(!0){case IC.KS.test(a):case IC.Wt.test(a):Dda(this,a);break;case IC.t0.test(a)&&this.wL:c6(this,"facebookVideo",a);break;case IC.rS.test(a)&&this.wL:c6(this,"facebookPost",a);break;case IC.GS.test(a)&&this.wL:c6(this,"tweet",a);break;default:this.trigger("open"),window.open(a,"_blank")}};
f.IU=function(){var a=$(this);if(!a.hasClass("linkHoverAnimation")){var b=a.data("initialTransform");b||(b=a.css("transform"),a.data("initialTransform",b));a.addClass("linkHoverAnimation").css("transform",b+"scale(1.1)")}};f.JU=function(){var a=$(this),b=a.data("initialTransform");b&&(a.css("transform",b),P.delay(300).then(function(){a.is(":hover")||(a.removeData("initialTransform"),a.removeClass("linkHoverAnimation"))}))};
function Dda(a,b){var c={"video-tut2-tip1":"Yy9P90W987c","video-tut2-tip2":"ALLmXFaYzbo","video-tut2-tip3":"JziV33Lgq8c","video-tut2-tip4":"XTTtTbVdjU0"};if("#"===b.charAt(0)){b=b.substring(1);if(!c.hasOwnProperty(b))return;c=c[b]}else c=b.match(IC.KS)[1];b=new $5(hl);b.render("video",c);b.on("show",function(){return a.trigger("open")});b.on("close",function(){return a.trigger("close")});b.show()}
function c6(a,b,c){var d=new $5(hl);d.render(b,c);d.on("show",function(){return a.trigger("open")});d.on("close",function(){return a.trigger("close")});d.show()}f.listenTo=Backbone.Events.listenTo;f.off=Backbone.Events.off;f.on=Backbone.Events.on;f.stopListening=Backbone.Events.stopListening;f.trigger=Backbone.Events.trigger;function d6(a){this.type=a}f=d6.prototype;f.BD=function(){throw Error("not implemented");};f.CD=function(){throw Error("not implemented");};f.ku=function(){throw Error("not implemented");};f.equals=function(){throw Error("not implemented");};f.matches=function(a){return null!=a&&this.ku().equals(a.ku())};function e6(a,b,c){w(0<=a&&255>=a&&0==a%1);w(0<=b&&255>=b&&0==b%1);w(0<=c&&255>=c&&0==c%1);this.type=1;this.r=a;this.ll=b;this.b=c}r(e6,d6);f=e6.prototype;
f.BD=function(){var a=this.r,b=this.ll,c=this.b,a=a/255,b=b/255,c=c/255,d=Math.max(a,b,c),e=Math.min(a,b,c),g=(d+e)/2;if(d==e)a=e=0;else{var h=d-e,e=.5<g?h/(2-d-e):h/(d+e);switch(d){case a:a=(b-c)/h+(b<c?6:0);break;case b:a=(c-a)/h+2;break;case c:a=(a-b)/h+4;break;default:throw Error();}a/=6}return new f6(360*a,100*e,100*g)};
f.CD=function(){var a=this.r,b=this.ll,c=this.b,a=a/255,b=b/255,c=c/255,d=Math.max(a,b,c),e=Math.min(a,b,c);if(d==e)a=e=0;else{var g=d-e,e=g/d;switch(d){case a:a=(b-c)/g+(b<c?6:0);break;case b:a=(c-a)/g+2;break;case c:a=(a-b)/g+4;break;default:throw Error();}a/=6}return new g6(360*a,100*e,100*d)};f.ku=function(){return this};f.equals=function(a){if(1!=a.type)return!1;a=a.ku();return this.r==a.r&&this.ll==a.ll&&this.b==a.b};f.toString=function(){return"rgb("+this.r+", "+this.ll+", "+this.b+")"};
f.ra=function(){return"#"+(256+this.r).toString(16).slice(-2)+(256+this.ll).toString(16).slice(-2)+(256+this.b).toString(16).slice(-2)};function f6(a,b,c){w(0<=a&&360>a,"invalid h: {}",a);w(0<=b&&100>=b,"invalid s: {}",b);w(0<=c&&100>=c,"invalid l: {}",c);this.type=2;this.h=a;this.s=b;this.zl=c}r(f6,d6);f=f6.prototype;f.BD=function(){return this};f.CD=function(){var a=this.s,b=this.zl,a=a/100,b=b/100,c=a*(.5>b?b:1-b),d=b+c;return new g6(this.h,100*(0<b?2*c/d:a),100*d)};
f.ku=function(){var a=this.h,b=this.s,c=this.zl,a=a/360,b=b/100,c=c/100;if(0==b)c=b=a=c;else var d=.5>c?c*(1+b):c+b-c*b,e=2*c-d,c=h6(e,d,a+1/3),b=h6(e,d,a),a=h6(e,d,a-1/3);return new e6(Math.round(255*c),Math.round(255*b),Math.round(255*a))};f.equals=function(a){if(2!=a.type)return!1;a=a.BD();return this.h==a.h&&this.s==a.s&&this.zl==a.zl};f.toString=function(){return"hsl("+this.h.toFixed(3)+", "+this.s.toFixed(3)+"%, "+this.zl.toFixed(3)+"%)"};
function g6(a,b,c){w(0<=a&&360>a,"invalid h: {}",a);w(0<=b&&100>=b,"invalid s: {}",b);w(0<=c&&100>=c,"invalid l: {}",c);this.type=3;this.h=a;this.s=b;this.rr=c}r(g6,d6);f=g6.prototype;f.BD=function(){var a=this.s,b=this.rr,a=a/100,b=b/100,c=(2-a)*b/2;return new f6(this.h,100*(c&&1>c?a*b/(.5>c?2*c:2-2*c):a),100*c)};f.CD=function(){return this};
f.ku=function(){var a=this.h,b=this.s,c=this.rr,a=a/60,b=b/100,c=c/100,d=Math.floor(a),e=a-d,a=c*(1-b),g=c*(1-e*b),b=c*(1-(1-e)*b),d=d%6;return new e6(Math.round(255*[c,g,a,a,b,c][d]),Math.round(255*[b,c,c,g,a,a][d]),Math.round(255*[a,a,b,c,c,g][d]))};f.equals=function(a){if(3!=a.type)return!1;a=a.CD();return this.h==a.h&&this.s==a.s&&this.rr==a.rr};f.toString=function(){return"hsv("+this.h.toFixed(3)+", "+this.s.toFixed(3)+"%, "+this.rr.toFixed(3)+"%)"};new e6(0,0,0);new e6(255,255,255);
var Eda=/^hsl\((\d*(?:\.\d+)?),\s*(\d*(?:\.\d+)?)%,\s*(\d*(?:\.\d+)?)%\)$/,Fda=/^hsv\((\d*(?:\.\d+)?),\s*(\d*(?:\.\d+)?)%,\s*(\d*(?:\.\d+)?)%\)$/,Gda=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/,Hda=/^#([a-f\d])([a-f\d])([a-f\d])$/i,Ida=/^#([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;function h6(a,b,c){0>c&&(c+=1);1<c&&--c;return c<1/6?a+6*(b-a)*c:.5>c?b:c<2/3?a+(b-a)*(2/3-c)*6:a};var Jda=[{family:"Aileron Thin",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Aileron-LightItalic.ttf",otf:"https://static.canva.com/static/webfonts/Aileron-LightItalic.otf"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Aileron-Light.ttf",otf:"https://static.canva.com/static/webfonts/Aileron-Light.otf"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Aileron-ThinItalic.ttf",otf:"https://static.canva.com/static/webfonts/Aileron-ThinItalic.otf"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Aileron-Thin.ttf",otf:"https://static.canva.com/static/webfonts/Aileron-Thin.otf"}}},{family:"Aileron Regular",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Aileron-BoldItalic.ttf",
otf:"https://static.canva.com/static/webfonts/Aileron-BoldItalic.otf"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Aileron-Bold.ttf",otf:"https://static.canva.com/static/webfonts/Aileron-Bold.otf"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Aileron-Italic.ttf",otf:"https://static.canva.com/static/webfonts/Aileron-Italic.otf"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Aileron-Regular.ttf",otf:"https://static.canva.com/static/webfonts/Aileron-Regular.otf"}}},{family:"Aileron Heavy",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Aileron-BlackItalic.ttf",otf:"https://static.canva.com/static/webfonts/Aileron-BlackItalic.otf"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Aileron-Black.ttf",
otf:"https://static.canva.com/static/webfonts/Aileron-Black.otf"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Aileron-HeavyItalic.ttf",otf:"https://static.canva.com/static/webfonts/Aileron-HeavyItalic.otf"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Aileron-Heavy.ttf",otf:"https://static.canva.com/static/webfonts/Aileron-Heavy.otf"}}},{family:"Aleo Light",styles:{italic:{ttf:"https://static.canva.com/static/truetypefonts/Aleo-LightItalic.ttf",woff:"https://static.canva.com/static/webfonts/Aleo-LightItalic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Aleo-Light.ttf",woff:"https://static.canva.com/static/webfonts/Aleo-Light.woff"}}},{family:"Aleo",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Aleo-BoldItalic.ttf",
woff:"https://static.canva.com/static/webfonts/Aleo-BoldItalic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Aleo-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Aleo-Bold.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Aleo-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Aleo-Italic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Aleo-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Aleo-Regular.woff"}}},{family:"Allerta Stencil",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/AllertaStencil-Regular.ttf",woff:"https://static.canva.com/static/webfonts/AllertaStencil-Regular.woff"}}},{family:"Antic",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Antic-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/Antic-Regular.woff"}}},{family:"Aqua",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/aqua.ttf",woff:"https://static.canva.com/static/webfonts/aqua.woff"}}},{family:"Arialle",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Arimo-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/Arimo-BoldItalic.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Arimo-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Arimo-Italic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Arimo-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Arimo.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Arimo-Bold.ttf",
woff:"https://static.canva.com/static/webfonts/Arimo-Bold.woff"}}},{family:"Archivo Narrow",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/ArchivoNarrow-Regular.ttf",woff:"https://static.canva.com/static/webfonts/ArchivoNarrow-Regular.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/ArchivoNarrow-Italic.ttf",woff:"https://static.canva.com/static/webfonts/ArchivoNarrow-Italic.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/ArchivoNarrow-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/ArchivoNarrow-BoldItalic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/ArchivoNarrow-Bold.ttf",woff:"https://static.canva.com/static/webfonts/ArchivoNarrow-Bold.woff"}}},
{family:"Archivo Black",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/ArchivoBlack.ttf",woff:"https://static.canva.com/static/webfonts/ArchivoBlack.woff"}}},{family:"Code",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/CodeLight.ttf",woff:"https://static.canva.com/static/webfonts/CodeLight.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/CodeBold.ttf",woff:"https://static.canva.com/static/webfonts/CodeBold.woff"}}},{family:"Carter One",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/CarterOne.ttf",woff:"https://static.canva.com/static/webfonts/CarterOne.woff"}}},{family:"Cooper Hewitt",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/CooperHewitt-Book.ttf",
otf:"https://static.canva.com/static/webfonts/CooperHewitt-Book.otf"},italic:{ttf:"https://static.canva.com/static/truetypefonts/CooperHewitt-BookItalic.ttf",otf:"https://static.canva.com/static/webfonts/CooperHewitt-BookItalic.otf"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/CooperHewitt-BoldItalic.ttf",otf:"https://static.canva.com/static/webfonts/CooperHewitt-BoldItalic.otf"},bold:{ttf:"https://static.canva.com/static/truetypefonts/CooperHewitt-Bold.ttf",otf:"https://static.canva.com/static/webfonts/CooperHewitt-Bold.otf"}}},{family:"Cooper Hewitt Thin",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/CooperHewitt-Thin.ttf"},italic:{ttf:"https://static.canva.com/static/truetypefonts/CooperHewitt-ThinItalic.ttf"},
boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/CooperHewitt-LightItalic.ttf"},bold:{ttf:"https://static.canva.com/static/truetypefonts/CooperHewitt-Light.ttf"}}},{family:"Cooper Hewitt Heavy",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/CooperHewitt-Heavy.ttf"},italic:{ttf:"https://static.canva.com/static/truetypefonts/CooperHewitt-HeavyItalic.ttf"}}},{family:"Fredoka One",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/FredokaOne-Regular.ttf",woff:"https://static.canva.com/static/webfonts/FredokaOne-Regular.woff"}}},{family:"Hammersmith One",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/HammersmithOne-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/HammersmithOne.woff"}}},{family:"Helveticish",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Arimo-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/Arimo-BoldItalic.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Arimo-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Arimo-Italic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Arimo-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Arimo.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Arimo-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Arimo-Bold.woff"}}},{family:"Josefin Sans",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/JosefinSans-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/JosefinSans.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/JosefinSans-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/JosefinSans-BoldItalic.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/JosefinSans-Italic.ttf",woff:"https://static.canva.com/static/webfonts/JosefinSans-Italic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/JosefinSans-Bold.ttf",woff:"https://static.canva.com/static/webfonts/JosefinSans-Bold.woff"}}},{family:"Josefin Slab",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/JosefinSlab-Regular.ttf",woff:"https://static.canva.com/static/webfonts/JosefinSlab.woff"},
italic:{ttf:"https://static.canva.com/static/truetypefonts/JosefinSlab-Italic.ttf",woff:"https://static.canva.com/static/webfonts/JosefinSlab-Italic.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/JosefinSlab-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/JosefinSlab-BoldItalic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/JosefinSlab-Bold.ttf",woff:"https://static.canva.com/static/webfonts/JosefinSlab-Bold.woff"}}},{family:"Lato",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Lato-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/Lato-BoldItalic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Lato-Bold.ttf",
woff:"https://static.canva.com/static/webfonts/Lato-Bold.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Lato-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Lato-Italic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Lato-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Lato-Regular.woff"}}},{family:"Lato Hairline",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Lato-ThinItalic.ttf",woff:"https://static.canva.com/static/webfonts/Lato-ThinItalic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Lato-Thin.ttf",woff:"https://static.canva.com/static/webfonts/Lato-Thin.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Lato-HairlineItalic.ttf",
woff:"https://static.canva.com/static/webfonts/Lato-HairlineItalic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Lato-Hairline.ttf",woff:"https://static.canva.com/static/webfonts/Lato-Hairline.woff"}}},{family:"Lato Heavy",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Lato-BlackItalic.ttf",woff:"https://static.canva.com/static/webfonts/Lato-BlackItalic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Lato-Black.ttf",woff:"https://static.canva.com/static/webfonts/Lato-Black.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Lato-HeavyItalic.ttf",woff:"https://static.canva.com/static/webfonts/Lato-HeavyItalic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Lato-Heavy.ttf",
woff:"https://static.canva.com/static/webfonts/Lato-Heavy.woff"}}},{family:"League Gothic",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/LeagueGothic-Regular.ttf",otf:"https://static.canva.com/static/webfonts/LeagueGothic-Regular.otf"},italic:{ttf:"https://static.canva.com/static/truetypefonts/LeagueGothic-Italic.ttf",otf:"https://static.canva.com/static/webfonts/LeagueGothic-Italic.otf"}}},{family:"League Spartan",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/LeagueSpartan-Bold.ttf",woff:"https://static.canva.com/static/webfonts/LeagueSpartan-Bold.woff"}}},{family:"Limelight",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Limelight-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/Limelight.woff"}}},{family:"Montserrat Hairline",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Montserrat-Hairline.ttf",woff:"https://static.canva.com/static/webfonts/Montserrat-Hairline.woff"}}},{family:"Montserrat Light",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Montserrat-Light.ttf",woff:"https://static.canva.com/static/webfonts/Montserrat-Light.woff"}}},{family:"Montserrat",styles:{bold:{ttf:"https://static.canva.com/static/truetypefonts/Montserrat-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Montserrat-Bold.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Montserrat-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/Montserrat-Regular.woff"}}},{family:"Oswald",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Oswald-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Oswald-Regular.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Oswald-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Oswald-Bold.woff"}}},{family:"Peace Sans",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Peace-Sans.ttf",woff:"https://static.canva.com/static/webfonts/Peace-Sans.woff"}}},{family:"Pirou",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Pirou-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Pirou-Regular.woff"}}},
{family:"PT Sans",styles:{bold:{ttf:"https://static.canva.com/static/truetypefonts/PT_Sans-Web-Bold.ttf",woff:"https://static.canva.com/static/webfonts/PTSans-Bold.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/PT_Sans-Web-Italic.ttf",woff:"https://static.canva.com/static/webfonts/PTSans-Italic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/PT_Sans-Web-Regular.ttf",woff:"https://static.canva.com/static/webfonts/PTSans-Regular.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/PT_Sans-Web-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/PTSans-BoldItalic.woff"}}},{family:"Quicksand",styles:{bold:{ttf:"https://static.canva.com/static/truetypefonts/Quicksand-Bold.ttf",
otf:"https://static.canva.com/static/webfonts/Quicksand-Bold.otf"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Quicksand-BoldItalic.ttf",otf:"https://static.canva.com/static/webfonts/Quicksand-BoldItalic.otf"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Quicksand-Italic.ttf",otf:"https://static.canva.com/static/webfonts/Quicksand-Italic.otf"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Quicksand-Regular.ttf",otf:"https://static.canva.com/static/webfonts/Quicksand-Regular.otf"}}},{family:"Noto Sans Devanagari",testString:"",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/NotoSansDevanagari-Regular.ttf",woff:"https://static.canva.com/static/webfonts/NotoSansDevanagari-Regular.woff"}}},
{family:"Nunito Light",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Nunito-Light.ttf",woff:"https://static.canva.com/static/webfonts/Nunito-Light.woff"}}},{family:"Nunito",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Nunito-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Nunito-Regular.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Nunito-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Nunito-Bold.woff"}}},{family:"Norwester",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Norwester.ttf",woff:"https://static.canva.com/static/webfonts/Norwester.woff"}}},{family:"Raleway",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Raleway-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/Raleway.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Raleway-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Raleway-Bold.woff"}}},{family:"Raleway Thin",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Raleway-Thin.ttf",woff:"https://static.canva.com/static/webfonts/Raleway-Thin.woff"}}},{family:"Raleway Heavy",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Raleway-Heavy.ttf",woff:"https://static.canva.com/static/webfonts/Raleway-Heavy.woff"}}},{family:"Roboto Condensed",styles:{italic:{ttf:"https://static.canva.com/static/truetypefonts/RobotoCondensed-Italic.ttf",woff:"https://static.canva.com/static/webfonts/RobotoCondensed-Italic.woff"},
bold:{ttf:"https://static.canva.com/static/truetypefonts/RobotoCondensed-Bold.ttf",woff:"https://static.canva.com/static/webfonts/RobotoCondensed-Bold.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/RobotoCondensed-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/RobotoCondensed-BoldItalic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/RobotoCondensed-Regular.ttf",woff:"https://static.canva.com/static/webfonts/RobotoCondensed-Regular.woff"}}},{family:"Rosario",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Rosario-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Rosario-Regular.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Rosario-Bold.ttf",
woff:"https://static.canva.com/static/webfonts/Rosario-Bold.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Rosario-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/Rosario-BoldItalic.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Rosario-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Rosario-Italic.woff"}}},{family:"Rubik One",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/RubikOne-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Rubik-One.woff"}}},{family:"Rubik Mono",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/RubikMonoOne-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Rubik-Mono-One.woff"}}},
{family:"Amaranth",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Amaranth-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/Amaranth-BoldItalic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Amaranth-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Amaranth.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Amaranth-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Amaranth-Bold.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Amaranth-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Amaranth-Italic.woff"}}},{family:"Anton",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Anton.ttf",
woff:"https://static.canva.com/static/webfonts/Anton.woff"}}},{family:"Arimo",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Arimo-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/Arimo-BoldItalic.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Arimo-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Arimo-Italic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Arimo-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Arimo.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Arimo-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Arimo-Bold.woff"}}},{family:"Crushed",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Crushed.ttf",
woff:"https://static.canva.com/static/webfonts/Crushed-Regular.woff"}}},{family:"Economica",styles:{italic:{ttf:"https://static.canva.com/static/truetypefonts/Economica-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Economica-Italic.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Economica-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/Economica-BoldItalic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Economica-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Economica-Regular.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Economica-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Economica-Bold.woff"}}},
{family:"Exo",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Exo-2-700-italic.ttf",woff:"https://static.canva.com/static/webfonts/Exo2-BoldItalic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Exo-2-regular.ttf",woff:"https://static.canva.com/static/webfonts/Exo2-Regular.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Exo-2-italic.ttf",woff:"https://static.canva.com/static/webfonts/Exo2-Italic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Exo-2-700.ttf",woff:"https://static.canva.com/static/webfonts/Exo2-Bold.woff"}}},{family:"Exo Thin",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Exo-2-100.ttf",woff:"https://static.canva.com/static/webfonts/Exo2-Thin.woff"},
italic:{ttf:"https://static.canva.com/static/truetypefonts/Exo-2-100-italic.ttf",woff:"https://static.canva.com/static/webfonts/Exo2-ThinItalic.woff"}}},{family:"Gruppo",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Gruppo-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Gruppo.woff"}}},{family:"Glacial Indifference",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/GlacialIndifference-Regular.ttf",woff:"https://static.canva.com/static/webfonts/GlacialIndifference-Regular.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/GlacialIndifference-Italic.ttf",woff:"https://static.canva.com/static/webfonts/GlacialIndifference-Italic.woff"},
bold:{ttf:"https://static.canva.com/static/truetypefonts/GlacialIndifference-Bold.ttf",woff:"https://static.canva.com/static/webfonts/GlacialIndifference-Bold.woff"}}},{family:"Gidole",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Gidole-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Gidole-Regular.woff"}}},{family:"Julius Sans One",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/JuliusSansOne-Regular.ttf",woff:"https://static.canva.com/static/webfonts/JuliusSansOne-Regular.woff"}}},{family:"Kite One",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/KiteOne-Regular.ttf",woff:"https://static.canva.com/static/webfonts/KiteOne-Regular.woff"}}},
{family:"Kollektif",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Kollektif.ttf",woff:"https://static.canva.com/static/webfonts/Kollektif.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Kollektif-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Kollektif-Bold.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Kollektif-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Kollektif-Italic.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Kollektif-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/Kollektif-BoldItalic.woff"}}},{family:"Lilita One",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/LilitaOne-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/LilitaOne.woff"}}},{family:"Open Sans Light",styles:{italic:{ttf:"https://static.canva.com/static/truetypefonts/OpenSans-LightItalic.ttf",woff:"https://static.canva.com/static/webfonts/OpenSans-LightItalic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/OpenSans-Light.ttf",woff:"https://static.canva.com/static/webfonts/OpenSans-Light.woff"}}},{family:"Open Sans",styles:{italic:{ttf:"https://static.canva.com/static/truetypefonts/OpenSans-Italic.ttf",woff:"https://static.canva.com/static/webfonts/OpenSans-Italic.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/OpenSans-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/OpenSans-BoldItalic.woff"},
bold:{ttf:"https://static.canva.com/static/truetypefonts/OpenSans-Bold.ttf",woff:"https://static.canva.com/static/webfonts/OpenSans-Bold.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/OpenSans-Regular.ttf",woff:"https://static.canva.com/static/webfonts/OpenSans.woff"}}},{family:"Open Sans Extra Bold",styles:{italic:{ttf:"https://static.canva.com/static/truetypefonts/OpenSans-ExtraBoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/OpenSans-ExtraBoldItalic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/OpenSans-ExtraBold.ttf",woff:"https://static.canva.com/static/webfonts/OpenSans-ExtraBold.woff"}}},{family:"Racing Sans One",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/RacingSansOne-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/RacingSansOne-Regular.woff"}}},{family:"Roboto",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Roboto-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/Roboto-BoldItalic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Roboto-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Roboto-Bold.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Roboto-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Roboto-Italic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Roboto-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Roboto-Regular.woff"}}},{family:"Ubuntu",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Ubuntu-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/Ubuntu.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Ubuntu-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Ubuntu-Italic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Ubuntu-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Ubuntu-Bold.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Ubuntu-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/Ubuntu-BoldItalic.woff"}}},{family:"Unity Display",styles:{bold:{ttf:"https://static.canva.com/static/truetypefonts/UnityDisplay-Bold.ttf"},regular:{ttf:"https://static.canva.com/static/truetypefonts/UnityDisplay-Roman.ttf"}}},{family:"Unity Text",
styles:{bold:{ttf:"https://static.canva.com/static/truetypefonts/UnityText-Bold.ttf"},regular:{ttf:"https://static.canva.com/static/truetypefonts/UnityText-Roman.ttf"}}},{family:"Six Caps",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/SixCaps.ttf",woff:"https://static.canva.com/static/webfonts/SixCaps.woff"}}},{family:"Sifonn",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Sifonn-Basic.ttf",woff:"https://static.canva.com/static/webfonts/Sifonn-Basic.woff"}}},{family:"Sifonn Outline",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Sifonn-Basic-Outline.ttf",woff:"https://static.canva.com/static/webfonts/Sifonn-Basic-Outline.woff"}}},
{family:"Signika",styles:{bold:{ttf:"https://static.canva.com/static/truetypefonts/Signika-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Signika-Bold.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Signika-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Signika-Regular.woff"}}},{family:"Source Sans Pro",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/SourceSansPro-BoldIt.ttf",woff:"https://static.canva.com/static/webfonts/SourceSansPro-BoldIt.otf.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/SourceSansPro-It.ttf",woff:"https://static.canva.com/static/webfonts/SourceSansPro-It.otf.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/SourceSansPro-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/SourceSansPro-Regular.otf.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/SourceSansPro-Bold.ttf",woff:"https://static.canva.com/static/webfonts/SourceSansPro-Bold.otf.woff"}}},{family:"Text Me One",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/TextMeOne-Regular.ttf",woff:"https://static.canva.com/static/webfonts/TextMeOne-Regular.woff"}}},{family:"Tenor Sans",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/TenorSans.ttf",woff:"https://static.canva.com/static/webfonts/TenorSans.woff"}}},{family:"Abril Fatface",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/AbrilFatface-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/AbrilFatface-Regular.woff"}}},{family:"Alegreya SC",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/AlegreyaSC-Regular.ttf",woff:"https://static.canva.com/static/webfonts/AlegreyaSC-Regular.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/AlegreyaSC-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/AlegreyaSC-BoldItalic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/AlegreyaSC-Bold.ttf",woff:"https://static.canva.com/static/webfonts/AlegreyaSC-Bold.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/AlegreyaSC-Italic.ttf",woff:"https://static.canva.com/static/webfonts/AlegreyaSC-Italic.woff"}}},
{family:"Alfa Slab One",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/AlfaSlabOne-Regular.ttf",woff:"https://static.canva.com/static/webfonts/AlfaSlabOne-Regular.woff"}}},{family:"Alike",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Alike-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Alike-Regular.woff"}}},{family:"Anonymous Pro",styles:{bold:{ttf:"https://static.canva.com/static/truetypefonts/AnonymousPro-Bold.ttf",woff:"https://static.canva.com/static/webfonts/AnonymousPro-Bold.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/AnonymousPro-Regular.ttf",woff:"https://static.canva.com/static/webfonts/AnonymousPro.woff"},
italic:{ttf:"https://static.canva.com/static/truetypefonts/AnonymousPro-Italic.ttf",woff:"https://static.canva.com/static/webfonts/AnonymousPro-Italic.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/AnonymousPro-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/AnonymousPro-BoldItalic.woff"}}},{family:"Arvo",styles:{bold:{ttf:"https://static.canva.com/static/truetypefonts/Arvo-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Arvo-Bold.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Arvo-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Arvo.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Arvo-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Arvo-Italic.woff"},
boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Arvo-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/Arvo-BoldItalic.woff"}}},{family:"Bebas Neue",styles:{bold:{ttf:"https://static.canva.com/static/truetypefonts/BebasNeueBold.ttf",woff:"https://static.canva.com/static/webfonts/BebasNeueBold.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/BebasNeueRegular.ttf",woff:"https://static.canva.com/static/webfonts/BebasNeueRegular.woff"}}},{family:"Bodoni FLF",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/BodoniFLF-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/BodoniFLF-BoldItalic.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/BodoniFLF-Italic.ttf",
woff:"https://static.canva.com/static/webfonts/BodoniFLF-Italic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/BodoniFLF-Bold.ttf",woff:"https://static.canva.com/static/webfonts/BodoniFLF-Bold.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/BodoniFLF-Roman.ttf",woff:"https://static.canva.com/static/webfonts/BodoniFLF-Roman.woff"}}},{family:"Cinzel",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Cinzel-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Cinzel-Regular.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Cinzel-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Cinzel-Bold.woff"}}},{family:"Droid Serif",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/DroidSerif.ttf",
woff:"https://static.canva.com/static/webfonts/DroidSerif.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/DroidSerif-Bold.ttf",woff:"https://static.canva.com/static/webfonts/DroidSerif-Bold.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/DroidSerif-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/DroidSerif-BoldItalic.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/DroidSerif-Italic.ttf",woff:"https://static.canva.com/static/webfonts/DroidSerif-Italic.woff"}}},{family:"Forum",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Forum-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Forum-Regular.woff"}}},{family:"Granaina",
styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Granaina-Limpia.ttf",woff:"https://static.canva.com/static/webfonts/Granaina-Limpia.woff"}}},{family:"Glegoo",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Glegoo-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Glegoo-Regular.woff"}}},{family:"IM Fell English SC",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/IMFeENsc28P.ttf",woff:"https://static.canva.com/static/webfonts/IM_FELL_English_SC.woff"}}},{family:"IM Fell Double Pica",styles:{italic:{ttf:"https://static.canva.com/static/truetypefonts/IMFeDPit28P.ttf",woff:"https://static.canva.com/static/webfonts/IM-Fell-Double-Pica-Italic.woff"},
regular:{ttf:"https://static.canva.com/static/truetypefonts/IMFeDPrm28P.ttf",woff:"https://static.canva.com/static/webfonts/IM-Fell-Double-Pica-Roman.woff"}}},{family:"Libre Baskerville",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/LibreBaskerville-Regular.ttf",woff:"https://static.canva.com/static/webfonts/LibreBaskerville-Regular.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/LibreBaskerville-Italic.ttf",woff:"https://static.canva.com/static/webfonts/LibreBaskerville-Italic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/LibreBaskerville-Bold.ttf",woff:"https://static.canva.com/static/webfonts/LibreBaskerville-Bold.woff"}}},{family:"Lora",
styles:{italic:{ttf:"https://static.canva.com/static/truetypefonts/Lora-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Lora-Italic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Lora-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Lora-Bold.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Lora-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Lora.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Lora-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/Lora-BoldItalic.woff"}}},{family:"Lustria",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Lustria-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Lustria-Regular.woff"}}},
{family:"Luthier",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Luthier-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/Luthier-BoldItalic.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Luthier-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Luthier-Italic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Luthier-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Luthier-Bold.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Luthier-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Luthier-Regular.woff"}}},{family:"Nixie One",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/NixieOne-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/NixieOne-Regular.woff"}}},{family:"Playfair Display",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/PlayfairDisplay-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/PlayfairDisplay-BoldItalic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/PlayfairDisplay-Bold.ttf",woff:"https://static.canva.com/static/webfonts/PlayfairDisplay-Bold.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/PlayfairDisplay-Regular.ttf",woff:"https://static.canva.com/static/webfonts/PlayfairDisplay-Regular.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/PlayfairDisplay-Italic.ttf",
woff:"https://static.canva.com/static/webfonts/PlayfairDisplay-Italic.woff"}}},{family:"Playfair Display Black",styles:{italic:{ttf:"https://static.canva.com/static/truetypefonts/PlayfairDisplay-BlackItalic.ttf",woff:"https://static.canva.com/static/webfonts/PlayfairDisplay-BlackItalic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/PlayfairDisplay-Black.ttf",woff:"https://static.canva.com/static/webfonts/PlayfairDisplay-Black.woff"}}},{family:"Playfair Display SC",styles:{italic:{ttf:"https://static.canva.com/static/truetypefonts/PlayfairDisplaySC-Italic.ttf",woff:"https://static.canva.com/static/webfonts/PlayfairDisplaySC-Italic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/PlayfairDisplaySC-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/PlayfairDisplaySC-Regular.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/PlayfairDisplaySC-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/PlayfairDisplaySC-BoldItalic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/PlayfairDisplaySC-Bold.ttf",woff:"https://static.canva.com/static/webfonts/PlayfairDisplaySC-Bold.woff"}}},{family:"Prata",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Prata-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Prata-Regular.woff"}}},{family:"PT Serif",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/PT_Serif-Web-BoldItalic.ttf",
woff:"https://static.canva.com/static/webfonts/PTSerif-BoldItalic.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/PT_Serif-Web-Italic.ttf",woff:"https://static.canva.com/static/webfonts/PTSerif-Italic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/PT_Serif-Web-Bold.ttf",woff:"https://static.canva.com/static/webfonts/PTSerif-Bold.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/PT_Serif-Web-Regular.ttf",woff:"https://static.canva.com/static/webfonts/PTSerif-Regular.woff"}}},{family:"Quando",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Quando-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Quando-Regular.woff"}}},{family:"Quattrocento",
styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Quattrocento-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Quattrocento.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Quattrocento-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Quattrocento-Bold.woff"}}},{family:"Sanchez",styles:{italic:{ttf:"https://static.canva.com/static/truetypefonts/Sanchez-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Sanchez-Italic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Sanchez-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Sanchez-Regular.woff"}}},{family:"Source Serif Pro",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/SourceSerifPro-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/SourceSerifPro-Regular.otf.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/SourceSerifPro-Bold.ttf",woff:"https://static.canva.com/static/webfonts/SourceSerifPro-Bold.otf.woff"}}},{family:"Old Standard",styles:{italic:{ttf:"https://static.canva.com/static/truetypefonts/OldStandard-Italic.ttf",woff:"https://static.canva.com/static/webfonts/OldStandardTT-Italic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/OldStandard-Regular.ttf",woff:"https://static.canva.com/static/webfonts/OldStandardTT-Regular.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/OldStandard-Bold.ttf",woff:"https://static.canva.com/static/webfonts/OldStandardTT-Bold.woff"}}},
{family:"Times Neue Roman",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/texgyretermes-bolditalic.ttf",woff:"https://static.canva.com/static/webfonts/texgyretermes-bolditalic.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/texgyretermes-italic.ttf",woff:"https://static.canva.com/static/webfonts/texgyretermes-italic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/texgyretermes-regular.ttf",woff:"https://static.canva.com/static/webfonts/texgyretermes-regular.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/texgyretermes-bold.ttf",woff:"https://static.canva.com/static/webfonts/texgyretermes-bold.woff"}}},{family:"Trocchi",
styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Trocchi-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Trocchi.woff"}}},{family:"Ultra",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Ultra.ttf",woff:"https://static.canva.com/static/webfonts/Ultra.woff"}}},{family:"Vidaloka",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Vidaloka-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Vidaloka-Regular.woff"}}},{family:"Voga",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Voga-Medium.ttf",woff:"https://static.canva.com/static/webfonts/Voga-Medium.woff"}}},{family:"Vollkorn",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Vollkorn-BoldItalic.ttf",
woff:"https://static.canva.com/static/webfonts/Vollkorn-BoldItalic.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Vollkorn-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Vollkorn-Bold.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/Vollkorn-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Vollkorn-Regular.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Vollkorn-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Vollkorn-Italic.woff"}}},{family:"Cantora One",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/CantoraOne-Regular.ttf",woff:"https://static.canva.com/static/webfonts/CantoraOne-Regular.woff"}}},{family:"Coustard",
styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Coustard-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Coustard.woff"}}},{family:"Emilys Candy",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/EmilysCandy-Regular.ttf",woff:"https://static.canva.com/static/webfonts/EmilysCandy-Regular.woff"}}},{family:"Glass Antiqua",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/GlassAntiqua-Regular.ttf",woff:"https://static.canva.com/static/webfonts/GlassAntiqua-Regular.woff"}}},{family:"Graduate",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Graduate-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Graduate-Regular.woff"}}},
{family:"Ribeye",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Ribeye-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Ribeye-Regular.woff"}}},{family:"Vast Shadow",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/VastShadow-Regular.ttf",woff:"https://static.canva.com/static/webfonts/VastShadow-Regular.woff"}}},{family:"Gochi Hand",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/GochiHand-Regular.ttf",woff:"https://static.canva.com/static/webfonts/GochiHand-Regular.woff"}}},{family:"Over The Rainbow",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/OvertheRainbow.ttf",woff:"https://static.canva.com/static/webfonts/OvertheRainbow.woff"}}},
{family:"Permanent Marker",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/PermanentMarker.ttf",woff:"https://static.canva.com/static/webfonts/PermanentMarker.woff"}}},{family:"Sacramento",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Sacramento-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Sacramento-Regular.woff"}}},{family:"Schoolbell",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Schoolbell.ttf",woff:"https://static.canva.com/static/webfonts/Schoolbell.woff"}}},{family:"Shadows Into Light Two",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/ShadowsIntoLight.ttf",
woff:"https://static.canva.com/static/webfonts/ShadowsIntoLightTwo-Regular.woff"}}},{family:"Amatic SC",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/AmaticSC-Regular.ttf",woff:"https://static.canva.com/static/webfonts/AmaticSC-Regular.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/AmaticSC-Bold.ttf",woff:"https://static.canva.com/static/webfonts/AmaticSC-Bold.woff"}}},{family:"Architects Daughter",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/ArchitectsDaughter.ttf",woff:"https://static.canva.com/static/webfonts/ArchitectsDaughter.woff"}}},{family:"Cabin Sketch",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/CabinSketch-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/CabinSketch-Regular.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/CabinSketch-Bold.ttf",woff:"https://static.canva.com/static/webfonts/CabinSketch-Bold.woff"}}},{family:"Coming Soon",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/ComingSoon.ttf",woff:"https://static.canva.com/static/webfonts/ComingSoon.woff"}}},{family:"Allura",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Allura-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Allura-Regular.woff"}}},{family:"Clicker Script",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/ClickerScript-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/ClickerScript-Regular.woff"}}},{family:"Courgette",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Courgette-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Courgette-Regular.woff"}}},{family:"Dear Joe",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/DearJoe5.ttf",woff:"https://static.canva.com/static/webfonts/DearJoe5.woff"}}},{family:"Engagement",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Engagement-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Engagement-Regular.woff"}}},{family:"Euphoria Script",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/EuphoriaScript-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/EuphoriaScript-Regular.woff"}}},{family:"Great Vibes",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/GreatVibes-Regular.ttf",woff:"https://static.canva.com/static/webfonts/GreatVibes-Regular.woff"}}},{family:"Kaushan Script",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/KaushanScript-Regular.ttf",woff:"https://static.canva.com/static/webfonts/KaushanScript-Regular.woff"}}},{family:"Marta",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Marta-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Marta-Regular.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Marta-Bold.ttf",
woff:"https://static.canva.com/static/webfonts/Marta-Bold.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Marta-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Marta-Italic.woff"}}},{family:"Merriweather",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Merriweather-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Merriweather.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/Merriweather-Bold.ttf",woff:"https://static.canva.com/static/webfonts/Merriweather-Bold.woff"},boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/Merriweather-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/Merriweather-BoldItalic.woff"},
italic:{ttf:"https://static.canva.com/static/truetypefonts/Merriweather-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Merriweather-Italic.woff"}}},{family:"Mr Dafoe",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/MrDafoe-Regular.ttf",woff:"https://static.canva.com/static/webfonts/MrDafoe-Regular.woff"}}},{family:"Niconne",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Niconne-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Niconne-Regular.woff"}}},{family:"Parisienne",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Parisienne-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Parisienne-Regular.woff"}}},
{family:"Pinyon Script",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/PinyonScript-Regular.ttf",woff:"https://static.canva.com/static/webfonts/PinyonScript.woff"}}},{family:"Dr Sugiyama",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/DrSugiyama-Regular.ttf",woff:"https://static.canva.com/static/webfonts/DrSugiyama-Regular.woff"}}},{family:"Grand Hotel",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/GrandHotel-Regular.ttf",woff:"https://static.canva.com/static/webfonts/GrandHotel-Regular.woff"}}},{family:"Knewave",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Knewave-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/Knewave-Regular.woff"}}},{family:"Pacifico",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Pacifico.ttf",woff:"https://static.canva.com/static/webfonts/Pacifico-Regular.woff"}}},{family:"Princess Sofia",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/PrincessSofia-Regular.ttf",woff:"https://static.canva.com/static/webfonts/PrincessSofia.woff"}}},{family:"Satisfy",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Satisfy-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Satisfy.woff"}}},{family:"Streamster",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Streamster.ttf",
woff:"https://static.canva.com/static/webfonts/Streamster.woff"}}},{family:"Yellowtail",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Yellowtail-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Yellowtail.woff"}}},{family:"Berkshire Swash",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/BerkshireSwash-Regular.ttf",woff:"https://static.canva.com/static/webfonts/BerkshireSwash-Regular.woff"}}},{family:"Black Ops One",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/BlackOpsOne-Regular.ttf",woff:"https://static.canva.com/static/webfonts/BlackOpsOne-Regular.woff"}}},{family:"Chewy",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Chewy.ttf",
woff:"https://static.canva.com/static/webfonts/Chewy.woff"}}},{family:"Creepster",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Creepster-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Creepster-Regular.woff"}}},{family:"Diplomata SC",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/DiplomataSC-Regular.ttf",woff:"https://static.canva.com/static/webfonts/DiplomataSC-Regular.woff"}}},{family:"Germania One",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/GermaniaOne-Regular.ttf",woff:"https://static.canva.com/static/webfonts/GermaniaOne-Regular.woff"}}},{family:"Megrim",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Megrim.ttf",
woff:"https://static.canva.com/static/webfonts/Megrim.woff"}}},{family:"Rye",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Rye-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Rye-Regular.woff"}}},{family:"UnifrakturMaguntia",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/UnifrakturMaguntia-Book.ttf",woff:"https://static.canva.com/static/webfonts/UnifrakturMaguntia.woff"}}},{family:"Codystar",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Codystar-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Codystar.woff"}}},{family:"Crafty Girls",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/CraftyGirls.ttf",
woff:"https://static.canva.com/static/webfonts/CraftyGirls.woff"}}},{family:"Hitchcut",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Hitchcut.ttf",woff:"https://static.canva.com/static/webfonts/Hitchcut.woff"}}},{family:"Lobster",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Lobster.ttf",woff:"https://static.canva.com/static/webfonts/Lobster.woff"}}},{family:"Lobster Two",styles:{boldItalic:{ttf:"https://static.canva.com/static/truetypefonts/LobsterTwo-BoldItalic.ttf",woff:"https://static.canva.com/static/webfonts/LobsterTwo-BoldItalic.woff"},regular:{ttf:"https://static.canva.com/static/truetypefonts/LobsterTwo-Regular.ttf",woff:"https://static.canva.com/static/webfonts/LobsterTwo-Regular.woff"},
bold:{ttf:"https://static.canva.com/static/truetypefonts/LobsterTwo-Bold.ttf",woff:"https://static.canva.com/static/webfonts/LobsterTwo-Bold.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/LobsterTwo-Italic.ttf",woff:"https://static.canva.com/static/webfonts/LobsterTwo-Italic.woff"}}},{family:"Oleo Script",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/OleoScript-Regular.ttf",woff:"https://static.canva.com/static/webfonts/OleoScript-Regular.woff"},bold:{ttf:"https://static.canva.com/static/truetypefonts/OleoScript-Bold.ttf",woff:"https://static.canva.com/static/webfonts/OleoScript-Bold.woff"}}},{family:"Londrina Shadow",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/LondrinaShadow-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/LondrinaShadow-Regular.woff"}}},{family:"Londrina Sketch",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/LondrinaSketch-Regular.ttf",woff:"https://static.canva.com/static/webfonts/LondrinaSketch-Regular.woff"}}},{family:"Oregano",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Oregano-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Oregano-Regular.woff"},italic:{ttf:"https://static.canva.com/static/truetypefonts/Oregano-Italic.ttf",woff:"https://static.canva.com/static/webfonts/Oregano-Italic.woff"}}},{family:"Sniglet",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Sniglet-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/Sniglet.woff"}}},{family:"Special Elite",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/SpecialElite.ttf",woff:"https://static.canva.com/static/webfonts/SpecialElite-Regular.woff"}}},{family:"Sunday",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Sunday.ttf",woff:"https://static.canva.com/static/webfonts/Sunday.woff"}}},{family:"Vampiro One",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/VampiroOne-Regular.ttf",woff:"https://static.canva.com/static/webfonts/VampiroOne-Regular.woff"}}},{family:"VT323",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/VT323-Regular.ttf",
woff:"https://static.canva.com/static/webfonts/VT323-Regular.woff"}}},{family:"Waterlily",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Waterlily.ttf",woff:"https://static.canva.com/static/webfonts/Waterlily.woff"}}},{family:"Brusher",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Brusher-Regular.ttf",woff:"https://static.canva.com/static/webfonts/Brusher-Regular.woff"}}},{family:"Playlist Script",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Playlist-Script.ttf",woff:"https://static.canva.com/static/webfonts/Playlist-Script.woff"}}},{family:"Selima",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Selima.ttf",
woff:"https://static.canva.com/static/webfonts/Selima.woff"}}},{family:"Sensei",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Sensei-Medium.ttf",woff:"https://static.canva.com/static/webfonts/Sensei-Medium.woff"}}},{family:"Edo",styles:{regular:{ttf:"https://static.canva.com/static/truetypefonts/Edo.ttf",woff:"https://static.canva.com/static/webfonts/Edo.woff"}}},{family:"M Plus Thin",styles:{regular:{woff:"https://static.canva.com/static/fonts/MPlusThin/mplus-1p-thin.woff",ttf:"https://static.canva.com/static/fonts/MPlusThin/mplus-1p-thin.ttf"},bold:{woff:"https://static.canva.com/static/fonts/MPlusThin/mplus-1p-light.woff",ttf:"https://static.canva.com/static/fonts/MPlusThin/mplus-1p-light.ttf"}}},
{family:"M Plus Regular",styles:{regular:{woff:"https://static.canva.com/static/fonts/MPlusRegular/mplus-1p-regular.woff",ttf:"https://static.canva.com/static/fonts/MPlusRegular/mplus-1p-regular.ttf"},bold:{woff:"https://static.canva.com/static/fonts/MPlusRegular/mplus-1p-medium.woff",ttf:"https://static.canva.com/static/fonts/MPlusRegular/mplus-1p-medium.ttf"}}},{family:"M Plus Black",styles:{regular:{woff:"https://static.canva.com/static/fonts/MPlusBlack/mplus-1p-bold.woff",ttf:"https://static.canva.com/static/fonts/MPlusBlack/mplus-1p-bold.ttf"},bold:{woff:"https://static.canva.com/static/fonts/MPlusBlack/mplus-1p-black.woff",ttf:"https://static.canva.com/static/fonts/MPlusBlack/mplus-1p-black.ttf"}}},
{family:"M Plus Heavy",styles:{regular:{woff:"https://static.canva.com/static/fonts/MPlusHeavy/mplus-1p-heavy.woff",ttf:"https://static.canva.com/static/fonts/MPlusHeavy/mplus-1p-heavy.ttf"}}},{family:"Noto Sans Thin",styles:{regular:{woff:"https://static.canva.com/static/fonts/NotoSansThin/NotoSansJP-Thin.woff",otf:"https://static.canva.com/static/fonts/NotoSansThin/NotoSansJP-Thin.otf"},bold:{woff:"https://static.canva.com/static/fonts/NotoSansThin/NotoSansJP-Light.woff",otf:"https://static.canva.com/static/fonts/NotoSansThin/NotoSansJP-Light.otf"}}},{family:"Noto Sans Light",styles:{regular:{woff:"https://static.canva.com/static/fonts/NotoSansLight/NotoSansJP-DemiLight.woff",
otf:"https://static.canva.com/static/fonts/NotoSansLight/NotoSansJP-DemiLight.otf"},bold:{woff:"https://static.canva.com/static/fonts/NotoSansLight/NotoSansJP-Regular.woff",otf:"https://static.canva.com/static/fonts/NotoSansLight/NotoSansJP-Regular.otf"}}},{family:"Noto Sans Regular",styles:{regular:{woff:"https://static.canva.com/static/fonts/NotoSansRegular/NotoSansJP-Medium.woff",otf:"https://static.canva.com/static/fonts/NotoSansRegular/NotoSansJP-Medium.otf"},bold:{woff:"https://static.canva.com/static/fonts/NotoSansRegular/NotoSansJP-Bold.woff",otf:"https://static.canva.com/static/fonts/NotoSansRegular/NotoSansJP-Bold.otf"}}},{family:"Noto Sans Black",styles:{regular:{woff:"https://static.canva.com/static/fonts/NotoSansBlack/NotoSansJP-Black.woff",
otf:"https://static.canva.com/static/fonts/NotoSansBlack/NotoSansJP-Black.otf"}}},{family:"Kodomo Rounded Gothic Light",styles:{regular:{woff:"https://static.canva.com/static/fonts/KodomoRoundedGothicLight/KodomoRounded-Light.woff",otf:"https://static.canva.com/static/fonts/KodomoRoundedGothicLight/KodomoRounded-Light.otf"},bold:{woff:"https://static.canva.com/static/fonts/KodomoRoundedGothicLight/KodomoRounded.woff",otf:"https://static.canva.com/static/fonts/KodomoRoundedGothicLight/KodomoRounded.otf"}}},{family:"Bokutachi Gothic Regular",styles:{regular:{woff:"https://static.canva.com/static/fonts/BokutachiGothicRegular/BokutachinoGothic2Regular.woff",
otf:"https://static.canva.com/static/fonts/BokutachiGothicRegular/Boku2-Regular.otf"},bold:{woff:"https://static.canva.com/static/fonts/BokutachiGothicRegular/BokutachinoGothic2Bold.woff",otf:"https://static.canva.com/static/fonts/BokutachiGothicRegular/Boku2-Bold.otf"}}},{family:"Yasashisa Gothic",styles:{regular:{woff:"https://static.canva.com/static/fonts/YasashisaGothic/YasashisaGothic.woff",otf:"https://static.canva.com/static/fonts/YasashisaGothic/YasashisaGothic.otf"}}},{family:"Logo Type Gothic",styles:{regular:{woff:"https://static.canva.com/static/fonts/LogoTypeGothic/07LogoTypeGothic7.woff",ttf:"https://static.canva.com/static/fonts/LogoTypeGothic/07LogoTypeGothic7.ttf"}}},
{family:"Genjyuu Gothic Thin",styles:{regular:{woff:"https://static.canva.com/static/fonts/GenjyuuGothicThin/GenJyuuGothic-ExtraLight.woff",ttf:"https://static.canva.com/static/fonts/GenjyuuGothicThin/GenJyuuGothic-ExtraLight.ttf"},bold:{woff:"https://static.canva.com/static/fonts/GenjyuuGothicThin/GenJyuuGothic-Light.woff",ttf:"https://static.canva.com/static/fonts/GenjyuuGothicThin/GenJyuuGothic-Light.ttf"}}},{family:"Genjyuu Gothic Light",styles:{regular:{woff:"https://static.canva.com/static/fonts/GenjyuuGothicLight/GenJyuuGothic-Normal.woff",ttf:"https://static.canva.com/static/fonts/GenjyuuGothicLight/GenJyuuGothic-Normal.ttf"},bold:{woff:"https://static.canva.com/static/fonts/GenjyuuGothicLight/GenJyuuGothic-Regular.woff",
ttf:"https://static.canva.com/static/fonts/GenjyuuGothicLight/GenJyuuGothic-Regular.ttf"}}},{family:"Genjyuu Gothic Black",styles:{regular:{woff:"https://static.canva.com/static/fonts/GenjyuuGothicBlack/GenJyuuGothic-Medium.woff",ttf:"https://static.canva.com/static/fonts/GenjyuuGothicBlack/GenJyuuGothic-Medium.ttf"},bold:{woff:"https://static.canva.com/static/fonts/GenjyuuGothicBlack/GenJyuuGothic-Bold.woff",ttf:"https://static.canva.com/static/fonts/GenjyuuGothicBlack/GenJyuuGothic-Bold.ttf"}}},{family:"Genjyuu Gothic Heavy",styles:{regular:{woff:"https://static.canva.com/static/fonts/GenjyuuGothicHeavy/GenJyuuGothic-Heavy.woff",ttf:"https://static.canva.com/static/fonts/GenjyuuGothicHeavy/GenJyuuGothic-Heavy.ttf"}}},
{family:"M Plus Rounded Thin",styles:{regular:{woff:"https://static.canva.com/static/fonts/MPlusRoundedThin/rounded-mplus-1p-thin.woff",ttf:"https://static.canva.com/static/fonts/MPlusRoundedThin/rounded-mplus-1p-thin.ttf"},bold:{woff:"https://static.canva.com/static/fonts/MPlusRoundedThin/rounded-mplus-1p-light.woff",ttf:"https://static.canva.com/static/fonts/MPlusRoundedThin/rounded-mplus-1p-light.ttf"}}},{family:"M Plus Rounded Regular",styles:{regular:{woff:"https://static.canva.com/static/fonts/MPlusRoundedRegular/rounded-mplus-1p-regular.woff",ttf:"https://static.canva.com/static/fonts/MPlusRoundedRegular/rounded-mplus-1p-regular.ttf"},
bold:{woff:"https://static.canva.com/static/fonts/MPlusRoundedRegular/rounded-mplus-1p-medium.woff",ttf:"https://static.canva.com/static/fonts/MPlusRoundedRegular/rounded-mplus-1p-medium.ttf"}}},{family:"M Plus Rounded Black",styles:{regular:{woff:"https://static.canva.com/static/fonts/MPlusRoundedBlack/rounded-mplus-1p-bold.woff",ttf:"https://static.canva.com/static/fonts/MPlusRoundedBlack/rounded-mplus-1p-bold.ttf"},bold:{woff:"https://static.canva.com/static/fonts/MPlusRoundedBlack/rounded-mplus-1p-black.woff",ttf:"https://static.canva.com/static/fonts/MPlusRoundedBlack/rounded-mplus-1p-black.ttf"}}},{family:"M Plus Rounded Heavy",styles:{regular:{woff:"https://static.canva.com/static/fonts/MPlusRoundedHeavy/rounded-mplus-1p-heavy.woff",
ttf:"https://static.canva.com/static/fonts/MPlusRoundedHeavy/rounded-mplus-1p-heavy.ttf"}}},{family:"Ipaex Mincho",styles:{regular:{woff:"https://static.canva.com/static/fonts/IpaexMincho/ipaexm.woff",ttf:"https://static.canva.com/static/fonts/IpaexMincho/Ipaexm.ttf"}}},{family:"Aozora Mincho Regular",styles:{regular:{woff:"https://static.canva.com/static/fonts/AozoraMinchoRegular/AozoraMinchoRegular.woff",ttf:"https://static.canva.com/static/fonts/AozoraMinchoRegular/AozoraMinchoRegular.ttf"},bold:{woff:"https://static.canva.com/static/fonts/AozoraMinchoRegular/AozoraMinchoMedium.woff",ttf:"https://static.canva.com/static/fonts/AozoraMinchoRegular/AozoraMinchoMedium.ttf"}}},
{family:"Aozora Mincho Heavy",styles:{regular:{woff:"https://static.canva.com/static/fonts/AozoraMinchoHeavy/AozoraMincho-bold.woff",ttf:"https://static.canva.com/static/fonts/AozoraMinchoHeavy/AozoraMincho-bold.ttf"},bold:{woff:"https://static.canva.com/static/fonts/AozoraMinchoHeavy/AozoraMinchoHeavy.woff",ttf:"https://static.canva.com/static/fonts/AozoraMinchoHeavy/AozoraMinchoHeavy.ttf"}}},{family:"Kokoro Minchoutai",styles:{regular:{woff:"https://static.canva.com/static/fonts/KokoroMinchoutai/Kokoro.woff",otf:"https://static.canva.com/static/fonts/KokoroMinchoutai/Kokoro.otf"}}},{family:"Hannari Mincho",styles:{regular:{woff:"https://static.canva.com/static/fonts/HannariMincho/HannariMincho.woff",
otf:"https://static.canva.com/static/fonts/HannariMincho/Hannari.otf"}}},{family:"Yasashisa Antique",styles:{regular:{woff:"https://static.canva.com/static/fonts/YasashisaAntique/07YasashisaAntique.woff",otf:"https://static.canva.com/static/fonts/YasashisaAntique/07YasashisaAntique.otf"}}},{family:"Dejima Mincho",styles:{regular:{woff:"https://static.canva.com/static/fonts/DejimaMincho/dejima-mincho-r227.woff",ttf:"https://static.canva.com/static/fonts/DejimaMincho/dejima-mincho-r227.ttf"}}},{family:"Koku Maru Mincho",styles:{regular:{woff:"https://static.canva.com/static/fonts/KokuMaruMincho/KokuMaruMinchoKana-Regular.woff",otf:"https://static.canva.com/static/fonts/KokuMaruMincho/KokuMaruMinchoKana-Regular.otf"}}},
{family:"Koku Mincho Regular",styles:{regular:{woff:"https://static.canva.com/static/fonts/KokuMinchoRegular/font_1_kokumr_1.00_rls.woff",ttf:"https://static.canva.com/static/fonts/KokuMinchoRegular/font_1_kokumr_1.00_rls.ttf"}}},{family:"Hanazono Mincho",styles:{regular:{woff:"https://static.canva.com/static/fonts/HanazonoMincho/HanaMinA.woff",ttf:"https://static.canva.com/static/fonts/HanazonoMincho/HanaMinA.ttf"}}},{family:"Checkpoint",styles:{regular:{woff:"https://static.canva.com/static/fonts/Checkpoint/CPFont.woff",otf:"https://static.canva.com/static/fonts/Checkpoint/CPFont.otf"}}},{family:"Nicomoji Plus",styles:{regular:{woff:"https://static.canva.com/static/fonts/NicomojiPlus/nicomoji-plus_1.11.woff",
ttf:"https://static.canva.com/static/fonts/NicomojiPlus/nicomoji-plus_1.11.ttf"}}},{family:"Light Novel Pop",styles:{regular:{woff:"https://static.canva.com/static/fonts/LightNovelPop/LightNovelPop.woff",otf:"https://static.canva.com/static/fonts/LightNovelPop/LightNovelPop.otf"}}},{family:"Uzura",styles:{regular:{woff:"https://static.canva.com/static/fonts/Uzura/uzura.woff",ttf:"https://static.canva.com/static/fonts/Uzura/uzura.ttf"}}},{family:"Cinecaption",styles:{regular:{woff:"https://static.canva.com/static/fonts/Cinecaption/cinecaption227.woff",ttf:"https://static.canva.com/static/fonts/Cinecaption/cinecaption227.TTF"}}},{family:"Jiyucho",styles:{regular:{woff:"https://static.canva.com/static/fonts/Jiyucho/Jiyucho.woff",
otf:"https://static.canva.com/static/fonts/Jiyucho/Jiyucho.otf"}}},{family:"Tanuki",styles:{regular:{woff:"https://static.canva.com/static/fonts/Tanuki/TanukiMagic.woff",ttf:"https://static.canva.com/static/fonts/Tanuki/TanukiMagic.ttf"}}},{family:"Hanazome",styles:{regular:{woff:"https://static.canva.com/static/fonts/Hanazome/HanazomeFont.woff",ttf:"https://static.canva.com/static/fonts/Hanazome/HanazomeFont.ttf"}}},{family:"Fuiji",styles:{regular:{woff:"https://static.canva.com/static/fonts/Fuiji/HuiFontP.woff",ttf:"https://static.canva.com/static/fonts/Fuiji/HuiFontP29.ttf"}}},{family:"Nagayama Kai",styles:{regular:{woff:"https://static.canva.com/static/fonts/NagayamaKai/nagayama_kai08.woff",
otf:"https://static.canva.com/static/fonts/NagayamaKai/nagayama_kai08.otf"}}},{family:"Kouzan",styles:{regular:{woff:"https://static.canva.com/static/fonts/Kouzan/KouzanGyoushoOTF.woff",otf:"https://static.canva.com/static/fonts/Kouzan/KouzanBrushFontGyousyoOTF.otf"}}}];var N0="WARNING",M0="ERROR";function i6(a){this.page=a.page;this.element=a.element;this.content=a.content;this.Gz=a.Gz}i6.prototype.R=function(){return this.page};i6.prototype.getElement=function(){return this.element};i6.prototype.getContent=function(){return this.content};
function Kda(a){var b,c,d,e;a.forEach(function(a){null!=a.page&&(w(null==b),b=a.page);null!=a.element&&(w(null==c),c=a.element);null!=a.content&&(w(null==d),d=a.content);null!=a.Gz&&(w(null==e),e=a.Gz)});return new i6({page:b,element:c,content:d,Gz:e})}function j6(a){this.context=a.context;this.type=a.type;this.level=a.level}j6.prototype.getContext=function(){return this.context};j6.prototype.lc=function(){return this.type};function k6(a,b){this.context=[];this.Pw=[];this.media=b;this.z$=a}function L0(a,b){var c=new Set;Jda.forEach(function(a){return c.add(a.family)});b=new k6(c,b);Lda(b,a);return b.Pw}function Lda(a,b){b.O.forEach(function(b,d){l6(a,new i6({page:d}),function(){Mda(a,b)})})}
function Mda(a,b){b.elements.forEach(function(b,d){l6(a,new i6({element:d}),function(){switch(b.type){case "TEXT":Fa(b instanceof Or);m6(a,b);break;case "IMAGE":Fa(b instanceof Kr);n6(a,b);a.check(0===d||!b.Hb,"IS_BACKGROUND_REQUIRES_FIRST_ELEMENT",M0);break;case "SVG":Fa(b instanceof Sr);Nda(a,b);break;case "GRID":Fa(b instanceof Xr);Oda(a,b);break;case "GRAPHIC":a.error("GRAPHIC_ELEMENT_NOT_HANDLED");break;case "SHAPE":break;case "GROUP":break;default:a.error("UNKNOWN_ELEMENT_TYPE")}})})}
function m6(a,b){a.check(0<b.Bl.length,"LINE_LENGTHS_REQUIRED",M0);if(b.color)try{var c=b.color;if("#"===c.slice(0,1)){var d;if(d=Hda.exec(c))new e6(17*parseInt(d[1],16),17*parseInt(d[2],16),17*parseInt(d[3],16));else if(d=Ida.exec(c))new e6(parseInt(d[1],16),parseInt(d[2],16),parseInt(d[3],16));else throw Error("not a hexadecimal color: "+c);}else switch(c.slice(0,4)){case "hsl(":var e=Eda.exec(c);w(!!e,"Invalid HSL color: {}",c);new f6(+e[1],+e[2],+e[3]);break;case "hsv(":var g=Fda.exec(c);w(!!g,
"Invalid HSV color: {}",c);new g6(+g[1],+g[2],+g[3]);break;case "rgb(":var h=Gda.exec(c);w(!!h,"Invalid RGB color: {}",c);new e6(+h[1],+h[2],+h[3]);break;default:throw Error("cannot parse color: "+c);}}catch(k){a.error("COLOR_NOT_CONVERTIBLE_TO_RGB")}null!=b.kl||null==b.fontFamily||a.z$.has(b.fontFamily)||a.error("FONT_NOT_SUPPORTED")}function n6(a,b){!1!==b.hb&&null!=b.ba&&null!=b.ca&&o6(a,b.ba,b.ca);a.check(!b.filter,"HAS_FILTER",N0)}
function Nda(a,b){o6(a,b.ba,b.ca);a.check(b.Ei,"SVG_METADATA_REQUIRED",M0);b.Xc.forEach(function(b){l6(a,new i6({Gz:b.index}),function(){a.check("inherit"!==b.color,"FILL_COLOR_INHERIT",M0)})});b.contents.forEach(function(b,d){l6(a,new i6({content:d}),function(){switch(b.type){case "TEXT":a.check(null!=b.top,"TOP_REQUIRED",M0);a.check(null!=b.left,"LEFT_REQUIRED",M0);a.check(null!=b.lineHeight,"LINE_HEIGHT_REQUIRED",M0);m6(a,b);break;case "IMAGE":n6(a,b)}})})}
function Oda(a,b){b.contents.forEach(function(b,d){l6(a,new i6({content:d}),function(){null!=b.ba&&null!=b.ca&&o6(a,b.ba,b.ca);a.check(!b.filter,"HAS_FILTER",N0)})})}function o6(a,b,c){null!=b&&null!=c&&a.media.find(function(a){return a.id===b&&a.version===c})||a.error("MEDIA_NOT_RESOLVED")}function l6(a,b,c){a.context.push(b);c();a.context.pop()}k6.prototype.error=function(a){p6(this,a,M0)};function p6(a,b,c){a.Pw.push(new j6({context:Kda(a.context),level:c,type:b}))}
k6.prototype.check=function(a,b,c){if(a)return!0;p6(this,b,c);return!1};function q6(){}q6=Backbone.View.extend({className:"teamBillingSignup"});f=q6.prototype;f.events=function(){return{"click .teamBillingCreditCardRevert":this.trigger.bind(this,"revert"),"click .teamBillingCreditCardSubmit":this.trigger.bind(this,"submit"),"click .teamBillingRetryButton":this.trigger.bind(this,"retry")}};
f.initialize=function(a){this.compact=a.compact;this.bj=a.bj;this.Cw=a.Cw;this.listenTo(this.Cw,"selectPlan",this.trigger.bind(this,"selectPlan"));this.R8=r6.q2(Jc(a.i));this.Vf=a.Vf;this.i=a.i;this.tg=ed(a.i)};
f.render=function(){var a=moment().add(this.Vf,"days").format("LL"),b;b=this.i;b.Ek||(b.Ek=new df(b.config));b=b.Ek;this.$el.html(Pda({compact:this.compact,claim:this.tg.UC(this.Vf),lE:ef(b),mE:ff(b,a),nE:gf(b),Tu:this.tg.Tu(),Pv:this.tg.Pv(),Qw:this.tg.Qw(),Ix:this.tg.Ix()}).toString());this.compact||this.R8.render().$el.appendTo(this.$(".teamBillingPromoItems"));this.Cw.render().$el.appendTo(this.$(".teamBillingPriceOptions"));this.bj.render();this.$(".teamBillingCreditCardContainer").prepend(this.bj.$el);
return this};f.RH=function(){this.Cw.RH()};f.lf=function(a){this.$(".teamBillingCreditCardSubmit").removeClass("buttonSpinner");alert(a)};f.yx=function(a){a=void 0===a?"":a;this.$(".teamBillingTotalText").html(a)};function s6(a,b){a=a.$(".teamBillingCreditCardRevert");b?a.show():a.hide()}f.Dh=function(a){this.$el.toggleClass("enabled",a)};f.EQ=function(a){this.Cw.EQ(a)};f.uQ=function(a){this.$(".teamBillingClaim").text(a)};function t6(a){this.j=a.j;this.aa=a.aa;this.Z=a.Z;this.D=a.D;this.UA=null;this.aX=!1;this.Ed=null;this.wd=a.wd;this.listenTo(this.wd,{input:this.Y5,requestSubmit:this.Ml});this.sp=a.sp;this.Xw=null;this.Bx=a.Bx;this.fa=a.fa||null;this.i=a.i;this.view=a.view;this.listenTo(this.view,{selectPlan:this.eaa,retry:this.h7,revert:this.j7,submit:this.Ml})}f=t6.prototype;f.listenTo=Backbone.Events.listenTo;f.on=Backbone.Events.on;f.once=Backbone.Events.once;f.off=Backbone.Events.off;f.stopListening=Backbone.Events.stopListening;
f.trigger=Backbone.Events.trigger;function u6(a,b){return s5(b)-s5(a)}f.appendTo=function(a){this.view.render();a.append(this.view.$el);this.view.RH();s6(this.view,!1);this.wd.refresh()};f.remove=function(){this.stopListening();this.wd.remove();this.view.remove()};f.Dh=function(a){this.view.Dh(a)};f.uQ=function(a){this.view.uQ(a)};
function v6(a){var b=a.D.u();a.Dh(!1);(function(){return a.fa?P.resolve(a.fa):a.aa.Pz(b).catch(Nk,function(){return null})})().bind(a).then(function(a){a&&a.Xh&&(this.Ed=a.Xh,this.wd.bx(this.sp).vk(this.Ed))}).catch(function(){var a=this.view;a.$el.html(Qda({pu:a.tg.pu(),Tx:a.tg.Tx()}).toString())}).finally(function(){this.Dh(!0)})}function Rda(a){var b=cy(new $x).zj(a.D.u());a.Z.Iz(b).bind(a).then(function(a){this.UA=a.getCount();this.yx()}).catch(function(){this.aX=!0;this.yx()})}
f.yx=function(){Fa(null!=this.Xw,"A plan must be selected");var a=ed(this.i);if(this.aX)a=this.view,a.$(".teamBillingTotalText").text(a.tg.format("teamBillingSignupTotalPriceError"));else if(null!==this.UA)if(1===this.UA)this.view.yx();else{var b=this.Xw.da*this.UA;if("YEARLY"===this.Xw.Ej)b=a.format("teamBillingSignupPerYear",b);else if("MONTHLY"===this.Xw.Ej)b=a.format("teamBillingSignupPerMonth",b);else throw Error("unrecognised billing interval");a=a.lm(this.UA,b);this.view.yx(a)}};
f.Y5=function(a){this.Ed&&s6(this.view,a)};f.h7=function(){v6(this)};f.j7=function(){this.Ed&&(this.wd.vk(this.Ed),s6(this.view,!1))};
f.Ml=function(){this.Dh(!1);this.view.$(".teamBillingCreditCardSubmit").toggleClass("buttonSpinner",!0);this.wd.wV().bind(this).then(function(){this.j.track("credit_card_submitted",{location:"upgrade_dialog"})}).then(function(){if(!this.Bx){var a=this.aa,b=new gj({D:this.D.u(),io:this.Xw.id});y(b.D,"brand required");return qj(a.N,"/billing/brands/"+b.D+"/subscription",hj(b)).catch(rj).get(0).then(jj).catch(a.Cs,a.Xj)}}).then(function(a){this.trigger("signup",a)}).catch(oj,function(a){this.j.track("upgrade_onboarding_card_error",
{message:a.message});a=ZT(cd(this.i),a);this.view.lf(a)}).catch(function(){this.view.lf("An error occured while trying to subscribe")}).finally(function(){this.Dh(!0)});this.j.track("upgrade_onboarding_card_submit")};f.eaa=function(a){this.Xw=a;this.yx()};function Qda(a){soy.asserts.assertType(goog.isString(a.pu)||a.pu instanceof goog.soy.data.SanitizedContent,"billingError",a.pu,"string|goog.soy.data.SanitizedContent");var b=a.pu;soy.asserts.assertType(goog.isString(a.Tx)||a.Tx instanceof goog.soy.data.SanitizedContent,"tryAgain",a.Tx,"string|goog.soy.data.SanitizedContent");a=a.Tx;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cp class\x3d"teamBillingRetry"\x3e'+soy.$$escapeHtml(b)+'\x3cbr/\x3e\x3cbutton type\x3d"button" class\x3d"button teamBillingRetryButton"\x3e'+
soy.$$escapeHtml(a)+"\x3c/button\x3e\x3c/p\x3e")}
function Pda(a){soy.asserts.assertType(goog.isString(a.claim)||a.claim instanceof goog.soy.data.SanitizedContent,"claim",a.claim,"string|goog.soy.data.SanitizedContent");var b=a.claim;soy.asserts.assertType(goog.isString(a.lE)||a.lE instanceof goog.soy.data.SanitizedContent,"createTrialPeriodPoint1",a.lE,"string|goog.soy.data.SanitizedContent");var c=a.lE;soy.asserts.assertType(goog.isString(a.mE)||a.mE instanceof goog.soy.data.SanitizedContent,"createTrialPeriodPoint2",a.mE,"string|goog.soy.data.SanitizedContent");
var d=a.mE;soy.asserts.assertType(goog.isString(a.nE)||a.nE instanceof goog.soy.data.SanitizedContent,"createTrialPeriodPoint3",a.nE,"string|goog.soy.data.SanitizedContent");var e=a.nE;soy.asserts.assertType(goog.isString(a.Ix)||a.Ix instanceof goog.soy.data.SanitizedContent,"startTrial",a.Ix,"string|goog.soy.data.SanitizedContent");var g=a.Ix;soy.asserts.assertType(goog.isString(a.Qw)||a.Qw instanceof goog.soy.data.SanitizedContent,"revertCard",a.Qw,"string|goog.soy.data.SanitizedContent");var h=
a.Qw;soy.asserts.assertType(goog.isString(a.Tu)||a.Tu instanceof goog.soy.data.SanitizedContent,"encryption",a.Tu,"string|goog.soy.data.SanitizedContent");var k=a.Tu;soy.asserts.assertType(goog.isBoolean(a.compact)||1===a.compact||0===a.compact,"compact",a.compact,"boolean");var l=!!a.compact;soy.asserts.assertType(goog.isString(a.Pv)||a.Pv instanceof goog.soy.data.SanitizedContent,"itemsTitle",a.Pv,"string|goog.soy.data.SanitizedContent");a=a.Pv;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"teamBillingOptionsContainer"\x3e\x3cdiv class\x3d"teamBillingOptions"\x3e\x3cdiv class\x3d"teamBillingInformation"\x3e\x3ch2 class\x3d"teamBillingClaim"\x3e'+
soy.$$escapeHtml(b)+"\x3c/h2\x3e\x3cul\x3e\x3cli\x3e"+soy.$$escapeHtml(c)+"\x3c/li\x3e\x3cli\x3e"+soy.$$escapeHtml(d)+"\x3c/li\x3e\x3cli\x3e"+soy.$$escapeHtml(e)+'\x3c/li\x3e\x3c/ul\x3e\x3c/div\x3e\x3cdiv class\x3d"teamBillingPriceOptions"\x3e\x3c/div\x3e\x3cform class\x3d"teamBillingForm"\x3e\x3cdiv class\x3d"teamBillingCreditCardContainer"\x3e\x3cdiv class\x3d"teamBillingTotalText"\x3e\x3c/div\x3e\x3cbutton type\x3d"button" class\x3d"button buttonBlock teamBillingCreditCardSubmit"\x3e\x3cspan class\x3d"spinner"\x3e\x3c/span\x3e'+
soy.$$escapeHtml(g)+'\x3c/button\x3e\x3cbutton type\x3d"button" class\x3d"button buttonBlock buttonPlain teamBillingCreditCardRevert"\x3e'+soy.$$escapeHtml(h)+'\x3c/button\x3e\x3c/div\x3e\x3c/form\x3e\x3c/div\x3e\x3cp class\x3d"teamBillingSecurityMessage"\x3e'+soy.$$escapeHtml(k)+"\x3c/p\x3e\x3c/div\x3e"+(l?"":'\x3cdiv class\x3d"teamBillingPromoItems"\x3e\x3ch4\x3e'+soy.$$escapeHtml(a)+"\x3c/h4\x3e\x3c/div\x3e"))};function r6(){}r6=Backbone.View.extend({tagName:"ul",className:"textIconList"});r6.prototype.initialize=function(a){this.items=a.items};
r6.prototype.render=function(){this.$el.html(this.items.map(function(a){soy.asserts.assertType(goog.isString(a.icon)||a.icon instanceof goog.soy.data.SanitizedContent,"icon",a.icon,"string|goog.soy.data.SanitizedContent");var b=a.icon;soy.asserts.assertType(goog.isString(a.title)||a.title instanceof goog.soy.data.SanitizedContent,"title",a.title,"string|goog.soy.data.SanitizedContent");var c=a.title;soy.asserts.assertType(goog.isBoolean(a.iq)||1===a.iq||0===a.iq,"isHtml",a.iq,"boolean");var d=!!a.iq;
soy.asserts.assertType(a.content instanceof soydata.SanitizedHtml||a.content instanceof soydata.UnsanitizedText||goog.isString(a.content),"content",a.content,"soydata.SanitizedHtml");a=a.content;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cli class\x3d"textIconItem" '+(b?'data-icon\x3d"'+soy.$$escapeHtmlAttribute(b)+'"':"")+"\x3e\x3ch3\x3e"+soy.$$escapeHtml(c)+"\x3c/h3\x3e"+(d?soy.$$escapeHtml(a):"\x3cp\x3e"+soy.$$escapeHtml(a)+"\x3c/p\x3e")).toString()}).join(""));return this};
r6.q2=function(a){return new r6({items:[{title:a.format("canvaForWorkUpgradeTeamBrandKitsTitle"),content:a.format("canvaForWorkUpgradeTeamBrandKitsDescription"),icon:"teamBrandKits",iq:!1},{title:a.format("canvaForWorkUpgradeMagicallyResizeTitle"),content:a.format("canvaForWorkUpgradeMagicallyResizeDescription"),icon:"magicResize",iq:!1},{title:a.format("canvaForWorkUpgradeLayoutCreatorsTitle"),content:a.format("canvaForWorkUpgradeLayoutCreatorsDescription"),icon:"layoutCreators",iq:!1},{title:a.format("canvaForWorkUpgradePhotoFoldersTitle"),
content:a.format("canvaForWorkUpgradePhotoFoldersDescription"),icon:"photoFolders",iq:!1}]})};function w6(){}w6=Backbone.View.extend({className:"promotion"});w6.prototype.initialize=function(a){this.model=a.model};w6.prototype.events=function(){var a=this;return{"click .upgradeDialogFeaturePromo__button":function(){a.trigger("next",a.model.pk)},"click .upgradeDialogFeaturePromo__footerLink":function(){a.trigger("footerLinkClicked")}}};
w6.prototype.render=function(){var a=this.model;soy.asserts.assertType(a.mb instanceof soydata.SanitizedHtml||a.mb instanceof soydata.UnsanitizedText||goog.isString(a.mb),"headingHtml",a.mb,"soydata.SanitizedHtml");var b=a.mb;soy.asserts.assertType(goog.isString(a.ld)||a.ld instanceof goog.soy.data.SanitizedContent,"imageUrl",a.ld,"string|goog.soy.data.SanitizedContent");var c=a.ld;soy.asserts.assertType(goog.isString(a.Rh)||a.Rh instanceof goog.soy.data.SanitizedContent,"buttonLabel",a.Rh,"string|goog.soy.data.SanitizedContent");
var d=a.Rh;soy.asserts.assertType(null==a.body||a.body instanceof goog.soy.data.SanitizedContent||goog.isString(a.body),"body",a.body,"null|string|undefined");var e=a.body;soy.asserts.assertType(null==a.aG||a.aG instanceof goog.soy.data.SanitizedContent||goog.isString(a.aG),"imageAlt",a.aG,"null|string|undefined");var g=a.aG;soy.asserts.assertType(null==a.Yg||goog.isArray(a.Yg),"benefitList",a.Yg,"?Array\x3cstring\x3e|undefined");var h=a.Yg;soy.asserts.assertType(null==a.Mz||a.Mz instanceof goog.soy.data.SanitizedContent||
goog.isString(a.Mz),"footerLink",a.Mz,"null|string|undefined");var k=a.Mz,a=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"upgradeDialogFeaturePromo promoBody"\x3e\x3cdiv class\x3d"upgradeDialogFeaturePromo__content"\x3e\x3ch2 class\x3d"upgradeDialogFeaturePromo__heading"\x3e'+soy.$$escapeHtml(b)+"\x3c/h2\x3e"+(e?'\x3cp class\x3d"upgradeDialogFeaturePromo__body"\x3e'+soy.$$escapeHtml(e)+"\x3c/p\x3e":"")+(h?Sda(a):"")+'\x3cdiv class\x3d"upgradeDialogFeaturePromo__footer"\x3e'+w_({v:"upgradeDialogFeaturePromo__button",
text:d})+(k?'\x3cdiv\x3e\x3ca href\x3d"#" class\x3d"upgradeDialogFeaturePromo__footerLink"\x3e'+soy.$$escapeHtml(k)+"\x3c/a\x3e\x3c/div\x3e":"")+'\x3c/div\x3e\x3c/div\x3e\x3cimg class\x3d"upgradeDialogFeaturePromo__image" src\x3d'+soy.$$escapeHtmlAttributeNospace(soy.$$filterNormalizeMediaUri(c))+" "+(g?"alt\x3d"+soy.$$escapeHtmlAttributeNospace(g):"")+" /\x3e\x3c/div\x3e").toString();this.$el.html(a);return this};function x6(a){this.we=a.we;this.Ax=void 0;this.Ab=null;this.Vf=a.Vf||0;this.Yi=void 0===a.Yi||a.Yi;this.Hr=void 0===a.Hr||a.Hr;this.Re=void 0===a.Re||a.Re;this.j=a.j;this.n3=_.once(function(){v6(a.we);Rda(a.we)});this.we.once("signup",this.o7.bind(this));this.ha=a.Iy;this.tg=a.tg;this.Vi=a.Vi;this.rH=a.rH;this.Ys=a.Ys;this.pk=a.cq}var WR=0,EY=1,Jo=2,O_=3,zX=4,Go=8,OM=9,Ho=10,Lo=11,P_=12;
function Q0(a){var b=gV({Dj:a.aa,D:a.D.u(),nf:a.fb,Xe:!0,Ya:cd(a.i),j:a.j}),c=a.Ys,d=c.has(a.cq)&&c.get(a.cq).length?c.get(a.cq)[0].Vf:30,e=a.j,g=a.aa,h=a.Z,k=a.D,l=b.Db,m=a.sp,n=a.Bx,p=a.i,b=b.view,q=a.i,c=c.get(a.cq),c=t5(c.sort(u6),Jc(q)),c=new u5({wb:c}),b=new q6({compact:!0,bj:b,Cw:c,i:q,Vf:d}),e=new t6({j:e,aa:g,Z:h,D:k,wd:l,sp:m,Bx:n,i:p,view:b});return new x6({rH:"/brand/onboarding/upgrader",j:a.j,Hr:a.Hr,Yi:a.Yi,Iy:Jc(a.i),tg:ed(a.i),Re:a.Re,Vf:d,we:e,Vi:a.Vi,Ys:a.Ys,cq:a.cq})}f=x6.prototype;
f.listenTo=Backbone.Events.listenTo;f.listenToOnce=Backbone.Events.listenToOnce;f.on=Backbone.Events.on;f.once=Backbone.Events.once;f.off=Backbone.Events.off;f.stopListening=Backbone.Events.stopListening;f.trigger=Backbone.Events.trigger;f.remove=function(){this.Ab&&this.Ab.remove()};
f.show=function(a){var b=this;if(this.Vi){var c=Tda(this,this.we,a||7);c.on("next",function(c){var e=/\/design\//.test(location.pathname)?rm("editor",a,c):rm("homepage",a,c),g=b.we,h=b.Ys.get(c),h=t5(h.sort(u6),Jc(g.i));g.view.EQ(h);b.Ax&&1===c&&(b.Ax.$el.addClass("upgradeDialogSignup--imagesPro"),b.we.uQ(b.tg.format("teamBillingSignupUpgradeImagesPro",b.Vf)));b.j.wa(e)});c.on("footerLinkClicked",function(){return Uda(b)});this.Ax=new Backbone.View({className:"upgradeDialogSignup"});this.Ab=new uz({iF:["upgradeDialog"],
Yi:this.Yi,Re:this.Re,O:[c,this.Ax]});this.Ab.on("hide",function(){b.Ab.remove();b.Ab=null;b.we.remove();b.trigger("hide")});this.n3();this.Ab.show();y6(this);this.we.appendTo(this.Ax.$el);this.Ax.$el.append(Vda({CG:this.ha.format("canvaForWorkUpgradeQuoteMeganKelleyContent"),BG:this.ha.format("canvaForWorkUpgradeQuoteMeganKelleyCite"),LE:this.ha.format("canvaForWorkUpgradeQuoteDonnaMoritzContent"),KE:this.ha.format("canvaForWorkUpgradeQuoteDonnaMoritzCite"),zI:this.ha.format("canvaForWorkUpgradeQuoteTravisBernardContent"),
yI:this.ha.format("canvaForWorkUpgradeQuoteTravisBernardCite")}).toString())}else Wda(this)};function Wda(a){var b=new z6({ha:a.ha});a.Ab=new uz({iF:["upgradeDialog"],Yi:a.Yi,Re:a.Re,O:[b]});a.Ab.on("hide",function(){a.Ab.remove();a.Ab=null;a.trigger("hide")});a.Ab.show();y6(a)}function Uda(a){a.once("hide",function(){return a.show(7)});a.Ab.hide()}f.o7=function(){this.Hr&&this.Ab&&this.Ab.remove();this.trigger("signup")};
function y6(a){/\/design\//.test(location.pathname)?a.j&&a.j.wa(qm(a.Vi)):a.j&&a.j.wa(om(a.Vi))}
function Tda(a,b,c){var d=a.ha.format("canvaForWorkFeatureUpgradeButtonLabel");switch(c){case 5:return new w6({we:b,model:{Rh:d,mb:a.ha.Ia("canvaForWorkFeatureUpgradeUnlimitedFoldersHeadingHtml"),body:ze(a.ha),ld:"https://static.canva.com/static/images/upgrade_dialog_feature_folders.png",Yg:[Ee(a.ha),De(a.ha),Be(a.ha),Ce(a.ha)],pk:R0}});case Jo:return new w6({we:b,model:{Rh:d,mb:a.ha.Ia("canvaForWorkFeatureUpgradeResizeHeadingHtml"),body:ze(a.ha),ld:"https://static.canva.com/static/images/upgrade_dialog_feature_resize.png",Yg:[Ee(a.ha),De(a.ha),
Ae(a.ha),Ce(a.ha)],pk:R0}});case zX:return new w6({we:b,model:{Rh:d,mb:a.ha.Ia("canvaForWorkFeatureUpgradeTemplatesHeadingHtml"),body:ze(a.ha),ld:"https://static.canva.com/static/images/upgrade_dialog_feature_templates.png",Yg:[Ee(a.ha),De(a.ha),Be(a.ha),Ce(a.ha)],pk:R0}});case O_:return new w6({we:b,model:{Rh:d,mb:a.ha.Ia("canvaForWorkFeatureUpgradeTransparentBackgroundsHeadingHtml"),body:ze(a.ha),ld:"https://static.canva.com/static/images/upgrade_dialog_feature_transparent_bg.png",Yg:[Ee(a.ha),De(a.ha),Be(a.ha),Ce(a.ha)],pk:R0}});case 6:return new w6({we:b,
model:{Rh:d,mb:a.ha.Ia("canvaForWorkFeatureUpgradeCollaborateHeadingHtml"),body:ze(a.ha),ld:"https://static.canva.com/static/images/upgrade_dialog_feature_teams.png",Yg:[Ee(a.ha),De(a.ha),Be(a.ha),Ce(a.ha)],pk:R0}});case Go:return new w6({we:b,model:{Rh:d,mb:a.ha.Ia("canvaForWorkFeatureUpgradeExclusiveMediaHeadingHtml"),body:ze(a.ha),ld:"https://static.canva.com/static/images/upgrade_dialog_feature_exclusive_media.png",Yg:[Ee(a.ha),De(a.ha),Be(a.ha),Ce(a.ha)],pk:R0}});case OM:return new w6({we:b,model:{Rh:d,mb:Ee(a.ha),body:ze(a.ha),ld:"https://static.canva.com/static/images/upgrade_dialog_feature_exclusive_media.png",
Yg:[De(a.ha),Ae(a.ha),Be(a.ha),Ce(a.ha)],pk:R0}});case P_:return new w6({we:b,model:{Rh:d,mb:a.ha.Ia("canvaForWorkFeatureUpgradeAnimatorHeadingHtml"),body:a.ha.format("canvaForWorkFeatureUpgradeAnimatorBody"),ld:"https://static.canva.com/static/images/upgrade_dialog_feature_animator.png",Yg:[a.ha.format("canvaForWorkFeatureUpgradeAnimatorBenefit1"),a.ha.format("canvaForWorkFeatureUpgradeAnimatorBenefit2"),a.ha.format("canvaForWorkFeatureUpgradeAnimatorBenefit3"),a.ha.format("canvaForWorkFeatureUpgradeAnimatorBenefit4")],
pk:R0}});case Ho:case Lo:c=w6;var e=a.ha.Ia("canvaForWorkFeatureUpgradeFreeContentHeadingHtml",4E5),g=a.ha.format("canvaForWorkFeatureUpgradeImagesProBody"),h;h=a.ha.format("canvaForWorkFeatureUpgradeImagesProBenefit1",4E5);return new c({we:b,model:{Rh:d,mb:e,body:g,ld:"https://static.canva.com/static/images/upgrade_dialog_feature_exclusive_media.png",Yg:[h,a.ha.format("canvaForWorkFeatureUpgradeImagesProBenefit2"),a.ha.format("canvaForWorkFeatureUpgradeImagesProBenefit3"),a.ha.format("canvaForWorkFeatureUpgradeImagesProBenefit4")],
pk:1,Mz:a.ha.format("canvaForWorkFeatureUpgradeImagesFooterLink")}});case WR:case EY:case 7:return new w6({we:b,model:{Rh:d,mb:a.ha.Ia("canvaForWorkFeatureUpgradeGeneralHeadingHtml"),body:a.ha.format("canvaForWorkFeatureUpgradeIncreaseProductivity"),ld:"https://static.canva.com/static/images/upgrade_dialog_feature_general.png",Yg:[Ee(a.ha),De(a.ha),Be(a.ha),Ce(a.ha)],pk:R0}});default:throw Error("Not a recognised feature: "+c);}};function z6(a){Backbone.View.call(this,{className:"upgradeDialogMember"});this.ha=a.ha}r(z6,Backbone.View);z6.prototype.events=function(){return{"click .upgradeDialogMember__button":this.trigger.bind(this,"next")}};z6.prototype.render=function(){this.$el.html(Xda({MC:soydata.VERY_UNSAFE.ordainSanitizedHtml(this.ha.format("canvaForWorkUpgradeMemberTitleHtml")),bw:this.ha.bw(),Cq:this.ha.format("canvaForWorkUpgradeMemberOkButton")}).toString());return this};function Xda(a){soy.asserts.assertType(a.MC instanceof soydata.SanitizedHtml||a.MC instanceof soydata.UnsanitizedText||goog.isString(a.MC),"titleHtml",a.MC,"soydata.SanitizedHtml");var b=a.MC;soy.asserts.assertType(goog.isString(a.bw)||a.bw instanceof goog.soy.data.SanitizedContent,"memberLabel",a.bw,"string|goog.soy.data.SanitizedContent");var c=a.bw;soy.asserts.assertType(goog.isString(a.Cq)||a.Cq instanceof goog.soy.data.SanitizedContent,"okButton",a.Cq,"string|goog.soy.data.SanitizedContent");
a=a.Cq;return soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3ch2\x3e"+soy.$$escapeHtml(b)+'\x3c/h2\x3e\x3cp class\x3d"upgradeDialogMember__label"\x3e'+soy.$$escapeHtml(c)+"\x3c/p\x3e"+w_({v:"upgradeDialogMember__button",text:a}))}
function Sda(a){a=goog.asserts.assertArray(a.Yg,"expected parameter 'benefitList' of type list\x3cstring\x3e.");var b="";if(0<a.length){for(var b=b+'\x3cul class\x3d"upgradeDialogFeaturePromo__benefitList"\x3e',c=a.length,d=0;d<c;d++)var e=a[d],b=b+('\x3cli class\x3d"upgradeDialogFeaturePromoBenefit"\x3e'+QX({za:"upgradeDialogFeaturePromoBenefit__icon"})+'\x3cspan class\x3d"upgradeDialogFeaturePromoBenefit__text"\x3e'+soy.$$escapeHtml(e)+"\x3c/span\x3e\x3c/li\x3e");b+="\x3c/ul\x3e"}return soydata.VERY_UNSAFE.ordainSanitizedHtml(b)}
function Vda(a){soy.asserts.assertType(goog.isString(a.CG)||a.CG instanceof goog.soy.data.SanitizedContent,"meganKelleyQuote",a.CG,"string|goog.soy.data.SanitizedContent");var b=a.CG;soy.asserts.assertType(goog.isString(a.BG)||a.BG instanceof goog.soy.data.SanitizedContent,"meganKelleyCite",a.BG,"string|goog.soy.data.SanitizedContent");var c=a.BG;soy.asserts.assertType(goog.isString(a.LE)||a.LE instanceof goog.soy.data.SanitizedContent,"donnaMoritzQuote",a.LE,"string|goog.soy.data.SanitizedContent");
var d=a.LE;soy.asserts.assertType(goog.isString(a.KE)||a.KE instanceof goog.soy.data.SanitizedContent,"donnaMoritzCite",a.KE,"string|goog.soy.data.SanitizedContent");var e=a.KE;soy.asserts.assertType(goog.isString(a.zI)||a.zI instanceof goog.soy.data.SanitizedContent,"travisBernardQuote",a.zI,"string|goog.soy.data.SanitizedContent");var g=a.zI;soy.asserts.assertType(goog.isString(a.yI)||a.yI instanceof goog.soy.data.SanitizedContent,"travisBernardCite",a.yI,"string|goog.soy.data.SanitizedContent");
a=a.yI;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"upgradeDialogQuotes"\x3e\x3cblockquote\x3e'+soy.$$escapeHtml(b)+"\x3ccite\x3e"+soy.$$escapeHtml(c)+"\x3c/cite\x3e\x3c/blockquote\x3e\x3cblockquote\x3e"+soy.$$escapeHtml(d)+"\x3ccite\x3e"+soy.$$escapeHtml(e)+"\x3c/cite\x3e\x3c/blockquote\x3e\x3cblockquote\x3e"+soy.$$escapeHtml(g)+"\x3ccite\x3e"+soy.$$escapeHtml(a)+"\x3c/cite\x3e\x3c/blockquote\x3e\x3c/div\x3e")};$(function(a,b){function c(){K&&wb?(wb.aw(K.serialize()),setInterval(function(){K&&wb&&pu(wb,K.serialize())&&K.trigger("change")},3E5)):setTimeout(c,15E3)}function d(){var a=new x4,b=l.xg.get("branchToken",null),c=null;b&&(c=new g5({km:b}));b=new a5({user:ly(m),profiles:Eb,ua:N});return B0(l,{config:l,Uk:Mb,W:Jb,j:U,document:K,getSession:function(){return wb},Ka:m,mc:ac,aa:Bb,xd:Cb,fb:ha,Z:Eb,Ra:Ab,ej:S,Gca:Fb,cc:Gb,dc:L,ub:J,Na:Q,ef:yb,i:Lb,H:hl,pd:ta,G$:Za,ua:N,Xb:fa,nu:k,Vi:t,sp:x,Co:a,G:u,yc:c,
vd:b})}function e(a){var b=a.font;return b&&(a=YA(Kb,b.family||""))?{fontFamily:a.family,fontSize:b.Wp(),bold:b.bold,italic:b.italic}:null}function g(a){return function(b){return b.getName()===a}}function h(){var a=K,b=xb.id,c,d;try{d=a.serialize()}catch(e){E.log("Failed DocumentContent serialization",{error:e});return}try{c=Er(d)}catch(e){U&&Xl(b,!1,!1,"DESERIALIZATION_FAILED");E.log("Failed DocumentContentProto deserialization",{error:e});return}try{var g=[],h=window.mediaMap;Object.keys(h).forEach(function(a){Object.keys(h[a]).forEach(function(b){g.push({id:a,
version:Number(b)})})});var k=L0(c,g),l=k.some(function(a){return a.level===M0}),m=k.some(function(a){return a.level===N0});l?U&&Xl(b,!1,m,"DOCUMENT_CHECK_FAILED"):U&&Xl(b,!0,m)}catch(e){U&&Xl(b,!1,!1,"UNKNOWN_EXCEPTION_THROWN"),E.log("Failed document check",{error:e})}}var k=window.availableLocales||{},l=new jh(b||window.viewConfig),m=hy(),n=ly(m).NC(),p=ky(m).Lp(),q=l.Pz();$("body").toggleClass("highDpi",O.tS);if(!window.cmsg)throw Error("window['cmsg'] isn't defined");Lb=new kc;var u=Hf();Jb=new If(u);
bO&&$("html").addClass("touch");Yda();Zda();b=window.csrfTokens;var v=new Ck(window.httpServiceConfig);Ib=v;var z=ol(new Vk(v));a=new jl("canva.editor.load",z.Uh,z,z.Y7);a.wa("init-start");vg=new JI({config:new VI,N:Ib,QW:new EI});vg.init().then(function(){$("#objectPanel .content .buttonFacebook").prop("disabled",!1)});U=im();var t=!(!window.paymentAccountConfig||!window.paymentAccountConfig.canUpgrade),x=!(!window.paymentAccountConfig||!window.paymentAccountConfig.canEditCreditCard),H=zo({G:u,Wk:n});
Mb=new Eo({j:U,W:Jb,ua:Oo(n),Eg:H,uK:function(){var a=P0(ta),b=ky(m).ka();return Q0({aa:Bb,Z:Eb,j:U,D:b,Ys:a,cq:R0,fb:ha,Bx:!1,Hr:!1,Vi:t,sp:x,i:Lb,G:u,Ka:m,W:Jb})}});var E=uE();Ab=kq(E);Cb=new ww(Ib);Bb=new mj(Ib);ac=new sK;Fb=new fy;Gb=new oy;Db=new XE(Ib);yb=new GL(window.mediaMap,Db);zb=new GL(window.fontMediaMap,Db);Hb=new dM(Ib,Db,ac,yb,new rM,new bM(2),z,fl);Eb=new Jw(Ib);var L=new ry(Ib),J=new PE(Ib),Q=new A6(Ib),S=new Gu(v),N=null;try{N=jm()}catch(Ig){}var ha=$T(),fa=new lZ({Z:Eb,i:Lb,Rk:[mN,
"contextTipRoyaltyFreePaymentOption"],fE:function(a){return kZ({key:a,i:od(Lb),af:$(document),Te:$("body")})},root:$("body")}),ta=new tda,Za=new T5({ZF:Ib,Z:Eb,xL:Jb.G.get(Sf)});cc=window.localStorage?new eo(window.localStorage,ly(m).u()):new eo;Kb=new RJ(PJ,{ac:Db,NI:window.WebFont,ef:zb,H:hl,locale:window.cmsg.localePrecedence[0]||window.cmsg.fallback});Kb.on("fontLoadFailed",function(a){a&&U.track("font_load_failed",{font_name:a})});Jb.G.get(Qf)&&XJ();window.scrollTo(0,0);var qa=function(){var a=
ky(m).Lp();return(a=a&&a.KC)&&a[0]?a[0].LC||[]:[]}(),ca={};iK(Kb,qa,function(){var a=$da(qa);Jb.G.get(Qf)&&0<a.length&&(Kb.vP=a,ca={title:qa.filter(g("title")).map(e)[0],subtitle:qa.filter(g("subtitle")).map(e)[0],body:qa.filter(g("body")).map(e)[0]},Object.keys(ca).forEach(function(a){ca[a]||delete ca[a]}))});var Aa=window.csession,xb=window.cdoc,v=dv(window.cdocType);if(xb){(new sp({Bp:So(),Wc:Mb,Eg:H,Xb:fa,Z:Eb,W:Jb,G:u,i:Lb,j:U,Oe:T,ua:N,Wk:n,Cu:Iz,ub:J,fb:ha,Ka:m,fa:q})).go(xb,v,l,p,d,a);window.history.replaceState("",
document.title,window.location.pathname+window.location.search);var pb=dP(Aa,xb,U);setTimeout(c,15E3);var wc=xb.id,ue=Date.now(),n=window.CANVA_EMBED,Md=b.session;b=!!navigator.sendBeacon;p=new rA({N:Ib,HO:ue,Ee:wc,pa:pb,qL:n,nR:Hb,DJ:b,jL:Md});$(window).resize(hA).on("beforeunload",p.eQ.bind(p)).on("offline",aea).on("online",bea);if(!n&&b)$(window).on("unload",function(){var a=Math.floor((Date.now()-ue)/1E3)+"",a=JSON.stringify({docId:wc,session:Aa,durationSecs:a,syncMetrics:pb.b_.serialize()});
navigator.sendBeacon("/session/editor/"+encodeURIComponent(wc)+"?close\x26csrfToken\x3d"+encodeURIComponent(Md),a)})}hA();window.CANVA_EMBED&&zda(l,S,Q,L,J,ta,u);dc=new Vn($("#canvaDocument"));dc.render();U&&xb&&Ol(xb.id,xb.designType);if(U&&.1>Math.random())T.on("documentRendered",function(){h()});a.wa("init-end")});
function $da(a){return a.sort(function(a){for(var c={},d=0;d<a.length;d++)c[a[d]]=d;return function(a,b){a=a.getName();b=b.getName();return c[a]-c[b]||a.localeCompare(b)}}(["title","subtitle","body"])).map(function(a){var c;a.font&&(c=a.font.family);return YA(Kb,c||"")}).filter(Boolean)}function Zda(){$(document).on("mouseover","a",function(){"#"==$(this).attr("href")&&$(this).removeAttr("href")})}
function gA(a){Nb||(Nb=new a6(Jb.G.get(bg)),Nb.on("open",function(){T.trigger("pausePresentationOnExit",!0)}),Nb.on("close",function(){T.trigger("pausePresentationOnExit",!1)}));Nb.toggle(a,K.ia())}
function Yda(){function a(a){a.stopPropagation();a.preventDefault();b();$("#touchDevice").addClass("on");mO();U&&Yl(U,"touch_device_notice")}function b(){document.removeEventListener("touchstart",a,!0);document.removeEventListener("mousedown",b)}bO&&(document.addEventListener("touchstart",a,!0),document.addEventListener("mousedown",b))}var B6=0;function aea(){Tb&&waa();clearTimeout(B6);B6=setTimeout(function(){pO()},12E4)}
function bea(){if(Tb){var a=Tb;a.hN=!1;UV(a,a.Nu)}clearTimeout(B6);wb.ij()||oO()};$(document).on("wheel",".disableAncestorScroll",function(a){var b=a.originalEvent&&a.originalEvent.deltaY,c=a.currentTarget,d=0>b&&0===c.scrollTop,b=0<b&&Math.ceil(c.scrollTop+c.getBoundingClientRect().height)===c.scrollHeight;(d||b)&&a.preventDefault()});function oz(a){this.H=a.H;this.element=$(soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"modalContent"\x3e\x3cdiv class\x3d"modalContentMask"\x3e\x3c/div\x3e\x3c/div\x3e').toString());this.element.addClass(C6(a.style));this.element.on("click",".modalContentMask",function(a){this.trigger("maskClick",a)}.bind(this));this.style=a.style;this.uD=""}f=oz.prototype;f.off=Backbone.Events.off;f.on=Backbone.Events.on;f.trigger=Backbone.Events.trigger;
function C6(a){switch(a){case pz:return"modalContentBlurAndDarken";case Bz:return"modalContentDarken";case AX:return"modalContentClear";case m0:return"modalContentNone";default:throw Error();}}f.hide=function(){$("body").removeClass(this.uD).attr("data-modal-levels",$("body").attr("data-modal-levels")-1);"0"===$("body").attr("data-modal-levels")&&$("body").css("margin-right","");this.element.removeClass("modalContentOn");this.H.setTimeout(function(){this.element.detach()}.bind(this),300)};
f.show=function(a){this.element.children(":not(.modalContentMask)").remove();this.element.append(a).appendTo("body");il(function(){var a=this,c=parseInt($("body").attr("data-modal-levels"),10)||0,d=window.innerWidth-$(window).width();$("body").attr("data-modal-levels",c+1);0===c&&$("body").css("margin-right",d);this.element.addClass("modalContentOn");["modalContentVisible",C6(this.style)+"Visible"].forEach(function(c){$("body").hasClass(c)||(a.uD+=c+" ")});$("body").addClass(this.uD)}.bind(this))};
var pz="BLUR_AND_DARKEN",Bz="DARKEN",AX="CLEAR",m0="NONE";function uE(){return"undefined"!==typeof Rollbar?new D6:new E6}function D6(){}D6.prototype.log=function(a,b){b=void 0===b?{}:b;Rollbar.log(a,b.error,b.data)};function E6(){}E6.prototype.log=function(a,b){b=void 0===b?{}:b;var c=b.error;console[c instanceof Error?"error":"log"](a,c,b.data)};function SW(a){soy.asserts.assertType(goog.isString(a.zt)||a.zt instanceof goog.soy.data.SanitizedContent,"showMoreInfo",a.zt,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(a.Wf)||1===a.Wf||0===a.Wf,"unlistedPrice",a.Wf,"boolean");var b=!!a.Wf;soy.asserts.assertType(null==a.yf||goog.isBoolean(a.yf)||1===a.yf||0===a.yf,"crownTag",a.yf,"boolean|null|undefined");var c=a.yf;soy.asserts.assertType(null==a.da||a.da instanceof goog.soy.data.SanitizedContent||goog.isString(a.da),
"price",a.da,"null|string|undefined");var d=a.da;return soydata.VERY_UNSAFE.ordainSanitizedHtml((d?F6({xx:!0,Wf:b,yf:c,da:d}):"")+cea(a))}
function cea(a){soy.asserts.assertType(goog.isString(a.zt)||a.zt instanceof goog.soy.data.SanitizedContent,"showMoreInfo",a.zt,"string|goog.soy.data.SanitizedContent");var b=a.zt;soy.asserts.assertType(goog.isBoolean(a.Wf)||1===a.Wf||0===a.Wf,"unlistedPrice",a.Wf,"boolean");var c=!!a.Wf;soy.asserts.assertType(null==a.da||a.da instanceof goog.soy.data.SanitizedContent||goog.isString(a.da),"price",a.da,"null|string|undefined");a=a.da;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cspan class\x3d"searchResultItem__info info"\x3e'+
(a?F6({xx:!1,Wf:c,da:a}):"")+'\x3cspan class\x3d"moreInfo" title\x3d"'+soy.$$escapeHtmlAttribute(b)+'"\x3ei\x3c/span\x3e\x3c/span\x3e')}
function F6(a){soy.asserts.assertType(goog.isBoolean(a.Wf)||1===a.Wf||0===a.Wf,"unlistedPrice",a.Wf,"boolean");var b=!!a.Wf;soy.asserts.assertType(goog.isBoolean(a.xx)||1===a.xx||0===a.xx,"showFreeClass",a.xx,"boolean");var c=!!a.xx;soy.asserts.assertType(null==a.yf||goog.isBoolean(a.yf)||1===a.yf||0===a.yf,"crownTag",a.yf,"boolean|null|undefined");var d=a.yf;soy.asserts.assertType(goog.isString(a.da)||a.da instanceof goog.soy.data.SanitizedContent,"price",a.da,"string|goog.soy.data.SanitizedContent");
a=a.da;c=c?"price free":"price";b=""+(b?'\x3cspan class\x3d"price poa"\x3e\x3cspan class\x3d"inner"\x3e'+soy.$$escapeHtml(a)+"\x3c/span\x3e\x3c/span\x3e":d?hZ({label:a,za:c}):'\x3cspan class\x3d"'+soy.$$escapeHtmlAttribute(c)+'"\x3e'+soy.$$escapeHtml(a)+"\x3c/span\x3e");return soydata.VERY_UNSAFE.ordainSanitizedHtml(b)}
function hZ(a){soy.asserts.assertType(null==a.za||a.za instanceof goog.soy.data.SanitizedContent||goog.isString(a.za),"cssClass",a.za,"null|string|undefined");var b=a.za;soy.asserts.assertType(goog.isString(a.label)||a.label instanceof goog.soy.data.SanitizedContent,"label",a.label,"string|goog.soy.data.SanitizedContent");a=a.label;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"crownTag'+(b?" "+soy.$$escapeHtmlAttribute(b):"")+'"\x3e\x3cdiv class\x3d"crownTag__content"\x3e'+rp({za:"crownTag__icon",
color:"#F3B600"})+'\x3cspan class\x3d"crownTag__label"\x3e'+soy.$$escapeHtml(a)+"\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e")};function G6(a,b){this.$el=a;this.className=b}r(G6,gc);function Sz(){var a=$("body");return new G6(a,"enterFullscreen")}G6.prototype.Ep=function(){this.$el.addClass(this.className);var a=this.$el.get(0),b=a.webkitRequestFullScreen||a.mozRequestFullScreen||a.msRequestFullscreen||a.requestFullscreen;y(b,"browser doesn't implement Element::requestFullscreen");b.call(a)};
G6.prototype.exitFullscreen=function(){this.$el.removeClass(this.className);var a=document.webkitExitFullscreen||document.mozCancelFullScreen||document.msExitFullscreen||document.exitFullscreen;y(a,"browser doesn't implement Document::exitFullscreen");a&&a.call(document)};function Lz(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)};function H6(a,b){switch(b){case "PENDING":return"PENDING";case "FAILED":return"FAILED";case "EXPORTED":return"EXPORTED";default:throw new TypeError('expected PrintExportStatus for property "'+a+'", found: '+JSON.stringify(b));}}function I6(a){this.yj=a.yj;this.Yj=a.Yj}function dea(a){return new I6({yj:A("widthMicrons",a),Yj:A("heightMicrons",a)})}
function J6(a){this.cd=a.cd;this.type=a.type;this.ib=a.ib;this.RO=a.RO;this.finish=a.finish;this.$v=a.$v;this.gz=a.gz;this.WX=a.WX;this.pz=a.pz;this.hA=a.hA}J6.prototype.lc=function(){return this.type};J6.prototype.Uj=function(){return this.ib};J6.prototype.qn=function(){return this.RO};
function eea(a){return new J6({cd:C("sku",a),type:Pa(K6,"type",a),ib:Oa(dea,"paperSize",a),RO:Pa(L6,"paperType",a),finish:Pa(M6,"finish",a),$v:A("maxPages",a),gz:Ma("dimensionsFlippable",a),WX:A("paperWeight",a),pz:Ma("ecoFriendly",a),hA:Ma("hasEnvelope",a)})}
function M6(a,b){switch(b){case "GLOSS":return"GLOSS";case "SILK":return"SILK";case "MATTE":return"MATTE";case "SOFT_TOUCH":return"SOFT_TOUCH";case "UNCOATED":return"UNCOATED";default:throw new TypeError('expected PaperFinish for property "'+a+'", found: '+JSON.stringify(b));}}
function L6(a,b){switch(b){case "STANDARD":return"STANDARD";case "PREMIUM":return"PREMIUM";case "ECO_FRIENDLY":return"ECO_FRIENDLY";case "DELUXE":return"DELUXE";default:throw new TypeError('expected PaperType for property "'+a+'", found: '+JSON.stringify(b));}}
function K6(a,b){switch(b){case "POSTER":return"POSTER";case "BUSINESS_CARD":return"BUSINESS_CARD";case "POSTCARD":return"POSTCARD";case "LETTERHEAD":return"LETTERHEAD";case "FLYER":return"FLYER";case "INVITATION":return"INVITATION";case "SQUARE_CARD":return"SQUARE_CARD";default:throw new TypeError('expected PrintProductType for property "'+a+'", found: '+JSON.stringify(b));}}function fea(a){this.w_=a.w_;this.UX=a.UX;this.VX=a.VX;this.fV=a.fV}
function gea(a){return new fea({w_:Oa(N6,"typeSpec",a),UX:Oa(O6,"paperSizeSpec",a),VX:Oa(P6,"paperTypeSpec",a),fV:Oa(Q6,"finishSpec",a)})}function R6(a){this.Sa=a.Sa;this.yh=a.yh;this.currency=a.currency;this.FG=a.FG;this.yG=a.yG}R6.prototype.sl=function(){return this.Sa};function hea(a){return new R6({Sa:Pa(S6,"shippingMethod",a),yh:A("priceCents",a),currency:C("currency",a),FG:B("minTotalQuantity",a),yG:B("maxTotalQuantity",a)})}
function iea(a){this.wq=a.wq;this.uq=a.uq;this.Qo=a.Qo;this.currency=a.currency}function jea(a){return new iea({wq:A("minQuantity",a),uq:A("maxQuantity",a),Qo:A("unitPriceCents",a),currency:C("currency",a)})}function V0(a){this.id=a.id;this.version=a.version}V0.prototype.u=function(){return this.id};V0.prototype.getVersion=function(){return this.version};function kea(a){return{id:ib("id",a.id),version:db("version",a.version)}}function lea(a){return new V0({id:C("id",a),version:A("version",a)})}
function T6(a){this.NL=a.NL;this.TL=a.TL;this.vN=a.vN;this.url=a.url}T6.prototype.oa=function(){return this.url};function U6(a){return new T6({NL:Pa(mea,"fileRole",a),TL:A("firstSheet",a),vN:A("lastSheet",a),url:C("url",a)})}function V6(a,b){switch(b){case "PROOF":return"PROOF";case "PRINT":return"PRINT";case "PREPRESS":return"PREPRESS";case "THUMBNAIL":return"THUMBNAIL";default:throw new TypeError('expected FileRole for property "'+a+'", found: '+JSON.stringify(b));}}
function mea(a,b){switch(b){case "PROOF":return"PROOF";case "PRINT":return"PRINT";case "PREPRESS":return"PREPRESS";case "THUMBNAIL":return"THUMBNAIL";default:throw new TypeError('expected FileRole for property "'+a+'", found: '+JSON.stringify(b));}}
function W6(a){this.id=a.id;this.version=a.version;this.D=a.D;this.user=a.user;this.gf=a.gf;this.pg=a.pg;this.cg=a.cg;this.product=a.product;this.wY=a.wY;this.De=a.De;this.wZ=a.wZ;this.od=a.od;this.xf=a.xf;this.yh=a.yh;this.xY=a.xY;this.MU=a.MU;this.bI=a.bI;this.currency=a.currency;this.status=a.status;this.$U=a.$U;this.xB=a.xB;this.gF=a.gF;this.ZX=a.ZX;this.hz=a.hz;this.document=a.document;this.KQ=a.KQ;this.files=a.files||[];this.Je=a.Je;this.XX=a.XX;this.ZY=a.ZY;this.$Y=a.$Y;this.an=a.an;this.LS=
a.LS;this.mC=a.mC||[]}f=W6.prototype;f.u=function(){return this.id};f.getVersion=function(){return this.version};f.ka=function(){return this.D};f.La=function(){return this.user};f.Tp=function(){return this.pg};f.iv=function(){return this.cg};f.sn=function(){return this.product};f.jc=function(){return this.od};f.yV=function(){return this.bI};f.ph=function(){return this.status};f.getDocument=function(){return this.document};f.ic=function(){return this.files};
function X6(a){return new W6({id:C("id",a),version:A("version",a),D:C("brand",a),user:C("user",a),gf:C("region",a),pg:C("productSku",a),cg:D("envelopeSku",a),product:F(eea,"product",a),wY:F(gea,"productDescription",a),De:A("copies",a),wZ:A("sheetCount",a),od:A("pageCount",a),xf:A("creationDate",a),yh:A("priceCents",a),xY:A("productPriceCents",a),MU:B("envelopePriceCents",a),bI:A("shippingPriceCents",a),currency:C("currency",a),status:Pa(nea,"status",a),$U:D("failureMessage",a),xB:Pa(oea,"paymentStatus",
a),gF:Pa(H6,"exportStatus",a),ZX:Qa(pea,"partnerStatus",a),hz:Ma("dimensionsFlipped",a),document:Oa(lea,"document",a),KQ:F(qea,"shippingDetails",a),files:G(U6,"files",a),Je:D("invoice",a),XX:D("partner",a),ZY:D("reprintParent",a),$Y:Qa(rea,"reprintType",a),an:Ma("finalized",a),LS:Ma("accepted",a),mC:G(sea,"sheets",a)})}
function nea(a,b){switch(b){case "CREATED":return"CREATED";case "PROCESSING":return"PROCESSING";case "FAILED":return"FAILED";case "SHIPPED":return"SHIPPED";case "CANCELLED":return"CANCELLED";default:throw new TypeError('expected PrintOrderStatus for property "'+a+'", found: '+JSON.stringify(b));}}function rea(a,b){switch(b){case "UNCHARGED":return"UNCHARGED";case "CHARGED":return"CHARGED";default:throw new TypeError('expected ReprintType for property "'+a+'", found: '+JSON.stringify(b));}}
function tea(a,b){switch(b){case "PENDING":return"PENDING";case "SUSPENDED":return"SUSPENDED";case "APPROVED":return"APPROVED";case "CANCELLED":return"CANCELLED";default:throw new TypeError('expected PrintReviewStatus for property "'+a+'", found: '+JSON.stringify(b));}}function uea(a,b){switch(b){case "PENDING":return"PENDING";case "PAID":return"PAID";case "EXEMPT":return"EXEMPT";default:throw new TypeError('expected PrintPaymentStatus for property "'+a+'", found: '+JSON.stringify(b));}}
function oea(a,b){switch(b){case "PENDING":return"PENDING";case "PAID":return"PAID";case "EXEMPT":return"EXEMPT";default:throw new TypeError('expected PrintPaymentStatus for property "'+a+'", found: '+JSON.stringify(b));}}
function pea(a,b){switch(b){case "RECEIVED":return"RECEIVED";case "ERRORS":return"ERRORS";case "IN_PRINTING":return"IN_PRINTING";case "IN_BINDERY":return"IN_BINDERY";case "PACKAGING":return"PACKAGING";case "SHIPPING":return"SHIPPING";case "SHIPPED":return"SHIPPED";case "HOLD":return"HOLD";case "CANCELLED":return"CANCELLED";default:throw new TypeError('expected PartnerStatus for property "'+a+'", found: '+JSON.stringify(b));}}function vea(a){this.bM=a.bM;this.back=a.back}
function wea(a){return{front:db("front",a.bM),back:eb("back",a.back)}}function sea(a){return new vea({bM:A("front",a),back:B("back",a)})}function Y6(a){this.Wd=a.Wd;this.Sa=a.Sa;this.NX=a.NX;this.YX=a.YX;this.BT=a.BT;this.n_=a.n_;this.o_=a.o_;this.XU=a.XU}Y6.prototype.sl=function(){return this.Sa};
function qea(a){return new Y6({Wd:F(Z6,"address",a),Sa:Pa(S6,"shippingMethod",a),NX:Qa(xea,"packageType",a),YX:D("partnerShippingMethod",a),BT:D("carrier",a),n_:D("trackingNumber",a),o_:D("trackingUrl",a),XU:D("facility",a)})}function $6(a,b){switch(b){case "STANDARD":return"STANDARD";case "EXPRESS":return"EXPRESS";default:throw new TypeError('expected ShippingMethod for property "'+a+'", found: '+JSON.stringify(b));}}
function S6(a,b){switch(b){case "STANDARD":return"STANDARD";case "EXPRESS":return"EXPRESS";default:throw new TypeError('expected ShippingMethod for property "'+a+'", found: '+JSON.stringify(b));}}function xea(a,b){switch(b){case "LIGHT":return"LIGHT";case "FULL":return"FULL";default:throw new TypeError('expected PackageType for property "'+a+'", found: '+JSON.stringify(b));}}
function a7(a){this.name=a.name;this.Ck=a.Ck;this.vj=a.vj;this.Xd=a.Xd;this.Fh=a.Fh;this.sb=a.sb;this.vf=a.vf;this.nk=a.nk}f=a7.prototype;f.getName=function(){return this.name};f.BM=function(){return this.Ck};f.CM=function(){return this.vj};f.gs=function(){return this.Xd};f.Rj=function(){return this.sb};f.DM=function(){return this.vf};f.xM=function(){return this.nk};
function b7(a){return{name:ib("name",a.name),street1:ib("street1",a.Ck),street2:I("street2",a.vj),city:ib("city",a.Xd),subdivision:I("subdivision",a.Fh),countryCode:ib("countryCode",a.sb),zipCode:ib("zipCode",a.vf),phone:ib("phone",a.nk)}}function Z6(a){return new a7({name:C("name",a),Ck:C("street1",a),vj:D("street2",a),Xd:C("city",a),Fh:D("subdivision",a),sb:C("countryCode",a),vf:C("zipCode",a),nk:C("phone",a)})}
function c7(a){this.document=a.document;this.pg=a.pg;this.cg=a.cg;this.De=a.De;this.od=a.od;this.Sa=a.Sa;this.ec=a.ec;this.gf=a.gf;this.currency=a.currency;this.mC=a.mC||[];this.zd=a.zd}f=c7.prototype;f.getDocument=function(){return this.document};f.Tp=function(){return this.pg};f.iv=function(){return this.cg};f.jc=function(){return this.od};f.sl=function(){return this.Sa};f.uv=function(){return this.ec};
function yea(a){return{document:cb.required("document",kea(a.document)),productSku:ib("productSku",a.pg),envelopeSku:I("envelopeSku",a.cg),copies:db("copies",a.De),pageCount:eb("pageCount",a.od),shippingMethod:lb($6,"shippingMethod",a.Sa),shippingAddress:jb(b7,"shippingAddress",a.ec),region:ib("region",a.gf),currency:I("currency",a.currency),sheets:kb(wea,"sheets",a.mC),priceToken:I("priceToken",a.zd)}}function d7(a){this.order=a.order}d7.prototype.nn=function(){return this.order};
function zea(a){return new d7({order:Oa(X6,"order",a)})}function Aea(a){return{fileRole:lb(V6,"fileRole",a.NL),firstSheet:db("firstSheet",a.TL),lastSheet:db("lastSheet",a.vN),bucket:ib("bucket",a.bucket),key:ib("key",a.key)}}function e7(a){this.id=a.id;this.version=a.version;this.xB=a.xB;this.Je=a.Je;this.currency=a.currency;this.Sa=a.Sa;this.ec=a.ec;this.pg=a.pg;this.cg=a.cg;this.LP=a.LP;this.De=a.De;this.an=a.an;this.cZ=a.cZ;this.oY=a.oY;this.action=a.action}f=e7.prototype;f.u=function(){return this.id};
f.getVersion=function(){return this.version};f.sl=function(){return this.Sa};f.uv=function(){return this.ec};f.Tp=function(){return this.pg};f.iv=function(){return this.cg};
function Bea(a){return{id:ib("id",a.id),version:eb("version",a.version),paymentStatus:mb(uea,"paymentStatus",a.xB),invoice:I("invoice",a.Je),currency:I("currency",a.currency),shippingMethod:mb($6,"shippingMethod",a.Sa),shippingAddress:jb(b7,"shippingAddress",a.ec),productSku:I("productSku",a.pg),envelopeSku:I("envelopeSku",a.cg),removeEnvelopeSku:hb("removeEnvelopeSku",a.LP),copies:eb("copies",a.De),finalized:hb("finalized",a.an),reviewUpdate:jb(Cea,"reviewUpdate",a.cZ),prepressFile:jb(Aea,"prepressFile",
a.oY),action:mb(Dea,"action",a.action)}}function Dea(a,b){switch(b){case "CANCEL":return"CANCEL";case "SUBMIT_TO_PARTNER":return"SUBMIT_TO_PARTNER";default:throw new TypeError('expected UpdateOrderAction for property "'+a+'", found: '+JSON.stringify(b));}}function Cea(a){return{reviewStatus:lb(tea,"reviewStatus",a.xca),suspendReasons:$a.Bd("suspendReasons",a.Nca),suspendComment:I("suspendComment",a.Mca)}}function f7(a){this.order=a.order}f7.prototype.nn=function(){return this.order};
function Eea(a){return new f7({order:Oa(X6,"order",a)})}function g7(a){this.id=a.id;this.Mq=a.Mq||[];this.PL=a.PL||[]}g7.prototype.u=function(){return this.id};function j7(a){this.order=a.order}j7.prototype.nn=function(){return this.order};function Fea(a){return new j7({order:Oa(X6,"order",a)})}function k7(a){this.id=a.id;this.D=a.D;this.Wd=a.Wd}k7.prototype.u=function(){return this.id};k7.prototype.ka=function(){return this.D};
function l7(a){return new k7({id:C("id",a),D:C("brand",a),Wd:Oa(Z6,"address",a)})}function m7(a){this.D=a.D;this.user=a.user}m7.prototype.ka=function(){return this.D};m7.prototype.La=function(){return this.user};function Gea(a){this.sJ=a.sJ||[]}function Hea(a){return new Gea({sJ:G(l7,"addresses",a)})}function n7(a){this.id=a.id;this.D=a.D;this.user=a.user;this.Wd=a.Wd}n7.prototype.u=function(){return this.id};n7.prototype.ka=function(){return this.D};n7.prototype.La=function(){return this.user};
function Iea(a){this.eZ=a.eZ;this.Wd=a.Wd}function Jea(a){return new Iea({eZ:Oa(l7,"savedAddress",a),Wd:Oa(Z6,"address",a)})}function o7(a){this.order=a.order;this.Pc=a.Pc}o7.prototype.nn=function(){return this.order};o7.prototype.ts=function(){return this.Pc};function Kea(a){return{order:ib("order",a.order),role:lb(V6,"role",a.Pc)}}function Lea(a){this.Es=a.Es}function Mea(a){return new Lea({Es:A("jobId",a)})}function p7(a){this.order=a.order;this.Es=a.Es}p7.prototype.nn=function(){return this.order};
function q7(a){this.status=a.status;this.url=a.url;this.files=a.files||[]}q7.prototype.ph=function(){return this.status};q7.prototype.oa=function(){return this.url};q7.prototype.ic=function(){return this.files};function Nea(a){return new q7({status:Pa(H6,"status",a),url:D("url",a),files:G(U6,"files",a)})}function r7(a){this.id=a.id;this.Wh=a.Wh||[]}r7.prototype.u=function(){return this.id};function Oea(a){return new r7({id:C("id",a),Wh:Ha.Bd("countries",a)})}function s7(a){this.fc=a.fc}
s7.prototype.Sz=function(){return this.fc};function Pea(a){this.KB=a.KB||[]}function Qea(a){return new Pea({KB:G(Oea,"regions",a)})}function Rea(a){this.SO=a.SO||new Map;this.tw=a.tw||new Map;this.QO=a.QO||new Map;this.xH=a.xH||new Map}function t7(a){return new Rea({SO:Sa(P6,"paperTypes",a),tw:Sa(O6,"paperSizes",a),QO:Sa(Q6,"paperFinishes",a),xH:Sa(N6,"productTypes",a)})}function u7(a){this.type=a.type;this.name=a.name}u7.prototype.lc=function(){return this.type};u7.prototype.getName=function(){return this.name};
function N6(a){return new u7({type:Pa(K6,"type",a),name:C("name",a)})}function v7(a){this.type=a.type;this.weight=a.weight;this.eX=a.eX;this.WW=a.WW;this.name=a.name;this.description=a.description}v7.prototype.lc=function(){return this.type};v7.prototype.getName=function(){return this.name};v7.prototype.He=function(){return this.description};
function P6(a){return new v7({type:Pa(L6,"type",a),weight:A("weight",a),eX:B("minWeight",a),WW:B("maxWeight",a),name:C("name",a),description:C("description",a)})}function w7(a){this.yj=a.yj;this.Yj=a.Yj;this.NK=a.NK;this.MK=a.MK;this.GE=a.GE;this.name=a.name}w7.prototype.getName=function(){return this.name};function O6(a){return new w7({yj:A("widthMicrons",a),Yj:A("heightMicrons",a),NK:A("displayWidth",a),MK:A("displayHeight",a),GE:Pa(Sea,"displayUnits",a),name:D("name",a)})}
function Sea(a,b){switch(b){case "CENTIMETERS":return"CENTIMETERS";case "INCHES":return"INCHES";default:throw new TypeError('expected PaperSizeUnits for property "'+a+'", found: '+JSON.stringify(b));}}function x7(a){this.finish=a.finish;this.name=a.name;this.description=a.description}x7.prototype.getName=function(){return this.name};x7.prototype.He=function(){return this.description};function Q6(a){return new x7({finish:Pa(M6,"finish",a),name:C("name",a),description:C("description",a)})}
function y7(a){this.Ub=a.Ub;this.ib=a.ib;this.hz=a.hz;this.doctype=a.doctype}y7.prototype.sv=function(){return this.Ub};y7.prototype.Uj=function(){return this.ib};function Tea(a){return new y7({Ub:C("productType",a),ib:C("paperSize",a),hz:Ma("dimensionsFlipped",a),doctype:D("doctype",a)})}function z7(a){this.fc=a.fc}z7.prototype.Sz=function(){return this.fc};function Uea(a){this.xP=a.xP||[];this.wH=a.wH}function Vea(a){return new Uea({xP:G(Tea,"productSizes",a),wH:Oa(t7,"productAttributes",a)})}
function A7(a){this.cd=a.cd;this.ce=a.ce;this.ib=a.ib;this.ff=a.ff;this.Ub=a.Ub;this.pz=a.pz;this.hA=a.hA;this.$v=a.$v;this.gz=a.gz}A7.prototype.Uj=function(){return this.ib};A7.prototype.pn=function(){return this.ff};A7.prototype.sv=function(){return this.Ub};function Wea(a){return new A7({cd:C("sku",a),ce:C("paper",a),ib:C("paperSize",a),ff:C("paperFinish",a),Ub:C("productType",a),pz:Ma("ecoFriendly",a),hA:Ma("hasEnvelope",a),$v:A("maxPages",a),gz:Ma("dimensionsFlippable",a)})}
function Xea(a){this.cd=a.cd;this.wb=a.wb||[]}function Yea(a){return new Xea({cd:C("sku",a),wb:G(jea,"prices",a)})}function Zea(a){this.cd=a.cd;this.wP=a.wP;this.wq=a.wq;this.uq=a.uq;this.Qo=a.Qo;this.currency=a.currency}function $ea(a){return new Zea({cd:C("sku",a),wP:C("productPaperSize",a),wq:A("minQuantity",a),uq:A("maxQuantity",a),Qo:A("unitPriceCents",a),currency:C("currency",a)})}function B7(a){this.bd=a.bd||[];this.AL=a.AL||[];this.JQ=a.JQ||[];this.zd=a.zd}B7.prototype.IF=function(){return this.bd};
function afa(a){return new B7({bd:G(Yea,"products",a),AL:G($ea,"envelopes",a),JQ:G(hea,"shipping",a),zd:D("priceToken",a)})}function C7(a){this.fc=a.fc;this.currency=a.currency;this.Ub=a.Ub;this.Mq=a.Mq||[]}C7.prototype.Sz=function(){return this.fc};C7.prototype.sv=function(){return this.Ub};function D7(a){this.bd=a.bd||[];this.gf=a.gf;this.attributes=a.attributes;this.wb=a.wb}D7.prototype.IF=function(){return this.bd};
function bfa(a){return new D7({bd:G(Wea,"products",a),gf:C("region",a),attributes:Oa(t7,"attributes",a),wb:F(afa,"prices",a)})};function E7(a,b){a=a.find(function(a){return a.wq<=b&&b<=a.uq});y(a,"No QuantityPrice available for the specified copies '{}'",b);return a.Qo}function F7(a,b){w(0<a.length,"Expected at least one ShippingPrice");a=a.filter(function(a){return a.FG<=b.sk&&b.sk<=a.yG}).filter(function(a){return a.Sa===b.Sa}).sort(function(a,b){return a.yh-b.yh})[0];if(null==a)throw Error("No shipping prices found for shipping method '"+b.Sa+"' and order quantity '"+b.sk+"'");return a};function A6(a){this.N=a;this.path="/print"}A6.prototype.iE=function(a){return qj(this.N,this.path+"/orders",yea(a)).catch(rj).get(0).then(La).then(zea)};A6.prototype.DI=function(a){return qj(this.N,this.path+"/orders/"+a.id,Bea(a)).catch(rj).get(0).then(La).then(Eea)};
A6.prototype.nn=function(a){var b=this.path+"/orders/"+a.id,c=[];0<a.Mq.length&&c.push("projection\x3d"+encodeURIComponent(a.Mq.toString()));0<a.PL.length&&c.push("fileRoles\x3d"+encodeURIComponent(a.PL.toString()));a=0<c.length?b+"?"+c.join("\x26"):b;return sj(this.N,a).catch(rj).get(0).then(La).then(Fea)};
function cfa(a,b){var c=a.path+"/addresses";b=["brand\x3d"+encodeURIComponent(b.D),"user\x3d"+encodeURIComponent(b.user)].join("\x26");return sj(a.N,c+"?"+b).catch(rj).get(0).then(La).then(Hea)}function dfa(a,b){return qj(a.N,a.path+"/orders/"+b.order+"/fileimports",Kea(b)).catch(rj).get(0).then(La).then(Mea)}function efa(a,b){return sj(a.N,a.path+"/orders/"+b.order+"/fileimports/"+b.Es).catch(rj).get(0).then(La).then(Nea)}
function J3(a){var b=new s7({fc:null}),b=[a.path+"/regions?",b.fc?"country\x3d"+encodeURIComponent(b.fc):""].join("");return sj(a.N,b).catch(rj).get(0).then(La).then(Qea)}function ffa(a){var b=new z7({fc:null}),b=a.path+"/products/sizes?"+[null!=b.fc?"country\x3d"+encodeURIComponent(b.fc):""].filter(function(a){return!!a}).join("\x26");return sj(a.N,b).catch(rj).get(0).then(La).then(Vea)}
function gfa(a,b){b=a.path+"/products?"+[null!=b.fc?"country\x3d"+encodeURIComponent(b.fc):"",null!=b.currency?"currency\x3d"+encodeURIComponent(b.currency):"",null!=b.Ub?"productType\x3d"+encodeURIComponent(b.Ub):"",0<b.Mq.length?"projection\x3d"+encodeURIComponent(b.Mq.toString()):""].filter(function(a){return!!a}).join("\x26");return sj(a.N,b).catch(rj).get(0).then(La).then(bfa)};function I0(){}function w3(a){a=a.map(function(a){return hfa(a)});return P.all(a).then(function(a){return a.every(function(a){return a})})}function hfa(a){var b=a.Pp(),c=a.sr.map(function(a){return a.validate(b,void 0)});return P.all(c).then(function(b){var c=a.Op();b=la(b);for(var g=b.next();!g.done;g=b.next())if(g=g.value,!g.valid)return c.xk(g.message),!1;c.lg();return!0})};function H0(a){this.Zd=a.Zd;this.WS=a.WS||!1}
H0.prototype.validate=function(a){var b=null;if(0===a.length&&this.WS)return new P(function(a){return a({valid:!0,message:b})});255<=a.length?b=this.Zd.format("formValidatorInvalidEmailTooLong"):1>a.length?b=this.Zd.format("formValidatorInvalidEmailTooShort"):/^(([^<>()[\]\\.,;:\s@\']+(\.[^<>()[\]\\.,;:\s@\']+)*)|(\'.+\'))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(a)||(b=this.Zd.format("formValidatorInvalidEmailSyntax"));return new P(function(a){return a({valid:null==
b,message:b})})};function G7(a){this.ZM=a.ZM}G7.prototype.validate=function(a){var b=null!==a&&void 0!==a&&("number"!==typeof a||!isNaN(a))&&("string"!==typeof a||/\S+/.test(a)),c=b?null:this.ZM;return new P(function(a){return a({valid:b,message:c})})};function H7(a){this.Zd=a.Zd;this.WN=a.WN||0;this.maxLength=a.maxLength||Number.MAX_VALUE}H7.prototype.validate=function(a){var b=null;a.length<this.WN?b=this.Zd.format("formValidatorInvalidStringLengthTooShort",this.WN):a.length>this.maxLength&&(b=this.Zd.format("formValidatorInvalidStringLengthTooLong",this.maxLength));return new P(function(a){return a({valid:null==b,message:b})})};function taa(a,b,c){function d(a){var b=new Set;a.ia().forEach(function(a){if(100!==a.Ha&&!(a instanceof GC)){var c=a.qa();if(a.constructor===CC)for(var d=a.ig(),e=0;e<d;e++){var g=a.rn(e).clone().translate(c.F(),c.w());b.add(g)}else if(c){if(a=a.oM())if(c.translate(a.F(),a.w()),100===a.Ha)return;b.add(c)}}});return b}var e=a.lb();a=function(a,b){return b.map(function(b){b=y(a.O[b],"Cannot get bounding boxes for invalid page index {}.",b);return d(b)})}(a,b);var g={b8:Rg(e.tb).width,V7:Rg(e.tb).height,
Br:function(a,b){return Rg(a.tb).width*(X_.cJ/b.yj)}(e,c)};return a.every(function(a){return ifa(a,g)})}function ifa(a,b){function c(b,c){var d={origin:b,direction:[c[0]-b[0],c[1]-b[1]]};b=Array.from(a).map(function(a){return jfa(d,a)}).filter(function(a){return 2===a.length}).map(function(a){var b=a[0],c=a[1];a=(b+c)/2;b=1.04*(c-b)/2;return[a-b,a+b]});return kfa(new Set(b))}var d=-b.Br,e=b.b8+b.Br,g=b.V7+b.Br;b=-b.Br;return c([b,d],[e,d])&&c([e,d],[e,g])&&c([b,g],[e,g])&&c([b,d],[b,g])}
function jfa(a,b){var c=a.origin;a=a.direction;w(0===a[0]!==(0===a[1]),"axisAlignedRay must be an axis-aligned ray, but its direction vector is {}",a);if(0!==a[0]){if(c[1]<b.w()||c[1]>b.xa())return[];var d=(b.F()-c[0])/a[0];b=(b.Za()-c[0])/a[0];return d<b?[d,b]:[b,d]}if(c[0]<b.F()||c[0]>b.Za())return[];d=(b.w()-c[1])/a[1];b=(b.xa()-c[1])/a[1];return d<b?[d,b]:[b,d]}
function kfa(a){var b=[0,1];a=Array.from(a);a.sort(function(a,b){return a[0]-b[0]});for(var c=b[0],d=0;d<a.length;d++){var e=a[d];if(!(e[1]<c)){if(e[0]>c)break;c=e[1];if(c>=b[1])return!0}}return!1};function I7(a){this.Hy=a.Hy}I7.prototype.validate=function(a){var b=null;[/P\.?\s*O(\.|\s)\s*BOX/i,/POST\s+OFFICE\s+BOX/i].some(function(b){return b.test(a)})&&(b=this.Hy);return new P(function(a){return a({valid:null==b,message:b})})};function J7(a){nT.apply(this,arguments)}r(J7,nT);function K7(a){return new J7(a)}J7.prototype.oh=function(){return this.$el.find(".printableDoctypeOption__label").text().toString()};function lfa(a){soy.asserts.assertType(goog.isString(a.Nk)||a.Nk instanceof goog.soy.data.SanitizedContent,"cancelButtonText",a.Nk,"string|goog.soy.data.SanitizedContent");var b=a.Nk;soy.asserts.assertType(goog.isString(a.pp)||a.pp instanceof goog.soy.data.SanitizedContent,"confirmButtonText",a.pp,"string|goog.soy.data.SanitizedContent");var c=a.pp;soy.asserts.assertType(goog.isString(a.xq)||a.xq instanceof goog.soy.data.SanitizedContent,"moreInfoLinkText",a.xq,"string|goog.soy.data.SanitizedContent");
var d=a.xq;soy.asserts.assertType(goog.isString(a.cw)||a.cw instanceof goog.soy.data.SanitizedContent,"moreInfoLinkUrl",a.cw,"string|goog.soy.data.SanitizedContent");var e=a.cw;soy.asserts.assertType(a.ot instanceof soydata.SanitizedHtml||a.ot instanceof soydata.UnsanitizedText||goog.isString(a.ot),"saveACopyMessage",a.ot,"soydata.SanitizedHtml");var g=a.ot;soy.asserts.assertType(goog.isBoolean(a.Fo)||1===a.Fo||0===a.Fo,"showCancelButton",a.Fo,"boolean");var h=!!a.Fo;soy.asserts.assertType(goog.isBoolean(a.Go)||
1===a.Go||0===a.Go,"showResizeForPrintIllustration",a.Go,"boolean");var k=!!a.Go;soy.asserts.assertType(goog.isString(a.title)||a.title instanceof goog.soy.data.SanitizedContent,"title",a.title,"string|goog.soy.data.SanitizedContent");var l=a.title;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");var m=a.v;soy.asserts.assertType(null==a.JE||goog.isArray(a.JE),"doctypeOptions",a.JE,"?Array\x3c!soydata.SanitizedHtml|string\x3e|undefined");
var n=a.JE;soy.asserts.assertType(null==a.yp||a.yp instanceof soydata.SanitizedHtml||a.yp instanceof soydata.UnsanitizedText||goog.isString(a.yp),"doctypeSelectContent",a.yp,"?soydata.SanitizedHtml|string|undefined");a=a.yp;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"updateDoctype'+(m?" "+soy.$$escapeHtmlAttribute(m):"")+'"\x3e'+(k?'\x3cdiv class\x3d"updateDoctype__image"\x3e\x3c/div\x3e':"")+"\x3ch2 class\x3d'updateDoctype__title'\x3e"+soy.$$escapeHtml(l)+"\x3c/h2\x3e\x3cdiv\x3e"+
(n&&a?XS({v:"updateDoctype__printableDoctypeSelect",Vq:a,options:n}):"")+"\x3c/div\x3e\x3cp class\x3d'updateDoctype__error'\x3e\x3c/p\x3e\x3cdiv class\x3d\"updateDoctype__buttons\"\x3e"+(h?w_({v:"updateDoctype__buttonCancel buttonSecondary",text:b}):"")+w_({v:"updateDoctype__buttonConfirm buttonSubmittable",text:c})+'\x3c/div\x3e\x3cp class\x3d"updateDoctype__saveNote"\x3e'+soy.$$escapeHtml(g)+' \x3ca target\x3d"_blank" href\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(e))+'" class\x3d"updateDoctype__moreInfoLink"\x3e'+
soy.$$escapeHtml(d)+"\x3c/a\x3e\x3c/p\x3e\x3c/div\x3e")};function L7(a,b){var c=this;hc.call(this,a);a.on("click",".updateDoctype__buttonConfirm",function(){c.trigger(M7)});a.on("click",".updateDoctype__buttonCancel",function(){c.trigger(N7)});this.N8=b}r(L7,hc);
function mfa(a){var b=a.O8.map(function(a){var b=$;soy.asserts.assertType(a.description instanceof goog.soy.data.SanitizedContent||a.description instanceof soydata.SanitizedHtml||a.description instanceof soydata.UnsanitizedText||goog.isString(a.description),"description",a.description,"!soydata.SanitizedHtml|string");var e=a.description;soy.asserts.assertType(goog.isString(a.label)||a.label instanceof goog.soy.data.SanitizedContent,"label",a.label,"string|goog.soy.data.SanitizedContent");var g=a.label;
soy.asserts.assertType(null==a.selected||goog.isBoolean(a.selected)||1===a.selected||0===a.selected,"selected",a.selected,"boolean|null|undefined");var h=a.selected;soy.asserts.assertType(goog.isString(a.value)||a.value instanceof goog.soy.data.SanitizedContent,"value",a.value,"string|goog.soy.data.SanitizedContent");a=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"listbox__option printableDoctypeOption '+(h?" listbox__option--selected":"")+'" data-value\x3d"'+soy.$$escapeHtmlAttribute(a.value)+
'"\x3e\x3cdiv class\x3d"printableDoctypeOption__content"\x3e\x3cdiv class\x3d"printableDoctypeOption__label"\x3e'+soy.$$escapeHtml(g)+'\x3c/div\x3e\x3cdiv class\x3d"printableDoctypeOption__description"\x3e'+soy.$$escapeHtml(e)+"\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e");b=b(a.toString());return fT(K7(b))});a=$(lfa({JE:b,Nk:a.Nk,pp:a.pp,yp:a.yp,xq:a.xq,cw:a.cw,ot:a.ot,Fo:a.Fo,Go:a.Go,title:a.title}).toString());return nfa(a)}
function nfa(a){var b=cT(a.find(".updateDoctype__printableDoctypeSelect"),{Oh:K7});return new L7(a,b)}function O7(a,b){a.$el.find(".updateDoctype__buttonConfirm").toggleClass("submitting",b)}L7.prototype.xk=function(a){var b=this.$el.find(".updateDoctype__error");b.html(a.toString());il(function(){b.addClass("updateDoctype__error--visible")})};L7.prototype.lg=function(){this.$el.find(".updateDoctype__error").removeClass("updateDoctype__error--visible")};var N7="CANCEL",M7="CONFIRM";function P7(a,b){var c=this;this.view=b;this.j=a.j;this.yg=a.yg;this.tp=a.tp;this.Ra=a.Ra;this.kz=a.kz;this.zp=a.zp;this.i=a.i;this.xc=a.xc;this.Lq=a.Lq;this.Ss=a.Ss;this.uP=a.uP;b.on(N7,function(){return c.KG()});b.on(M7,function(){return ofa(c)})}
function pfa(a){var b=a.Lq.map(function(b,c){return{label:b.Ub.name,description:Q7(a.xc,b.ib),value:""+c,selected:0===c}}),b=mfa({Nk:a.i.Nk(),pp:a.i.format("updateDoctypeUpdateFormatButtonText"),O8:b,xq:a.i.xq(),cw:"https://support.canva.com/canva-print/preparing-your-design-for-print/resizing-for-print/",ot:a.i.Ia("updateDoctypeSaveACopyMessageHtml"),Fo:a.Fo,Go:a.Go,title:a.i.format("updateDoctypeChoosePrintFormat"),yp:b&&b[0]?b[0].label:void 0}),c=new pT(b.N8);return{Db:qfa({j:a.j,yg:a.yg,tp:a.tp,
kz:a.kz,Ra:a.Ra,zp:a.zp,i:a.i,Ss:a.Ss,Lq:a.Lq,uP:c,xc:a.xc},b),view:b}}function qfa(a,b){return new P7(a,b)}P7.prototype.KG=function(){var a=this.tp,b=this.yg,a=X(X(X(new Zl("print_resize_cancelled"),"section","editor"),"location",b),"template",a);this.j.wa(a)};
function ofa(a){var b=parseInt(a.uP.tc(),10),c=a.Lq[b],d=c.me;a.view.lg();O7(a.view,!0);rfa(a,d);return sfa(a).then(function(){return a.Ss(c)}).then(function(){var b=a.tp,c=a.yg,b=X(X(X(X(new Zl("print_resize_succeeded"),"section","editor"),"location",c),"template",b),"target_template",d);a.j.wa(b)}).then(function(){}).catch(function(){a.view.xk(a.i.Ia("updateDoctypeBackupErrorHtml","https://support.canva.com/troubleshooting"))}).catch(function(){var b=a.tp,c=a.yg,b=X(X(X(X(new Zl("print_resize_failed"),
"section","editor"),"location",c),"template",b),"target_template",d);a.j.wa(b);a.view.xk(a.i.Ia("updateDoctypeResizeErrorHtml","https://support.canva.com/troubleshooting"))}).finally(function(){return O7(a.view,!1)})}function sfa(a){var b=a.i.format("updateDoctypeOriginalSizeDesignName",a.zp).substr(0,255),b=new Ct({id:a.kz.u(),title:b});return a.Ra.duplicate(b).catch(function(){throw new R7;})}
function rfa(a,b){var c=a.tp,d=a.yg;b=X(X(X(X(new Zl("print_resize_button_clicked"),"section","editor"),"location",d),"template",c),"target_template",b);a.j.wa(b)}function R7(){}r(R7,Error);function I3(a,b){switch(a){case "US":return tfa.get(b);case "CA":return ufa.get(b);case "AU":return vfa.get(b);case "NZ":return wfa.get(b);case "EU":return xfa.get(b);case "MX":return yfa.get(b);case "IN":return zfa.get(b);default:throw Error("Unknown print region '"+a+"'.");}}
var tfa=new Map([["posterUS","POSTER"],["TABQqupS2LE","LETTERHEAD"],["resume","LETTERHEAD"],["usLetter","LETTERHEAD"],["foodDrinkMenu","FLYER"],["realEstateFlyer","FLYER"],["certificate","FLYER"],["TACC4LJ8cp8","INVITATION"],["TABQqppdmyw","INVITATION"],["TABQqqo4v1s","INVITATION"],["TACiv026174","INVITATION"],["TABQqu1V70w","INVITATION"],["TACjUwMYSIM","INVITATION"],["TACRzIDOAWk","INVITATION"],["TACRzD6R1Mo","BUSINESS_CARD"],["TACRsbXUzY8","BUSINESS_CARD"],["TACRsibVUu4","POSTCARD"],["TACRzKTiVOc",
"POSTCARD"],["TACRsaKlUIo","POSTCARD"],["TACRzCdizdA","POSTCARD"],["TACRsgErAyo","POSTCARD"]]),ufa=new Map([["posterUS","POSTER"],["TABQqupS2LE","LETTERHEAD"],["resume","LETTERHEAD"],["usLetter","LETTERHEAD"],["foodDrinkMenu","FLYER"],["realEstateFlyer","FLYER"],["certificate","FLYER"],["TACC4LJ8cp8","INVITATION"],["TABQqppdmyw","INVITATION"],["TABQqqo4v1s","INVITATION"],["TACiv026174","INVITATION"],["TABQqu1V70w","INVITATION"],["TACjUwMYSIM","INVITATION"],["TACRzIDOAWk","INVITATION"],["TACRzD6R1Mo",
"BUSINESS_CARD"],["TACRsbXUzY8","BUSINESS_CARD"],["TACRsibVUu4","POSTCARD"],["TACRzKTiVOc","POSTCARD"],["TACRsaKlUIo","POSTCARD"],["TACRzCdizdA","POSTCARD"],["TACRsgErAyo","POSTCARD"]]),vfa=new Map([["TACiRRRQ1rQ","FLYER"],["TACixUyoqp0","FLYER"],["poster","POSTER"],["TABQqtmBi1w","LETTERHEAD"],["a4","LETTERHEAD"],["TABQqqo4v1s","INVITATION"],["TACiv026174","INVITATION"],["TABQqu1V70w","INVITATION"],["TACC4LJ8cp8","INVITATION"],["TABQqppdmyw","INVITATION"],["TACjUwMYSIM","INVITATION"],["businessCard",
"BUSINESS_CARD"],["TABQqt5Z4RU","POSTCARD"],["TACjUzwty98","POSTCARD"]]),wfa=new Map([["TACiRRRQ1rQ","FLYER"],["TACixUyoqp0","FLYER"],["poster","POSTER"],["TABQqtmBi1w","LETTERHEAD"],["a4","LETTERHEAD"],["TABQqqo4v1s","INVITATION"],["TACiv026174","INVITATION"],["TABQqu1V70w","INVITATION"],["TACC4LJ8cp8","INVITATION"],["TABQqppdmyw","INVITATION"],["TACjUwMYSIM","INVITATION"],["businessCard","BUSINESS_CARD"],["TABQqt5Z4RU","POSTCARD"],["TACjUzwty98","POSTCARD"]]),xfa=new Map([["poster","POSTER"],["TACRzD6R1Mo",
"BUSINESS_CARD"],["TACRsbXUzY8","BUSINESS_CARD"],["TABQqtmBi1w","LETTERHEAD"],["a4","LETTERHEAD"],["TACiRRRQ1rQ","FLYER"],["TACixUyoqp0","FLYER"],["TACiRn71mUI","INVITATION"],["TACixRR28vY","INVITATION"],["card","INVITATION"],["TABQqt5Z4RU","POSTCARD"],["TACjUzwty98","POSTCARD"]]),yfa=new Map([["posterUS","POSTER"],["TABQqupS2LE","FLYER"],["resume","FLYER"],["usLetter","FLYER"],["foodDrinkMenu","FLYER"],["realEstateFlyer","FLYER"],["certificate","FLYER"],["TACC4LJ8cp8","INVITATION"],["TABQqppdmyw",
"INVITATION"],["TABQqqo4v1s","INVITATION"],["TACiv026174","INVITATION"],["TABQqu1V70w","INVITATION"],["TACjUwMYSIM","INVITATION"],["TACRzIDOAWk","INVITATION"],["TACRzD6R1Mo","BUSINESS_CARD"],["TACRsbXUzY8","BUSINESS_CARD"],["TACRsibVUu4","POSTCARD"],["TACRzKTiVOc","POSTCARD"],["TACRsaKlUIo","POSTCARD"],["TACRzCdizdA","POSTCARD"],["TACRsgErAyo","POSTCARD"]]),zfa=new Map([["TACQ-jGq9fY","POSTER"]]);function Afa(a){return X(new Zl("print_checkout_payment"),"order_id",a)};function S7(a,b){switch(b){case "STANDARD":return a.format("printOrderShippingMethodStandardType");case "EXPRESS":return a.format("printOrderShippingMethodExpressType");default:throw Error("Expected a ShippingMethod, but got '"+b+"'");}}function T7(a,b){switch(b){case "STANDARD":return a.format("printOrderShippingMethodStandardDescription");case "EXPRESS":return a.format("printOrderShippingMethodExpressDescription");default:throw Error("Expected a ShippingMethod, but got '"+b+"'");}}
function Q7(a,b){var c=b.NK,d=b.MK,e=b.name;switch(b.GE){case "INCHES":return null==e?a.Ia("printOrderPaperDimensionsInchesHtml",c,d):a.format("printOrderNamedPaperDimensionsInches",e,c,d);case "CENTIMETERS":return null==e?a.Ia("printOrderPaperDimensionsCentimetresHtml",c,d):a.format("printOrderNamedPaperDimensionsCentimetres",e,c,d);default:throw Error("paper dimensions not translated for units: "+b.GE);}};function U7(a){soy.asserts.assertType(null==a.attributes||a.attributes instanceof soydata.SanitizedHtmlAttribute||a.attributes instanceof soydata.UnsanitizedText||goog.isString(a.attributes),"attributes",a.attributes,"?soydata.SanitizedHtmlAttribute|string|undefined");var b=a.attributes;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");var c=a.v;soy.asserts.assertType(null==a.description||a.description instanceof
goog.soy.data.SanitizedContent||a.description instanceof soydata.SanitizedHtml||a.description instanceof soydata.UnsanitizedText||goog.isString(a.description),"description",a.description,"?soydata.SanitizedHtml|string|undefined");var d=a.description;soy.asserts.assertType(a.label instanceof goog.soy.data.SanitizedContent||a.label instanceof soydata.SanitizedHtml||a.label instanceof soydata.UnsanitizedText||goog.isString(a.label),"label",a.label,"!soydata.SanitizedHtml|string");var e=a.label;soy.asserts.assertType(null==
a.selected||goog.isBoolean(a.selected)||1===a.selected||0===a.selected,"selected",a.selected,"boolean|null|undefined");var g=a.selected;soy.asserts.assertType(goog.isString(a.value)||a.value instanceof goog.soy.data.SanitizedContent,"value",a.value,"string|goog.soy.data.SanitizedContent");a=a.value;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"listbox__option orderSummaryOption'+(c?" "+soy.$$escapeHtmlAttribute(c):"")+(g?" listbox__option--selected":"")+'"'+(b?" "+soy.$$filterHtmlAttributes(b):
"")+' data-value\x3d"'+soy.$$escapeHtmlAttribute(a)+'"\x3e\x3cdiv class\x3d"orderSummaryOption__content"\x3e\x3cdiv class\x3d"orderSummaryOption__label"\x3e'+soy.$$escapeHtml(e)+"\x3c/div\x3e"+(d?'\x3cdiv class\x3d"orderSummaryOption__description"\x3e'+soy.$$escapeHtml(d)+"\x3c/div\x3e":"")+"\x3c/div\x3e\x3c/div\x3e")}
function V7(a){soy.asserts.assertType(goog.isString(a.Ai)||a.Ai instanceof goog.soy.data.SanitizedContent,"shippingLabel",a.Ai,"string|goog.soy.data.SanitizedContent");var b=a.Ai;soy.asserts.assertType(goog.isString(a.da)||a.da instanceof goog.soy.data.SanitizedContent,"price",a.da,"string|goog.soy.data.SanitizedContent");a=a.da;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"shippingSelectionLabel"\x3e\x3cspan class\x3d"shippingSelectionLabel__copies"\x3e'+soy.$$escapeHtml(b)+'\x3c/span\x3e\x3cspan class\x3d"shippingSelectionLabel__price"\x3e'+
soy.$$escapeHtml(a)+"\x3c/span\x3e\x3c/div\x3e")};function W7(a){nT.apply(this,arguments)}r(W7,nT);function X7(a){return new W7(a)}W7.prototype.oh=function(){return soydata.VERY_UNSAFE.ordainSanitizedHtml(this.$el.find(".paperSizeOption__label").prop("outerHTML"))};function Y7(a){nT.apply(this,arguments)}r(Y7,nT);
function Z7(a){var b=$;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");var c=a.v;soy.asserts.assertType(a.Vs instanceof goog.soy.data.SanitizedContent||a.Vs instanceof soydata.SanitizedHtml||a.Vs instanceof soydata.UnsanitizedText||goog.isString(a.Vs),"pageCountDescription",a.Vs,"!soydata.SanitizedHtml|string");var d=a.Vs;soy.asserts.assertType(goog.isString(a.sB)||a.sB instanceof goog.soy.data.SanitizedContent,
"pageCountLabel",a.sB,"string|goog.soy.data.SanitizedContent");var e=a.sB;soy.asserts.assertType(null==a.selected||goog.isBoolean(a.selected)||1===a.selected||0===a.selected,"selected",a.selected,"boolean|null|undefined");var g=a.selected;soy.asserts.assertType(goog.isString(a.value)||a.value instanceof goog.soy.data.SanitizedContent,"value",a.value,"string|goog.soy.data.SanitizedContent");a=soydata.VERY_UNSAFE.ordainSanitizedHtml(U7({label:e,value:a.value,attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('data-page-count-label\x3d"'+
soy.$$escapeHtmlAttribute(e)+'"'),v:c,description:d,selected:g}));b=b(a.toString());return $7(b)}function $7(a){return new Y7(a)}Y7.prototype.oh=function(){return this.$el.attr("data-page-count-label").toString()};function a8(a){nT.apply(this,arguments)}r(a8,nT);
function Bfa(a){var b=$,c;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");c=a.v;soy.asserts.assertType(null==a.Pt||a.Pt instanceof goog.soy.data.SanitizedContent||goog.isString(a.Pt),"unitPrice",a.Pt,"null|string|undefined");var d=a.Pt;soy.asserts.assertType(goog.isString(a.kw)||a.kw instanceof goog.soy.data.SanitizedContent,"numberOfCopies",a.kw,"string|goog.soy.data.SanitizedContent");var e=a.kw;soy.asserts.assertType(goog.isString(a.da)||
a.da instanceof goog.soy.data.SanitizedContent,"price",a.da,"string|goog.soy.data.SanitizedContent");var g=a.da;soy.asserts.assertType(null==a.selected||goog.isBoolean(a.selected)||1===a.selected||0===a.selected,"selected",a.selected,"boolean|null|undefined");var h=a.selected;soy.asserts.assertType(goog.isString(a.value)||a.value instanceof goog.soy.data.SanitizedContent,"value",a.value,"string|goog.soy.data.SanitizedContent");a=a.value;c=soydata.VERY_UNSAFE.ordainSanitizedHtml(U7({label:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks('\x3cdiv class\x3d"orderQuantityOption__label"\x3e\x3cspan class\x3d"orderQuantityOption__copies"\x3e'+
soy.$$escapeHtml(a)+'\x3c/span\x3e\x3cspan class\x3d"orderQuantityOption__price"\x3e'+soy.$$escapeHtml(g)+"\x3c/span\x3e\x3c/div\x3e"),value:a,attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('data-copies\x3d"'+soy.$$escapeHtmlAttribute(e)+'" data-price\x3d"'+soy.$$escapeHtmlAttribute(g)+'"'),v:c+" orderQuantityOption",description:d,selected:h}));b=b(c.toString());return b8(b)}function b8(a){return new a8(a)}
a8.prototype.oh=function(){var a=this.$el.attr("data-copies").toString(),b=this.$el.attr("data-price").toString();soy.asserts.assertType(goog.isString(a)||a instanceof goog.soy.data.SanitizedContent,"copies",a,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(null==b||b instanceof goog.soy.data.SanitizedContent||goog.isString(b),"price",b,"null|string|undefined");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"orderQuantitySelectionLabel"\x3e\x3cspan class\x3d"orderQuantitySelectionLabel__copies"\x3e'+
soy.$$escapeHtml(a)+"\x3c/span\x3e"+(b?'\x3cspan class\x3d"orderQuantitySelectionLabel__price"\x3e'+soy.$$escapeHtml(b)+"\x3c/span\x3e":"")+"\x3c/div\x3e")};function c8(a){nT.apply(this,arguments)}r(c8,nT);function d8(a){return new c8(a)}c8.prototype.oh=function(){return this.$el.attr("data-label").toString()};function e8(a){nT.apply(this,arguments)}r(e8,nT);function f8(a){return new e8(a)}e8.prototype.oh=function(){return this.$el.attr("data-label").toString()};function g8(a){nT.apply(this,arguments)}r(g8,nT);
function h8(a){var b=$,c;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");c=a.v;soy.asserts.assertType(goog.isString(a.Ai)||a.Ai instanceof goog.soy.data.SanitizedContent,"shippingLabel",a.Ai,"string|goog.soy.data.SanitizedContent");var d=a.Ai;soy.asserts.assertType(goog.isString(a.yt)||a.yt instanceof goog.soy.data.SanitizedContent,"shippingDescription",a.yt,"string|goog.soy.data.SanitizedContent");var e=a.yt;
soy.asserts.assertType(goog.isString(a.da)||a.da instanceof goog.soy.data.SanitizedContent,"price",a.da,"string|goog.soy.data.SanitizedContent");var g=a.da;soy.asserts.assertType(null==a.selected||goog.isBoolean(a.selected)||1===a.selected||0===a.selected,"selected",a.selected,"boolean|null|undefined");var h=a.selected;soy.asserts.assertType(goog.isString(a.value)||a.value instanceof goog.soy.data.SanitizedContent,"value",a.value,"string|goog.soy.data.SanitizedContent");a=a.value;c=soydata.VERY_UNSAFE.ordainSanitizedHtml(U7({label:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks('\x3cdiv class\x3d"shippingOption__label"\x3e\x3cspan class\x3d"shippingSelectionLabel__copies"\x3e'+
soy.$$escapeHtml(d)+'\x3c/span\x3e\x3cspan class\x3d"shippingSelectionLabel__price"\x3e'+soy.$$escapeHtml(g)+"\x3c/span\x3e\x3c/div\x3e"),value:a,attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('data-label\x3d"'+soy.$$escapeHtmlAttribute(d)+'" data-price\x3d"'+soy.$$escapeHtmlAttribute(g)+'"'),v:c,description:e,selected:h}));b=b(c.toString());return i8(b)}function i8(a){return new g8(a)}g8.prototype.oh=function(){return V7({Ai:this.$el.attr("data-label").toString(),da:this.$el.attr("data-price").toString()})};function j8(a){var b=this;hc.call(this,a);a.on("click",".licensesMore",function(){return b.trigger(k8)});a.on("change",".mediaLicenses__licenseSelect",function(){return b.trigger(l8)})}r(j8,hc);j8.prototype.NQ=function(a){var b=$(".licensesMore");a.Bi(b)};var k8="CLICK_LICENSES_MORE",l8="LICENSE_SELECT";
function m8(a){soy.asserts.assertType(goog.isBoolean(a.ie)||1===a.ie||0===a.ie,"showOneTimeUse",a.ie,"boolean");soy.asserts.assertType(goog.isString(a.md)||a.md instanceof goog.soy.data.SanitizedContent,"oneTimeUse",a.md,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Nc)||a.Nc instanceof goog.soy.data.SanitizedContent,"oneTimeUseDescription",a.Nc,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(a.je)||1===a.je||0===a.je,"showRoyaltyFree",
a.je,"boolean");soy.asserts.assertType(goog.isString(a.Fc)||a.Fc instanceof goog.soy.data.SanitizedContent,"royaltyFree",a.Fc,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Qc)||a.Qc instanceof goog.soy.data.SanitizedContent,"royaltyFreeDescription",a.Qc,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(a.Rg)||1===a.Rg||0===a.Rg,"showExtended",a.Rg,"boolean");soy.asserts.assertType(goog.isString(a.Id)||a.Id instanceof goog.soy.data.SanitizedContent,
"extended",a.Id,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Yd)||a.Yd instanceof goog.soy.data.SanitizedContent,"extendedDescription",a.Yd,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.be)||a.be instanceof goog.soy.data.SanitizedContent,"noLicenseOptionDescription",a.be,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(a.Pj instanceof soydata.SanitizedHtml||a.Pj instanceof soydata.UnsanitizedText||goog.isString(a.Pj),
"fullInformationHtml",a.Pj,"soydata.SanitizedHtml");var b=a.Pj,b=soydata.VERY_UNSAFE.ordainSanitizedHtml(O1(a)+'\x3cp class\x3d"licensesDetails__fullInformation outro"\x3e'+soy.$$escapeHtml(b)+"\x3c/p\x3e"),b=$(b.toString());Az.call(this,{className:"licensesPopOver",content:b,We:a.confirm,position:xp})}r(m8,Az);function n8(a,b){var c=this;this.view=b;this.Cb=a.Cb;this.Aa=a.Aa;this.Oa=a.Oa;this.rb=new Map([].concat(ma(new Map([["a","a"],["b","b"]]))));this.view.on(k8,function(){return c.lO()});this.view.on(l8,function(){throw Error("License selection not yet implemented.");})}function Cfa(a){return{NA:Ue(a.Aa),ri:a.Cb.map(function(b){return Dfa({media:b,Aa:a.Aa,Oa:a.Oa,rb:a.rb})})}}
n8.prototype.lO=function(){function a(a){return c.Cb.some(function(c){return b(c,a)})}function b(a,b){return a.Dw.some(function(a){return a.type==b})}var c=this,d={confirm:We(this.Aa),ie:a("ONE_USE"),md:this.Oa.md(),Nc:this.Oa.Nc(),je:a("ROYALTY_FREE"),Fc:this.Oa.Fc(),Qc:this.Oa.Qc(),Rg:a("EXTENDED"),Id:this.Oa.Id(),Yd:this.Oa.Yd(),be:this.Oa.be(),Pj:Xe(this.Oa,Efa)};this.view.NQ(new m8(d))};
function Dfa(a){var b=0<a.media.Bc.length,c=b?a.media.Bc[0].type:null;return{X8:a.Aa.ft(),ug:a.media.ug,nN:!/\.png$/.test(a.media.ug),title:a.media.ON,Kr:a.Aa.Kr(a.media.bh),kH:c?o8(c,a.Oa):null,xz:b?Ffa(a.media.Bc[0].XN,a.Aa):null,et:b?null:a.media.Dw.map(function(b){var c=a.Aa,g=a.Oa,h=a.rb.get(a.media.ba),c=c.Al(b.da),g=b.type?o8(b.type,g):null;return{selected:b.type===h,text:g+" - "+c,value:b.type}})}}
function o8(a,b){switch(a){case "ONE_USE":return b.md();case "ROYALTY_FREE":return b.Fc();case "EXTENDED":return b.Id();default:throw Error("Unknown LicenseType '"+a+"'.");}}function Ffa(a,b){if(null==a||Infinity===a)return null;var c=moment.duration(a,"minutes");a=Math.floor(c.asHours());c=c.minutes();return a?b.format("paymentPageLicenseRemainingHours",a):Ve(b,c)}n8.prototype.destroy=function(){this.view.remove()};var Efa=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3ca href\x3d"https://about.canva.com/license-agreements/" target\x3d"_blank"\x3eabout.canva.com/license-agreements\x3c/a\x3e');function Gfa(a,b){var c=this;this.Ab=a;this.$W=b;this.Ab.once("remove",function(){return c.$W.destroy()})}function Hfa(a){return np(a.Ab).then(function(){return a.$W.rb})};function p8(a,b){var c=this;this.view=b;this.fa=a.fa||null;this.aa=a.aa;this.gb=a.gb;this.Ac=a.Ac;this.kh=a.kh;this.rb=a.rb;this.Cb=a.Cb;this.Fa=a.Fa;this.Ad=a.Ad;this.nQ=a.nQ;this.RX=[];this.LG=null;this.view.on(q8,function(){return Ifa(c)});this.view.on(r8,function(){c.no();null!=c.LG&&c.LG()})}function Jfa(a,b){return a.reduce(function(a,d){return a+(0<d.Bc.length?0:s8(d,b).da)},0)}
function s8(a,b){var c=b.get(a.ba)||"ONE_USE";b=a.Dw.find(function(a){return a.type===c});return y(b||a.Dw[0],'No pricing options found for media "{}"',a.ba)}function Kfa(a,b){return new p8(a,b)}p8.prototype.destroy=function(){this.view.remove()};
function Lfa(a,b){a=a.Cb.filter(function(a){return 0===a.Bc.length}.bind(a)).map(function(a){var b=s8(a,this.rb);return new fi({qq:new Yh({media:a.ba,version:a.ca,document:this.Ac().id,dk:b.type})})}.bind(a));return[].concat([new fi({rP:new ai({order:b})}),new fi({sP:new ci({order:b})})],ma(a))}
function t8(a,b){function c(a,e){var g=this,h=this.Ac();return wj(this.aa,new Fi({mode:"DESIGN",Ee:new Ei({document:h.id,Zb:h.version,O:b,Ub:"MEDIA"}),Y:a,limit:50})).then(function(a){if(!a.Y)return a.bd;var b=Math.min(2*e,1E3);return P.delay(e).then(function(){return c.call(g,a.Y,b)}).then(function(b){return[].concat(ma(a.bd),ma(b))})})}return c.call(a,null,50).then(function(a){return a.map(function(a){return a.media})})}
function u8(a,b){a.Ad=b;v8(a,w8({fa:a.fa,gb:a.gb,rb:a.rb,Cb:a.Cb,Ad:a.Ad}))}p8.prototype.pv=function(){return this.Cb};function Mfa(a,b,c){a.RX=b;a.Ad=c;Nfa(a.view);return a.kh().then(function(){return t8(a,b)}).then(function(b){a.Cb=b;v8(a,w8({fa:a.fa,gb:a.gb,rb:a.rb,Cb:a.Cb,Ad:a.Ad}))})}p8.prototype.ND=function(a){return w8({fa:this.fa,rb:this.rb,Cb:this.Cb,Ad:a}).lm};
function w8(a){var b=a.Ad.uY+a.Ad.tP+a.Ad.Fp,c=a.fa&&a.fa.Zv||0,d=Jfa(a.Cb,a.rb),e=Math.min(d,c),g=a.gb?Ofa({gb:a.gb,Ad:a.Ad}):0;return{Im:c,Hj:e,AG:d,lm:Number((d-e+b-g).toFixed(2)),EE:a.gb?{c1:g,gb:a.gb}:null,gm:a.Ad.tP}}
function Ofa(a){var b=[].concat(ma(new Set(a.gb.yD))).reduce(function(b,c){switch(c){case "PRINT_PRODUCT":return b+a.Ad.uY+a.Ad.Fp;case "PRINT_SHIPPING":return b+a.Ad.tP;default:throw Error("Cannot process discount of type '"+c+"'");}},0);switch(a.gb.type){case "AMOUNT":var c=y(a.gb.ep,"AMOUNT discount must have an amount.");return Math.min(b,c.value);case "PERCENTAGE":return c=y(a.gb.xh,"PERCENTAGE discount must have a percentage.")/100,Number(Math.min(b,c*b).toFixed(2));default:throw Error("Unknown discount type '"+
a.gb.type+"'.");}}
function v8(a,b){var c=a.Fa.Hj(b.Hj);a.view.$el.find(".printOrderSummary__creditUsed").empty().append(c);c=pf(a.Fa,b.Im);a.view.$el.find(".printOrderSummary__creditUsedLabel").empty().append(c);var c=a.view,d=a.Fa.da(b.AG);0!==b.AG?c.$el.find(".printOrderSummary__premiumImagesLink").show():c.$el.find(".printOrderSummary__premiumImagesLink").hide();c.$el.find(".printOrderSummary__premiumImagesTotalPrice").empty().append(d);c=a.Fa.da(b.lm);a.view.$el.find(".printOrderSummary__orderTotalPrice").empty().append(c);c=
0<b.gm?a.Fa.da(b.gm):a.Fa.format("printOrderSummaryPriceFree");a.view.$el.find(".printOrderSummary__shippingPrice").empty().append(c);c=!!b.EE;a.view.$el.find(".printOrderSummary__couponDiscountInfo").toggleClass("printOrderSummary__info--hidden",!c);if(b.EE){c=a.view;a:{var e=b.EE.gb,d=a.Fa,g=e.eh,h=new Set(e.yD),h=1===h.size&&h.has("PRINT_SHIPPING")?d.format("printOrderSummaryDiscountShipping"):1===h.size&&h.has("PRINT_PRODUCT")?d.format("printOrderSummaryDiscountPrints"):d.format("printOrderSummaryDiscountOrder");
switch(e.type){case "PERCENTAGE":e=y(e.xh,"PERCENTAGE discount must have a percentage.");d=d.format("printOrderSummaryPercentageCouponDiscountLabel",g,e,h);break a;case "AMOUNT":e=y(e.ep,"AMOUNT discount must have an amount.");d=d.format("printOrderSummaryAmountCouponDiscountLabel",g,e.value,h);break a;default:throw Error("Unknown discount type "+e.type+".");}}c.$el.find(".printOrderSummary__couponDiscountLabel").empty().append(d);c=a.Fa.da(b.EE.c1);a.view.$el.find(".printOrderSummary__couponDiscountAmount").empty().append(c)}c=
a.view;0<b.AG?c.slideDown(c.$el.find(".printOrderSummary__premiumImagesInfo")):c.slideUp(c.$el.find(".printOrderSummary__premiumImagesInfo"));a=a.view;b.Hj?a.slideDown(a.$el.find(".printOrderSummary__creditInfo")):a.slideUp(a.$el.find(".printOrderSummary__creditInfo"))}function Ifa(a){x8(a.view,!0);t8(a,a.RX).then(function(b){a.nQ({Cb:b,rb:new Map})}).finally(function(){return x8(a.view,!1)})}p8.prototype.no=function(){this.gb=null;v8(this,w8({fa:this.fa,gb:this.gb,rb:this.rb,Cb:this.Cb,Ad:this.Ad}))};
function Pfa(a,b){w(!a.LG,"onDiscountRemoved: listener already registered");a.LG=b};function y8(a){var b=this;hc.call(this,a);this.$el.on("click",".printOrderSummary__premiumImagesLink",function(a){a.preventDefault();$(a.currentTarget).hasClass("printOrderSummary__premiumImagesLink--loading")||b.trigger(q8)});this.$el.on("click",".printOrderSummary__removeCouponLink",function(a){a.preventDefault();b.trigger(r8)})}r(y8,hc);function x8(a,b){a.$el.find(".printOrderSummary__premiumImagesLink").toggleClass("printOrderSummary__premiumImagesLink--loading",b)}
y8.prototype.slideDown=function(a){a.hasClass("printOrderSummary__info--hidden")&&(a.css("display","none"),a.removeClass("printOrderSummary__info--hidden"),a.slideDown())};y8.prototype.slideUp=function(a){a.slideUp(function(){a.addClass("printOrderSummary__info--hidden");a.css("display","")})};
function Nfa(a){var b=$(soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cimage src\x3d"https://static.canva.com/static/images/loading_spinner_dark.png" /\x3e').toString());a.$el.find(".printOrderSummary__premiumImagesTotalPrice").empty().append(b)}var q8="CLICK_PREMIUM_IMAGES_LINK",r8="REMOVE_COUPON";function Qfa(a){soy.asserts.assertType(goog.isString(a.fd)||a.fd instanceof goog.soy.data.SanitizedContent,"buttonText",a.fd,"string|goog.soy.data.SanitizedContent");var b=a.fd;soy.asserts.assertType(goog.isString(a.yl)||a.yl instanceof goog.soy.data.SanitizedContent,"inputPlaceholder",a.yl,"string|goog.soy.data.SanitizedContent");var c=a.yl;soy.asserts.assertType(null==a.$g||a.$g instanceof goog.soy.data.SanitizedContent||goog.isString(a.$g),"buttonClasses",a.$g,"null|string|undefined");var d=a.$g;
soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");var e=a.v;soy.asserts.assertType(null==a.disabled||goog.isBoolean(a.disabled)||1===a.disabled||0===a.disabled,"disabled",a.disabled,"boolean|null|undefined");var g=a.disabled;soy.asserts.assertType(null==a.vA||a.vA instanceof goog.soy.data.SanitizedContent||goog.isString(a.vA),"inputClasses",a.vA,"null|string|undefined");var h=a.vA;soy.asserts.assertType(null==
a.fG||a.fG instanceof goog.soy.data.SanitizedContent||goog.isString(a.fG),"inputValue",a.fG,"null|string|undefined");a=a.fG;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"inputWithButton'+(e?" "+soy.$$escapeHtmlAttribute(e):"")+'"\x3e'+H1({v:"inputWithButton__input "+h,disabled:g,placeholder:c,value:a})+w_({v:"inputWithButton__button buttonSecondary "+d,disabled:g,text:b})+"\x3c/div\x3e")};function z8(a,b){var c=this;hc.call(this,a);this.bj=b;a.on("click",".paymentForm__applyCouponButton",function(){c.trigger(A8)})}r(z8,hc);function B8(a,b){t1(a.$el.find(".paymentForm__cardInputContainer")).xk(b)}function C8(a,b){t1(a.$el.find(".paymentForm__couponInputContainer")).xk(b)}function D8(a){t1(a.$el.find(".paymentForm__couponInputContainer")).lg()}z8.prototype.Tz=function(){return this.$el.find(".paymentForm__couponCodeInput").val().toString().trim()};
function E8(a,b){a.$el.find(".paymentForm__applyCouponButton").toggleClass("submitting",b)}var A8="APPLY_COUPON";function F8(a,b,c){var d=this;this.view=b;this.wd=c;this.fa=a.fa;this.gb=null;this.aa=a.aa;this.va=a.va;this.na=a.na;this.Ya=a.Ya;this.kq=!1;this.Aa=a.Aa;this.Nf=a.Nf;Pfa(this.Nf,function(){return d.no()});this.view.on(A8,function(){return Rfa(d)})}f=F8.prototype;f.destroy=function(){this.wd.remove();this.view.remove()};f.vk=function(a){this.wd.vk(a)};
f.GB=function(a){var b=this;return P.resolve().then(function(){Fa(!b.kq,"Cannot pay invoice while processing a payment");b.kq=!0;var c=!1;t1(b.view.$el.find(".paymentForm__cardInputContainer")).lg();D8(b.view);return b.MN().then(function(){return b.hE(a)}).then(function(a){return Sfa(b,a.Je)}).then(function(a){return b.pH(a)}).then(function(){c=!0}).catch(G8,function(){var a=b.Aa.Ia("paymentPageDiscountErrorHtml","https://support.canva.com/troubleshooting");C8(b.view,a)}).catch(TT,function(){return b.fA()}).catch(oj,
function(a){return b.Xj(a)}).catch(function(){return b.fA()}).then(function(){return c}).finally(function(){b.kq=!1})})};f.hE=function(a){a=new Qh({D:this.va,items:Lfa(this.Nf,a),currency:"USD"});return this.aa.hE(a)};function Sfa(a,b){return a.gb?xj(a.aa,new gi({Je:b,gb:a.gb.id,no:!1})).catch(function(){throw new G8;}).then(function(){return b}):P.resolve(b)}f.pH=function(a){return xj(this.aa,new gi({Je:a,action:"PAY_SYNCHRONOUS",no:!1}))};
f.MN=function(){var a=this;return P.resolve().then(function(){if(H8(a.fa?a.fa.Xh:null))return a.wd.uM()})};function H8(a){if(!a)return!0;var b=new Date,c=b.getUTCMonth()+1,b=b.getUTCFullYear();return a.Vu<b||a.Vu===b&&a.dF<c}f.fA=function(){var a=Te(this.Aa);B8(this.view,a)};f.Xj=function(a){a=ZT(this.Ya,a);B8(this.view,a)};
function Rfa(a){function b(){var a=new Ni({D:this.va,user:this.na,eh:this.view.Tz()});return qj(this.aa.N,"/billing/discounts",{brand:ib("brand",a.D),user:ib("user",a.user),couponCode:ib("couponCode",a.eh)}).catch(rj).get(0).then(La).then(Pi).then(function(a){return a.gb})}D8(a.view);E8(a.view,!0);(function(){var a=new Qi({D:this.va,user:this.na,eh:this.view.Tz(),limit:1});return yj(this.aa,a).then(function(a){return a.KK[0]})}).call(a).then(function(c){return c||b.call(a)}).then(function(b){a.gb=
b;var d=a.Nf;d.gb=b;v8(d,w8({fa:d.fa,gb:d.gb,rb:d.rb,Cb:d.Cb,Ad:d.Ad}));a.view.$el.find(".paymentForm__couponCodeInput").val("")}).catch(function(){var b=a.Aa.format("paymentPageCouponError");C8(a.view,b)}).finally(function(){return E8(a.view,!1)})}f.no=function(){this.gb=null};function G8(){}r(G8,Error);function I8(a){switch(a){case "POSTER":return{HB:[1,2,3,4,5,10],Ju:1};case "BUSINESS_CARD":return{HB:[50,100,150,200,250,500,1E3,1500,2E3],Ju:50};case "POSTCARD":return{HB:[1,5,10,25,50,100,150,200,250,500,1E3],Ju:50};case "LETTERHEAD":return{HB:[25,50,100,150,200,250,500,1E3],Ju:25};case "FLYER":case "INVITATION":return{HB:[1,5,10,25,50,100,150,200,250,500,1E3],Ju:25};case "SQUARE_CARD":throw Error("square cards are not supported yet");default:throw Error("Expected PrintProductType, found "+a);}}
function J8(a){return I8(a).HB};function U0(a){gc.apply(this,arguments)}r(U0,gc);function K8(a){return a.$el.find(".page--printMarkingsEnabled").toArray().map(function(a){return new L8($(a))})}U0.prototype.tt=function(a){K8(this).forEach(function(b){return b.tt(a)})};U0.prototype.jC=function(a){K8(this).forEach(function(b){return b.jC(a)})};function L8(a){gc.apply(this,arguments)}r(L8,gc);L8.prototype.tt=function(a){this.$el.find(".page__bleedAreaLine").toggleClass("page__printLine--highlight",a)};
L8.prototype.jC=function(a){this.$el.find(".page__safeAreaLine").toggleClass("page__printLine--highlight",a)};function M8(a){gc.apply(this,arguments)}r(M8,gc);function N8(a,b,c){w(!O8(a,b),"Cannot add page with name {}. A page with that name already exists.",b);b=$(P8({name:b}).toString());b=new Q8(b);b.zo(c);a.$el.append(b.$el)}
function R8(a,b){return new P(function(c){var d=Tfa(a),e=a.R(b);y(e,"No page with name the name '{}' exists.",b);var g=d.o();a.ea(g);il(function(){a.wt(!0);e.wt(!0);d.wt(!0);var b=e.o(),b=b===g?P.resolve():Ufa(a,b);d.xt(!1);e.xt(!0);b=b.then(function(){d.wt(!1);e.wt(!1);a.wt(!1);a.$el.height("")});c(b)})})}function O8(a,b){return 0<a.$el.children('[data-page-name\x3d"'+b+'"]').length}
M8.prototype.R=function(a){var b=this.$el.children('[data-page-name\x3d"'+a+'"]');w(2>b.length,"Must contain at most one page with name '{}', but contains {}",a,b.length);return 1===b.length?new Q8(b):null};M8.prototype.Gb=function(){return this.$el.children(".pagesPanel__page").toArray().map(function(a){return new Q8($(a))})};function Tfa(a){a=a.$el.children(".pagesPanel__page--visible");w(1===a.length,"There must be exactly one current page, but there are {}",a.length);return new Q8(a)}
M8.prototype.ea=function(a){this.$el.height(a)};M8.prototype.wt=function(a){this.$el.toggleClass("pagesPanel--swapping",a)};function Ufa(a,b){var c=Cf(a.$el[0]);a.ea(b);return c}function Q8(a){gc.apply(this,arguments)}r(Q8,gc);f=Q8.prototype;f.getName=function(){return this.$el.attr("data-page-name").toString()};f.zo=function(a){this.$el.empty();this.$el.append(a)};f.sh=function(){return this.$el.hasClass("pagesPanel__page--visible")};
f.xt=function(a){this.$el.toggleClass("pagesPanel__page--visible",a)};f.wt=function(a){this.$el.toggleClass("pagesPanel__page--swapping",a)};f.o=function(){return this.$el.outerHeight()};function S8(a){soy.asserts.assertType(a.O instanceof soydata.SanitizedHtml||a.O instanceof soydata.UnsanitizedText||goog.isString(a.O),"pages",a.O,"soydata.SanitizedHtml");var b=a.O;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");var c=a.v;soy.asserts.assertType(null==a.Av||goog.isBoolean(a.Av)||1===a.Av||0===a.Av,"horizontal",a.Av,"boolean|null|undefined");a=a.Av;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"pagesPanel'+
(c?" "+soy.$$escapeHtmlAttribute(c):"")+(a?" pagesPanel--horizontal":"")+'"\x3e'+soy.$$escapeHtml(b)+"\x3c/div\x3e")}
function P8(a){soy.asserts.assertType(goog.isString(a.name)||a.name instanceof goog.soy.data.SanitizedContent,"name",a.name,"string|goog.soy.data.SanitizedContent");var b=a.name;soy.asserts.assertType(null==a.content||a.content instanceof soydata.SanitizedHtml||a.content instanceof soydata.UnsanitizedText||goog.isString(a.content),"content",a.content,"?soydata.SanitizedHtml|string|undefined");var c=a.content;soy.asserts.assertType(null==a.visible||goog.isBoolean(a.visible)||1===a.visible||0===a.visible,
"visible",a.visible,"boolean|null|undefined");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"pagesPanel__page'+(a.visible?" pagesPanel__page--visible":"")+'" data-page-name\x3d"'+soy.$$escapeHtmlAttribute(b)+'"\x3e'+(c?soy.$$escapeHtml(c):"")+"\x3c/div\x3e")};function T8(a){gc.apply(this,arguments)}r(T8,gc);function W0(){var a=$(".editorSideDrawer");return new T8(a)}T8.prototype.xt=function(a){if(a===this.sh())return P.resolve();this.$el.toggleClass("editorSideDrawer--hidden",!a);return Cf(this.$el[0])};T8.prototype.zo=function(a){this.$el.find(".editorSideDrawer__content").empty().append(a)};T8.prototype.sh=function(){return!this.$el.hasClass("editorSideDrawer--hidden")};T8.prototype.xr=function(a){return a(this.$el.find(".editorSideDrawer__content"))};
function U8(a,b){a.$el.find(".editorSideDrawer__loadingSpinnerContainer").toggleClass("editorSideDrawer__loadingSpinnerContainer--loading",b)};function Vfa(a){var b=goog.asserts.assertObject(a.i,"expected parameter 'messages' of type [addAdditionalAddressFieldButtonText: string, cityLabel: string, contactNumberLabel: string, countryLabel: string, fullNameLabel: string, stateLabel: string, streetAddressLabel: string, zipcodeLabel: string].");soy.asserts.assertType(null==a.Wd||goog.isObject(a.Wd),"address",a.Wd,"null|undefined|{city: string, countryCode: string, name: string, phone: string, street1: string, street2: (null|string|undefined), subdivisionCode: (null|string|undefined), zipCode: string}");
var c=a.Wd,d=goog.asserts.assertArray(a.bE,"expected parameter 'countryOptions' of type list\x3c[disabled: bool|null, selected: bool|null, text: string, value: null|string]\x3e.");soy.asserts.assertType(null==a.Et||goog.isArray(a.Et),"subdivisionOptions",a.Et,"?Array\x3c{disabled: (boolean|null|undefined), selected: (boolean|null|undefined), text: string, value: (null|string|undefined)}\x3e|undefined");a=a.Et;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"addressDetails__address addressDetails__shippingAddress"\x3e\x3cdiv class\x3d"addressDetails__inputRow"\x3e'+
n1({v:"addressDetailsAddress__nameInput",label:b.cM,input:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+H1({value:null==c?null:c.name}))})+n1({v:"addressDetailsAddress__phoneInput",label:b.fK,input:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+H1({value:null==c?null:c.nk}))})+"\x3c/div\x3e"+n1({v:"addressDetailsAddress__street1Input",label:b.eR,input:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+H1({value:null==c?null:c.Ck}))})+p1({v:"addressDetailsAddress__hiddenAddressInput",
content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+n1({v:"addressDetailsAddress__street2Input",input:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+H1({value:null==c?null:c.vj}))}))})+p1({v:"addressDetailsAddress__street2ButtonContainer",visible:!0,content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+n1({input:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks('\x3cbutton class\x3d"button buttonLink addressDetailsAddress__expandAddressButton"\x3e'+
TX()+soy.$$escapeHtml(b.qJ)+"\x3c/button\x3e")}))})+'\x3cdiv class\x3d"addressDetails__inputRow"\x3e'+n1({v:"addressDetailsAddress__cityInput",label:b.VJ,input:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+H1({value:null==c?null:c.Xd}))})+n1({v:"addressDetailsAddress__country",label:b.lK,input:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+v_({options:d,disabled:1>=d.length}))})+'\x3c/div\x3e\x3cdiv class\x3d"addressDetails__inputRow"\x3e'+(a?n1({v:"addressDetailsAddress__subdivision",
label:b.cR,input:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+v_({v:"addressDetailsAddress__subdivisionSelect",options:a}))}):"")+n1({v:"addressDetailsAddress__zipCodeInput",label:b.jS,input:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+H1({value:null==c?null:c.vf}))})+"\x3c/div\x3e\x3c/div\x3e")}
function V8(a){var b=goog.asserts.assertObject(a.Wd,"expected parameter 'address' of type [city: string, countryName: string, name: string, phone: string, street1: string, street2: null|string, subdivisionName: null|string, zipCode: string].");soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");a=a.v;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"addressSummary'+(a?" "+soy.$$escapeHtmlAttribute(a):
"")+'"\x3e\x3cdiv class\x3d"addressSummary__column"\x3e\x3cdiv\x3e'+soy.$$escapeHtml(b.name)+'\x3c/div\x3e\x3cdiv class\x3d"addressSummary__phone"\x3e'+soy.$$escapeHtml(b.nk)+'\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"addressSummary__column"\x3e\x3cdiv\x3e'+soy.$$escapeHtml(b.Ck)+"\x3c/div\x3e"+(b.vj?"\x3cdiv\x3e"+soy.$$escapeHtml(b.vj)+"\x3c/div\x3e":"")+"\x3cdiv\x3e"+soy.$$escapeHtml(b.Xd)+"\x3c/div\x3e"+(b.YZ?"\x3cdiv\x3e"+soy.$$escapeHtml(b.YZ)+"\x3c/div\x3e":"")+"\x3cdiv\x3e"+soy.$$escapeHtml(b.vf)+
"\x3c/div\x3e\x3cdiv\x3e"+soy.$$escapeHtml(b.p2)+"\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e")};function W8(a){var b=this;hc.call(this,a);a.on("click",".addressDetailsAddress__expandAddressButton",function(a){a=new X8($(a.target).closest(".addressDetails__address"));b.trigger(Y8,a)});a.on("change",".addressDetailsAddress__country select",function(a){a=new X8($(a.target).closest(".addressDetails__address"));b.trigger(Z8,a.Rj())})}r(W8,hc);function $8(a){return new X8(a.$el.find(".addressDetails__shippingAddress"))}var Y8="CLICK_ADD_APARTMENT",Z8="CHANGE_COUNTRY";
function X8(a){gc.apply(this,arguments)}r(X8,gc);f=X8.prototype;f.gs=function(){return this.$el.find(".addressDetailsAddress__cityInput .textInput").val().toString().trim()};f.getName=function(){return this.$el.find(".addressDetailsAddress__nameInput .textInput").val().toString().trim()};f.xM=function(){return this.$el.find(".addressDetailsAddress__phoneInput .textInput").val().toString().trim()};f.BM=function(){return this.$el.find(".addressDetailsAddress__street1Input .textInput").val().toString().trim()};
f.CM=function(){return this.$el.find(".addressDetailsAddress__street2Input .textInput").val().toString().trim()};function a9(a){a=a.$el.find(".addressDetailsAddress__subdivision select");return a.find("option").filter(":selected").is("[value]")?a.val().toString():null}f.DM=function(){return this.$el.find(".addressDetailsAddress__zipCodeInput .textInput").val().toString().trim()};f.Rj=function(){return this.$el.find(".addressDetailsAddress__country select").val()};function b9(a,b){var c=this;this.view=b;this.va=a.va;this.bg=a.bg;this.hj=a.hj;this.ys=a.ys;this.Il=a.Il;this.gr=a.gr;this.Ww=a.Ww;this.na=a.na;this.Na=a.Na;this.laa=Wfa(this,{bg:a.bg,ys:a.ys,Il:a.Il,gr:a.gr});this.view.on(Y8,function(a){a.$el.find(".addressDetailsAddress__hiddenAddressInput").addClass("settingContainer__hiddenInputs--visible");a.$el.find(".addressDetailsAddress__street2ButtonContainer").removeClass("settingContainer__hiddenInputs--visible")});this.view.on(Z8,function(a){if(!c.ys){var b=
A1({sb:a,Ng:c.Ww});a=c.view;b=$(v_({options:b,v:"addressDetailsAddress__subdivisionSelect"}).toString());a.$el.find(".addressDetailsAddress__subdivisionSelect").replaceWith(b)}})}
function Xfa(a){var b=null!=a.ec?dx("countryCode",a.ec.sb):null,c=-1!==["NZ","EU"].indexOf(a.vY),d=b&&a.Wh.has(b)?{Xd:a.ec.Xd,sb:a.ec.sb,name:a.ec.name,nk:a.ec.nk,Ck:a.ec.Ck,vj:a.ec.vj,u$:a.ec.Fh,vf:a.ec.vf}:null,e=b&&a.Wh.has(b)?b:Array.from(a.Wh)[0],b=z1({Wh:a.Wh,N9:e}),g;c||(g=A1({sb:e,Ng:a.dd.Ww(),SH:d&&d.u$}));var c=a.v,h={$0:{qJ:a.dd.qJ(),VJ:a.dd.VJ(),fK:a.dd.fK(),lK:a.dd.lK(),cM:a.dd.cM(),cR:a.dd.cR(),eR:a.dd.eR(),jS:a.Wh.has("US")?a.dd.jS():a.dd.format("addressDetailsPostcodeLabel")},Z0:a.dd.heading(),
fQ:a.dd.fQ(),qx:a.Ec.qx()},e=a.Ne.uc(4,5),k=g,l=a.Mba;g=$;soy.asserts.assertType(null==c||c instanceof goog.soy.data.SanitizedContent||goog.isString(c),"classes",c,"null|string|undefined");h=goog.asserts.assertObject(h,"expected parameter 'messages' of type [addressDetailsHeading: string, addressMessages: [addAdditionalAddressFieldButtonText: string, cityLabel: string, contactNumberLabel: string, countryLabel: string, fullNameLabel: string, stateLabel: string, streetAddressLabel: string, zipcodeLabel: string], saveAddressLabel: string, shippingAddressHeading: string].");
soy.asserts.assertType(null==d||goog.isObject(d),"shippingAddress",d,"null|undefined|{city: string, countryCode: string, name: string, phone: string, street1: string, street2: (null|string|undefined), subdivisionCode: (null|string|undefined), zipCode: string}");soy.asserts.assertType(goog.isString(e)||e instanceof goog.soy.data.SanitizedContent,"pageNumberOfTotal",e,"string|goog.soy.data.SanitizedContent");b=goog.asserts.assertArray(b,"expected parameter 'countryOptions' of type list\x3c[disabled: bool|null, selected: bool|null, text: string, value: null|string]\x3e.");
soy.asserts.assertType(null==k||goog.isArray(k),"subdivisionOptions",k,"?Array\x3c{disabled: (boolean|null|undefined), selected: (boolean|null|undefined), text: string, value: (null|string|undefined)}\x3e|undefined");soy.asserts.assertType(null==l||goog.isBoolean(l)||1===l||0===l,"hideSaveAddress",l,"boolean|null|undefined");d=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"addressDetails'+(c?" "+soy.$$escapeHtmlAttribute(c):"")+'"\x3e\x3cdiv class\x3d"printFlowPage__header"\x3e\x3cspan class\x3d"printFlowStepNumberBadge"\x3e'+
soy.$$escapeHtml(e)+'\x3c/span\x3e\x3ch1 class\x3d"printFlowPage__heading"\x3e'+soy.$$escapeHtml(h.Z0)+"\x3c/h1\x3e\x3c/div\x3e"+l1({heading:h.qx,content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+m1({Ua:!0,content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+Vfa({i:h.$0,Wd:d,bE:b,Et:k})+(l?"":n1({input:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks('\x3clabel\x3e\x3cinput type\x3d"checkbox" class\x3d"addressDetails__saveAddressCheckbox"/\x3e'+soy.$$escapeHtml(h.fQ)+
"\x3clabel\x3e")})))}))})+"\x3c/div\x3e");d=g(d.toString());d=new W8(d);b=a.va;c=a.bg;e=a.hj;g=a.vY;var k=a.Il,l=a.Na,h=a.dd.Ww(),m=a.gr;a=a.na;return{Db:new b9({va:b,bg:c,hj:e,ys:-1!==["NZ","EU"].indexOf(g),Il:k,Na:l,Ww:h,gr:m,na:a},d),view:d}}
function Wfa(a,b){var c={Op:function(){return t1($8(a.view).$el.find(".addressDetailsAddress__subdivision"))},Pp:function(){return a9($8(a.view))},sr:[b.bg]};return[].concat([{Op:function(){return t1($8(a.view).$el.find(".addressDetailsAddress__cityInput"))},Pp:function(){return $8(a.view).gs()},sr:[b.bg]},{Op:function(){return t1($8(a.view).$el.find(".addressDetailsAddress__nameInput"))},Pp:function(){return $8(a.view).getName()},sr:[b.bg]},{Op:function(){return t1($8(a.view).$el.find(".addressDetailsAddress__phoneInput"))},
Pp:function(){return $8(a.view).xM()},sr:[b.bg]},{Op:function(){return t1($8(a.view).$el.find(".addressDetailsAddress__street1Input"))},Pp:function(){return $8(a.view).BM()},sr:[b.bg,b.gr,b.Il]},{Op:function(){return t1($8(a.view).$el.find(".addressDetailsAddress__street2Input"))},Pp:function(){return $8(a.view).CM()},sr:[b.gr,b.Il]}],ma(b.ys?[]:[c]),[{Op:function(){return t1($8(a.view).$el.find(".addressDetailsAddress__zipCodeInput"))},Pp:function(){return $8(a.view).DM()},sr:[b.bg]}])}
b9.prototype.uv=function(){var a=$8(this.view),b;this.ys||(b=y(a9(a),"subdivision must be present"));return new a7({Xd:a.gs(),sb:a.Rj(),name:a.getName(),nk:a.xM(),Ck:a.BM(),vj:a.CM(),Fh:b,vf:a.DM()})};
function Yfa(a){if(!a.view.$el.find(".addressDetails__saveAddressCheckbox")[0].checked)return P.resolve();var b=new n7({D:a.va,user:a.na,Wd:a.uv()});a=a.Na;return qj(a.N,a.path+"/addresses/"+b.D,{id:I("id",b.id),brand:I("brand",b.D),user:I("user",b.user),address:cb.required("address",b7(b.Wd))}).catch(rj).get(0).then(La).then(Jea)}b9.prototype.destroy=function(){this.view.remove()};function c9(a){soy.asserts.assertType(a.Rr instanceof goog.soy.data.SanitizedContent||a.Rr instanceof soydata.SanitizedHtml||a.Rr instanceof soydata.UnsanitizedText||goog.isString(a.Rr),"desc",a.Rr,"!soydata.SanitizedHtml|string");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3clabel class\x3d"designProofReview__checkboxLabel"\x3e\x3cinput type\x3d"checkbox" class\x3d"designProofReview__checkbox" /\x3e\x3cspan class\x3d"designProofReview__checkboxDescription"\x3e'+soy.$$escapeHtml(a.Rr)+"\x3c/span\x3e\x3c/label\x3e")}
;function d9(a){var b=this;hc.call(this,a);this.$el.on("change",".designProofReview__checkbox",function(){b.trigger(e9)});this.$el.on("click",".designProofReview__checkoutButton",function(){b.trigger(f9)});this.$el.on("click",".designProofReview__supportLink",function(){b.trigger(g9)})}r(d9,hc);function Zfa(a){var b=$(f1({v:"designProofReview__progressbar",progress:0,EB:k1}).toString()),b=h1(b);a.$el.find(".designProofReview__progressbarContainer").prepend(b.$el)}
d9.prototype.tR=function(a){var b=this.$el.find(".designProofReview__autoDownloadIframe");1>b.length&&(b=$("\x3ciframe /\x3e",{"class":"designProofReview__autoDownloadIframe"}),this.$el.append(b));b.attr("src",a)};function $fa(a){return a.$el.find(".designProofReview__checkbox").toArray().map(function(a){return a.checked})}var e9="CHANGE_REVIEW_ITEM",g9="CLICK_SUPPORT_LINK",f9="CONTINUE_TO_CHECKOUT";function h9(a,b){var c=this;this.view=b;this.j=a.j;this.i=a.i;this.Na=a.Na;this.LL=a.LL;this.qB=a.qB;this.UO=null;this.nO=a.nO;b.on(e9,function(){return aga(c)});b.on(f9,function(){return c.nO()});b.on(g9,function(){var a=new Zl("print_review_support");c.j.wa(a)})}function bga(a){var b=a.cj;return{tu:b.tu(),Er:b.Er(cga),zu:b.zu(),description:b.description(),AE:"https://support.canva.com/troubleshooting/downloading/",fv:b.fv(),heading:b.heading(),uc:a.Ne.uc(3,5),Vw:b.Vw()}}
function dga(a,b){return new h9(a,b)}function ega(a,b){return a.LL.kI(function(a){var d=this;return efa(this.Na,new p7({order:this.qB,Es:b})).then(function(e){if("FAILED"===e.status)throw Error("export with jobId '"+b+"' failed for proof of order '"+d.qB+"'");"EXPORTED"===e.status&&a(e)})}.bind(a))}
function fga(a){var b=new o7({order:a.qB,Pc:"PROOF"});Zfa(a.view);a.UO=dfa(a.Na,b).cancellable().then(function(b){return ega(a,b.Es)}).then(function(b){b=b.url;var d=a.i.Ia("designProofReviewManualDownloadInfoHtml",b,"designProofReview__manualDownloadLink"),e=a.view;(new g1(e.$el.find(".designProofReview__progressbar"))).remove();e.$el.find(".designProofReview__progressbarContainer").addClass("designProofReview__progressbarContainer--hidden");e=a.view;e.$el.find(".designProofReview__manualDownload").empty().append(d.getContent()).removeClass("designProofReview__manualDownload--hidden");
e.$el.find(".designProofReview__manualDownloadLink").attr("download","download").attr("target","_blank");e.$el.find(".designProofReview__actionButtons").removeClass("designProofReview__actionButtons--hidden");e.$el.find(".designProofReview__checklist").removeClass("designProofReview__checklist--hidden");a.view.tR(b)}).catch(P.CancellationError,$.noop)}
function aga(a){$fa(a.view).every(function(a){return a})?a.view.$el.find(".designProofReview__checkoutButton").prop("disabled",!1):a.view.$el.find(".designProofReview__checkoutButton").prop("disabled",!0)}h9.prototype.destroy=function(){null!=this.UO&&this.UO.cancel();this.view.remove()};var cga="https://about.canva.com/terms-of-use/";var i9=new Ff("lz",!1),j9=new Ff("nu",!1),gga=new Ff("pu",!1);function k9(a){this.Dg=a.Dg;this.$l=a.$l;this.vR=a.vR;this.ik=a.ik;this.xc=a.xc;this.Fa=a.Fa;this.pc=a.pc;this.Ub=a.Ub;this.Ul=a.Ul;this.qc=a.qc;this.am=a.am;this.Ch=a.Ch;this.Cd=a.Cd;this.pX=function(){};this.oX=function(){};this.nX=function(){};this.qX=function(){};this.kO=function(){};this.Nw=a.Nw;this.G=a.G}
function l9(a){var b,c=Hf();if(null!=a.oQ)b=y(a.pc.wb.find(function(b){return b.cd===a.oQ}),"product price not found for sku {}",a.oQ);else if(null!=a.xo){var d=y(hga(a.pc,a.xo),"Selected paper size is missing from the product model");b=a.pc.wb.filter(function(b){return a.pc.sn(b.cd).ib===d});if(0===b.length)throw Error('No products have the selected paper size "{}".',a.xo);b=m9(b)}else b=m9(a.pc.wb);var e=iga(a.pc.IF()),g=n9(a.ik,b);null!=a.qc&&w(-1!==g.indexOf(a.qc),'orderQuantity: "{}" is not applicable for the product: "{}"',
a.qc,b.cd);var h=c.get(gga)?jga(a.Ub):I8(a.Ub).Ju,g=-1!==g.indexOf(h)?h:g[0],g=a.qc||g,h=F7(a.Cd,{sk:g,Sa:a.pQ}),k=a.pc.sn(b.cd),k=a.xl?o9({xo:k.ib,Dg:a.Dg,qc:g}):void 0;return new k9({Dg:a.Dg,G:c,ik:a.ik,xc:a.xc,Fa:a.Fa,pc:a.pc,Ub:a.Ub,Ul:a.Ul,Nw:a.Nw,$l:k,qc:g,am:b,Ch:h,Cd:a.Cd,vR:e})}function m9(a){function b(a){return Math.min.apply(Math,[].concat(ma(a.map(function(a){return a.Qo}))))}return _.sortBy(a,function(a){return b(a.wb)})[0]}
function n9(a,b){return a.filter(function(a){return-1<b.wb.findIndex(function(b){return b.wq<=a&&a<=b.uq})}).sort(function(a,b){return a-b})}function p9(a){return a.pc.sn(a.am.cd)}function q9(a,b){return a.pc.wb.filter(function(c){c=a.pc.sn(c.cd);return(!b.ib||c.ib===b.ib)&&(!b.ce||c.ce===b.ce)&&(!b.ff||c.ff===b.ff)})}
function kga(a,b,c){var d=new Map;b.forEach(function(b){var g=0,h=a.pc.sn(b.cd);null!=c.ce&&(g+=h.ce===c.ce?2:0);null!=c.ff&&(g+=h.ff===c.ff?1:0);d.has(g)||d.set(g,[]);d.get(g).push(b)});return d.get(Math.max.apply(Math,[].concat(ma(d.keys()))))||b}
function r9(a,b,c){var d=q9(a,b);Fa(0<d.length,"Could not find product prices for the specified options");var e=p9(a),d=kga(a,d,{ff:null==b.ff?e.ff:null,ce:null==b.ce?e.ce:null}),d=m9(d),e=n9(a.ik,d);a.am=d;null!=b.eH?(e=-1!==e.indexOf(b.eH),w(e,'Required order quantity "{0}" is not valid for product "{1}".',b.eH,d.cd),a.qc=b.eH):-1===e.indexOf(a.qc)&&(a.qc=e[0]);s9(a,c)}
function s9(a,b){switch(b){case "PAPER_SIZE":a.pX();s9(a,"PAPER_TYPE");break;case "PAPER_TYPE":a.oX();s9(a,"PAPER_FINISH");break;case "PAPER_FINISH":a.nX();s9(a,"ORDER_QUANTITY");break;case "ORDER_QUANTITY":a.qX();a.kO();break;default:throw Error("Expected OrderOptionName: found "+b);}}function lga(a,b){a.pX=b}function mga(a,b){a.oX=b}function nga(a,b){a.nX=b}function oga(a,b){a.qX=b}function pga(a,b){a.kO=b}function qga(a,b){a.Ch=F7(a.Cd,{Sa:b,sk:a.qc})}k9.prototype.removeDuplicates=function(a){return Array.from(new Set(a))};
function rga(a){var b=a.pc.wb.map(function(b){return a.pc.sn(b.cd).ib});return a.removeDuplicates(b)}function sga(a){var b=p9(a).ib,c=q9(a,{ib:b}).map(function(b){return a.pc.sn(b.cd).ce});Fa(0<c.length,'Could not find applicable paper types for PaperSize:"{}"',b);return a.removeDuplicates(c)}
function tga(a){var b=p9(a),c=b.ib,b=b.ce,d=q9(a,{ib:c,ce:b}).map(function(b){return a.pc.sn(b.cd).ff});Fa(0<d.length,'Could not find applicable paper finishes for PaperSize: "{}" \x26 PaperType: "{}"',c,b);return a.removeDuplicates(d)}function t9(a){switch(a){case "STANDARD":return 1;case "PREMIUM":return 2;case "ECO_FRIENDLY":return 3;case "DELUXE":return 4;default:throw Error("Expected PaperType but found "+a);}}
function u9(a){switch(a){case "MATTE":return 1;case "GLOSS":return 2;case "UNCOATED":return 3;case "SOFT_TOUCH":return 4;case "SILK":return 5;default:throw Error("Expected PaperFinish but found "+a);}}
function v9(a){var b=sga(a).sort(function(b,c){b=a.pc.qn(b).type;c=a.pc.qn(c).type;return t9(b)-t9(c)}),c=p9(a).ce;Fa(-1!==b.indexOf(c),'paper type: "{}" is not applicable',c);return b.map(function(b){var e=a.pc.qn(b),g=$;b={nH:e.name,selected:b===c,mH:e.description,value:b};soy.asserts.assertType(null==b.v||b.v instanceof goog.soy.data.SanitizedContent||goog.isString(b.v),"classes",b.v,"null|string|undefined");e=b.v;soy.asserts.assertType(goog.isString(b.mH)||b.mH instanceof goog.soy.data.SanitizedContent,
"paperTypeDescription",b.mH,"string|goog.soy.data.SanitizedContent");var h=b.mH;soy.asserts.assertType(goog.isString(b.nH)||b.nH instanceof goog.soy.data.SanitizedContent,"paperTypeLabel",b.nH,"string|goog.soy.data.SanitizedContent");var k=b.nH;soy.asserts.assertType(null==b.selected||goog.isBoolean(b.selected)||1===b.selected||0===b.selected,"selected",b.selected,"boolean|null|undefined");var l=b.selected;soy.asserts.assertType(goog.isString(b.value)||b.value instanceof goog.soy.data.SanitizedContent,
"value",b.value,"string|goog.soy.data.SanitizedContent");b=soydata.VERY_UNSAFE.ordainSanitizedHtml(U7({label:k,value:b.value,attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('data-label\x3d"'+soy.$$escapeHtmlAttribute(k)+'"'),v:e,description:h,selected:l}));g=g(b.toString());return d8(g)})}
function w9(a){var b=tga(a).sort(function(b,c){b=a.pc.pn(b).finish;c=a.pc.pn(c).finish;return u9(b)-u9(c)}),c=p9(a).ff;Fa(-1!==b.indexOf(c),'paper finish: "{}" is not applicable',c);return b.map(function(b){var e=a.pc.pn(b),g=$;b={rw:e.description,lH:e.name,selected:b===c,value:b};soy.asserts.assertType(null==b.v||b.v instanceof goog.soy.data.SanitizedContent||goog.isString(b.v),"classes",b.v,"null|string|undefined");e=b.v;soy.asserts.assertType(b.rw instanceof goog.soy.data.SanitizedContent||b.rw instanceof
soydata.SanitizedHtml||b.rw instanceof soydata.UnsanitizedText||goog.isString(b.rw),"paperFinishDescription",b.rw,"!soydata.SanitizedHtml|string");var h=b.rw;soy.asserts.assertType(goog.isString(b.lH)||b.lH instanceof goog.soy.data.SanitizedContent,"paperFinishLabel",b.lH,"string|goog.soy.data.SanitizedContent");var k=b.lH;soy.asserts.assertType(null==b.selected||goog.isBoolean(b.selected)||1===b.selected||0===b.selected,"selected",b.selected,"boolean|null|undefined");var l=b.selected;soy.asserts.assertType(goog.isString(b.value)||
b.value instanceof goog.soy.data.SanitizedContent,"value",b.value,"string|goog.soy.data.SanitizedContent");b=soydata.VERY_UNSAFE.ordainSanitizedHtml(U7({label:k,value:b.value,attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('data-label\x3d"'+soy.$$escapeHtmlAttribute(k)+'"'),v:e,description:h,selected:l}));g=g(b.toString());return f8(g)})}
function x9(a,b){var c=n9(a.ik,a.am);Fa(-1!==c.indexOf(a.qc),'order quantity "{}" is not applicable',a.qc);var d=a.am.wb;null==b&&(b=Bfa);return c.map(function(c){var g=E7(d,c)/100,h=g*c;return b({kw:a.Fa.kw(c),da:a.Fa.da(h),Pt:a.Fa.Pt(g),selected:c===a.qc,value:c.toString()})})}
function uga(a){var b=rga(a),c=p9(a).ib;Fa(-1!==b.indexOf(c),'Paper size: "{}" is not applicable',c);return _.sortBy(b,function(b){return a.pc.Uj(b).yj}).map(function(b){var e={sw:Q7(a.xc,a.pc.Uj(b)),selected:b===c,value:b};b=$;var g;soy.asserts.assertType(null==e.v||e.v instanceof goog.soy.data.SanitizedContent||goog.isString(e.v),"classes",e.v,"null|string|undefined");g=e.v;soy.asserts.assertType(e.sw instanceof goog.soy.data.SanitizedContent||e.sw instanceof soydata.SanitizedHtml||e.sw instanceof
soydata.UnsanitizedText||goog.isString(e.sw),"paperSizeLabel",e.sw,"!soydata.SanitizedHtml|string");var h=e.sw;soy.asserts.assertType(null==e.selected||goog.isBoolean(e.selected)||1===e.selected||0===e.selected,"selected",e.selected,"boolean|null|undefined");var k=e.selected;soy.asserts.assertType(goog.isString(e.value)||e.value instanceof goog.soy.data.SanitizedContent,"value",e.value,"string|goog.soy.data.SanitizedContent");e=e.value;g=soydata.VERY_UNSAFE.ordainSanitizedHtml(U7({v:g+" paperSizeOption",
label:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks('\x3cspan class\x3d"paperSizeOption__label"\x3e'+soy.$$escapeHtml(h)+"\x3c/span\x3e"),value:e,selected:k}));b=b(g.toString());return X7(b)})}
function y9(a){var b=a.qc,c=a.Cd.filter(function(a){return a.FG<=b&&b<=a.yG});if(0===c.length)throw Error("No shipping prices found for order quantity '"+b+"'.");return c.sort(function(a,b){return a.yh-b.yh}).map(function(b){a:{if("STANDARD"===b.Sa){if(a.G.get(i9)){b=z9({Ai:a.xc.format("printOrderFreeStandardShippingType"),yt:T7(a.xc,b.Sa),da:vf(a.xc),value:b.Sa,selected:b.Sa===a.Ch.Sa,disabled:!1,VZ:!0});break a}if(a.G.get(j9)){b=z9({Ai:S7(a.xc,b.Sa),yt:T7(a.xc,b.Sa),da:wf(a.xc),value:b.Sa,selected:b.Sa===
a.Ch.Sa,disabled:!1,VZ:!1});break a}}b=a.Nw({Ai:S7(a.xc,b.Sa),yt:T7(a.xc,b.Sa),da:a.Fa.da(b.yh/100),value:b.Sa,selected:b.Sa===a.Ch.Sa,disabled:!1})}return b})}function iga(a){a=a.map(function(a){return a.$v});a=_.uniq(a);Fa(1===a.length,'All products must have same value for the property "maxPages", found "{}"',a);return 2===a[0]}
function vga(a){var b=a.Ch.Sa;switch(b){case "STANDARD":return a.G.get(i9)?a.xc.format("printOrderFreeStandardShippingLabel"):a.xc.format("printOrderShippingMethodStandard");case "EXPRESS":return a.xc.format("printOrderShippingMethodExpress");default:throw Error("Expected a ShippingMethod, but got '"+b+"'");}}function wga(a){if("STANDARD"===a.Ch.Sa){if(a.G.get(i9))return vf(a.xc);if(a.G.get(j9))return wf(a.xc)}return a.Fa.da(a.Ch.yh/100)}k9.prototype.sv=function(){return this.Ub};
function o9(a){var b=(a.Dg||[]).filter(function(b){return a.xo===b.wP&&a.qc>=b.wq&&a.qc<=b.uq});return 1===b.length?b[0]:void 0}function A9(a){var b=o9({xo:p9(a).ib,Dg:a.Dg,qc:a.qc});if(null!=b)return a.Fa.bf(b.Qo*a.qc/100)}function B9(a){this.bd=a.bd;this.attributes=a.attributes;this.wb=a.wb}function xga(a){w(0<a.bd.length,"Must have at least one product");var b=new Map(a.bd.map(function(a){return[a.cd,a]}));return new B9({attributes:a.attributes,wb:a.wb,bd:b})}f=B9.prototype;f.IF=function(){return Array.from(this.bd.values())};
f.sn=function(a){return y(this.bd.get(a),'Invalid product sku: "{}"',a)};f.Uj=function(a){return y(this.attributes.tw.get(a),'Invalid paper size id: "{}"',a)};f.pn=function(a){return y(this.attributes.QO.get(a),'Invalid paper finish id: "{}"',a)};f.qn=function(a){return y(this.attributes.SO.get(a),'Invalid paper type id: "{}"',a)};f.sv=function(a){return y(this.attributes.xH.get(a),'Invalid product type id: "{}"',a)};
function hga(a,b){for(var c=la(a.attributes.tw.keys()),d=c.next();!d.done;d=c.next()){var d=d.value,e=a.attributes.tw.get(d);if(e.yj===b.yj&&e.Yj===b.Yj)return d}return null};function yga(a){soy.asserts.assertType(goog.isString(a.uk)||a.uk instanceof goog.soy.data.SanitizedContent,"selectYourPrintOptions",a.uk,"string|goog.soy.data.SanitizedContent");var b=a.uk;soy.asserts.assertType(null==a.vi||a.vi instanceof goog.soy.data.SanitizedContent||goog.isString(a.vi),"selectYourShippingOption",a.vi,"null|string|undefined");var c=a.vi;soy.asserts.assertType(a.bo instanceof soydata.SanitizedHtml||a.bo instanceof soydata.UnsanitizedText||goog.isString(a.bo),"paperSizeListboxHtml",
a.bo,"soydata.SanitizedHtml");var d=a.bo;soy.asserts.assertType(null==a.mk||a.mk instanceof soydata.SanitizedHtml||a.mk instanceof soydata.UnsanitizedText||goog.isString(a.mk),"pageCountListboxHtml",a.mk,"?soydata.SanitizedHtml|string|undefined");var e=a.mk;soy.asserts.assertType(a.co instanceof soydata.SanitizedHtml||a.co instanceof soydata.UnsanitizedText||goog.isString(a.co),"paperTypeListboxHtml",a.co,"soydata.SanitizedHtml");var g=a.co;soy.asserts.assertType(a.ao instanceof soydata.SanitizedHtml||
a.ao instanceof soydata.UnsanitizedText||goog.isString(a.ao),"paperFinishListboxHtml",a.ao,"soydata.SanitizedHtml");var h=a.ao;soy.asserts.assertType(a.Yn instanceof soydata.SanitizedHtml||a.Yn instanceof soydata.UnsanitizedText||goog.isString(a.Yn),"orderQuantityListboxHtml",a.Yn,"soydata.SanitizedHtml");var k=a.Yn;soy.asserts.assertType(a.Eo instanceof soydata.SanitizedHtml||a.Eo instanceof soydata.UnsanitizedText||goog.isString(a.Eo),"shippingListboxHtml",a.Eo,"soydata.SanitizedHtml");var l=a.Eo;
soy.asserts.assertType(null==a.bf||a.bf instanceof goog.soy.data.SanitizedContent||goog.isString(a.bf),"includeEnvelopesLabel",a.bf,"null|string|undefined");var m=a.bf;soy.asserts.assertType(goog.isBoolean(a.xl)||1===a.xl||0===a.xl,"includeEnvelopesSelected",a.xl,"boolean");a=!!a.xl;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"printOrderSummary__selectPrintOptions"\x3e'+soy.$$escapeHtml(b)+"\x3c/div\x3e"+soy.$$escapeHtml(d)+(e?soy.$$escapeHtml(e):"")+soy.$$escapeHtml(g)+soy.$$escapeHtml(h)+
soy.$$escapeHtml(k)+(null!=m?zga({bf:m,checked:a}):"")+(c?'\x3cdiv class\x3d"printOrderSummary__selectShippingOptions"\x3e'+soy.$$escapeHtml(c)+"\x3c/div\x3e"+soy.$$escapeHtml(l):""))}
function Aga(a){soy.asserts.assertType(goog.isString(a.Sa)||a.Sa instanceof goog.soy.data.SanitizedContent,"shippingMethod",a.Sa,"string|goog.soy.data.SanitizedContent");var b=a.Sa;soy.asserts.assertType(null==a.da||a.da instanceof soydata.SanitizedHtml||a.da instanceof soydata.UnsanitizedText||goog.isString(a.da),"price",a.da,"?soydata.SanitizedHtml|string|undefined");a=a.da;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"printOrderSummary__shippingLabel"\x3e\x3cspan class\x3d"printOrderSummary__shippingMethod"\x3e'+
soy.$$escapeHtml(b)+'\x3c/span\x3e\x3cspan class\x3d"printOrderSummary__price"\x3e'+soy.$$escapeHtml(a)+"\x3c/span\x3e\x3c/div\x3e")}
function Bga(a){soy.asserts.assertType(goog.isString(a.label)||a.label instanceof goog.soy.data.SanitizedContent,"label",a.label,"string|goog.soy.data.SanitizedContent");var b=a.label;soy.asserts.assertType(goog.isString(a.da)||a.da instanceof goog.soy.data.SanitizedContent,"price",a.da,"string|goog.soy.data.SanitizedContent");a=a.da;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"printOrderSummary__envelopeContainer"\x3e\x3cspan class\x3d"printOrderSummary__envelopeLabel"\x3e'+soy.$$escapeHtml(b)+
'\x3c/span\x3e\x3cspan class\x3d"printOrderSummary__price"\x3e'+soy.$$escapeHtml(a)+"\x3c/span\x3e\x3c/div\x3e")}
function zga(a){soy.asserts.assertType(goog.isString(a.bf)||a.bf instanceof goog.soy.data.SanitizedContent,"includeEnvelopesLabel",a.bf,"string|goog.soy.data.SanitizedContent");var b=a.bf;soy.asserts.assertType(goog.isBoolean(a.checked)||1===a.checked||0===a.checked,"checked",a.checked,"boolean");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3clabel class\x3d"printOrderSummary__includeEnvelopesContainer"\x3e\x3cinput type\x3d"checkbox" class\x3d"printOrderSummary__includeEnvelopesCheckbox"'+(a.checked?
"checked":"")+'/\x3e\x3cspan class\x3d"printOrderSummary__includeEnvelopesLabel"\x3e'+soy.$$escapeHtml(b)+"\x3c/span\x3e\x3c/label\x3e")};function C9(a,b,c){var d=this;hc.call(this,a);this.Nf=b;this.nj=c.nj;this.li=c.li;this.mi=c.mi;this.ki=c.ki;this.Mf=c.Mf;this.Bk=c.Bk;this.$el.on("change",".printOrderSummary__includeEnvelopesCheckbox",function(a){a.preventDefault();d.trigger(D9,a.target.checked)})}r(C9,hc);
function E9(a){var b=a.heading,c=G9(a.N7),d=a.OX&&G9(a.OX),e=G9(a.f8),g=G9(a.h8),h=G9(a.j8),k=G9(a.a$),l,m=a.o8,n;soy.asserts.assertType(null==m.cE||m.cE instanceof goog.soy.data.SanitizedContent||goog.isString(m.cE),"couponDiscountAmount",m.cE,"null|string|undefined");l=m.cE;soy.asserts.assertType(null==m.dE||m.dE instanceof goog.soy.data.SanitizedContent||goog.isString(m.dE),"couponDiscountLabel",m.dE,"null|string|undefined");var p=m.dE;soy.asserts.assertType(goog.isString(m.Hj)||m.Hj instanceof
goog.soy.data.SanitizedContent,"creditUsed",m.Hj,"string|goog.soy.data.SanitizedContent");var q=m.Hj;soy.asserts.assertType(goog.isString(m.pE)||m.pE instanceof goog.soy.data.SanitizedContent,"creditUsedLabel",m.pE,"string|goog.soy.data.SanitizedContent");var u=m.pE;soy.asserts.assertType(goog.isString(m.zw)||m.zw instanceof goog.soy.data.SanitizedContent,"premiumImagesPriceLabel",m.zw,"string|goog.soy.data.SanitizedContent");var v=m.zw;soy.asserts.assertType(goog.isString(m.sH)||m.sH instanceof goog.soy.data.SanitizedContent,
"premiumImagesTotalPrice",m.sH,"string|goog.soy.data.SanitizedContent");var z=m.sH;soy.asserts.assertType(goog.isString(m.Lw)||m.Lw instanceof goog.soy.data.SanitizedContent,"removeCouponText",m.Lw,"string|goog.soy.data.SanitizedContent");var t=m.Lw;soy.asserts.assertType(m.Mt instanceof soydata.SanitizedHtml||m.Mt instanceof soydata.UnsanitizedText||goog.isString(m.Mt),"totalLabelHtml",m.Mt,"soydata.SanitizedHtml");var x=m.Mt;soy.asserts.assertType(goog.isString(m.lm)||m.lm instanceof goog.soy.data.SanitizedContent,
"totalPrice",m.lm,"string|goog.soy.data.SanitizedContent");var H=m.lm;soy.asserts.assertType(null==m.cI||goog.isObject(m.cI),"shippingPriceDetails",m.cI,"null|undefined|{label: string, price: string}");m=m.cI;l=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"printOrderSummary__paymentSummary"\x3e'+(m?'\x3cdiv class\x3d"printOrderSummary__info"\x3e\x3cspan\x3e'+soy.$$escapeHtml(m.label)+'\x3c/span\x3e\x3cspan class\x3d"printOrderSummary__shippingPrice"\x3e'+soy.$$escapeHtml(m.da)+"\x3c/span\x3e\x3c/div\x3e":
"")+'\x3cdiv class\x3d"printOrderSummary__info printOrderSummary__premiumImagesInfo printOrderSummary__info--hidden"\x3e\x3cspan\x3e'+soy.$$escapeHtml(v)+'\x3c/span\x3e\x3ca class\x3d"printOrderSummary__premiumImagesLink" href\x3d"#"\x3e\x3cimg src\x3d"https://static.canva.com/static/images/icon-info.svg" /\x3e\x3c/a\x3e\x3cspan class\x3d"printOrderSummary__premiumImagesTotalPrice"\x3e'+soy.$$escapeHtml(z)+'\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"printOrderSummary__info printOrderSummary__creditInfo printOrderSummary__info--hidden"\x3e\x3cspan class\x3d"printOrderSummary__creditUsedLabel"\x3e'+
soy.$$escapeHtml(u)+'\x3c/span\x3e\x3cspan class\x3d"printOrderSummary__creditUsed"\x3e'+soy.$$escapeHtml(q)+'\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"printOrderSummary__info printOrderSummary__couponDiscountInfo'+(p&&l?"":" printOrderSummary__info--hidden")+'"\x3e\x3cdiv\x3e\x3cspan class\x3d"printOrderSummary__couponDiscountLabel"\x3e'+soy.$$escapeHtml(null==(n=p)?"":n)+'\x3c/span\x3e\x3cdiv class\x3d"printOrderSummary__removeCouponLinkContainer"\x3e\x3ca href\x3d"#" class\x3d"printOrderSummary__removeCouponLink"\x3e'+
soy.$$escapeHtml(t)+'\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e\x3cspan\x3e-\x3cspan class\x3d"printOrderSummary__couponDiscountAmount"\x3e'+soy.$$escapeHtml(null==(n=l)?"":n)+'\x3c/span\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"printOrderSummary__info"\x3e\x3cspan\x3e'+soy.$$escapeHtml(x)+'\x3c/span\x3e\x3cstrong class\x3d"printOrderSummary__orderTotalPrice"\x3e'+soy.$$escapeHtml(H)+"\x3c/strong\x3e\x3c/div\x3e\x3c/div\x3e");a={heading:b,Yn:c,mk:d,ao:e,bo:g,co:h,Eo:k,yB:l,uk:a.uk,vi:a.vi,cH:H9,dH:I9,
bf:a.bf,xl:a.xl};soy.asserts.assertType(goog.isString(a.heading)||a.heading instanceof goog.soy.data.SanitizedContent,"heading",a.heading,"string|goog.soy.data.SanitizedContent");b=a.heading;soy.asserts.assertType(a.Yn instanceof soydata.SanitizedHtml||a.Yn instanceof soydata.UnsanitizedText||goog.isString(a.Yn),"orderQuantityListboxHtml",a.Yn,"soydata.SanitizedHtml");soy.asserts.assertType(null==a.mk||a.mk instanceof soydata.SanitizedHtml||a.mk instanceof soydata.UnsanitizedText||goog.isString(a.mk),
"pageCountListboxHtml",a.mk,"?soydata.SanitizedHtml|string|undefined");soy.asserts.assertType(a.ao instanceof soydata.SanitizedHtml||a.ao instanceof soydata.UnsanitizedText||goog.isString(a.ao),"paperFinishListboxHtml",a.ao,"soydata.SanitizedHtml");soy.asserts.assertType(a.bo instanceof soydata.SanitizedHtml||a.bo instanceof soydata.UnsanitizedText||goog.isString(a.bo),"paperSizeListboxHtml",a.bo,"soydata.SanitizedHtml");soy.asserts.assertType(a.co instanceof soydata.SanitizedHtml||a.co instanceof
soydata.UnsanitizedText||goog.isString(a.co),"paperTypeListboxHtml",a.co,"soydata.SanitizedHtml");soy.asserts.assertType(a.Eo instanceof soydata.SanitizedHtml||a.Eo instanceof soydata.UnsanitizedText||goog.isString(a.Eo),"shippingListboxHtml",a.Eo,"soydata.SanitizedHtml");soy.asserts.assertType(a.yB instanceof soydata.SanitizedHtml||a.yB instanceof soydata.UnsanitizedText||goog.isString(a.yB),"paymentSummaryHtml",a.yB,"soydata.SanitizedHtml");c=a.yB;soy.asserts.assertType(goog.isString(a.uk)||a.uk instanceof
goog.soy.data.SanitizedContent,"selectYourPrintOptions",a.uk,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(null==a.vi||a.vi instanceof goog.soy.data.SanitizedContent||goog.isString(a.vi),"selectYourShippingOption",a.vi,"null|string|undefined");soy.asserts.assertType(goog.isString(a.cH)||a.cH instanceof goog.soy.data.SanitizedContent,"orderFormListboxesPanelPageName",a.cH,"string|goog.soy.data.SanitizedContent");d=a.cH;soy.asserts.assertType(goog.isString(a.dH)||a.dH instanceof goog.soy.data.SanitizedContent,
"orderFormReviewPanelPageName",a.dH,"string|goog.soy.data.SanitizedContent");e=a.dH;soy.asserts.assertType(null==a.bf||a.bf instanceof goog.soy.data.SanitizedContent||goog.isString(a.bf),"includeEnvelopesLabel",a.bf,"null|string|undefined");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"printOrderSummary"\x3e\x3cdiv class\x3d"printOrderSummary__header"\x3e\x3ch1 class\x3d"printOrderSummary__heading"\x3e'+soy.$$escapeHtml(b)+'\x3c/h1\x3e\x3c/div\x3e\x3cdiv class\x3d"printOrderSummary__content"\x3e\x3cdiv class\x3d"printOrderSummary__info"\x3e\x3cdiv class\x3d"printOrderSummary__orderPreview"\x3e\x3c/div\x3e\x3c/div\x3e'+
S8({v:"printOrderSummary__pagesPanel",O:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+P8({v:"printOrderSummary__listboxesPagesPanel",content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+yga(a)),name:d,visible:!0})+P8({v:"printOrderSummary__orderFormReviewPanel",name:e,visible:!1}))})+'\x3c/div\x3e\x3cdiv class\x3d"printOrderSummary__footer"\x3e'+soy.$$escapeHtml(c)+"\x3c/div\x3e\x3c/div\x3e")}
function G9(a){return XS({v:a.v+" printOrderSummary__listbox",disabled:a.disabled,options:a.options.map(function(a){return fT(a)}),Vq:a.Vq})}
function J9(a){var b=new y8(a.find(".printOrderSummary__paymentSummary")),c=cT(a.find(".printOrderSummary__paperSizeListbox"),{Oh:X7}),d=cT(a.find(".printOrderSummary__paperFinishListbox"),{Oh:f8}),e=cT(a.find(".printOrderSummary__orderQuantityListbox"),{Oh:b8}),g=cT(a.find(".printOrderSummary__paperTypeListbox"),{Oh:d8}),h=0<a.find(".printOrderSummary__pageCountListbox").length?cT(a.find(".printOrderSummary__pageCountListbox"),{Oh:$7}):null,k;k=a.find(".printOrderSummary__shippingListbox .shippingSelectionLabel__freeShipping")?
K9:i8;k=cT(a.find(".printOrderSummary__shippingListbox"),{Oh:k});return new C9(a,b,{nj:c,li:d,ki:e,mi:g,Mf:h,Bk:k})}C9.prototype.hg=function(){var a=this.$el.find(".printOrderSummary__pagesPanel");return new M8(a)};
C9.prototype.KP=function(a){var b=$,c;c=a.U7;var d=a.e8,e=a.g8,g=a.i8,h=a.M7,k=a.Sa,l=a.gm,m=a.p3;a=a.o3;soy.asserts.assertType(null==g||g instanceof soydata.SanitizedHtml||g instanceof soydata.UnsanitizedText||goog.isString(g),"paperTypeHtml",g,"?soydata.SanitizedHtml|string|undefined");soy.asserts.assertType(null==d||d instanceof soydata.SanitizedHtml||d instanceof soydata.UnsanitizedText||goog.isString(d),"paperFinishHtml",d,"?soydata.SanitizedHtml|string|undefined");soy.asserts.assertType(null==
e||e instanceof soydata.SanitizedHtml||e instanceof soydata.UnsanitizedText||goog.isString(e),"paperSizeHtml",e,"?soydata.SanitizedHtml|string|undefined");soy.asserts.assertType(null==c||c instanceof soydata.SanitizedHtml||c instanceof soydata.UnsanitizedText||goog.isString(c),"pageCountHtml",c,"?soydata.SanitizedHtml|string|undefined");soy.asserts.assertType(null==h||h instanceof soydata.SanitizedHtml||h instanceof soydata.UnsanitizedText||goog.isString(h),"orderQuantityHtml",h,"?soydata.SanitizedHtml|string|undefined");
soy.asserts.assertType(null==k||k instanceof soydata.SanitizedHtml||k instanceof soydata.UnsanitizedText||goog.isString(k),"shippingMethod",k,"?soydata.SanitizedHtml|string|undefined");soy.asserts.assertType(null==l||l instanceof soydata.SanitizedHtml||l instanceof soydata.UnsanitizedText||goog.isString(l),"shippingPrice",l,"?soydata.SanitizedHtml|string|undefined");soy.asserts.assertType(null==m||m instanceof goog.soy.data.SanitizedContent||goog.isString(m),"envelopesPrice",m,"null|string|undefined");
soy.asserts.assertType(goog.isString(a)||a instanceof goog.soy.data.SanitizedContent,"envelopesLabel",a,"string|goog.soy.data.SanitizedContent");c=soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3cdiv class\x3d'printOrderSummary__orderFormReview'\x3e"+(e?"\x3cdiv\x3e"+soy.$$escapeHtml(e)+"\x3c/div\x3e":"")+(g?"\x3cdiv\x3e"+soy.$$escapeHtml(g)+"\x3c/div\x3e":"")+(d?"\x3cdiv\x3e"+soy.$$escapeHtml(d)+"\x3c/div\x3e":"")+(c?"\x3cdiv\x3e"+soy.$$escapeHtml(c)+"\x3c/div\x3e":"")+(h?"\x3cdiv\x3e"+soy.$$escapeHtml(h)+
"\x3c/div\x3e":"")+(null!=m?Bga({label:a,da:m}):"")+(k&&l?Aga({Sa:k,da:l}):"")+"\x3c/div\x3e");b=b(c.toString());this.hg().R(I9).zo(b)};C9.prototype.kR=function(){R8(this.hg(),I9)};C9.prototype.jR=function(){R8(this.hg(),H9)};function L9(a){return!!a&&!a.$el.hasClass("printOrderSummary__listbox--hidden")}var D9="CHANGE_INCLUDE_ENVELOPES",I9="ORDER_REVIEW",H9="LISTBOXES";function M9(a,b,c,d){var e=this;this.view=b;this.i=a.i;this.cn=a.cn;this.mh=a.mh;this.bn=a.bn;this.Nf=c;this.nj=d.nj;this.li=d.li;this.mi=d.mi;this.ki=d.ki;this.Bk=d.Bk;this.Mf=d.Mf;this.la=a.la;this.wk=a.wk;this.Wn=a.Wn;this.HH=P.resolve();null!=this.Mf&&sT(this.Mf,function(){e.Wn(e.jc());N9(e)});sT(this.nj,function(){var a=e.nj.tc();r9(e.la,{ib:a},"PAPER_SIZE");e.wk(e.Uj());O9(e)});sT(this.li,function(){var a=e.la,b=e.li.tc();r9(a,{ib:p9(a).ib,ce:p9(a).ce,ff:b},"PAPER_FINISH");O9(e)});sT(this.mi,
function(){var a=e.la,b=e.mi.tc();r9(a,{ib:p9(a).ib,ce:b},"PAPER_TYPE");O9(e)});sT(this.ki,function(){var a=e.ki,b=parseInt(a.tc(),10);Fa(!isNaN(b),'Expected a number but got "{}"',a.tc());var a=e.la,c=p9(a);r9(a,{ib:c.ib,ce:c.ce,ff:c.ff,eH:b},"ORDER_QUANTITY");O9(e)});sT(this.Bk,function(){return Cga(e)});this.view.on(D9,function(a){var b=e.la;b.$l=!0===a?o9({xo:p9(b).ib,Dg:b.Dg,qc:b.qc}):void 0;b.kO();N9(e)});lga(this.la,this.d9.bind(this));mga(this.la,this.c9.bind(this));nga(this.la,this.b9.bind(this));
oga(this.la,this.e9.bind(this));pga(this.la,this.a9.bind(this))}
function P9(a,b){var c=new pT(b.nj),d=new pT(b.li),e=new pT(b.mi),g=new pT(b.ki),h=b.Mf,h=h&&new pT(h),k=new pT(b.Bk),l=Q9({gm:a.la.Ch,De:a.la.qc,wb:a.la.am.wb,Fp:a.la.$l}),l=Kfa({fa:a.fa,aa:a.aa,kh:a.kh,Ac:a.Ac,rb:a.rb,Cb:a.Cb,Fa:a.Fa,Ad:l,nQ:function(b){var c;c=a.Oa;b={Aa:a.Aa,Oa:c,Cb:b.Cb,rb:b.rb};var d=Cfa(b),e=$,g;g=g||{};soy.asserts.assertType(d.NA instanceof soydata.SanitizedHtml||d.NA instanceof soydata.UnsanitizedText||goog.isString(d.NA),"licensingOptionsText",d.NA,"soydata.SanitizedHtml");
for(var h=d.NA,d=goog.asserts.assertArray(d.ri,"expected parameter 'purchaseLicenses' of type list\x3c[contributedBy: null|string, expirationLabel: null|string, isThumbnailCover: bool, paidLicenseTypeLabel: null|string, purchaseOptions: list\x3c[disabled: null, selected: bool, text: string, value: string]\x3e|null, purchasedText: string, thumbnailUrl: null|string, title: null|string]\x3e."),h='\x3csection class\x3d"mediaLicenses__info"\x3e\x3cp class\x3d"intro"\x3e'+soy.$$escapeHtml(h)+'\x3c/p\x3e\x3c/section\x3e\x3csection class\x3d"mediaLicenses__itemList"\x3e\x3cdiv class\x3d"mediaLicenses__items"\x3e',
k=d.length,l=0;l<k;l++)var x=d[l],h=h+('\x3cdiv class\x3d"mediaLicenses__license"\x3e\x3cdiv class\x3d"mediaLicenses__licenseThumbnail"\x3e\x3cdiv class\x3d"mediaLicenses__licenseThumbnailInner '+(x.nN?"mediaLicenses__licenseThumbnail--cover":"mediaLicenses__licenseThumbnail--contain")+'"'+(x.ug?'style\x3d"'+(g.Yb?"/*"+g.Yb+"*//*"+g.Yb+"*/":"")+"background-image: url('"+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeMediaUri(x.ug))+"');\"":"")+'\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"mediaLicenses__licenseInfo"\x3e'+
(x.title?'\x3cdiv class\x3d"mediaLicenses__licenseTitle"\x3e'+soy.$$escapeHtml(x.title)+"\x3c/div\x3e":"")+(x.Kr?'\x3cdiv class\x3d"mediaLicenses__licenseContributor"\x3e'+soy.$$escapeHtml(x.Kr)+"\x3c/div\x3e":"")+'\x3c/div\x3e\x3cdiv class\x3d"mediaLicenses__licensePrice"\x3e'+(x.et?soy.$$escapeHtml(x.et[0].text):'\x3cdiv class\x3d"mediaLicenses__licenseState"\x3e'+soy.$$escapeHtml(x.X8)+"\x3c/div\x3e"+(x.kH?'\x3cdiv class\x3d"mediaLicenses__licenseType"\x3e'+soy.$$escapeHtml(x.kH)+(x.xz?" - "+soy.$$escapeHtml(x.xz):
"")+"\x3c/div\x3e":""))+"\x3c/div\x3e\x3c/div\x3e");g=soydata.VERY_UNSAFE.ordainSanitizedHtml(h+"\x3c/div\x3e\x3c/section\x3e");e=e(g.toString());e=new j8(e);b=new n8(b,e);c=new kp({className:"mediaLicenses__dialog",content:e.$el,H:hl,title:c.format("licenseDialogTitle")});c=new Gfa(c,b);return Hfa(c)}},b.Nf);return new M9({bn:a.bn,cn:a.cn,mh:a.mh,Wn:a.Wn,la:a.la,wk:a.wk,i:a.Fa},b,l,{ki:g,Mf:h,li:d,nj:c,mi:e,Bk:k})}f=M9.prototype;f.Me=function(){this.wk(this.Uj());this.Wn(this.jc());N9(this)};
function R9(a){var b;if(a.la.vR){b=a.Fa;var c=a.lZ||1;Fa(1===c||2===c,'defaultPageCount can be either 1 or 2, but found "{}"',c);b=[Z7({sB:b.format("printOrderSummarySingleSidedPrint"),Vs:b.format("printOrderSummarySingleSidedPrintDescription"),selected:1===c,value:"1"}),Z7({sB:b.format("printOrderSummaryDoubleSidedPrint"),Vs:b.format("printOrderSummaryDoubleSidedPrintDescription"),selected:2===c,value:"2"})]}else b=null;b=b&&S9({v:"printOrderSummary__pageCountListbox",options:b,disabled:a.bn});var c=
S9({v:"printOrderSummary__orderQuantityListbox",options:a.n9?x9(a.la,a.n9):x9(a.la)}),d=S9({v:"printOrderSummary__paperFinishListbox",options:w9(a.la)}),e=S9({v:"printOrderSummary__paperSizeListbox",options:uga(a.la),disabled:a.cn}),g=S9({v:"printOrderSummary__paperTypeListbox",options:v9(a.la)}),h=y9(a.la),k=S9({v:"printOrderSummary__shippingListbox",options:h}),l=Q9({gm:a.la.Ch,De:a.la.qc,wb:a.la.am.wb,Fp:a.la.$l}),l={fa:a.fa,rb:a.rb,Cb:a.Cb,Fa:a.Fa,Ad:l,i$:1===h.length},m=w8(l),n=0<m.gm?l.Fa.da(m.gm):
l.Fa.format("printOrderSummaryPriceFree"),p=null;l.i$&&(p={label:l.Fa.format("printOrderSummaryShippingPriceLabel"),da:n});l={Hj:l.Fa.Hj(m.Hj),pE:pf(l.Fa,m.Im),zw:l.Fa.zw(),sH:l.Fa.da(m.AG),Lw:l.Fa.Lw(),Mt:l.Fa.Mt(),lm:l.Fa.da(m.lm),cI:p};m=A9(a.la);return{heading:Dga(a.Fa,a.la.sv(),a.la.Ul),N7:c,OX:b,f8:d,h8:e,j8:g,a$:k,o8:l,uk:a.Fa.uk(),vi:1===h.length?null:a.Fa.vi(),bf:m,xl:null!=a.la.$l}}
function S9(a){var b=a.v,c=a.disabled;a=a.options;1===a.length&&(b+=" printOrderSummary__listbox--hidden");return{v:b,disabled:c,options:a,Vq:rT(a)}}function Cga(a){var b=a.Bk.tc(),c=y(["STANDARD","EXPRESS"].find(function(a){return a===b}),"Invalid shipping method: {}",b);qga(a.la,c);u8(a.Nf,T9(a))}f.d9=function(){this.mi.lx(v9(this.la))};f.c9=function(){this.li.lx(w9(this.la))};f.b9=function(){this.ki.lx(x9(this.la))};f.e9=function(){this.Bk.lx(y9(this.la))};
f.a9=function(){var a=A9(this.la),b=this.view.$el.find(".printOrderSummary__includeEnvelopesLabel");1===b.length&&b.text(a||void 0)};function N9(a){var b=Math.min(a.mh(),a.jc()),b=_.range(1,b+1),c=T9(a);a.HH=Mfa(a.Nf,b,c);return a.HH}function O9(a){u8(a.Nf,T9(a))}
f.KP=function(){var a=T9(this),b=null!=this.la.$l;this.view.KP({U7:L9(this.view.Mf)?tT(this.Mf).oh():null,e8:L9(this.view.li)?tT(this.li).oh():null,g8:L9(this.view.nj)?tT(this.nj).oh():null,i8:L9(this.view.mi)?tT(this.mi).oh():null,M7:L9(this.view.ki)?tT(this.ki).oh():null,Sa:L9(this.view.Bk)?vga(this.la):null,gm:L9(this.view.Bk)?wga(this.la):null,p3:b?this.i.da(a.Fp):void 0,o3:this.i.format("printOrderSummaryEnvelopesSelectedLabel")})};f.kR=function(){this.KP();this.view.kR()};f.jR=function(){this.view.jR()};
f.Uj=function(){var a=this.la,a=a.pc.Uj(p9(a).ib);return new I6({yj:a.yj,Yj:a.Yj})};f.qn=function(){var a=this.la;return a.pc.qn(p9(a).ce).type};f.pn=function(){var a=this.la;return a.pc.pn(p9(a).ff).finish};f.Tp=function(){return this.la.am.cd};f.jc=function(){if(null==this.Mf)return 1;var a=parseInt(this.Mf.tc(),10);Fa(!isNaN(a),'Expected a number but got "{}"',this.Mf.tc());return a};f.sl=function(){return this.la.Ch.Sa};f.yV=function(){return this.la.Ch.yh};f.pv=function(){return this.Nf.pv()};
f.iv=function(){var a=this.la.$l;return null!=this.la.$l?a.cd:void 0};f.ND=function(){var a=T9(this);return this.Nf.ND(a)};function T9(a){return Q9({gm:a.la.Ch,De:a.la.qc,wb:a.la.am.wb,Fp:a.la.$l})}function U9(a,b){a.nj.Dh(!a.cn&&!b);a.li.Dh(!b);a.ki.Dh(!b);a.mi.Dh(!b);null!=a.Mf&&a.Mf.Dh(!a.bn&&!b)}f.destroy=function(){this.view.remove();this.Nf.destroy();this.mi.destroy();this.nj.destroy();this.li.destroy();this.ki.destroy();null!=this.Mf&&this.Mf.destroy()};
function Q9(a){var b=E7(a.wb,a.De),c=a.gm.yh,b=b*a.De;a=null!=a.Fp?y(a.Fp).Qo*a.De:0;return{uY:b/100,tP:c/100,Fp:a/100}}
function Dga(a,b,c){function d(){switch(b){case "POSTER":return a.format("printOrderSummaryHeadingPostersInUs");case "BUSINESS_CARD":return a.format("printOrderSummaryHeadingBusinessCardsInUs");case "POSTCARD":return a.format("printOrderSummaryHeadingPostcardsInUs");case "LETTERHEAD":return a.format("printOrderSummaryHeadingLetterheadsInUs");case "FLYER":return a.format("printOrderSummaryHeadingFlyersInUs");case "INVITATION":return a.format("printOrderSummaryHeadingInvitationsInUs");case "SQUARE_CARD":throw Error("square cards are not supported yet");
default:throw Error("Expected a PrintProductType, but got '"+b+"'");}}function e(){switch(b){case "POSTER":return a.format("printOrderSummaryHeadingPostersInAu");case "BUSINESS_CARD":return a.format("printOrderSummaryHeadingBusinessCardsInAu");case "POSTCARD":return a.format("printOrderSummaryHeadingPostcardsInAu");case "LETTERHEAD":return a.format("printOrderSummaryHeadingLetterheadsInAu");case "FLYER":return a.format("printOrderSummaryHeadingFlyersInAu");case "INVITATION":return a.format("printOrderSummaryHeadingInvitationsInAu");
case "SQUARE_CARD":throw Error("square cards are not supported yet");default:throw Error("Expected a PrintProductType, but got '"+b+"'");}}function g(){switch(b){case "POSTER":return a.format("printOrderSummaryHeadingPostersInNz");case "BUSINESS_CARD":return a.format("printOrderSummaryHeadingBusinessCardsInNz");case "POSTCARD":return a.format("printOrderSummaryHeadingPostcardsInNz");case "LETTERHEAD":return a.format("printOrderSummaryHeadingLetterheadsInNz");case "FLYER":return a.format("printOrderSummaryHeadingFlyersInNz");
case "INVITATION":return a.format("printOrderSummaryHeadingInvitationsInNz");case "SQUARE_CARD":throw Error("square cards are not supported yet");default:throw Error("Expected a PrintProductType, but got '"+b+"'");}}function h(){switch(b){case "POSTER":return a.format("printOrderSummaryHeadingPostersInEu");case "BUSINESS_CARD":return a.format("printOrderSummaryHeadingBusinessCardsInEu");case "POSTCARD":return a.format("printOrderSummaryHeadingPostcardsInEu");case "LETTERHEAD":return a.format("printOrderSummaryHeadingLetterheadsInEu");
case "FLYER":return a.format("printOrderSummaryHeadingFlyersInEu");case "INVITATION":return a.format("printOrderSummaryHeadingInvitationsInEu");case "SQUARE_CARD":throw Error("square cards are not supported yet");default:throw Error("Expected a PrintProductType, but got '"+b+"'");}}function k(){switch(b){case "POSTER":return a.format("printOrderSummaryHeadingPostersInMx");case "BUSINESS_CARD":return a.format("printOrderSummaryHeadingBusinessCardsInMx");case "POSTCARD":return a.format("printOrderSummaryHeadingPostcardsInMx");
case "LETTERHEAD":return a.format("printOrderSummaryHeadingLetterheadsInMx");case "FLYER":return a.format("printOrderSummaryHeadingFlyersInMx");case "INVITATION":return a.format("printOrderSummaryHeadingInvitationsInMx");case "SQUARE_CARD":throw Error("square cards are not supported yet");default:throw Error("Expected a PrintProductType, but got '"+b+"'");}}function l(){switch(b){case "POSTER":return a.format("printOrderSummaryHeadingPostersInCa");case "BUSINESS_CARD":return a.format("printOrderSummaryHeadingBusinessCardsInCa");
case "POSTCARD":return a.format("printOrderSummaryHeadingPostcardsInCa");case "LETTERHEAD":return a.format("printOrderSummaryHeadingLetterheadsInCa");case "FLYER":return a.format("printOrderSummaryHeadingFlyersInCa");case "INVITATION":return a.format("printOrderSummaryHeadingInvitationsInCa");case "SQUARE_CARD":throw Error("square cards are not supported yet");default:throw Error("Expected a PrintProductType, but got '"+b+"'");}}function m(){switch(b){case "POSTER":return a.format("printOrderSummaryHeadingPostersInIndia");
case "BUSINESS_CARD":return a.format("printOrderSummaryHeadingBusinessCardsInIndia");case "POSTCARD":return a.format("printOrderSummaryHeadingPostcardsInIndia");case "LETTERHEAD":return a.format("printOrderSummaryHeadingLetterheadsInIndia");case "FLYER":return a.format("printOrderSummaryHeadingFlyersInIndia");case "INVITATION":return a.format("printOrderSummaryHeadingInvitationsInIndia");case "SQUARE_CARD":throw Error("square cards are not supported yet");default:throw Error("Expected a PrintProductType, but got '"+
b+"'");}}switch(c){case "US":return d();case "CA":return l();case "AU":return e();case "NZ":return g();case "EU":return h();case "MX":return k();case "IN":return m();default:throw Error("Unknown print region '"+c+"'.");}};function V9(a){gc.apply(this,arguments)}r(V9,gc);function W9(a,b){hc.call(this,a);this.eo=b}r(W9,hc);W9.prototype.FQ=function(a){a=$(V8({Wd:a,v:"printPaymentAndConfirmation__shippingAddress"}).toString());this.$el.find(".printPaymentAndConfirmation__shippingAddress").replaceWith(a)};function X9(a,b){this.view=a;this.eo=b}X9.prototype.FQ=function(a){this.view.FQ(Y9(a))};function Y9(a){var b=w1().get(a.sb),c;a.Fh&&(c=dx("countryCode",a.sb),c=x1(c).get(a.Fh));return{Xd:a.Xd,p2:b,name:a.name,nk:a.nk,Ck:a.Ck,vj:a.vj,YZ:c,vf:a.vf}}X9.prototype.GB=function(a){return this.eo.GB(a)};X9.prototype.destroy=function(){this.eo.destroy();this.view.remove()};function Z9(a){gc.apply(this,arguments)}r(Z9,gc);function $9(a){gc.apply(this,arguments)}r($9,gc);function a$(a){soy.asserts.assertType(goog.isString(a.ed)||a.ed instanceof goog.soy.data.SanitizedContent,"backButtonText",a.ed,"string|goog.soy.data.SanitizedContent");var b=a.ed;soy.asserts.assertType(goog.isString(a.$i)||a.$i instanceof goog.soy.data.SanitizedContent,"continueButtonText",a.$i,"string|goog.soy.data.SanitizedContent");a=a.$i;return soydata.VERY_UNSAFE.ordainSanitizedHtml(w_({v:"printOrderForm__addressDetailsBackButton settingsFormActions__button buttonSecondary",text:b})+w_({v:"printOrderForm__addressDetailsContinueButton settingsFormActions__button buttonSubmittable",
text:a}))};function b$(a,b,c){var d=this;hc.call(this,a);this.yE=b;this.Ca=c;a.on("click",".printOrderForm__addressDetailsBackButton",function(){d.trigger(c$)});a.on("click",".printOrderForm__addressDetailsContinueButton",function(){d.trigger(d$)});a.on("click",".printOrderForm__paymentAndConfirmationBackButton",function(){d.trigger(e$)});a.on("click",".printOrderForm__paymentAndConfirmationPayNowButton",function(){d.trigger(f$)});a.on("click",".printOrderReceived__viewHomepageButton, .printOrderError__viewDesignButton",
function(){d.trigger(g$)})}r(b$,hc);
function Ega(a){var b=a$({ed:a.ed,$i:a.$i}),c=a.F2;soy.asserts.assertType(goog.isString(c.tu)||c.tu instanceof goog.soy.data.SanitizedContent,"checkImagesAndText",c.tu,"string|goog.soy.data.SanitizedContent");var d=c.tu;soy.asserts.assertType(c.Er instanceof soydata.SanitizedHtml||c.Er instanceof soydata.UnsanitizedText||goog.isString(c.Er),"checkTermsOfUseHtml",c.Er,"soydata.SanitizedHtml");var e=c.Er;soy.asserts.assertType(goog.isString(c.zu)||c.zu instanceof goog.soy.data.SanitizedContent,"continueToCheckoutButtonText",
c.zu,"string|goog.soy.data.SanitizedContent");var g=c.zu;soy.asserts.assertType(goog.isString(c.description)||c.description instanceof goog.soy.data.SanitizedContent,"description",c.description,"string|goog.soy.data.SanitizedContent");var h=c.description;soy.asserts.assertType(goog.isString(c.AE)||c.AE instanceof goog.soy.data.SanitizedContent,"designReviewSupportUrl",c.AE,"string|goog.soy.data.SanitizedContent");var k=c.AE;soy.asserts.assertType(goog.isString(c.fv)||c.fv instanceof goog.soy.data.SanitizedContent,
"generatingPdfText",c.fv,"string|goog.soy.data.SanitizedContent");var l=c.fv;soy.asserts.assertType(goog.isString(c.heading)||c.heading instanceof goog.soy.data.SanitizedContent,"heading",c.heading,"string|goog.soy.data.SanitizedContent");var m=c.heading;soy.asserts.assertType(goog.isString(c.uc)||c.uc instanceof goog.soy.data.SanitizedContent,"pageNumberOfTotal",c.uc,"string|goog.soy.data.SanitizedContent");var n=c.uc;soy.asserts.assertType(goog.isString(c.Vw)||c.Vw instanceof goog.soy.data.SanitizedContent,
"seeUnfixableProblemButtonText",c.Vw,"string|goog.soy.data.SanitizedContent");c=c.Vw;e=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"designProofReview"\x3e\x3cdiv class\x3d"printFlowPage__header"\x3e\x3cspan class\x3d"printFlowStepNumberBadge"\x3e'+soy.$$escapeHtml(n)+'\x3c/span\x3e\x3ch1 class\x3d"printFlowPage__heading"\x3e'+soy.$$escapeHtml(m)+'\x3c/h1\x3e\x3c/div\x3e\x3cp class\x3d"designProofReview__description"\x3e'+soy.$$escapeHtml(h)+'\x3c/p\x3e\x3cdiv class\x3d"designProofReview__manualDownload designProofReview__manualDownload--hidden"\x3e\x3c/div\x3e\x3cdiv class\x3d"designProofReview__checklist designProofReview__checklist--hidden"\x3e'+
c9({Rr:d})+c9({Rr:e})+'\x3c/div\x3e\x3cdiv class\x3d"designProofReview__progressbarContainer"\x3e\x3cp class\x3d"designProofReview__generatingPdf"\x3e'+soy.$$escapeHtml(l)+'\x3c/p\x3e\x3c/div\x3e\x3cdiv class\x3d"designProofReview__actionButtons designProofReview__actionButtons--hidden"\x3e'+w_({tagName:"a",href:k,attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('target\x3d"_blank"'),v:"designProofReview__actionButton buttonSecondary designProofReview__supportLink",text:c})+
w_({v:"designProofReview__actionButton designProofReview__checkoutButton",text:g,disabled:!0})+"\x3c/div\x3e\x3c/div\x3e");d=$;g=h$;a=E9(a.Q7);soy.asserts.assertType(b instanceof soydata.SanitizedHtml||b instanceof soydata.UnsanitizedText||goog.isString(b),"actionButtonsHtml",b,"soydata.SanitizedHtml");soy.asserts.assertType(e instanceof soydata.SanitizedHtml||e instanceof soydata.UnsanitizedText||goog.isString(e),"designProofReviewHtml",e,"soydata.SanitizedHtml");soy.asserts.assertType(goog.isString(g)||
g instanceof goog.soy.data.SanitizedContent,"designProofReviewPageName",g,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(a instanceof soydata.SanitizedHtml||a instanceof soydata.UnsanitizedText||goog.isString(a),"orderSummaryHtml",a,"soydata.SanitizedHtml");b=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"printOrderForm"\x3e\x3cdiv class\x3d"contentPanel printOrderForm__mainContentPanel"\x3e'+S8({v:"printOrderForm__pagesPanel",O:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+
P8({content:e,name:g,visible:!0}))})+'\x3c/div\x3e\x3cdiv class\x3d"printOrderForm__hiddenSidePanel"\x3e\x3cdiv class\x3d"contentPanel"\x3e\x3cdiv class\x3d"printOrderForm__orderSummaryContainer"\x3e'+soy.$$escapeHtml(a)+"\x3c/div\x3e"+q1({v:"printOrderForm__formActions",buttons:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+soy.$$escapeHtml(b))})+"\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e");b=d(b.toString());a=new d9(b.find(".designProofReview"));d=J9(b.find(".printOrderSummary"));return new b$(b,
a,d)}b$.prototype.hg=function(){var a=this.$el.find(".printOrderForm__pagesPanel");return new M8(a)};function i$(a){a=a.$el.find(".printOrderForm__formActions");w(a.hasClass("settingsFormActions"),"the given element {} is not an FormActionsView",a.get(0));return new u1(a)}
function j$(a,b){var c=a.$el.find(".printOrderForm__hiddenSidePanel");if(b===c.hasClass("printOrderForm__hiddenSidePanel--visible"))return P.resolve();c.toggleClass("printOrderForm__hiddenSidePanel--visible",b);return P.all([Cf(c[0]),k$(a)])}
function k$(a){var b=a.$el.find(".printOrderForm__hiddenSidePanel").hasClass("printOrderForm__hiddenSidePanel--visible"),c=a.$el.find(".printOrderForm__mainContentPanel");a=b?0:(a.$el.width()-c.width())/2;c.css("transform","translate3d("+a+"px, 0, 0)");return Cf(c[0])}function l$(a,b){a.$el.find(".printOrderForm__addressDetailsContinueButton").toggleClass("submitting",b)}function m$(a,b){a.$el.find(".printOrderForm__paymentAndConfirmationPayNowButton").toggleClass("submitting",b)}
function n$(a,b){a.$el.find(".printOrderForm__paymentAndConfirmationBackButton").prop("disabled",!b)}var h$="DESIGN_PROOF_REVIEW",e$="BACK_TO_ADDRESS_DETAILS",g$="BACK_TO_DESIGN",c$="BACK_TO_PROOFING",d$="CONTINUE_TO_PAYMENT",f$="SUBMIT_ORDER";function o$(a,b,c,d){var e=this;this.view=b;this.xm=null;this.yE=c;this.Ca=d;this.wB=null;this.j=a.j;this.va=a.va;this.aa=a.aa;this.Bg=a.Bg;this.Ac=a.Ac;this.order=a.order;this.Ec=a.Ec;this.Na=a.Na;this.zd=a.zd;this.PP=a.PP;this.WP=a.WP;this.UP=a.UP;this.VP=a.VP;this.XP=a.XP;this.Un=a.Un;this.eB=a.eB;this.pB=a.pB;this.na=a.na;this.view.on(c$,function(){return Fga(e)});this.view.on(d$,function(){return Gga(e)});this.view.on(e$,function(){R8(e.view.hg(),"ADDRESS_DETAILS");e.Ca.jR();var a=e.view,b={ed:e.Ec.ed(),
$i:e.Ec.$i()},b=$(a$(b).toString());v1(i$(a),b);U9(e.Ca,!1)});this.view.on(f$,function(){return Hga(e)});this.view.on(g$,function(){return e.eB()})}
function Iga(a){var b=Ega({F2:bga({cj:a.cj,Ne:a.Ne}),ed:a.Ec.ed(),$i:a.Ec.$i(),Q7:R9({fa:a.fa,bn:!0,cn:!0,rb:a.rb,Cb:a.Cb,la:a.la,Fa:a.Fa,lZ:a.order.od,Cd:a.Cd})});return{Db:Jga({fa:a.fa,dd:a.dd,j:a.j,aa:a.aa,va:a.va,cj:a.cj,Bg:a.Bg,bg:a.bg,hj:a.hj,Ac:a.Ac,Oa:a.Oa,rb:a.rb,Cb:a.Cb,eB:a.eB,Un:a.Un,order:a.order,pB:a.pB,la:a.la,Aa:a.Aa,Ec:a.Ec,Fa:a.Fa,Na:a.Na,zd:a.zd,PP:function(){return Xfa({dd:a.dd,va:a.va,Wh:new Set(a.zh.Wh.map(function(a){return dx("printRegion.countries",a)})),bg:a.bg,hj:a.hj,vY:a.zh.id,
Il:a.Il,Ne:a.Ne,Ec:a.Ec,Na:a.Na,ec:a.ec,gr:a.a1,na:a.na})},UP:function(b){var d={JO:a.Ec.JO()},e=$,d=goog.asserts.assertObject(d,"expected parameter 'messages' of type [orderErrorHeading: string].");soy.asserts.assertType(b instanceof soydata.SanitizedHtml||b instanceof soydata.UnsanitizedText||goog.isString(b),"errorMessageHtml",b,"soydata.SanitizedHtml");b=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"printOrderError"\x3e\x3cdiv class\x3d"printFlowPage__header"\x3e'+PX()+'\x3ch1 class\x3d"printFlowPage__heading"\x3e'+
soy.$$escapeHtml(d.JO)+'\x3c/h1\x3e\x3c/div\x3e\x3cdiv class\x3d"printOrderError__content"\x3e\x3cp class\x3d"printOrderError__confirmationEmailMessage"\x3e'+soy.$$escapeHtml(b)+"\x3c/p\x3e\x3c/div\x3e\x3c/div\x3e");e=e(b.toString());return new Z9(e)},VP:function(b){var d=a.PR,e=a.bt,g=b.L7;b={O7:e.heading(),WR:e.WR(),VR:e.VR()};d=e.l2(d);g=e.P7(g);e=$;b=goog.asserts.assertObject(b,"expected parameter 'messages' of type [orderReceivedHeading: string, viewHomepageButtonText: string, viewPrintOrdersButtonText: string].");
soy.asserts.assertType(d instanceof soydata.SanitizedHtml||d instanceof soydata.UnsanitizedText||goog.isString(d),"confirmationEmailMessageHtml",d,"soydata.SanitizedHtml");soy.asserts.assertType(g instanceof soydata.SanitizedHtml||g instanceof soydata.UnsanitizedText||goog.isString(g),"orderReceivedMessageHtml",g,"soydata.SanitizedHtml");soy.asserts.assertType(goog.isString("/account#print-orders")||!1,"printOrdersUrl","/account#print-orders","string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString("/")||
!1,"homepageUrl","/","string|goog.soy.data.SanitizedContent");b=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"printOrderReceived"\x3e\x3cdiv class\x3d"printFlowPage__header"\x3e'+QX({za:"printOrderReceived__headerIcon"})+'\x3ch1 class\x3d"printFlowPage__heading"\x3e'+soy.$$escapeHtml(b.O7)+'\x3c/h1\x3e\x3c/div\x3e\x3cdiv class\x3d"printOrderReceived__content"\x3e\x3cp class\x3d"printOrderReceived__confirmationEmailMessage"\x3e'+soy.$$escapeHtml(d)+"\x3c/p\x3e"+NZ({v:"printOrderReceived__supportInfoMessage",
message:g})+"\x3c/div\x3e"+q1({buttons:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+w_({tagName:"a",href:"/account#print-orders",v:"printOrderReceived__viewPrintOrdersButton buttonSecondary settingsFormActions__button",text:b.WR})+w_({tagName:"a",href:"/",v:"printOrderReceived__viewHomepageButton buttonSubmittable settingsFormActions__button",text:b.VR}))})+"\x3c/div\x3e");b=e(b.toString());return new $9(b)},WP:function(b){b={fa:a.fa,aa:a.aa,va:a.va,aj:a.aj,Ya:a.Ya,cf:a.cf,Aa:Tc(a.i),
Nf:b.Nf,Ne:a.Ne,Ec:a.Ec,pi:a.pi,ec:b.ec,fb:a.fb,na:a.na,j:a.j};var d=b.fa,e=b.pi.format("printPaymentAndConfirmationCreditCardDetailsLabel"),g=b.pi.Bu(),h=b.Ya,k=b.cf,l=b.Aa,m=b.j,n=!!d&&!H8(d.Xh),d=n?l.format("paymentPageSavedTeamCard",d.Xh.Qv):l.gQ(),p={iu:l.iu(),Au:l.Au(),Bu:g,Gj:e,Ya:h,qz:n,GC:k?null:d,j:m},e=b.Ya,m={n8:b.pi.heading(),TO:b.pi.TO(),qx:b.Ec.qx()},k=b.Ne.uc(5,5),l=Y9(b.ec),g=b.j,h=$;soy.asserts.assertType(goog.isString(p.iu)||p.iu instanceof goog.soy.data.SanitizedContent,"applyCouponButtonText",
p.iu,"string|goog.soy.data.SanitizedContent");n=p.iu;soy.asserts.assertType(goog.isString(p.Au)||p.Au instanceof goog.soy.data.SanitizedContent,"couponCodeInputPlaceholder",p.Au,"string|goog.soy.data.SanitizedContent");d=p.Au;soy.asserts.assertType(goog.isString(p.Bu)||p.Bu instanceof goog.soy.data.SanitizedContent,"couponCodeLabel",p.Bu,"string|goog.soy.data.SanitizedContent");var q=p.Bu;soy.asserts.assertType(goog.isString(p.Gj)||p.Gj instanceof goog.soy.data.SanitizedContent,"creditCardLabel",
p.Gj,"string|goog.soy.data.SanitizedContent");var u=p.Gj;soy.asserts.assertType(goog.isBoolean(p.qz)||1===p.qz||0===p.qz,"editingDisabled",p.qz,"boolean");var v=!!p.qz;soy.asserts.assertType(null==p.v||p.v instanceof goog.soy.data.SanitizedContent||goog.isString(p.v),"classes",p.v,"null|string|undefined");var z=p.v;soy.asserts.assertType(null==p.GC||p.GC instanceof goog.soy.data.SanitizedContent||goog.isString(p.GC),"teamCardMessage",p.GC,"null|string|undefined");p=p.GC;n=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"paymentForm'+
(z?" "+soy.$$escapeHtmlAttribute(z):"")+'"\x3e'+m1({Ua:!0,content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+n1({label:u,v:"paymentForm__cardInputContainer",input:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks('\x3cdiv class\x3d"paymentForm__creditCardEditView'+(v?" paymentForm__creditCardEditView--disabled":"")+'" \x3e\x3c/div\x3e'+(p?'\x3cdiv class\x3d"paymentForm__teamCardMessage"\x3e'+soy.$$escapeHtml(p)+"\x3c/div\x3e":""))})+n1({label:q,v:"paymentForm__couponInputContainer",
input:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+Qfa({$g:"paymentForm__applyCouponButton buttonSubmittable",fd:n,v:"paymentForm__couponCode",vA:"paymentForm__couponCodeInput",yl:d}))}))})+"\x3c/div\x3e");m=goog.asserts.assertObject(m,"expected parameter 'messages' of type [paymentAndConfirmationHeading: string, paymentDetailsHeading: string, shippingAddressHeading: string].");soy.asserts.assertType(n instanceof soydata.SanitizedHtml||n instanceof soydata.UnsanitizedText||goog.isString(n),
"paymentFormHtml",n,"soydata.SanitizedHtml");l=goog.asserts.assertObject(l,"expected parameter 'shippingAddressSummary' of type [city: string, countryName: string, name: string, phone: string, street1: string, street2: null|string, subdivisionName: null|string, zipCode: string].");soy.asserts.assertType(goog.isString(k)||k instanceof goog.soy.data.SanitizedContent,"pageNumberOfTotal",k,"string|goog.soy.data.SanitizedContent");k=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"printPaymentAndConfirmation"\x3e\x3cdiv class\x3d"printFlowPage__header"\x3e\x3cspan class\x3d"printFlowStepNumberBadge"\x3e'+
soy.$$escapeHtml(k)+'\x3c/span\x3e\x3ch1 class\x3d"printFlowPage__heading"\x3e'+soy.$$escapeHtml(m.n8)+"\x3c/h1\x3e\x3c/div\x3e"+l1({heading:m.TO,content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+soy.$$escapeHtml(n))})+l1({heading:m.qx,content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+m1({Ua:!0,content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+V8({Wd:l,v:"printPaymentAndConfirmation__shippingAddress"}))}))})+"\x3c/div\x3e");h=h(k.toString());
k=h.find(".paymentForm");e=(new E1({By:!1,Ya:e,j:g})).render();k.find(".paymentForm__creditCardEditView").empty().append(e.$el);e=new z8(k,e);e=new W9(h,e);g=e.eo;h=g.$el.find(".paymentForm__creditCardEditView").hasClass("paymentForm__creditCardEditView--disabled");h=new D1({Dj:b.aa,D:b.va,Ed:!b.fa||H8(b.fa.Xh)?null:b.fa.Xh,Xe:!h,nf:b.fb,view:g.bj,Ya:b.Ya});h.refresh();b=new F8(b,g,h);return{Db:new X9(e,b),view:e}},XP:function(){var b=a.pi.format("printPaymentAndConfirmationProcessingPayment"),d=
$;soy.asserts.assertType(goog.isString(b)||b instanceof goog.soy.data.SanitizedContent,"heading",b,"string|goog.soy.data.SanitizedContent");b=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"printPaymentProgress"\x3e\x3cdiv class\x3d"printFlowPage__header"\x3e\x3ch1 class\x3d"printFlowPage__heading"\x3e'+soy.$$escapeHtml(b)+'\x3c/h1\x3e\x3c/div\x3e\x3cdiv class\x3d"printPaymentProgress__content"\x3e'+f1({v:"printPaymentProgress__loadingBar",progress:0},void 0)+"\x3c/div\x3e\x3c/div\x3e");
d=d(b.toString());h1(d.find(".printPaymentProgress__loadingBar"));return new V9(d)},ec:a.ec,Cd:a.Cd,na:a.na},b),view:b}}function Jga(a,b){var c=dga({j:a.j,LL:um(),i:a.cj,nO:function(){Kga(e)},qB:a.order.id,Na:a.Na},b.yE),d=P9({fa:a.fa,aa:a.aa,kh:function(){return P.resolve()},bn:!0,cn:!0,mh:function(){return a.order.od},Ac:a.Ac,Oa:a.Oa,rb:a.rb,Cb:a.Cb,Wn:function(){},la:a.la,Aa:a.Aa,Fa:a.Fa,wk:function(){}},b.Ca),e=new o$(a,b,c,d);return e}
o$.prototype.Me=function(){var a=this;k$(this.view).then(function(){return fga(a.yE)});this.Ca.Me()};function Kga(a){var b=a.view.hg();if(!O8(b,"ADDRESS_DETAILS")){var c=a.PP(),d=c.view;a.xm=c.Db;N8(b,"ADDRESS_DETAILS",d.$el)}R8(b,"ADDRESS_DETAILS").then(function(){a.xm.view.$el.find(".addressDetailsAddress__nameInput input").focus();j$(a.view,!0)});b=X(X(new Zl("print_review_continue_to_checkout"),"section","editor"),"location","print_review");a.j.wa(b)}
function Fga(a){j$(a.view,!1).then(function(){return R8(a.view.hg(),h$)})}
function Gga(a){w3(a.xm.laa).then(function(b){if(b){var c=a.view.hg(),d=a.xm.uv();if(O8(c,"PAYMENT_AND_CONFIRMATION"))a.wB.FQ(d);else{b=a.WP({Nf:a.Ca.Nf,ec:d});var e=b.view;a.wB=b.Db;N8(c,"PAYMENT_AND_CONFIRMATION",e.$el)}b=P.all([a.Ca.HH,Yfa(a.xm),a.order.an?Lga(a):a.DI()]);U9(a.Ca,!0);l$(a.view,!0);i$(a.view).lg();b.then(function(){R8(c,"PAYMENT_AND_CONFIRMATION");a.Ca.kR();var b=a.view,d=a.Ec.ed(),e=a.Ec.m8(),l=$;soy.asserts.assertType(goog.isString(d)||d instanceof goog.soy.data.SanitizedContent,
"backButtonText",d,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(e)||e instanceof goog.soy.data.SanitizedContent,"payNowButtonText",e,"string|goog.soy.data.SanitizedContent");d=soydata.VERY_UNSAFE.ordainSanitizedHtml(w_({v:"printOrderForm__paymentAndConfirmationBackButton settingsFormActions__button buttonSecondary",text:d})+w_({v:"printOrderForm__paymentAndConfirmationPayNowButton settingsFormActions__button buttonSubmittable",text:e}));l=l(d.toString());v1(i$(b),
l)}).then(function(){var b=a.order.id,b=X(new Zl("print_checkout_address"),"order_id",b);a.j.wa(b)}).catch(function(a){return!!a&&a instanceof pj&&403===Kk(a)&&!!a.message&&-1!==["shippingAddress.zipCode","address.zipCode"].indexOf(a.message.errorKey)},function(){var b=a.Ec.Ia("printOrderFormUpdateOrderInvalidZipcodeHtml",d.vf);i$(a.view).xk(b);U9(a.Ca,!1)}).catch(function(a){return!!a&&a instanceof pj&&403===Kk(a)&&!!a.message&&-1!==["shippingAddress.phone","address.phone"].indexOf(a.message.errorKey)},
function(){var b=a.Ec.format("printOrderFormUpdateOrderInvalidContactNumber");i$(a.view).xk(b);U9(a.Ca,!1)}).catch(function(){var b=a.view,c=a.Ec.Ia("printOrderFormUpdateOrderErrorHtml","https://support.canva.com/troubleshooting/canva-print");i$(b).xk(c);U9(a.Ca,!1)}).finally(function(){return l$(a.view,!1)})}})}
function Lga(a){Fa(a.order.an,'Order "{}" is already mutable',a.order.id);var b=new c7({De:a.Ca.la.qc,document:a.order.document,od:a.order.od,gf:a.order.gf,pg:a.Ca.Tp(),ec:a.xm.uv(),Sa:a.Ca.sl(),zd:a.zd,cg:a.Ca.iv()});return a.Na.iE(b).then(function(b){return a.order=p$(a,b.order)}).then(function(){return N9(a.Ca)})}
o$.prototype.DI=function(){var a=this,b=this.Ca.iv(),b=new e7({De:this.Ca.la.qc,id:this.order.id,pg:this.Ca.Tp(),ec:this.xm.uv(),Sa:this.Ca.sl(),cg:b,LP:null==b&&null!=this.order.cg?!0:void 0});return this.Na.DI(b).then(function(b){p$(a,b.order);return b})};o$.prototype.GB=function(a){var b=this;return this.wB.GB(a).then(function(c){c||q$(b,"payment",a);return c})};
function Hga(a){var b=a.order,c=Afa(a.order.id);a.j.wa(c);m$(a.view,!0);n$(a.view,!1);Mga(a).then(function(){return a.GB(a.order.id)}).then(function(c){if(c){var e=a.view.hg();O8(e,"PAYMENT_PROGRESS")||(c=a.XP(),N8(e,"PAYMENT_PROGRESS",c.$el));return j$(a.view,!1).then(function(){return R8(e,"PAYMENT_PROGRESS")}).then(function(){return Nga(a,a.order.id)}).then(function(){var c=a.view.hg(),d=a.VP({L7:b.id});N8(c,"ORDER_RECEIVED",d.$el);R8(c,"ORDER_RECEIVED");var c=a.Bg,d=a.Ca.pn(),e=0<a.Ca.pv().length,
l=b.id,m=a.Ca.qn(),n=b.pg,p=b.De,q=a.Ca.sl(),u=b.yh/100,c=X(X(X(X(X(X(X(X(X(new Zl("print_checkout_success"),"template",c),"finish",d),"has_premium_images",e),"order_id",l),"paper",m),"product_sku",n),"quantity",p),"shipping",q),"total_order_price",u);a.j.wa(c);a.Un()})}}).catch(r$,function(){var b=a.view,c=a.Ec.Ia("printOrderFormFinalizeOrderFailureHtml","https://support.canva.com/troubleshooting/canva-print");i$(b).xk(c)}).catch(function(){j$(a.view,!1).then(function(){var b=a.view.hg();if(!O8(b,
"ORDER_ERROR")){var c=a.UP(a.Ec.format("printOrderFormSubmitOrderFailureText"));N8(b,"ORDER_ERROR",c.$el)}R8(b,"ORDER_ERROR")})}).finally(function(){m$(a.view,!1);n$(a.view,!0)})}function Mga(a){return a.order.an?P.resolve():a.Na.DI(new e7({id:a.order.id,an:!0})).then(function(b){return p$(a,b.order)}).then(function(b){return a.order=b}).catch(function(){q$(a,"finalize_order",a.order.id);throw new r$;})}
function Nga(a,b){return a.pB.kI(function(a){var d=this;return this.Na.nn(new g7({id:b})).then(function(e){if("FAILED"===e.order.gF)throw q$(d,"pdf_export",b),Error("Export failed for order "+b);"EXPORTED"===e.order.gF&&a(e.order)})}.bind(a))}
function q$(a,b,c){var d=a.Bg,e=a.Ca.pn(),g=0<a.Ca.pv().length,h=a.Ca.qn(),k=a.Ca.Tp(),l=a.Ca.la.qc,m=a.Ca.sl(),n=a.Ca.ND();b=X(X(X(X(X(X(X(X(X(X(new Zl("print_checkout_fail"),"template",d),"failure_reason",b),"finish",e),"has_premium_images",g),"order_id",c),"paper",h),"product_sku",k),"quantity",l),"shipping",m),"total_order_price",n);a.j.wa(b)}function p$(a,b){if(a.Ca.yV()!==b.bI)throw new s$;return b}
o$.prototype.destroy=function(){this.yE.destroy();this.Ca.destroy();this.xm&&this.xm.destroy();this.wB&&this.wB.destroy();this.view.remove()};function r$(){}r(r$,Error);function s$(){}r(s$,Error);function t$(a,b){var c=this;this.Ab=a;this.uH=b;this.Ab.once("remove",function(){return c.uH.destroy()})}
function Oga(a){var b=new I7({Hy:a.dd.Hy()}),c=um(),b=Iga({fa:a.fa,dd:a.dd,a1:new H7({Zd:a.Zd,maxLength:50}),j:a.j,aa:a.aa,va:a.va,aj:a.aj,Ya:a.Ya,cj:a.cj,Bg:a.Bg,bg:new G7({ZM:a.Zd.format("formValidatorInvalidEmpty")}),hj:new I0,Ac:a.Ac,cf:a.cf,Oa:a.Oa,rb:a.rb,Cb:a.Cb,i:a.i,Il:b,eB:function(){d.close()},Un:a.Un,order:a.order,pB:c,la:a.la,Aa:a.Aa,zd:a.zd,Ne:a.Ne,Ec:a.Ec,bt:a.bt,Fa:a.Fa,pi:a.pi,zh:a.zh,Na:a.Na,ec:a.ec,Cd:a.Cd,fb:a.fb,PR:a.PR,na:a.na});a=b.Db;var b=new u$({uH:b.view,H:hl}),d=new t$(b,
a);return d}t$.prototype.show=function(){this.Ab.show();this.uH.Me()};t$.prototype.close=function(){this.Ab.ok()};function u$(a){kp.call(this,{className:"printOrderFormDialog",content:a.uH.$el,H:a.H,Ho:!1,Re:!0,jf:!1})}r(u$,kp);function v$(a){var b;b=b||{};var c="";a=goog.asserts.assertArray(a.images,"expected parameter 'images' of type list\x3cstring\x3e.");for(var d=a.length,e=0;e<d;e++)c+='\x3cdiv class\x3d"printProofingPage__resolutionThumbnailWrapper"\x3e\x3cdiv class\x3d"printProofingPage__resolutionThumbnailContainer" style\x3d"'+(b.Yb?"/*"+b.Yb+"*//*"+b.Yb+"*/":"")+"background-image: url('"+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeMediaUri(a[e]))+"')\"\x3e\x3c/div\x3e\x3c/div\x3e";return soydata.VERY_UNSAFE.ordainSanitizedHtml(c)}
function w$(a){soy.asserts.assertType(a.content instanceof soydata.SanitizedHtml||a.content instanceof soydata.UnsanitizedText||goog.isString(a.content),"content",a.content,"soydata.SanitizedHtml");var b=a.content;soy.asserts.assertType(goog.isString(a.kg)||a.kg instanceof goog.soy.data.SanitizedContent,"headingText",a.kg,"string|goog.soy.data.SanitizedContent");var c=a.kg;soy.asserts.assertType(goog.isString(a.uc)||a.uc instanceof goog.soy.data.SanitizedContent,"pageNumberOfTotal",a.uc,"string|goog.soy.data.SanitizedContent");
return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"printProofingPage"\x3e\x3cdiv class\x3d"printFlowPage__header"\x3e\x3cspan class\x3d"printFlowStepNumberBadge"\x3e'+soy.$$escapeHtml(a.uc)+'\x3c/span\x3e\x3ch1 class\x3d"printFlowPage__heading"\x3e'+soy.$$escapeHtml(c)+"\x3c/h1\x3e\x3c/div\x3e"+soy.$$escapeHtml(b)+"\x3c/div\x3e")}
function x$(a){soy.asserts.assertType(a.description instanceof goog.soy.data.SanitizedContent||a.description instanceof soydata.SanitizedHtml||a.description instanceof soydata.UnsanitizedText||goog.isString(a.description),"description",a.description,"!soydata.SanitizedHtml|string");var b=a.description;soy.asserts.assertType(goog.isString(a.Zj)||a.Zj instanceof goog.soy.data.SanitizedContent,"helpLinkUrl",a.Zj,"string|goog.soy.data.SanitizedContent");var c=a.Zj;soy.asserts.assertType(goog.isString(a.qA)||
a.qA instanceof goog.soy.data.SanitizedContent,"imageClass",a.qA,"string|goog.soy.data.SanitizedContent");var d=a.qA;soy.asserts.assertType(goog.isString(a.Jh)||a.Jh instanceof goog.soy.data.SanitizedContent,"whyIsThisImportant",a.Jh,"string|goog.soy.data.SanitizedContent");var e=a.Jh;soy.asserts.assertType(null==a.wE||a.wE instanceof goog.soy.data.SanitizedContent||goog.isString(a.wE),"descriptionClasses",a.wE,"null|string|undefined");a=a.wE;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cp class\x3d"printProofingPage__description'+
(a?" "+soy.$$escapeHtmlAttribute(a):"")+'"\x3e'+soy.$$escapeHtml(b)+'\x3c/p\x3e\x3cdiv class\x3d"printProofingPage__examplesContainer"\x3e\x3cspan class\x3d"printProofingPage__exampleImage '+soy.$$escapeHtmlAttribute(d)+'"\x3e\x3c/span\x3e\x3c/div\x3e\x3cp class\x3d"printProofingPage__helpLink"\x3e\x3ca href\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(c))+'" target\x3d"_blank"\x3e'+soy.$$escapeHtml(e)+"\x3c/a\x3e\x3c/p\x3e")};function y$(a){soy.asserts.assertType(goog.isString(a.ed)||a.ed instanceof goog.soy.data.SanitizedContent,"backButtonText",a.ed,"string|goog.soy.data.SanitizedContent");var b=a.ed;soy.asserts.assertType(goog.isString(a.mj)||a.mj instanceof goog.soy.data.SanitizedContent,"nextButtonText",a.mj,"string|goog.soy.data.SanitizedContent");var c=a.mj;soy.asserts.assertType(goog.isString(a.ip)||a.ip instanceof goog.soy.data.SanitizedContent,"backButtonClasses",a.ip,"string|goog.soy.data.SanitizedContent");
var d=a.ip;soy.asserts.assertType(goog.isString(a.Bq)||a.Bq instanceof goog.soy.data.SanitizedContent,"nextButtonClasses",a.Bq,"string|goog.soy.data.SanitizedContent");a=a.Bq;return soydata.VERY_UNSAFE.ordainSanitizedHtml(w_({v:d+" buttonSecondary printEditorForm__button printEditorForm__backButton",text:b})+w_({v:a+" printEditorForm__button printEditorForm__nextButton",text:c}))};function z$(a,b){var c=this;hc.call(this,a);this.Ca=b;a.on("click",".printEditorForm__orderSummaryBeginOrderButton",function(){return c.trigger(A$)});a.on("click",".printEditorForm__orderSummaryCancelOrderButton",function(){c.trigger(B$)});a.on("click",".printEditorForm__imageResolutionProofBackButton",function(){c.trigger(C$)});a.on("click",".printEditorForm__imageResolutionProofContinueButton",function(){c.trigger(D$)});a.on("click",".printEditorForm__bleedAreaProofBackButton",function(){c.trigger(E$)});
a.on("click",".printEditorForm__bleedAreaProofNextButton",function(){c.trigger(F$)});a.on("click",".printEditorForm__safeAreaProofBackButton",function(){c.trigger(G$)});a.on("click",".printEditorForm__safeAreaProofNextButton",function(){c.trigger(H$)})}r(z$,hc);z$.prototype.hg=function(){var a=this.$el.find(".printEditorForm__pagesPanel");return new M8(a)};function I$(a,b){a.$el.find(".printEditorForm__safeAreaProofNextButton").toggleClass("submitting",b)}
function Pga(a){var b=a.$el.find(".printProofingPage__feedbackAlert--highRes"),c=a.$el.find(".printProofingPage__feedbackAlert--lowRes"),d=a.$el.find(".printProofingPage__feedbackAlert--mediumRes");b.addClass("printProofingPage__feedbackAlert--hidden");c.addClass("printProofingPage__feedbackAlert--hidden");d.addClass("printProofingPage__feedbackAlert--hidden");a.$el.find(".printProofingPage__images--lowRes").empty();a.$el.find(".printProofingPage__images--mediumRes").empty()}
function Qga(a,b){a.$el.find(".printProofingPage__feedbackAlert--mediumRes").removeClass("printProofingPage__feedbackAlert--hidden");a.$el.find(".printProofingPage__images--mediumRes").append(v$({images:b}).toString())}function Rga(a,b){a.$el.find(".printProofingPage__feedbackAlert--lowRes").removeClass("printProofingPage__feedbackAlert--hidden");a.$el.find(".printProofingPage__images--lowRes").append(v$({images:b}).toString())}
function J$(a,b){a.$el.find(".printEditorForm__footerButtonsContainer").empty().append(b)}var A$="CLICK_BEGIN_ORDER",B$="CLICK_CANCEL_ORDER",C$="CLICK_IMAGE_RESOLUTION_PROOF_BACK",D$="CLICK_IMAGE_RESOLUTION_PROOF_CONTINUE",E$="CLICK_BLEED_AREA_PROOF_BACK",F$="CLICK_BLEED_AREA_PROOF_NEXT",G$="CLICK_SAFE_AREA_PROOF_BACK",H$="CLICK_SAFE_AREA_PROOF_NEXT";var Sga=new Ff("ni",!1);function K$(){}r(K$,Error);
function L$(a,b,c){var d=this;this.view=b;this.Ca=c;this.j=a.j;this.Bg=a.Bg;this.Ul=a.Ul;this.Ac=a.Ac;this.mh=a.mh;this.aa=a.aa;this.va=a.va;this.sK=a.sK;this.WK=a.WK;this.XK=a.XK;this.kh=a.kh;this.jn=a.jn;this.mv=a.mv;this.UM=null;this.zd=a.zd;this.Rd=a.Rd;this.Pf=a.Pf;this.Na=a.Na;this.LQ=a.LQ;this.om=a.om;this.na=a.na;this.lB=a.lB;this.kB=a.kB;this.bB=a.bB;this.zA=a.zA;this.G=a.G;b.on(A$,function(){return Tga(d)});b.on(B$,function(){d.j.track("print_order_cancelled");d.bB()});b.on(C$,function(){M$(d)});
b.on(D$,function(){N$(d);d.jn().tt(!0);var a=new Zl("print_proof_resolution");d.j.wa(a)});b.on(E$,function(){Uga(d)});b.on(F$,function(){R8(d.view.hg(),"SAFE_AREA_PROOF");var a=d.view,b=d.Rd.ed(),c=d.Rd.mj(),b=$(y$({ip:"printEditorForm__safeAreaProofBackButton",ed:b,Bq:"printEditorForm__safeAreaProofNextButton buttonSubmittable",mj:c}).toString());J$(a,b);a=d.jn();a.tt(!1);a.jC(!0);a=new Zl("print_proof_bleed");d.j.wa(a)});b.on(G$,function(){N$(d);var a=d.jn();a.jC(!1);a.tt(!0)});b.on(H$,function(){Vga(d)})}
function Wga(a){var b;if(a.G.get(Sga)){b=a.Rd.format("printEditorFormSupportPromptHeader");var c;c=a.Rd.Ia("printEditorFormSupportPromptDescriptionHtml","https://support.canva.com/canva-print/print-customer-service-policy/print-customer-happiness-policy/");b={jg:b,E2:c}}else b=void 0;c=b;var d=a.Rd.lT(),e=a.Rd.wT(),g={Vy:a.Pf.Ia("printProofingBleedAreaNotCoveredHtml"),description:a.Pf.format("printProofingBleedAreaProofDescription"),kg:a.Pf.format("printProofingCheckBleedAreaHeading"),Zj:"https://support.canva.com/canva-print/white-edges/",
uc:a.Ne.uc(2,5),Jh:a.Pf.Jh()},h=a.Pf.format("printProofingImagesAreHighResolutionMessage"),k=a.Pf.Ia("printProofingImagesAreMediumResolutionMessageHtml","https://support.canva.com/canva-print/design-quality-check/"),l=a.Pf.Ia("printProofingImagesAreLowResolutionMessageHtml","https://support.canva.com/canva-print/design-quality-check/"),m=a.Pf.format("printProofingCheckResolutionHeading"),n=a.Ne.uc(1,5),p=R9({fa:a.fa,bn:!1,cn:!1,rb:a.rb,Cb:[],la:a.la,Fa:a.Fa,lZ:1<a.mh()?2:1,Cd:a.Cd}),q={description:a.Pf.format("printProofingSafeAreaProofDescription"),
kg:a.Pf.format("printProofingCheckSafeAreaHeading"),Zj:"https://support.canva.com/canva-print/preparing-your-design-for-print/safe-area/",uc:a.Ne.uc(3,5),Jh:a.Pf.Jh()};b=$;soy.asserts.assertType(goog.isString(g.description)||g.description instanceof goog.soy.data.SanitizedContent,"description",g.description,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(g.kg)||g.kg instanceof goog.soy.data.SanitizedContent,"headingText",g.kg,"string|goog.soy.data.SanitizedContent");
var u=g.kg;soy.asserts.assertType(goog.isString(g.Zj)||g.Zj instanceof goog.soy.data.SanitizedContent,"helpLinkUrl",g.Zj,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(g.uc instanceof soydata.SanitizedHtml||g.uc instanceof soydata.UnsanitizedText||goog.isString(g.uc),"pageNumberOfTotal",g.uc,"soydata.SanitizedHtml");var v=g.uc;soy.asserts.assertType(goog.isString(g.Jh)||g.Jh instanceof goog.soy.data.SanitizedContent,"whyIsThisImportant",g.Jh,"string|goog.soy.data.SanitizedContent");
soy.asserts.assertType(g.Vy instanceof soydata.SanitizedHtml||g.Vy instanceof soydata.UnsanitizedText||goog.isString(g.Vy),"coverageAlertMessageHtml",g.Vy,"soydata.SanitizedHtml");var z=g.Vy,g=soydata.VERY_UNSAFE.ordainSanitizedHtml(w$({kg:u,uc:v,content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+x$(soy.$$assignDefaults({qA:"printProofingPage__exampleImage--bleedImage"},g))+RZ({message:z,v:"printProofingPage__feedbackAlert printProofingPage__feedbackAlert--hidden printProofingPage__feedbackAlert--bleedCoverage",
xb:!1}))}));soy.asserts.assertType(h instanceof soydata.SanitizedHtml||h instanceof soydata.UnsanitizedText||goog.isString(h),"alertHighRes",h,"soydata.SanitizedHtml");soy.asserts.assertType(k instanceof soydata.SanitizedHtml||k instanceof soydata.UnsanitizedText||goog.isString(k),"alertMediumRes",k,"soydata.SanitizedHtml");soy.asserts.assertType(l instanceof soydata.SanitizedHtml||l instanceof soydata.UnsanitizedText||goog.isString(l),"alertLowRes",l,"soydata.SanitizedHtml");soy.asserts.assertType(goog.isString(m)||
m instanceof goog.soy.data.SanitizedContent,"headingText",m,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(n instanceof soydata.SanitizedHtml||n instanceof soydata.UnsanitizedText||goog.isString(n),"pageNumberOfTotal",n,"soydata.SanitizedHtml");h=soydata.VERY_UNSAFE.ordainSanitizedHtml(w$({kg:m,uc:n,content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+LZ({message:h,v:"printProofingPage__feedbackAlert printProofingPage__feedbackAlert--highRes",xb:!1})+RZ({message:l,
v:"printProofingPage__feedbackAlert printProofingPage__feedbackAlert--lowRes printProofingPage__feedbackAlert--hidden",xb:!1})+'\x3cdiv class\x3d"printProofingPage__imageResolutionThumbnails printProofingPage__images--lowRes"\x3e\x3c/div\x3e'+PZ({message:k,v:"printProofingPage__feedbackAlert printProofingPage__feedbackAlert--mediumRes printProofingPage__feedbackAlert--hidden",xb:!1})+'\x3cdiv class\x3d"printProofingPage__imageResolutionThumbnails printProofingPage__images--mediumRes"\x3e\x3c/div\x3e')}));
p=E9(p);soy.asserts.assertType(goog.isString(q.description)||q.description instanceof goog.soy.data.SanitizedContent,"description",q.description,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(q.kg)||q.kg instanceof goog.soy.data.SanitizedContent,"headingText",q.kg,"string|goog.soy.data.SanitizedContent");k=q.kg;soy.asserts.assertType(goog.isString(q.Zj)||q.Zj instanceof goog.soy.data.SanitizedContent,"helpLinkUrl",q.Zj,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(q.uc instanceof
soydata.SanitizedHtml||q.uc instanceof soydata.UnsanitizedText||goog.isString(q.uc),"pageNumberOfTotal",q.uc,"soydata.SanitizedHtml");l=q.uc;soy.asserts.assertType(goog.isString(q.Jh)||q.Jh instanceof goog.soy.data.SanitizedContent,"whyIsThisImportant",q.Jh,"string|goog.soy.data.SanitizedContent");q=soydata.VERY_UNSAFE.ordainSanitizedHtml(w$({kg:k,uc:l,content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+x$(soy.$$assignDefaults({qA:"printProofingPage__exampleImage--safeArea"},q)))}));
soy.asserts.assertType(goog.isString(d)||d instanceof goog.soy.data.SanitizedContent,"beginOrderButtonText",d,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(e)||e instanceof goog.soy.data.SanitizedContent,"cancelOrderButtonText",e,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(g instanceof soydata.SanitizedHtml||g instanceof soydata.UnsanitizedText||goog.isString(g),"bleedAreaProofPageHtml",g,"soydata.SanitizedHtml");soy.asserts.assertType(goog.isString("BLEED_AREA_PROOF")||
!1,"bleedAreaProofPageName","BLEED_AREA_PROOF","string|goog.soy.data.SanitizedContent");soy.asserts.assertType(h instanceof soydata.SanitizedHtml||h instanceof soydata.UnsanitizedText||goog.isString(h),"imageResolutionProofHtml",h,"soydata.SanitizedHtml");soy.asserts.assertType(goog.isString("IMAGE_RESOLUTION_PROOF")||!1,"imageResolutionProofPageName","IMAGE_RESOLUTION_PROOF","string|goog.soy.data.SanitizedContent");soy.asserts.assertType(p instanceof soydata.SanitizedHtml||p instanceof soydata.UnsanitizedText||
goog.isString(p),"orderSummaryHtml",p,"soydata.SanitizedHtml");soy.asserts.assertType(goog.isString("ORDER_SUMMARY")||!1,"orderSummaryPageName","ORDER_SUMMARY","string|goog.soy.data.SanitizedContent");soy.asserts.assertType(q instanceof soydata.SanitizedHtml||q instanceof soydata.UnsanitizedText||goog.isString(q),"safeAreaProofPageHtml",q,"soydata.SanitizedHtml");soy.asserts.assertType(goog.isString("SAFE_AREA_PROOF")||!1,"safeAreaProofPageName","SAFE_AREA_PROOF","string|goog.soy.data.SanitizedContent");
soy.asserts.assertType(null==c||goog.isObject(c),"supportPrompt",c,"null|undefined|{descriptionHtml: (!soydata.SanitizedHtml|string), header: string}");c=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"printEditorForm"\x3e\x3cdiv class\x3d"printEditorForm__content"\x3e'+S8({v:"printEditorForm__pagesPanel",Av:!0,O:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+P8({content:p,name:"ORDER_SUMMARY",visible:!0})+P8({content:h,name:"IMAGE_RESOLUTION_PROOF"})+P8({content:g,name:"BLEED_AREA_PROOF"})+
P8({content:q,name:"SAFE_AREA_PROOF"}))})+'\x3c/div\x3e\x3cdiv class\x3d"printEditorForm__footer"\x3e'+(null!=c?'\x3cdiv class\x3d"printEditorForm__supportPrompt"\x3e'+QX({za:"printEditorForm__supportPromptIcon"})+'\x3cdiv  class\x3d"printEditorForm__supportPromptText"\x3e\x3cstrong\x3e'+soy.$$escapeHtml(c.jg)+'\x3c/strong\x3e\x3cdiv class\x3d"printEditorForm__supportPromptDescription"\x3e'+soy.$$escapeHtml(c.E2)+"\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e":"")+'\x3cdiv class\x3d"printEditorForm__footerButtonsContainer"\x3e'+
y$({mj:d,Bq:"printEditorForm__orderSummaryBeginOrderButton",ed:e,ip:"printEditorForm__orderSummaryCancelOrderButton"})+"\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e");b=b(c.toString());c=J9(b.find(".printOrderSummary"));b=new z$(b,c);c=P9({fa:a.fa,aa:a.aa,kh:a.kh,bn:!1,cn:!1,mh:a.mh,Ac:a.Ac,Oa:a.Oa,rb:a.rb,Cb:[],Wn:a.Wn,la:a.la,Aa:a.Aa,Fa:a.Fa,wk:a.wk},b.Ca);return{Db:new L$(a,b,c),view:b}}f=L$.prototype;f.Me=function(){this.Ca.Me()};
function M$(a){R8(a.view.hg(),"ORDER_SUMMARY");var b=a.view,c=a.Rd.lT();a=a.Rd.wT();c=$(y$({ip:"printEditorForm__orderSummaryCancelOrderButton",ed:a,Bq:"printEditorForm__orderSummaryBeginOrderButton",mj:c}).toString());J$(b,c)}f.RL=function(){return tj(this.aa,new qi({Am:[this.va],limit:1})).then(function(a){return la(a.Yt).next().value})};function Xga(a){return cfa(a.Na,new m7({D:a.va,user:a.na})).then(function(a){return(a=la(a.sJ).next().value)&&a.Wd})}
f.iE=function(){var a=new c7({De:this.Ca.la.qc,document:this.Ac(),od:this.Ca.jc(),pg:this.Ca.Tp(),gf:this.Ul,Sa:this.Ca.sl(),zd:this.zd,cg:this.Ca.iv()});return this.Na.iE(a).then(function(a){return a.order})};
function O$(a){var b=a.view.hg();return a.mv().then(function(b){return P$(a,Q$(a,b))}).finally(function(){R8(b,"IMAGE_RESOLUTION_PROOF");var c=a.view,d=a.Rd.ed(),e=a.Rd.$i(),d=$(y$({ip:"printEditorForm__imageResolutionProofBackButton",ed:d,Bq:"printEditorForm__imageResolutionProofContinueButton",mj:e}).toString());J$(c,d);a.lB()})}
function N$(a){R8(a.view.hg(),"BLEED_AREA_PROOF");var b=a.view,c=a.Rd.ed(),d=a.Rd.mj(),c=$(y$({ip:"printEditorForm__bleedAreaProofBackButton",ed:c,Bq:"printEditorForm__bleedAreaProofNextButton",mj:d}).toString());J$(b,c);R$(a);a.kB()}
function R$(a){var b=a.Ca.Uj(),c=a.Ca.jc(),c=_.range(0,c),c=(b=a.zA(c,b))?a.Rd.mj():a.Rd.format("printEditorFormContinueAnywayButtonText");a.view.$el.find(".printEditorForm__bleedAreaProofNextButton").empty().append(c);a.view.$el.find(".printProofingPage__feedbackAlert--bleedCoverage").toggleClass("printProofingPage__feedbackAlert--hidden",b)}f.BO=function(){N9(this.Ca)};
f.uO=function(){var a=this,b=this.UM;b&&b.cancel();this.UM=this.kh().cancellable().then(this.mv).then(function(b){return P$(a,Q$(a,b))}).catch(P.CancellationError,$.noop).finally(function(){return a.UM=null})};f.oO=function(){R$(this)};
function Tga(a){1<a.Ca.jc()&&1===a.mh()?(new yz({content:$("\x3cp\x3e"+a.Rd.format("printEditorFormCannotPrintTwoSidesDescription")+"\x3c/p\x3e"),title:a.Rd.format("printEditorFormCannotPrintTwoSides")})).show():O$(a).then(function(){return a.Ca.HH}).then(function(){var b=a.Bg,c=a.Ca.pn(),d=0<a.Ca.pv().length,e=a.Ca.qn(),g=a.Ca.Tp(),h=a.Ca.la.qc,k=a.Ca.sl(),l=a.Ca.ND(),b=X(X(X(X(X(X(X(X(new Zl("print_start_order"),"template",b),"finish",c),"has_premium_images",d),"paper",e),"product_sku",g),"quantity",
h),"shipping",k),"total_order_price",l);a.j.wa(b)})}function Uga(a){O$(a).then(function(){a.jn().tt(!1)})}
function Vga(a){I$(a.view,!0);a.kh().catch(function(){throw new K$;}).then(function(){return P.all([a.RL(),Xga(a),a.iE()])}).then(function(b){var d=la(b);b=d.next().value;var e=d.next().value,d=d.next().value;a.sK({fa:b,aj:b&&b.Xh,rb:new Map,Cb:a.Ca.pv(),order:d,ec:e}).show()}).catch(K$,function(){(new yz({content:$("\x3cp\x3ePlease try again after the error is resolved\x3c/p\x3e"),title:"Design changes failed to save"})).show()}).catch(pj,function(b){409===b.lI&&a.LQ()}).finally(function(){return I$(a.view,
!1)});var b=new Zl("print_proof_safe_area");a.j.wa(b)}f.destroy=function(){this.view.remove()};function Q$(a,b){var c=a.WK,d=a.XK,e=a.Ca.Uj(),g=a.Ca.jc();return b.filter(function(a){return a.zG}).filter(function(a){return a.Ws<g}).map(function(a){var b=a.zG.zS.o(),g=a.Ba.o(),b=b/g*(c/e.Yj)*25400,g=a.zG.zS.l(),m=a.Ba.l(),b=Math.min(b,g/m*(d/e.yj)*25400);return{bQ:120>b?"LOW":150>b?"MEDIUM":"HIGH",ud:a.zG.oy.url}}).filter(function(a){return"HIGH"!==a.bQ})}
function P$(a,b){Pga(a.view);if(0===b.length)a.view.$el.find(".printProofingPage__feedbackAlert--highRes").removeClass("printProofingPage__feedbackAlert--hidden");else{var c=b.filter(function(a){return"LOW"===a.bQ});b=b.filter(function(a){return"MEDIUM"===a.bQ});0!==c.length&&Rga(a.view,c.map(function(a){return a.ud}));0!==b.length&&Qga(a.view,b.map(function(a){return a.ud}))}}f.jc=function(){return this.Ca.jc()};function S$(a){var b=this;hc.call(this,a);a.on("click",function(){return b.trigger(T$)})}r(S$,hc);S$.prototype.mx=function(a){this.$el.toggleClass("submitting",a)};var T$="CLICK_SEND_TO_PRINT";var Yga=new Ff("pu",!1);function U$(a,b){var c=this;this.view=b;this.va=a.va;this.me=a.me;this.j=a.j;this.ej=a.ej;this.Vp=a.Vp;this.Ac=a.Ac;this.vM=a.vM;this.mA=a.mA;this.jB=a.jB;this.vH=a.vH;this.TP=a.TP;this.SP=a.SP;this.zi=a.zi;this.ux=a.ux;this.dI=a.dI;this.kY=this.zh=this.Fe=null;this.Na=a.Na;this.aa=a.aa;this.xr=a.xr;this.TQ=null;this.uf=a.uf;this.Vl=a.Vl;b.on(T$,function(){return Zga(c)})}
function saa(a){var b=$,c;c=a.O9;soy.asserts.assertType(goog.isString(c)||c instanceof goog.soy.data.SanitizedContent,"sendToPrintButtonText",c,"string|goog.soy.data.SanitizedContent");c=soydata.VERY_UNSAFE.ordainSanitizedHtml(w_({v:"editorActionPrint buttonSubmittable",text:c}));b=b(c.toString());b=new S$(b);return{Db:$ga(a,b),view:b}}
function $ga(a,b){function c(){(new yz({content:$("\x3cp\x3eYour version of this design has become out of sync with the server. Usually this means someone else has started editing it. Reload the page and try again\x3c/p\x3e"),title:"Design out of sync"})).show()}var d=yd(a.i),e=a.G.get(Yga)?aha:J8;return new U$({xr:a.xr,j:a.j,aa:a.aa,va:a.va,me:a.me,ej:a.ej,Ac:a.Ac,Vp:a.Vp,mA:a.mA,jB:a.jB,Na:a.Na,SP:function(b){var c=a.j,d=y(b.B2.u(),"The doctype must have an id"),e=a.Ac(),m=a.Ra,n=a.rV()||"",p=a.i;
p.AR||(p.AR=new xf(p.config));return pfa({j:c,yg:"publish_print",tp:d,kz:e,Ra:m,zp:n,i:p.AR,Ss:b.Ss,Lq:b.Lq,xc:Cd(a.i),Fo:!1,Go:!1,Oca:null}).view},TP:function(b){var e=xga({attributes:b.attributes,bd:b.bd,wb:b.P8});return Wga({fa:b.fa,j:a.j,aa:a.aa,va:a.va,sK:function(c){var d=c.fa,m;m=a.i;m.dd||(m.dd=new rf(m.config));m=m.dd;var n=a.j,p=a.aa,q=a.va,u=c.aj,v=cd(a.i),z;z=a.i;z.cj||(z.cj=new sf(z.config));z=z.cj;var t=b.Bg,x=ad(a.i),H=a.Ac,E=a.cf,L=Vc(a.i),J=c.rb,Q=c.Cb,S=a.i,N=b.Un,ha=c.order,fa=
l9({ik:b.ik,xc:Cd(a.i),Fa:wd(a.i),pc:e,Ub:b.Ub,Ul:b.zh.id,Nw:h8,qc:c.order.De,oQ:c.order.pg,pQ:c.order.KQ.Sa,Cd:b.Cd,Dg:b.Dg,xl:null!=c.order.cg}),ta=Tc(a.i),Za=b.zd,qa=ud(a.i),ca;ca=a.i;ca.Ec||(ca.Ec=new uf(ca.config));ca=ca.Ec;var Aa;Aa=a.i;Aa.bt||(Aa.bt=new qf(Aa.config));Aa=Aa.bt;var xb=wd(a.i),pb=a.i;pb.pi||(pb.pi=new tf(pb.config));return Oga({fa:d,dd:m,j:n,aa:p,va:q,aj:u,Ya:v,cj:z,Bg:t,Zd:x,Ac:H,cf:E,Oa:L,rb:J,Cb:Q,i:S,Un:N,order:ha,la:fa,Aa:ta,zd:Za,Ne:qa,Ec:ca,bt:Aa,Fa:xb,pi:pb.pi,zh:b.zh,
Na:a.Na,ec:c.ec,Cd:b.Cd,fb:a.fb,PR:a.uf.fi(),na:a.uf.u()})},WK:Rg(a.me.tb).height,XK:Rg(a.me.tb).width,Bg:b.Bg,kh:a.kh,mh:a.mh,jn:a.jn,Ac:a.Ac,mv:a.mv,zA:a.zA,Oa:Vc(a.i),rb:new Map,bB:b.bB,Wn:a.ux,kB:b.kB,lB:b.lB,la:l9({ik:b.ik,xc:Cd(a.i),Fa:wd(a.i),pc:e,Ub:b.Ub,Ul:b.zh.id,Nw:h8,xo:b.xo,pQ:"STANDARD",Cd:b.Cd,Dg:b.Dg,xl:!1}),Aa:Tc(a.i),Rd:d,Ne:ud(a.i),Fa:wd(a.i),Pf:Ad(a.i),Na:a.Na,zd:b.zd,Ul:b.zh.id,wk:a.wk,Cd:b.Cd,LQ:c,om:a.om,na:a.uf.u(),G:a.G})},zi:a.zi,ux:a.ux,dI:function(){(new yz({content:$("\x3cp\x3e"+
d.Ia("printEditorFormErrorStateMessageHtml",bha).toString()+"\x3c/p\x3e"),title:d.format("printEditorFormErrorStateHeading")})).show()},uf:a.uf,Vl:a.Vl,vM:e,vH:I3},b)}function V$(a){W$(a,!1).then(function(){null!=a.Fe&&M$(a.Fe)})}f=U$.prototype;f.BO=function(){null!=this.Fe&&this.Fe.BO()};
function uaa(a,b){var c=y(b.u(),"The doctype must have an id");if(a.me.u()!==c){a.me=b;var d=a.Vp();a.zi(!1);a.Fe&&(a.Fe.destroy(),a.Fe=null);d.sh()&&(d.$el.find(".editorSideDrawer__content").empty(),U8(d,!0),X$(a).then(function(b){var d=a.vH(b.id,c);return Y$(a,b,d)}).catch(function(){return a.dI()}).finally(function(){return U8(d,!1)}))}}f.uO=function(){null!=this.Fe&&this.Fe.uO()};f.oO=function(){null!=this.Fe&&this.Fe.oO()};
function Zga(a){a.view.mx(!0);var b=a.Vp(),c=y(a.me.u(),"The doctype must have an id"),d=b.sh();return X$(a).then(function(b){var g=a.vH(b.id,c);cha(a,{vc:c,J7:!d,M8:!!g,N$:!0});return d?V$(a):Y$(a,b,g).then(function(){W$(a,!0)})}).catch(function(){return a.dI()}).finally(function(){return a.view.mx(!1)})}function X$(a){return a.zh?P.resolve(a.zh):J3(a.Na).then(function(b){a.zh=y(b.KB[0],"Current country must have a print region.");return a.zh})}
function Y$(a,b,c){var d=a.Vp();return c?a.Fe?P.resolve():dha(a,b,c,d):eha(a,d)}function eha(a,b){function c(b){return a.ej.lb(new Jv({id:b.me,bq:!1})).then(function(c){a.kY=b.ib;a.Vl(c.vc)})}return ffa(a.Na).then(function(d){var e=d.xP.filter(function(a){return null!=a.doctype}).map(function(a){var b=d.wH.xH.get(a.Ub),c=d.wH.tw.get(a.ib);a=a.doctype;if(!b||!c)throw new Z$;return{Ub:b,ib:c,me:a}}),e=a.SP({B2:a.me,Ss:c,Lq:e});b.zo(e.$el)})}
function dha(a,b,c,d){return P.all([gfa(a.Na,new C7({fc:b.Wh[0],currency:"USD",Ub:c,Mq:["PRICES"]})),a.RL()]).then(function(e){var g=la(e);e=g.next().value;g=g.next().value;if(null==e.wb)throw Error("Expected FindPrintProductsResponse.prices to be non null");e=a.TP({fa:g,attributes:e.attributes,Bg:y(a.me.u(),"documentType must have an id"),Dg:e.wb.AL,bB:function(){return V$(a)},Un:function(){return V$(a)},kB:function(){return a.zi(!0)},lB:function(){return a.zi(!1)},ik:a.vM(c),zh:b,P8:e.wb.bd,bd:e.bd,
Ub:c,zd:e.wb.zd,xo:a.kY,Cd:e.wb.JQ,pQ:"STANDARD"});g=e.Db;d.zo(e.view.$el);g.Me();a.TQ=d.xr(a.xr);a.Fe=g})}function cha(a,b){b=X(X(X(X(X(X(new Zl("print_button_click"),"section","editor"),"location","menu_bar"),"template",b.vc),"toggled",b.N$),"side_drawer_opened",b.J7),"print_supported_doc_type",b.M8);a.j.wa(b)}function W$(a,b){return a.Vp().xt(b).then(function(){if(b)a.Fe&&a.ux(a.Fe.jc());else{if(a.Fe){var c=a.Fe.jn();c.tt(!1);c.jC(!1)}a.zi(!1);a.mA()}}).then(function(){return a.jB()})}
f.RL=function(){return tj(this.aa,new qi({Am:[this.va],limit:1})).then(function(a){return la(a.Yt).next().value})};f.destroy=function(){this.view.remove();this.TQ&&this.TQ.remove();this.Fe&&this.Fe.destroy()};var bha="https://support.canva.com/canva-print/";function Z$(){}r(Z$,Error);function $$(a){g8.apply(this,arguments)}r($$,g8);
function z9(a){var b=$,c;c=a.v;var d=a.Ai,e=a.yt,g=a.value,h=a.da,k=a.selected;a=a.VZ;soy.asserts.assertType(null==c||c instanceof goog.soy.data.SanitizedContent||goog.isString(c),"classes",c,"null|string|undefined");soy.asserts.assertType(goog.isString(d)||d instanceof goog.soy.data.SanitizedContent,"shippingLabel",d,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(e)||e instanceof goog.soy.data.SanitizedContent,"shippingDescription",e,"string|goog.soy.data.SanitizedContent");
soy.asserts.assertType(h instanceof goog.soy.data.SanitizedContent||h instanceof soydata.SanitizedHtml||h instanceof soydata.UnsanitizedText||goog.isString(h),"price",h,"!soydata.SanitizedHtml|string");soy.asserts.assertType(null==k||goog.isBoolean(k)||1===k||0===k,"selected",k,"boolean|null|undefined");soy.asserts.assertType(goog.isString(g)||g instanceof goog.soy.data.SanitizedContent,"value",g,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(a)||1===a||0===a,"strikethroughPrice",
a,"boolean");a=!!a;c=soydata.VERY_UNSAFE.ordainSanitizedHtml(U7({label:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks('\x3cdiv class\x3d"shippingOption__label shippingOption__freeShipping"\x3e\x3cspan class\x3d"shippingSelectionLabel__copies"\x3e'+soy.$$escapeHtml(d)+'\x3c/span\x3e\x3cspan class\x3d"shippingSelectionLabel__price"\x3e'+soy.$$escapeHtml(h)+"\x3c/span\x3e\x3c/div\x3e"),value:g,attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('data-label\x3d"'+soy.$$escapeHtmlAttribute(d)+
'" data-price\x3d"'+soy.$$escapeHtmlAttribute(h)+'"'+(a?'data-strike-through-price\x3d"true"':"")),v:c,description:e,selected:k}));b=b(c.toString());return K9(b)}function K9(a){return new $$(a)}
$$.prototype.oh=function(){var a;if(0<this.$el.find(".shippingOption__freeShipping").length){a=this.$el.attr("data-label").toString();var b=this.$el.attr("data-price").toString(),c=null!=this.$el.attr("data-strike-through-price");soy.asserts.assertType(goog.isString(a)||a instanceof goog.soy.data.SanitizedContent,"shippingLabel",a,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(b instanceof goog.soy.data.SanitizedContent||b instanceof soydata.SanitizedHtml||b instanceof soydata.UnsanitizedText||
goog.isString(b),"price",b,"!soydata.SanitizedHtml|string");soy.asserts.assertType(goog.isBoolean(c)||1===c||0===c,"strikethroughPrice",c,"boolean");c=!!c;a=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"shippingSelectionLabel shippingSelectionLabel__freeShipping"\x3e\x3cspan class\x3d"shippingSelectionLabel__copies"\x3e'+soy.$$escapeHtml(a)+"\x3c/span\x3e"+(c?'\x3cspan class\x3d"shippingSelectionLabel__price"\x3e\x3cdel\x3e'+soy.$$escapeHtml(b)+"\x3c/del\x3e\x3c/span\x3e":'\x3cspan class\x3d"shippingSelectionLabel__price"\x3e'+
soy.$$escapeHtml(b)+"\x3c/span\x3e")+"\x3c/div\x3e")}else a=V7({Ai:this.$el.attr("data-label").toString(),da:this.$el.attr("data-price").toString()});return a};function aha(a){switch(a){case "INVITATION":return[25,50,100,150,200,250,500,1E3];default:return J8(a)}}function jga(a){switch(a){case "INVITATION":return 100;default:return I8(a).Ju}};})();
